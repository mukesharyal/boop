import{r as n,C,j as e}from"./index-DYKxKkKE.js";const j="_inputSpaceContainer_1x60q_1",I="_inputOptions_1x60q_34",_="_sendImage_1x60q_47",v="_likeImage_1x60q_47",i={inputSpaceContainer:j,inputOptions:I,sendImage:_,likeImage:v};function w({setMessages:g}){const{dataChannel:c}=n.useContext(C);console.log(c);const[r,o]=n.useState(!1),s=n.useRef(null),[a,u]=n.useState(""),h=n.useRef(null),l=t=>{r||o(!0),s.current.style.height="auto",s.current.scrollHeight>s.current.clientHeight&&(s.current.style.height=s.current.scrollHeight/1.5+"px"),u(t.target.value)},p=()=>{o(!1),s.current.style.height="1.5rem"},d=()=>{o(!1),s.current.style.height="1.5rem"},m=()=>{const t={type:"text",origin:"sent",content:a};c.current.send(JSON.stringify(t)),g(f=>[...f,t]),s.current.value=""},x=()=>{};return e.jsxs("div",{className:i.inputSpaceContainer,ref:h,children:[e.jsx("div",{className:i.inputOptions,children:r?e.jsx("img",{src:"../../next.svg",width:20,height:20,onClick:p,onMouseDown:t=>{t.preventDefault()}}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"../../files.svg",width:20,height:20}),e.jsx("img",{src:"../../photos.svg",width:20,height:20}),e.jsx("img",{src:"../../microphone.svg",width:20,height:20})]})}),e.jsx("textarea",{rows:1,placeholder:"Message",onClick:t=>{l(t)},onChange:t=>{l(t)},onBlur:d,ref:s}),a?e.jsx("img",{src:"../../send.svg",width:24,height:24,className:i.sendImage,onClick:m}):e.jsx("img",{src:"../../like.svg",width:24,height:24,className:i.likeImage,onClick:x})]})}export{w as default};
