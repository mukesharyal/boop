(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function q6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u1={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function H6(){if(S2)return jl;S2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:f,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=i,jl.jsxs=i,jl}var C2;function G6(){return C2||(C2=1,u1.exports=H6()),u1.exports}var S=G6(),c1={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function F6(){if(A2)return Lt;A2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function j(L,it,et){this.props=L,this.context=it,this.refs=k,this.updater=et||A}j.prototype.isReactComponent={},j.prototype.setState=function(L,it){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,it,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=j.prototype;function q(L,it,et){this.props=L,this.context=it,this.refs=k,this.updater=et||A}var F=q.prototype=new B;F.constructor=q,D(F,j.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function M(L,it,et,st,dt,yt){return et=yt.ref,{$$typeof:e,type:L,key:it,ref:et!==void 0?et:null,props:yt}}function x(L,it){return M(L.type,it,void 0,void 0,void 0,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function O(L){var it={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(et){return it[et]})}var N=/\/+/g;function P(L,it){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):it.toString(36)}function I(){}function Rt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(it){L.status==="pending"&&(L.status="fulfilled",L.value=it)},function(it){L.status==="pending"&&(L.status="rejected",L.reason=it)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function xt(L,it,et,st,dt){var yt=typeof L;(yt==="undefined"||yt==="boolean")&&(L=null);var pt=!1;if(L===null)pt=!0;else switch(yt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(L.$$typeof){case e:case t:pt=!0;break;case _:return pt=L._init,xt(pt(L._payload),it,et,st,dt)}}if(pt)return dt=dt(L),pt=st===""?"."+P(L,0):st,Z(dt)?(et="",pt!=null&&(et=pt.replace(N,"$&/")+"/"),xt(dt,it,et,"",function(ye){return ye})):dt!=null&&(R(dt)&&(dt=x(dt,et+(dt.key==null||L&&L.key===dt.key?"":(""+dt.key).replace(N,"$&/")+"/")+pt)),it.push(dt)),1;pt=0;var Ot=st===""?".":st+":";if(Z(L))for(var Nt=0;Nt<L.length;Nt++)st=L[Nt],yt=Ot+P(st,Nt),pt+=xt(st,it,et,yt,dt);else if(Nt=b(L),typeof Nt=="function")for(L=Nt.call(L),Nt=0;!(st=L.next()).done;)st=st.value,yt=Ot+P(st,Nt++),pt+=xt(st,it,et,yt,dt);else if(yt==="object"){if(typeof L.then=="function")return xt(Rt(L),it,et,st,dt);throw it=String(L),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return pt}function X(L,it,et){if(L==null)return L;var st=[],dt=0;return xt(L,st,"","",function(yt){return it.call(et,yt,dt++)}),st}function lt(L){if(L._status===-1){var it=L._result;it=it(),it.then(function(et){(L._status===0||L._status===-1)&&(L._status=1,L._result=et)},function(et){(L._status===0||L._status===-1)&&(L._status=2,L._result=et)}),L._status===-1&&(L._status=0,L._result=it)}if(L._status===1)return L._result.default;throw L._result}var ft=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function bt(){}return Lt.Children={map:X,forEach:function(L,it,et){X(L,function(){it.apply(this,arguments)},et)},count:function(L){var it=0;return X(L,function(){it++}),it},toArray:function(L){return X(L,function(it){return it})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Lt.Component=j,Lt.Fragment=i,Lt.Profiler=o,Lt.PureComponent=q,Lt.StrictMode=r,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return W.H.useMemoCache(L)}},Lt.cache=function(L){return function(){return L.apply(null,arguments)}},Lt.cloneElement=function(L,it,et){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var st=D({},L.props),dt=L.key,yt=void 0;if(it!=null)for(pt in it.ref!==void 0&&(yt=void 0),it.key!==void 0&&(dt=""+it.key),it)!Y.call(it,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&it.ref===void 0||(st[pt]=it[pt]);var pt=arguments.length-2;if(pt===1)st.children=et;else if(1<pt){for(var Ot=Array(pt),Nt=0;Nt<pt;Nt++)Ot[Nt]=arguments[Nt+2];st.children=Ot}return M(L.type,dt,void 0,void 0,yt,st)},Lt.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Lt.createElement=function(L,it,et){var st,dt={},yt=null;if(it!=null)for(st in it.key!==void 0&&(yt=""+it.key),it)Y.call(it,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(dt[st]=it[st]);var pt=arguments.length-2;if(pt===1)dt.children=et;else if(1<pt){for(var Ot=Array(pt),Nt=0;Nt<pt;Nt++)Ot[Nt]=arguments[Nt+2];dt.children=Ot}if(L&&L.defaultProps)for(st in pt=L.defaultProps,pt)dt[st]===void 0&&(dt[st]=pt[st]);return M(L,yt,void 0,void 0,null,dt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(L){return{$$typeof:m,render:L}},Lt.isValidElement=R,Lt.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:lt}},Lt.memo=function(L,it){return{$$typeof:g,type:L,compare:it===void 0?null:it}},Lt.startTransition=function(L){var it=W.T,et={};W.T=et;try{var st=L(),dt=W.S;dt!==null&&dt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(bt,ft)}catch(yt){ft(yt)}finally{W.T=it}},Lt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Lt.use=function(L){return W.H.use(L)},Lt.useActionState=function(L,it,et){return W.H.useActionState(L,it,et)},Lt.useCallback=function(L,it){return W.H.useCallback(L,it)},Lt.useContext=function(L){return W.H.useContext(L)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(L,it){return W.H.useDeferredValue(L,it)},Lt.useEffect=function(L,it,et){var st=W.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(L,it)},Lt.useId=function(){return W.H.useId()},Lt.useImperativeHandle=function(L,it,et){return W.H.useImperativeHandle(L,it,et)},Lt.useInsertionEffect=function(L,it){return W.H.useInsertionEffect(L,it)},Lt.useLayoutEffect=function(L,it){return W.H.useLayoutEffect(L,it)},Lt.useMemo=function(L,it){return W.H.useMemo(L,it)},Lt.useOptimistic=function(L,it){return W.H.useOptimistic(L,it)},Lt.useReducer=function(L,it,et){return W.H.useReducer(L,it,et)},Lt.useRef=function(L){return W.H.useRef(L)},Lt.useState=function(L){return W.H.useState(L)},Lt.useSyncExternalStore=function(L,it,et){return W.H.useSyncExternalStore(L,it,et)},Lt.useTransition=function(){return W.H.useTransition()},Lt.version="19.1.0",Lt}var R2;function Lh(){return R2||(R2=1,c1.exports=F6()),c1.exports}var J=Lh();const ea=q6(J);var h1={exports:{}},kl={},f1={exports:{}},d1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function Q6(){return x2||(x2=1,function(e){function t(X,lt){var ft=X.length;X.push(lt);t:for(;0<ft;){var bt=ft-1>>>1,L=X[bt];if(0<o(L,lt))X[bt]=lt,X[ft]=L,ft=bt;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var lt=X[0],ft=X.pop();if(ft!==lt){X[0]=ft;t:for(var bt=0,L=X.length,it=L>>>1;bt<it;){var et=2*(bt+1)-1,st=X[et],dt=et+1,yt=X[dt];if(0>o(st,ft))dt<L&&0>o(yt,st)?(X[bt]=yt,X[dt]=ft,bt=dt):(X[bt]=st,X[et]=ft,bt=et);else if(dt<L&&0>o(yt,ft))X[bt]=yt,X[dt]=ft,bt=dt;else break t}}return lt}function o(X,lt){var ft=X.sortIndex-lt.sortIndex;return ft!==0?ft:X.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var p=[],g=[],_=1,T=null,b=3,A=!1,D=!1,k=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(X){for(var lt=i(g);lt!==null;){if(lt.callback===null)r(g);else if(lt.startTime<=X)r(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=i(g)}}function W(X){if(k=!1,Z(X),!D)if(i(p)!==null)D=!0,Y||(Y=!0,P());else{var lt=i(g);lt!==null&&xt(W,lt.startTime-X)}}var Y=!1,M=-1,x=5,R=-1;function O(){return j?!0:!(e.unstable_now()-R<x)}function N(){if(j=!1,Y){var X=e.unstable_now();R=X;var lt=!0;try{t:{D=!1,k&&(k=!1,q(M),M=-1),A=!0;var ft=b;try{e:{for(Z(X),T=i(p);T!==null&&!(T.expirationTime>X&&O());){var bt=T.callback;if(typeof bt=="function"){T.callback=null,b=T.priorityLevel;var L=bt(T.expirationTime<=X);if(X=e.unstable_now(),typeof L=="function"){T.callback=L,Z(X),lt=!0;break e}T===i(p)&&r(p),Z(X)}else r(p);T=i(p)}if(T!==null)lt=!0;else{var it=i(g);it!==null&&xt(W,it.startTime-X),lt=!1}}break t}finally{T=null,b=ft,A=!1}lt=void 0}}finally{lt?P():Y=!1}}}var P;if(typeof F=="function")P=function(){F(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Rt=I.port2;I.port1.onmessage=N,P=function(){Rt.postMessage(null)}}else P=function(){B(N,0)};function xt(X,lt){M=B(function(){X(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var ft=b;b=lt;try{return X()}finally{b=ft}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ft=b;b=X;try{return lt()}finally{b=ft}},e.unstable_scheduleCallback=function(X,lt,ft){var bt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ft+L,X={id:_++,callback:lt,priorityLevel:X,startTime:ft,expirationTime:L,sortIndex:-1},ft>bt?(X.sortIndex=ft,t(g,X),i(p)===null&&X===i(g)&&(k?(q(M),M=-1):k=!0,xt(W,ft-bt))):(X.sortIndex=L,t(p,X),D||A||(D=!0,Y||(Y=!0,P()))),X},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(X){var lt=b;return function(){var ft=b;b=lt;try{return X.apply(this,arguments)}finally{b=ft}}}}(d1)),d1}var I2;function Y6(){return I2||(I2=1,f1.exports=Q6()),f1.exports}var m1={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function $6(){if(D2)return on;D2=1;var e=Lh();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},on.flushSync=function(p){var g=f.T,_=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=g,r.p=_,r.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:A}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},on.requestFormReset=function(p){r.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.1.0",on}var M2;function M_(){if(M2)return m1.exports;M2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m1.exports=$6(),m1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function K6(){if(V2)return kl;V2=1;var e=Y6(),t=Lh(),i=M_();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function f(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case Y:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case F:return(n.displayName||"Context")+".Provider";case q:return(n._context.displayName||"Context")+".Consumer";case Z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return s=n.displayName||null,s!==null?s:Rt(n.type)||"Memo";case x:s=n._payload,n=n._init;try{return Rt(n(s))}catch{}}return null}var xt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],L=-1;function it(n){return{current:n}}function et(n){0>L||(n.current=bt[L],bt[L]=null,L--)}function st(n,s){L++,bt[L]=n.current,n.current=s}var dt=it(null),yt=it(null),pt=it(null),Ot=it(null);function Nt(n,s){switch(st(pt,s),st(yt,n),st(dt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?J0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=J0(s),n=W0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}et(dt),st(dt,n)}function ye(){et(dt),et(yt),et(pt)}function le(n){n.memoizedState!==null&&st(Ot,n);var s=dt.current,a=W0(s,n.type);s!==a&&(st(yt,n),st(dt,a))}function Ae(n){yt.current===n&&(et(dt),et(yt)),Ot.current===n&&(et(Ot),Ml._currentValue=ft)}var Ke=Object.prototype.hasOwnProperty,_n=e.unstable_scheduleCallback,fn=e.unstable_cancelCallback,zn=e.unstable_shouldYield,vn=e.unstable_requestPaint,It=e.unstable_now,ai=e.unstable_getCurrentPriorityLevel,qn=e.unstable_ImmediatePriority,En=e.unstable_UserBlockingPriority,rn=e.unstable_NormalPriority,yi=e.unstable_LowPriority,xn=e.unstable_IdlePriority,Gi=e.log,Fi=e.unstable_setDisableYieldValue,Wt=null,zt=null;function Re(n){if(typeof Gi=="function"&&Fi(n),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Wt,n)}catch{}}var Ee=Math.clz32?Math.clz32:Hn,qe=Math.log,In=Math.LN2;function Hn(n){return n>>>=0,n===0?32:31-(qe(n)/In|0)|0}var Qi=256,Tr=4194304;function oi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ca(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=oi(l):(E&=w,E!==0?h=oi(E):a||(a=w&~n,a!==0&&(h=oi(a))))):(w=l&~d,w!==0?h=oi(w):E!==0?h=oi(E):a||(a=l&~n,a!==0&&(h=oi(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function br(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Mo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=Qi;return Qi<<=1,(Qi&4194048)===0&&(Qi=256),n}function No(){var n=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),n}function Yi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function $i(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Oo(n,s,a,l,h,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,V=n.expirationTimes,Q=n.hiddenUpdates;for(a=E&~a;0<a;){var nt=31-Ee(a),at=1<<nt;w[nt]=0,V[nt]=-1;var $=Q[nt];if($!==null)for(Q[nt]=null,nt=0;nt<$.length;nt++){var K=$[nt];K!==null&&(K.lane&=-536870913)}a&=~at}l!==0&&_i(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~s))}function _i(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Ee(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Lo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Ee(a),h=1<<l;h&s|n[l]&s&&(n[l]|=s),a&=~h}}function Rs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ha(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xs(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:_2(n.type))}function Iu(n,s){var a=lt.p;try{return lt.p=n,s()}finally{lt.p=a}}var ce=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ce,xe="__reactProps$"+ce,Gn="__reactContainer$"+ce,jo="__reactEvents$"+ce,ff="__reactListeners$"+ce,Is="__reactHandles$"+ce,Du="__reactResources$"+ce,wr="__reactMarker$"+ce;function Ds(n){delete n[Oe],delete n[xe],delete n[jo],delete n[ff],delete n[Is]}function Ki(n){var s=n[Oe];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Gn]||a[Oe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=i2(n);n!==null;){if(a=n[Oe])return a;n=i2(n)}return s}n=a,a=n.parentNode}return null}function vi(n){if(n=n[Oe]||n[Gn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Ei(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function dn(n){var s=n[Du];return s||(s=n[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Te(n){n[wr]=!0}var ko=new Set,fa={};function li(n,s){Xi(n,s),Xi(n+"Capture",s)}function Xi(n,s){for(fa[n]=s,n=0;n<s.length;n++)ko.add(s[n])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},Sr={};function Nu(n){return Ke.call(Sr,n)?!0:Ke.call(Vu,n)?!1:Mu.test(n)?Sr[n]=!0:(Vu[n]=!0,!1)}function Ms(n,s,a){if(Nu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Ti(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Xe(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Cr,Ou;function Zi(n){if(Cr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Cr=s&&s[1]||"",Ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+n+Ou}var da=!1;function ma(n,s){if(!n||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(K){var $=K}Reflect.construct(n,[],at)}else{try{at.call()}catch(K){$=K}n.call(at.prototype)}}else{try{throw Error()}catch(K){$=K}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var V=E.split(`
`),Q=w.split(`
`);for(h=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===V.length||h===Q.length)for(l=V.length-1,h=Q.length-1;1<=l&&0<=h&&V[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(V[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||V[l]!==Q[h]){var nt=`
`+V[l].replace(" at new "," at ");return n.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",n.displayName)),nt}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Zi(a):""}function Po(n){switch(n.tag){case 26:case 27:case 5:return Zi(n.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return ma(n.type,!1);case 11:return ma(n.type.render,!1);case 1:return ma(n.type,!0);case 31:return Zi("Activity");default:return""}}function ga(n){try{var s="";do s+=Po(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uo(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function df(n){var s=Uo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function pa(n){n._valueTracker||(n._valueTracker=df(n))}function Bo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Uo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ar(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var mf=/[\n"\\]/g;function Ie(n){return n.replace(mf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Dn(n,s,a,l,h,d,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+mn(s)):n.value!==""+mn(s)&&(n.value=""+mn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Vs(n,E,mn(s)):a!=null?Vs(n,E,mn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+mn(w):n.removeAttribute("name")}function Rr(n,s,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+mn(a):"",s=s!=null?""+mn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Vs(n,s,a){s==="number"&&Ar(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ji(n,s,a,l){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+mn(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function ne(n,s,a){if(s!=null&&(s=""+mn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+mn(a):""}function xr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(xt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=mn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Fn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Ir.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function zo(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Lu(n,h,l)}else for(var d in s)s.hasOwnProperty(d)&&Lu(n,d,s[d])}function qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(n){return pf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wi=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ts=null,es=null;function Ho(n){var s=vi(n);if(s&&(n=s.stateNode)){var a=n[xe]||null;t:switch(n=s.stateNode,s.type){case"input":if(Dn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ie(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var h=l[xe]||null;if(!h)throw Error(r(90));Dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Bo(l)}break t;case"textarea":ne(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ji(n,!!a.multiple,s,!1)}}}var bi=!1;function ju(n,s,a){if(bi)return n(s,a);bi=!0;try{var l=n(s);return l}finally{if(bi=!1,(ts!==null||es!==null)&&(Ic(),ts&&(s=ts,n=es,es=ts=null,Ho(s),n)))for(s=0;s<n.length;s++)Ho(n[s])}}function Dr(n,s){var a=n.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(ui)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Yn=!1}var wi=null,Ns=null,ns=null;function Go(){if(ns)return ns;var n,s=Ns,a=s.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(n=0;n<a&&s[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===h[d-l];l++);return ns=h.slice(n,1<l?1-l:void 0)}function Si(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ci(){return!0}function Fo(){return!1}function He(n){function s(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ci:Fo,this.isPropagationStopped=Fo,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),s}var Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=He(Zt),Vr=_({},Zt,{view:0,detail:0}),ku=He(Vr),va,Ea,Ai,Nr=_({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ai&&(Ai&&n.type==="mousemove"?(va=n.screenX-Ai.screenX,Ea=n.screenY-Ai.screenY):Ea=va=0,Ai=n),va)},movementY:function(n){return"movementY"in n?n.movementY:Ea}}),$n=He(Nr),Pu=_({},Nr,{dataTransfer:0}),yf=He(Pu),Or=_({},Vr,{relatedTarget:0}),Ta=He(Or),Qo=_({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=He(Qo),Uu=_({},Zt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wa=He(Uu),_f=_({},Zt,{data:0}),Yo=He(_f),Lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=zu[n])?!!s[n]:!1}function jr(){return $o}var qu=_({},Vr,{key:function(n){if(n.key){var s=Lr[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Si(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(n){return n.type==="keypress"?Si(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Si(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Sa=He(qu),Hu=_({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=He(Hu),is=_({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),Gu=He(is),Fu=_({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=He(Fu),Yu=_({},Nr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=He(Yu),gn=_({},Zt,{newState:0,oldState:0}),$u=He(gn),Ku=[9,13,27,32],Ri=ui&&"CompositionEvent"in window,c=null;ui&&"documentMode"in document&&(c=document.documentMode);var y=ui&&"TextEvent"in window&&!c,v=ui&&(!Ri||c&&8<c&&11>=c),C=" ",H=!1;function tt(n,s){switch(n){case"keyup":return Ku.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gt=!1;function Le(n,s){switch(n){case"compositionend":return ht(s);case"keypress":return s.which!==32?null:(H=!0,C);case"textInput":return n=s.data,n===C&&H?null:n;default:return null}}function Ft(n,s){if(Gt)return n==="compositionend"||!Ri&&tt(n,s)?(n=Go(),ns=Ns=wi=null,Gt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function je(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ge[n.type]:s==="textarea"}function ss(n,s,a,l){ts?es?es.push(l):es=[l]:ts=l,s=Lc(s,"onChange"),0<s.length&&(a=new _a("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ze=null,xi=null;function Xo(n){Y0(n,0)}function Xu(n){var s=Ei(n);if(Bo(s))return n}function mg(n,s){if(n==="change")return s}var gg=!1;if(ui){var vf;if(ui){var Ef="oninput"in document;if(!Ef){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Ef=typeof pg.oninput=="function"}vf=Ef}else vf=!1;gg=vf&&(!document.documentMode||9<document.documentMode)}function yg(){Ze&&(Ze.detachEvent("onpropertychange",_g),xi=Ze=null)}function _g(n){if(n.propertyName==="value"&&Xu(xi)){var s=[];ss(s,xi,n,Qn(n)),ju(Xo,s)}}function _4(n,s,a){n==="focusin"?(yg(),Ze=s,xi=a,Ze.attachEvent("onpropertychange",_g)):n==="focusout"&&yg()}function v4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xu(xi)}function E4(n,s){if(n==="click")return Xu(s)}function T4(n,s){if(n==="input"||n==="change")return Xu(s)}function b4(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mn=typeof Object.is=="function"?Object.is:b4;function Zo(n,s){if(Mn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ke.call(s,h)||!Mn(n[h],s[h]))return!1}return!0}function vg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Eg(n,s){var a=vg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vg(a)}}function Tg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Tg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function bg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ar(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ar(n.document)}return s}function Tf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var w4=ui&&"documentMode"in document&&11>=document.documentMode,Aa=null,bf=null,Jo=null,wf=!1;function wg(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Aa==null||Aa!==Ar(l)||(l=Aa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Lc(bf,"onSelect"),0<l.length&&(s=new _a("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Aa)))}function kr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ra={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Sf={},Sg={};ui&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Pr(n){if(Sf[n])return Sf[n];if(!Ra[n])return n;var s=Ra[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sg)return Sf[n]=s[a];return n}var Cg=Pr("animationend"),Ag=Pr("animationiteration"),Rg=Pr("animationstart"),S4=Pr("transitionrun"),C4=Pr("transitionstart"),A4=Pr("transitioncancel"),xg=Pr("transitionend"),Ig=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function ci(n,s){Ig.set(n,s),li(s,[n])}var Dg=new WeakMap;function Kn(n,s){if(typeof n=="object"&&n!==null){var a=Dg.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ga(s)},Dg.set(n,s),s)}return{value:n,source:s,stack:ga(s)}}var Xn=[],xa=0,Af=0;function Zu(){for(var n=xa,s=Af=xa=0;s<n;){var a=Xn[s];Xn[s++]=null;var l=Xn[s];Xn[s++]=null;var h=Xn[s];Xn[s++]=null;var d=Xn[s];if(Xn[s++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function Ju(n,s,a,l){Xn[xa++]=n,Xn[xa++]=s,Xn[xa++]=a,Xn[xa++]=l,Af|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Rf(n,s,a,l){return Ju(n,s,a,l),Wu(n)}function Ia(n,s){return Ju(n,null,null,s),Wu(n)}function Mg(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&s!==null&&(h=31-Ee(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[s]:l.push(s),s.lane=a|536870912),d):null}function Wu(n){if(50<wl)throw wl=0,Nd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Da={};function R4(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(n,s,a,l){return new R4(n,s,a,l)}function xf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rs(n,s){var a=n.alternate;return a===null?(a=Vn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Vg(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function tc(n,s,a,l,h,d){var E=0;if(l=n,typeof n=="function")xf(n)&&(E=1);else if(typeof n=="string")E=I6(n,a,dt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=Vn(31,a,s,h),n.elementType=R,n.lanes=d,n;case D:return Ur(a.children,h,d,s);case k:E=8,h|=24;break;case j:return n=Vn(12,a,s,h|2),n.elementType=j,n.lanes=d,n;case W:return n=Vn(13,a,s,h),n.elementType=W,n.lanes=d,n;case Y:return n=Vn(19,a,s,h),n.elementType=Y,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:case F:E=10;break t;case q:E=9;break t;case Z:E=11;break t;case M:E=14;break t;case x:E=16,l=null;break t}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Vn(E,a,s,h),s.elementType=n,s.type=l,s.lanes=d,s}function Ur(n,s,a,l){return n=Vn(7,n,l,s),n.lanes=a,n}function If(n,s,a){return n=Vn(6,n,null,s),n.lanes=a,n}function Df(n,s,a){return s=Vn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ma=[],Va=0,ec=null,nc=0,Zn=[],Jn=0,Br=null,as=1,os="";function zr(n,s){Ma[Va++]=nc,Ma[Va++]=ec,ec=n,nc=s}function Ng(n,s,a){Zn[Jn++]=as,Zn[Jn++]=os,Zn[Jn++]=Br,Br=n;var l=as;n=os;var h=32-Ee(l)-1;l&=~(1<<h),a+=1;var d=32-Ee(s)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,as=1<<32-Ee(s)+h|a<<h|l,os=d+n}else as=1<<d|a<<h|l,os=n}function Mf(n){n.return!==null&&(zr(n,1),Ng(n,1,0))}function Vf(n){for(;n===ec;)ec=Ma[--Va],Ma[Va]=null,nc=Ma[--Va],Ma[Va]=null;for(;n===Br;)Br=Zn[--Jn],Zn[Jn]=null,os=Zn[--Jn],Zn[Jn]=null,as=Zn[--Jn],Zn[Jn]=null}var pn=null,_e=null,Xt=!1,qr=null,Ii=!1,Nf=Error(r(519));function Hr(n){var s=Error(r(418,""));throw el(Kn(s,n)),Nf}function Og(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Oe]=n,s[xe]=l,a){case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":case"embed":Bt("load",s);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Bt(Cl[a],s);break;case"source":Bt("error",s);break;case"img":case"image":case"link":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"input":Bt("invalid",s),Rr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(s);break;case"select":Bt("invalid",s);break;case"textarea":Bt("invalid",s),xr(s,l.value,l.defaultValue,l.children),pa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Z0(s.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",s),Bt("toggle",s)),l.onScroll!=null&&Bt("scroll",s),l.onScrollEnd!=null&&Bt("scrollend",s),l.onClick!=null&&(s.onclick=jc),s=!0):s=!1,s||Hr(n)}function Lg(n){for(pn=n.return;pn;)switch(pn.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:pn=pn.return}}function Wo(n){if(n!==pn)return!1;if(!Xt)return Lg(n),Xt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Kd(n.type,n.memoizedProps)),a=!a),a&&_e&&Hr(n),Lg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){_e=fi(n.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}_e=null}}else s===27?(s=_e,Ks(n.type)?(n=Wd,Wd=null,_e=n):_e=s):_e=pn?fi(n.stateNode.nextSibling):null;return!0}function tl(){_e=pn=null,Xt=!1}function jg(){var n=qr;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),qr=null),n}function el(n){qr===null?qr=[n]:qr.push(n)}var Of=it(null),Gr=null,ls=null;function Os(n,s,a){st(Of,s._currentValue),s._currentValue=a}function us(n){n._currentValue=Of.current,et(Of)}function Lf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function jf(n,s,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=h;for(var V=0;V<s.length;V++)if(w.context===s[V]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Lf(d.return,a,n),l||(E=null);break t}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Lf(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function nl(n,s,a,l){n=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=h.type;Mn(h.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(h===Ot.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}h=h.return}n!==null&&jf(s,n,a,l),s.flags|=262144}function ic(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fr(n){Gr=n,ls=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return kg(Gr,n)}function sc(n,s){return Gr===null&&Fr(n),kg(n,s)}function kg(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ls===null){if(n===null)throw Error(r(308));ls=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ls=ls.next=s;return a}var x4=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},I4=e.unstable_scheduleCallback,D4=e.unstable_NormalPriority,ke={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new x4,data:new Map,refCount:0}}function il(n){n.refCount--,n.refCount===0&&I4(D4,function(){n.controller.abort()})}var sl=null,Pf=0,Na=0,Oa=null;function M4(n,s){if(sl===null){var a=sl=[];Pf=0,Na=Bd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,s.then(Pg,Pg),s}function Pg(){if(--Pf===0&&sl!==null){Oa!==null&&(Oa.status="fulfilled");var n=sl;sl=null,Na=0,Oa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function V4(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ug=X.S;X.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&M4(n,s),Ug!==null&&Ug(n,s)};var Qr=it(null);function Uf(){var n=Qr.current;return n!==null?n:oe.pooledCache}function rc(n,s){s===null?st(Qr,Qr.current):st(Qr,s.pool)}function Bg(){var n=Uf();return n===null?null:{parent:ke._currentValue,pool:n}}var rl=Error(r(460)),zg=Error(r(474)),ac=Error(r(542)),Bf={then:function(){}};function qg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oc(){}function Hg(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(oc,oc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Fg(n),n;default:if(typeof s.status=="string")s.then(oc,oc);else{if(n=oe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Fg(n),n}throw al=s,rl}}var al=null;function Gg(){if(al===null)throw Error(r(459));var n=al;return al=null,n}function Fg(n){if(n===rl||n===ac)throw Error(r(483))}var Ls=!1;function zf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function js(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ks(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Wu(n),Mg(n,null,a),s}return Ju(n,l,s,a),Wu(n)}function ol(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Lo(n,a)}}function Hf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Gf=!1;function ll(){if(Gf){var n=Oa;if(n!==null)throw n}}function ul(n,s,a,l){Gf=!1;var h=n.updateQueue;Ls=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var V=w,Q=V.next;V.next=null,E===null?d=Q:E.next=Q,E=V;var nt=n.alternate;nt!==null&&(nt=nt.updateQueue,w=nt.lastBaseUpdate,w!==E&&(w===null?nt.firstBaseUpdate=Q:w.next=Q,nt.lastBaseUpdate=V))}if(d!==null){var at=h.baseState;E=0,nt=Q=V=null,w=d;do{var $=w.lane&-536870913,K=$!==w.lane;if(K?(Qt&$)===$:(l&$)===$){$!==0&&$===Na&&(Gf=!0),nt!==null&&(nt=nt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Ct=n,Tt=w;$=s;var re=a;switch(Tt.tag){case 1:if(Ct=Tt.payload,typeof Ct=="function"){at=Ct.call(re,at,$);break t}at=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Tt.payload,$=typeof Ct=="function"?Ct.call(re,at,$):Ct,$==null)break t;at=_({},at,$);break t;case 2:Ls=!0}}$=w.callback,$!==null&&(n.flags|=64,K&&(n.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},nt===null?(Q=nt=K,V=at):nt=nt.next=K,E|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;K=w,w=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);nt===null&&(V=at),h.baseState=V,h.firstBaseUpdate=Q,h.lastBaseUpdate=nt,d===null&&(h.shared.lanes=0),Fs|=E,n.lanes=E,n.memoizedState=at}}function Qg(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Yg(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Qg(a[n],s)}var La=it(null),lc=it(0);function $g(n,s){n=ps,st(lc,n),st(La,s),ps=n|s.baseLanes}function Ff(){st(lc,ps),st(La,La.current)}function Qf(){ps=lc.current,et(La),et(lc)}var Ps=0,jt=null,ie=null,De=null,uc=!1,ja=!1,Yr=!1,cc=0,cl=0,ka=null,N4=0;function be(){throw Error(r(321))}function Yf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Mn(n[a],s[a]))return!1;return!0}function $f(n,s,a,l,h,d){return Ps=d,jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?Mp:Vp,Yr=!1,d=a(l,h),Yr=!1,ja&&(d=Xg(s,a,l,h)),Kg(n),d}function Kg(n){X.H=pc;var s=ie!==null&&ie.next!==null;if(Ps=0,De=ie=jt=null,uc=!1,cl=0,ka=null,s)throw Error(r(300));n===null||Fe||(n=n.dependencies,n!==null&&ic(n)&&(Fe=!0))}function Xg(n,s,a,l){jt=n;var h=0;do{if(ja&&(ka=null),cl=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,De=ie=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=B4,d=s(a,l)}while(ja);return d}function O4(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?hl(s):s,n=n.useState()[0],(ie!==null?ie.memoizedState:null)!==n&&(jt.flags|=1024),s}function Kf(){var n=cc!==0;return cc=0,n}function Xf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Zf(n){if(uc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uc=!1}Ps=0,De=ie=jt=null,ja=!1,cl=cc=0,ka=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?jt.memoizedState=De=n:De=De.next=n,De}function Me(){if(ie===null){var n=jt.alternate;n=n!==null?n.memoizedState:null}else n=ie.next;var s=De===null?jt.memoizedState:De.next;if(s!==null)De=s,ie=n;else{if(n===null)throw jt.alternate===null?Error(r(467)):Error(r(310));ie=n,n={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},De===null?jt.memoizedState=De=n:De=De.next=n}return De}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(n){var s=cl;return cl+=1,ka===null&&(ka=[]),n=Hg(ka,n,s),s=jt,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Mp:Vp),n}function hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hl(n);if(n.$$typeof===F)return an(n)}throw Error(r(438,String(n)))}function Wf(n){var s=null,a=jt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=jt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Jf(),jt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=O;return s.index++,a}function cs(n,s){return typeof s=="function"?s(n):s}function fc(n){var s=Me();return td(s,ie,n)}function td(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}s.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{s=h.next;var w=E=null,V=null,Q=s,nt=!1;do{var at=Q.lane&-536870913;if(at!==Q.lane?(Qt&at)===at:(Ps&at)===at){var $=Q.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),at===Na&&(nt=!0);else if((Ps&$)===$){Q=Q.next,$===Na&&(nt=!0);continue}else at={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(w=V=at,E=d):V=V.next=at,jt.lanes|=$,Fs|=$;at=Q.action,Yr&&a(d,at),d=Q.hasEagerState?Q.eagerState:a(d,at)}else $={lane:at,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(w=V=$,E=d):V=V.next=$,jt.lanes|=at,Fs|=at;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?E=d:V.next=w,!Mn(d,n.memoizedState)&&(Fe=!0,nt&&(a=Oa,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=V,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ed(n){var s=Me(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=n(d,E.action),E=E.next;while(E!==h);Mn(d,s.memoizedState)||(Fe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Zg(n,s,a){var l=jt,h=Me(),d=Xt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Mn((ie||h).memoizedState,a);E&&(h.memoizedState=a,Fe=!0),h=h.queue;var w=tp.bind(null,l,h,n);if(fl(2048,8,w,[n]),h.getSnapshot!==s||E||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Pa(9,dc(),Wg.bind(null,l,h,a,s),null),oe===null)throw Error(r(349));d||(Ps&124)!==0||Jg(l,s,a)}return a}function Jg(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=jt.updateQueue,s===null?(s=Jf(),jt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Wg(n,s,a,l){s.value=a,s.getSnapshot=l,ep(s)&&np(n)}function tp(n,s,a){return a(function(){ep(s)&&np(n)})}function ep(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Mn(n,a)}catch{return!0}}function np(n){var s=Ia(n,2);s!==null&&kn(s,n,2)}function nd(n){var s=Tn();if(typeof n=="function"){var a=n;if(n=a(),Yr){Re(!0);try{a()}finally{Re(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},s}function ip(n,s,a,l){return n.baseState=a,td(n,ie,typeof l=="function"?l:cs)}function L4(n,s,a,l,h){if(gc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,sp(s,d)):(d.next=a.next,s.pending=a.next=d)}}function sp(n,s){var a=s.action,l=s.payload,h=n.state;if(s.isTransition){var d=X.T,E={};X.T=E;try{var w=a(h,l),V=X.S;V!==null&&V(E,w),rp(n,s,w)}catch(Q){id(n,s,Q)}finally{X.T=d}}else try{d=a(h,l),rp(n,s,d)}catch(Q){id(n,s,Q)}}function rp(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ap(n,s,l)},function(l){return id(n,s,l)}):ap(n,s,a)}function ap(n,s,a){s.status="fulfilled",s.value=a,op(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,sp(n,a)))}function id(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,op(s),s=s.next;while(s!==l)}n.action=null}function op(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function lp(n,s){return s}function up(n,s){if(Xt){var a=oe.formState;if(a!==null){t:{var l=jt;if(Xt){if(_e){e:{for(var h=_e,d=Ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=fi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){_e=fi(h.nextSibling),l=h.data==="F!";break t}}Hr(l)}l=!1}l&&(s=a[0])}}return a=Tn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:s},a.queue=l,a=xp.bind(null,jt,l),l.dispatch=a,l=nd(!1),d=ld.bind(null,jt,!1,l.queue),l=Tn(),h={state:s,dispatch:null,action:n,pending:null},l.queue=h,a=L4.bind(null,jt,h,d,a),h.dispatch=a,l.memoizedState=n,[s,a,!1]}function cp(n){var s=Me();return hp(s,ie,n)}function hp(n,s,a){if(s=td(n,s,lp)[0],n=fc(cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=hl(s)}catch(E){throw E===rl?ac:E}else l=s;s=Me();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(jt.flags|=2048,Pa(9,dc(),j4.bind(null,h,a),null)),[l,d,n]}function j4(n,s){n.action=s}function fp(n){var s=Me(),a=ie;if(a!==null)return hp(s,a,n);Me(),s=s.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Pa(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=jt.updateQueue,s===null&&(s=Jf(),jt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function dc(){return{destroy:void 0,resource:void 0}}function dp(){return Me().memoizedState}function mc(n,s,a,l){var h=Tn();l=l===void 0?null:l,jt.flags|=n,h.memoizedState=Pa(1|s,dc(),a,l)}function fl(n,s,a,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&Yf(l,ie.memoizedState.deps)?h.memoizedState=Pa(s,d,a,l):(jt.flags|=n,h.memoizedState=Pa(1|s,d,a,l))}function mp(n,s){mc(8390656,8,n,s)}function gp(n,s){fl(2048,8,n,s)}function pp(n,s){return fl(4,2,n,s)}function yp(n,s){return fl(4,4,n,s)}function _p(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function vp(n,s,a){a=a!=null?a.concat([n]):null,fl(4,4,_p.bind(null,s,n),a)}function sd(){}function Ep(n,s){var a=Me();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Yf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function Tp(n,s){var a=Me();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Yf(s,l[1]))return l[0];if(l=n(),Yr){Re(!0);try{n()}finally{Re(!1)}}return a.memoizedState=[l,s],l}function rd(n,s,a){return a===void 0||(Ps&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=S0(),jt.lanes|=n,Fs|=n,a)}function bp(n,s,a,l){return Mn(a,s)?a:La.current!==null?(n=rd(n,a,l),Mn(n,s)||(Fe=!0),n):(Ps&42)===0?(Fe=!0,n.memoizedState=a):(n=S0(),jt.lanes|=n,Fs|=n,s)}function wp(n,s,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var E=X.T,w={};X.T=w,ld(n,!1,s,a);try{var V=h(),Q=X.S;if(Q!==null&&Q(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var nt=V4(V,l);dl(n,s,nt,jn(n))}else dl(n,s,l,jn(n))}catch(at){dl(n,s,{then:function(){},status:"rejected",reason:at},jn())}finally{lt.p=d,X.T=E}}function k4(){}function ad(n,s,a,l){if(n.tag!==5)throw Error(r(476));var h=Sp(n).queue;wp(n,h,s,ft,a===null?k4:function(){return Cp(n),a(l)})}function Sp(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Cp(n){var s=Sp(n).next.queue;dl(n,s,{},jn())}function od(){return an(Ml)}function Ap(){return Me().memoizedState}function Rp(){return Me().memoizedState}function P4(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=jn();n=js(a);var l=ks(s,n,a);l!==null&&(kn(l,s,a),ol(l,s,a)),s={cache:kf()},n.payload=s;return}s=s.return}}function U4(n,s,a){var l=jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(n)?Ip(s,a):(a=Rf(n,s,a,l),a!==null&&(kn(a,n,l),Dp(a,s,l)))}function xp(n,s,a){var l=jn();dl(n,s,a,l)}function dl(n,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(n))Ip(s,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var E=s.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,Mn(w,E))return Ju(n,s,h,0),oe===null&&Zu(),!1}catch{}finally{}if(a=Rf(n,s,h,l),a!==null)return kn(a,n,l),Dp(a,s,l),!0}return!1}function ld(n,s,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(n)){if(s)throw Error(r(479))}else s=Rf(n,a,l,2),s!==null&&kn(s,n,2)}function gc(n){var s=n.alternate;return n===jt||s!==null&&s===jt}function Ip(n,s){ja=uc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Dp(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Lo(n,a)}}var pc={readContext:an,use:hc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},Mp={readContext:an,use:hc,useCallback:function(n,s){return Tn().memoizedState=[n,s===void 0?null:s],n},useContext:an,useEffect:mp,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,mc(4194308,4,_p.bind(null,s,n),a)},useLayoutEffect:function(n,s){return mc(4194308,4,n,s)},useInsertionEffect:function(n,s){mc(4,2,n,s)},useMemo:function(n,s){var a=Tn();s=s===void 0?null:s;var l=n();if(Yr){Re(!0);try{n()}finally{Re(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Tn();if(a!==void 0){var h=a(s);if(Yr){Re(!0);try{a(s)}finally{Re(!1)}}}else h=s;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=U4.bind(null,jt,n),[l.memoizedState,n]},useRef:function(n){var s=Tn();return n={current:n},s.memoizedState=n},useState:function(n){n=nd(n);var s=n.queue,a=xp.bind(null,jt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(n,s){var a=Tn();return rd(a,n,s)},useTransition:function(){var n=nd(!1);return n=wp.bind(null,jt,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=jt,h=Tn();if(Xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),oe===null)throw Error(r(349));(Qt&124)!==0||Jg(l,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,mp(tp.bind(null,l,d,n),[n]),l.flags|=2048,Pa(9,dc(),Wg.bind(null,l,d,a,s),null),a},useId:function(){var n=Tn(),s=oe.identifierPrefix;if(Xt){var a=os,l=as;a=(l&~(1<<32-Ee(l)-1)).toString(32)+a,s=""+s+"R"+a,a=cc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=N4++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:od,useFormState:up,useActionState:up,useOptimistic:function(n){var s=Tn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ld.bind(null,jt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Wf,useCacheRefresh:function(){return Tn().memoizedState=P4.bind(null,jt)}},Vp={readContext:an,use:hc,useCallback:Ep,useContext:an,useEffect:gp,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:fc,useRef:dp,useState:function(){return fc(cs)},useDebugValue:sd,useDeferredValue:function(n,s){var a=Me();return bp(a,ie.memoizedState,n,s)},useTransition:function(){var n=fc(cs)[0],s=Me().memoizedState;return[typeof n=="boolean"?n:hl(n),s]},useSyncExternalStore:Zg,useId:Ap,useHostTransitionStatus:od,useFormState:cp,useActionState:cp,useOptimistic:function(n,s){var a=Me();return ip(a,ie,n,s)},useMemoCache:Wf,useCacheRefresh:Rp},B4={readContext:an,use:hc,useCallback:Ep,useContext:an,useEffect:gp,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:ed,useRef:dp,useState:function(){return ed(cs)},useDebugValue:sd,useDeferredValue:function(n,s){var a=Me();return ie===null?rd(a,n,s):bp(a,ie.memoizedState,n,s)},useTransition:function(){var n=ed(cs)[0],s=Me().memoizedState;return[typeof n=="boolean"?n:hl(n),s]},useSyncExternalStore:Zg,useId:Ap,useHostTransitionStatus:od,useFormState:fp,useActionState:fp,useOptimistic:function(n,s){var a=Me();return ie!==null?ip(a,ie,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Rp},Ua=null,ml=0;function yc(n){var s=ml;return ml+=1,Ua===null&&(Ua=[]),Hg(Ua,n,s)}function gl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function _c(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Np(n){var s=n._init;return s(n._payload)}function Op(n){function s(z,U){if(n){var G=z.deletions;G===null?(z.deletions=[U],z.flags|=16):G.push(U)}}function a(z,U){if(!n)return null;for(;U!==null;)s(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=rs(z,U),z.index=0,z.sibling=null,z}function d(z,U,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<U?(z.flags|=67108866,U):G):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,U,G,rt){return U===null||U.tag!==6?(U=If(G,z.mode,rt),U.return=z,U):(U=h(U,G),U.return=z,U)}function V(z,U,G,rt){var gt=G.type;return gt===D?nt(z,U,G.props.children,rt,G.key):U!==null&&(U.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&Np(gt)===U.type)?(U=h(U,G.props),gl(U,G),U.return=z,U):(U=tc(G.type,G.key,G.props,null,z.mode,rt),gl(U,G),U.return=z,U)}function Q(z,U,G,rt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Df(G,z.mode,rt),U.return=z,U):(U=h(U,G.children||[]),U.return=z,U)}function nt(z,U,G,rt,gt){return U===null||U.tag!==7?(U=Ur(G,z.mode,rt,gt),U.return=z,U):(U=h(U,G),U.return=z,U)}function at(z,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=If(""+U,z.mode,G),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return G=tc(U.type,U.key,U.props,null,z.mode,G),gl(G,U),G.return=z,G;case A:return U=Df(U,z.mode,G),U.return=z,U;case x:var rt=U._init;return U=rt(U._payload),at(z,U,G)}if(xt(U)||P(U))return U=Ur(U,z.mode,G,null),U.return=z,U;if(typeof U.then=="function")return at(z,yc(U),G);if(U.$$typeof===F)return at(z,sc(z,U),G);_c(z,U)}return null}function $(z,U,G,rt){var gt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return gt!==null?null:w(z,U,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===gt?V(z,U,G,rt):null;case A:return G.key===gt?Q(z,U,G,rt):null;case x:return gt=G._init,G=gt(G._payload),$(z,U,G,rt)}if(xt(G)||P(G))return gt!==null?null:nt(z,U,G,rt,null);if(typeof G.then=="function")return $(z,U,yc(G),rt);if(G.$$typeof===F)return $(z,U,sc(z,G),rt);_c(z,G)}return null}function K(z,U,G,rt,gt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return z=z.get(G)||null,w(U,z,""+rt,gt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:return z=z.get(rt.key===null?G:rt.key)||null,V(U,z,rt,gt);case A:return z=z.get(rt.key===null?G:rt.key)||null,Q(U,z,rt,gt);case x:var Pt=rt._init;return rt=Pt(rt._payload),K(z,U,G,rt,gt)}if(xt(rt)||P(rt))return z=z.get(G)||null,nt(U,z,rt,gt,null);if(typeof rt.then=="function")return K(z,U,G,yc(rt),gt);if(rt.$$typeof===F)return K(z,U,G,sc(U,rt),gt);_c(U,rt)}return null}function Ct(z,U,G,rt){for(var gt=null,Pt=null,_t=U,wt=U=0,Ye=null;_t!==null&&wt<G.length;wt++){_t.index>wt?(Ye=_t,_t=null):Ye=_t.sibling;var Kt=$(z,_t,G[wt],rt);if(Kt===null){_t===null&&(_t=Ye);break}n&&_t&&Kt.alternate===null&&s(z,_t),U=d(Kt,U,wt),Pt===null?gt=Kt:Pt.sibling=Kt,Pt=Kt,_t=Ye}if(wt===G.length)return a(z,_t),Xt&&zr(z,wt),gt;if(_t===null){for(;wt<G.length;wt++)_t=at(z,G[wt],rt),_t!==null&&(U=d(_t,U,wt),Pt===null?gt=_t:Pt.sibling=_t,Pt=_t);return Xt&&zr(z,wt),gt}for(_t=l(_t);wt<G.length;wt++)Ye=K(_t,z,wt,G[wt],rt),Ye!==null&&(n&&Ye.alternate!==null&&_t.delete(Ye.key===null?wt:Ye.key),U=d(Ye,U,wt),Pt===null?gt=Ye:Pt.sibling=Ye,Pt=Ye);return n&&_t.forEach(function(tr){return s(z,tr)}),Xt&&zr(z,wt),gt}function Tt(z,U,G,rt){if(G==null)throw Error(r(151));for(var gt=null,Pt=null,_t=U,wt=U=0,Ye=null,Kt=G.next();_t!==null&&!Kt.done;wt++,Kt=G.next()){_t.index>wt?(Ye=_t,_t=null):Ye=_t.sibling;var tr=$(z,_t,Kt.value,rt);if(tr===null){_t===null&&(_t=Ye);break}n&&_t&&tr.alternate===null&&s(z,_t),U=d(tr,U,wt),Pt===null?gt=tr:Pt.sibling=tr,Pt=tr,_t=Ye}if(Kt.done)return a(z,_t),Xt&&zr(z,wt),gt;if(_t===null){for(;!Kt.done;wt++,Kt=G.next())Kt=at(z,Kt.value,rt),Kt!==null&&(U=d(Kt,U,wt),Pt===null?gt=Kt:Pt.sibling=Kt,Pt=Kt);return Xt&&zr(z,wt),gt}for(_t=l(_t);!Kt.done;wt++,Kt=G.next())Kt=K(_t,z,wt,Kt.value,rt),Kt!==null&&(n&&Kt.alternate!==null&&_t.delete(Kt.key===null?wt:Kt.key),U=d(Kt,U,wt),Pt===null?gt=Kt:Pt.sibling=Kt,Pt=Kt);return n&&_t.forEach(function(z6){return s(z,z6)}),Xt&&zr(z,wt),gt}function re(z,U,G,rt){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var gt=G.key;U!==null;){if(U.key===gt){if(gt=G.type,gt===D){if(U.tag===7){a(z,U.sibling),rt=h(U,G.props.children),rt.return=z,z=rt;break t}}else if(U.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&Np(gt)===U.type){a(z,U.sibling),rt=h(U,G.props),gl(rt,G),rt.return=z,z=rt;break t}a(z,U);break}else s(z,U);U=U.sibling}G.type===D?(rt=Ur(G.props.children,z.mode,rt,G.key),rt.return=z,z=rt):(rt=tc(G.type,G.key,G.props,null,z.mode,rt),gl(rt,G),rt.return=z,z=rt)}return E(z);case A:t:{for(gt=G.key;U!==null;){if(U.key===gt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){a(z,U.sibling),rt=h(U,G.children||[]),rt.return=z,z=rt;break t}else{a(z,U);break}else s(z,U);U=U.sibling}rt=Df(G,z.mode,rt),rt.return=z,z=rt}return E(z);case x:return gt=G._init,G=gt(G._payload),re(z,U,G,rt)}if(xt(G))return Ct(z,U,G,rt);if(P(G)){if(gt=P(G),typeof gt!="function")throw Error(r(150));return G=gt.call(G),Tt(z,U,G,rt)}if(typeof G.then=="function")return re(z,U,yc(G),rt);if(G.$$typeof===F)return re(z,U,sc(z,G),rt);_c(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(a(z,U.sibling),rt=h(U,G),rt.return=z,z=rt):(a(z,U),rt=If(G,z.mode,rt),rt.return=z,z=rt),E(z)):a(z,U)}return function(z,U,G,rt){try{ml=0;var gt=re(z,U,G,rt);return Ua=null,gt}catch(_t){if(_t===rl||_t===ac)throw _t;var Pt=Vn(29,_t,null,z.mode);return Pt.lanes=rt,Pt.return=z,Pt}finally{}}}var Ba=Op(!0),Lp=Op(!1),Wn=it(null),Di=null;function Us(n){var s=n.alternate;st(Pe,Pe.current&1),st(Wn,n),Di===null&&(s===null||La.current!==null||s.memoizedState!==null)&&(Di=n)}function jp(n){if(n.tag===22){if(st(Pe,Pe.current),st(Wn,n),Di===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Di=n)}}else Bs()}function Bs(){st(Pe,Pe.current),st(Wn,Wn.current)}function hs(n){et(Wn),Di===n&&(Di=null),et(Pe)}var Pe=it(0);function vc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ud(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var cd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=jn(),h=js(l);h.payload=s,a!=null&&(h.callback=a),s=ks(n,h,l),s!==null&&(kn(s,n,l),ol(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=jn(),h=js(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ks(n,h,l),s!==null&&(kn(s,n,l),ol(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=jn(),l=js(a);l.tag=2,s!=null&&(l.callback=s),s=ks(n,l,a),s!==null&&(kn(s,n,a),ol(s,n,a))}};function kp(n,s,a,l,h,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):s.prototype&&s.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Pp(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&cd.enqueueReplaceState(s,s.state,null)}function $r(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Ec=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Up(n){Ec(n)}function Bp(n){console.error(n)}function zp(n){Ec(n)}function Tc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function qp(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hd(n,s,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(n,s)},a}function Hp(n){return n=js(n),n.tag=3,n}function Gp(n,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){qp(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){qp(s,a,l),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function z4(n,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&nl(s,a,h,!0),a=Wn.current,a!==null){switch(a.tag){case 13:return Di===null?Ld():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),kd(n,l,h)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),kd(n,l,h)),!1}throw Error(r(435,a.tag))}return kd(n,l,h),Ld(),!1}if(Xt)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==Nf&&(n=Error(r(422),{cause:l}),el(Kn(n,a)))):(l!==Nf&&(s=Error(r(423),{cause:l}),el(Kn(s,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Kn(l,a),h=hd(n.stateNode,l,h),Hf(n,h),ve!==4&&(ve=2)),!1;var d=Error(r(520),{cause:l});if(d=Kn(d,a),bl===null?bl=[d]:bl.push(d),ve!==4&&(ve=2),s===null)return!0;l=Kn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=hd(a.stateNode,l,n),Hf(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qs===null||!Qs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hp(h),Gp(h,n,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var Fp=Error(r(461)),Fe=!1;function Je(n,s,a,l){s.child=n===null?Lp(s,null,a,l):Ba(s,n.child,a,l)}function Qp(n,s,a,l,h){a=a.render;var d=s.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Fr(s),l=$f(n,s,a,E,d,h),w=Kf(),n!==null&&!Fe?(Xf(n,s,h),fs(n,s,h)):(Xt&&w&&Mf(s),s.flags|=1,Je(n,s,l,h),s.child)}function Yp(n,s,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,$p(n,s,d,l,h)):(n=tc(a.type,null,l,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!vd(n,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(E,l)&&n.ref===s.ref)return fs(n,s,h)}return s.flags|=1,n=rs(d,l),n.ref=s.ref,n.return=s,s.child=n}function $p(n,s,a,l,h){if(n!==null){var d=n.memoizedProps;if(Zo(d,l)&&n.ref===s.ref)if(Fe=!1,s.pendingProps=l=d,vd(n,h))(n.flags&131072)!==0&&(Fe=!0);else return s.lanes=n.lanes,fs(n,s,h)}return fd(n,s,a,l,h)}function Kp(n,s,a){var l=s.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=s.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return Xp(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&rc(s,d!==null?d.cachePool:null),d!==null?$g(s,d):Ff(),jp(s);else return s.lanes=s.childLanes=536870912,Xp(n,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(s,d.cachePool),$g(s,d),Bs(),s.memoizedState=null):(n!==null&&rc(s,null),Ff(),Bs());return Je(n,s,h,a),s.child}function Xp(n,s,a,l){var h=Uf();return h=h===null?null:{parent:ke._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},n!==null&&rc(s,null),Ff(),jp(s),n!==null&&nl(n,s,l,!0),null}function bc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function fd(n,s,a,l,h){return Fr(s),a=$f(n,s,a,l,void 0,h),l=Kf(),n!==null&&!Fe?(Xf(n,s,h),fs(n,s,h)):(Xt&&l&&Mf(s),s.flags|=1,Je(n,s,a,h),s.child)}function Zp(n,s,a,l,h,d){return Fr(s),s.updateQueue=null,a=Xg(s,l,a,h),Kg(n),l=Kf(),n!==null&&!Fe?(Xf(n,s,d),fs(n,s,d)):(Xt&&l&&Mf(s),s.flags|=1,Je(n,s,a,d),s.child)}function Jp(n,s,a,l,h){if(Fr(s),s.stateNode===null){var d=Da,E=a.contextType;typeof E=="object"&&E!==null&&(d=an(E)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},zf(s),E=a.contextType,d.context=typeof E=="object"&&E!==null?an(E):Da,d.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ud(s,a,E,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&cd.enqueueReplaceState(d,d.state,null),ul(s,l,d,h),ll(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var w=s.memoizedProps,V=$r(a,w);d.props=V;var Q=d.context,nt=a.contextType;E=Da,typeof nt=="object"&&nt!==null&&(E=an(nt));var at=a.getDerivedStateFromProps;nt=typeof at=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,nt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Q!==E)&&Pp(s,d,l,E),Ls=!1;var $=s.memoizedState;d.state=$,ul(s,l,d,h),ll(),Q=s.memoizedState,w||$!==Q||Ls?(typeof at=="function"&&(ud(s,a,at,l),Q=s.memoizedState),(V=Ls||kp(s,a,V,l,$,Q,E))?(nt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=E,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,qf(n,s),E=s.memoizedProps,nt=$r(a,E),d.props=nt,at=s.pendingProps,$=d.context,Q=a.contextType,V=Da,typeof Q=="object"&&Q!==null&&(V=an(Q)),w=a.getDerivedStateFromProps,(Q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==at||$!==V)&&Pp(s,d,l,V),Ls=!1,$=s.memoizedState,d.state=$,ul(s,l,d,h),ll();var K=s.memoizedState;E!==at||$!==K||Ls||n!==null&&n.dependencies!==null&&ic(n.dependencies)?(typeof w=="function"&&(ud(s,a,w,l),K=s.memoizedState),(nt=Ls||kp(s,a,nt,l,$,K,V)||n!==null&&n.dependencies!==null&&ic(n.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=V,l=nt):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,bc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Ba(s,n.child,null,h),s.child=Ba(s,null,a,h)):Je(n,s,a,h),s.memoizedState=d.state,n=s.child):n=fs(n,s,h),n}function Wp(n,s,a,l){return tl(),s.flags|=256,Je(n,s,a,l),s.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(n){return{baseLanes:n,cachePool:Bg()}}function gd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=ti),n}function t0(n,s,a){var l=s.pendingProps,h=!1,d=(s.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Pe.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Xt){if(h?Us(s):Bs(),Xt){var w=_e,V;if(V=w){t:{for(V=w,w=Ii;V.nodeType!==8;){if(!w){w=null;break t}if(V=fi(V.nextSibling),V===null){w=null;break t}}w=V}w!==null?(s.memoizedState={dehydrated:w,treeContext:Br!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},V=Vn(18,null,null,0),V.stateNode=w,V.return=s,s.child=V,pn=s,_e=null,V=!0):V=!1}V||Hr(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Jd(w)?s.lanes=32:s.lanes=536870912,null;hs(s)}return w=l.children,l=l.fallback,h?(Bs(),h=s.mode,w=wc({mode:"hidden",children:w},h),l=Ur(l,h,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,h=s.child,h.memoizedState=md(a),h.childLanes=gd(n,E,a),s.memoizedState=dd,l):(Us(s),pd(s,w))}if(V=n.memoizedState,V!==null&&(w=V.dehydrated,w!==null)){if(d)s.flags&256?(Us(s),s.flags&=-257,s=yd(n,s,a)):s.memoizedState!==null?(Bs(),s.child=n.child,s.flags|=128,s=null):(Bs(),h=l.fallback,w=s.mode,l=wc({mode:"visible",children:l.children},w),h=Ur(h,w,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,Ba(s,n.child,null,a),l=s.child,l.memoizedState=md(a),l.childLanes=gd(n,E,a),s.memoizedState=dd,s=h);else if(Us(s),Jd(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(r(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),s=yd(n,s,a)}else if(Fe||nl(n,s,a,!1),E=(a&n.childLanes)!==0,Fe||E){if(E=oe,E!==null&&(l=a&-a,l=(l&42)!==0?1:Rs(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==V.retryLane))throw V.retryLane=l,Ia(n,l),kn(E,n,l),Fp;w.data==="$?"||Ld(),s=yd(n,s,a)}else w.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,_e=fi(w.nextSibling),pn=s,Xt=!0,qr=null,Ii=!1,n!==null&&(Zn[Jn++]=as,Zn[Jn++]=os,Zn[Jn++]=Br,as=n.id,os=n.overflow,Br=s),s=pd(s,l.children),s.flags|=4096);return s}return h?(Bs(),h=l.fallback,w=s.mode,V=n.child,Q=V.sibling,l=rs(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,Q!==null?h=rs(Q,h):(h=Ur(h,w,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,w=n.child.memoizedState,w===null?w=md(a):(V=w.cachePool,V!==null?(Q=ke._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=Bg(),w={baseLanes:w.baseLanes|a,cachePool:V}),h.memoizedState=w,h.childLanes=gd(n,E,a),s.memoizedState=dd,l):(Us(s),a=n.child,n=a.sibling,a=rs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function pd(n,s){return s=wc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function wc(n,s){return n=Vn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function yd(n,s,a){return Ba(s,n.child,null,a),n=pd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function e0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Lf(n.return,s,a)}function _d(n,s,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function n0(n,s,a){var l=s.pendingProps,h=l.revealOrder,d=l.tail;if(Je(n,s,l.children,a),l=Pe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&e0(n,a,s);else if(n.tag===19)e0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(st(Pe,l),h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&vc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),_d(s,!1,h,a,d);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&vc(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}_d(s,!0,a,null,d);break;case"together":_d(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function fs(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Fs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(nl(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=rs(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=rs(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function vd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ic(n)))}function q4(n,s,a){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),Os(s,ke,n.memoizedState.cache),tl();break;case 27:case 5:le(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:Os(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(s),s.flags|=128,null):(a&s.child.childLanes)!==0?t0(n,s,a):(Us(s),n=fs(n,s,a),n!==null?n.sibling:null);Us(s);break;case 19:var h=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(nl(n,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return n0(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Pe,Pe.current),l)break;return null;case 22:case 23:return s.lanes=0,Kp(n,s,a);case 24:Os(s,ke,n.memoizedState.cache)}return fs(n,s,a)}function i0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Fe=!0;else{if(!vd(n,a)&&(s.flags&128)===0)return Fe=!1,q4(n,s,a);Fe=(n.flags&131072)!==0}else Fe=!1,Xt&&(s.flags&1048576)!==0&&Ng(s,nc,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")xf(l)?(n=$r(l,n),s.tag=1,s=Jp(null,s,l,n,a)):(s.tag=0,s=fd(null,s,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===Z){s.tag=11,s=Qp(null,s,l,n,a);break t}else if(h===M){s.tag=14,s=Yp(null,s,l,n,a);break t}}throw s=Rt(l)||l,Error(r(306,s,""))}}return s;case 0:return fd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=$r(l,s.pendingProps),Jp(n,s,l,h,a);case 3:t:{if(Nt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;h=d.element,qf(n,s),ul(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Os(s,ke,l),l!==d.cache&&jf(s,[ke],a,!0),ll(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Wp(n,s,l,a);break t}else if(l!==h){h=Kn(Error(r(424)),s),el(h),s=Wp(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_e=fi(n.firstChild),pn=s,Xt=!0,qr=null,Ii=!0,a=Lp(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===h){s=fs(n,s,a);break t}Je(n,s,l,a)}s=s.child}return s;case 26:return bc(n,s),n===null?(a=o2(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xt||(a=s.type,n=s.pendingProps,l=kc(pt.current).createElement(a),l[Oe]=s,l[xe]=n,tn(l,a,n),Te(l),s.stateNode=l):s.memoizedState=o2(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return le(s),n===null&&Xt&&(l=s.stateNode=s2(s.type,s.pendingProps,pt.current),pn=s,Ii=!0,h=_e,Ks(s.type)?(Wd=h,_e=fi(l.firstChild)):_e=h),Je(n,s,s.pendingProps.children,a),bc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Xt&&((h=l=_e)&&(l=p6(l,s.type,s.pendingProps,Ii),l!==null?(s.stateNode=l,pn=s,_e=fi(l.firstChild),Ii=!1,h=!0):h=!1),h||Hr(s)),le(s),h=s.type,d=s.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Kd(h,d)?l=null:E!==null&&Kd(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=$f(n,s,O4,null,null,a),Ml._currentValue=h),bc(n,s),Je(n,s,l,a),s.child;case 6:return n===null&&Xt&&((n=a=_e)&&(a=y6(a,s.pendingProps,Ii),a!==null?(s.stateNode=a,pn=s,_e=null,n=!0):n=!1),n||Hr(s)),null;case 13:return t0(n,s,a);case 4:return Nt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Ba(s,null,l,a):Je(n,s,l,a),s.child;case 11:return Qp(n,s,s.type,s.pendingProps,a);case 7:return Je(n,s,s.pendingProps,a),s.child;case 8:return Je(n,s,s.pendingProps.children,a),s.child;case 12:return Je(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Os(s,s.type,l.value),Je(n,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Fr(s),h=an(h),l=l(h),s.flags|=1,Je(n,s,l,a),s.child;case 14:return Yp(n,s,s.type,s.pendingProps,a);case 15:return $p(n,s,s.type,s.pendingProps,a);case 19:return n0(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=wc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=rs(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Kp(n,s,a);case 24:return Fr(s),l=an(ke),n===null?(h=Uf(),h===null&&(h=oe,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:l,cache:h},zf(s),Os(s,ke,h)):((n.lanes&a)!==0&&(qf(n,s),ul(s,null,null,a),ll()),h=n.memoizedState,d=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Os(s,ke,l)):(l=d.cache,Os(s,ke,l),l!==h.cache&&jf(s,[ke],a,!0))),Je(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ds(n){n.flags|=4}function s0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!f2(s)){if(s=Wn.current,s!==null&&((Qt&4194048)===Qt?Di!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||s!==Di))throw al=Bf,zg;n.flags|=8192}}function Sc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?No():536870912,n.lanes|=s,Ga|=s)}function pl(n,s){if(!Xt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function me(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function H4(n,s,a){var l=s.pendingProps;switch(Vf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(s),null;case 1:return me(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),us(ke),ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Wo(s)?ds(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jg())),me(s),null;case 26:return a=s.memoizedState,n===null?(ds(s),a!==null?(me(s),s0(s,a)):(me(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ds(s),me(s),s0(s,a)):(me(s),s.flags&=-16777217):(n.memoizedProps!==l&&ds(s),me(s),s.flags&=-16777217),null;case 27:Ae(s),a=pt.current;var h=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return me(s),null}n=dt.current,Wo(s)?Og(s):(n=s2(h,l,a),s.stateNode=n,ds(s))}return me(s),null;case 5:if(Ae(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return me(s),null}if(n=dt.current,Wo(s))Og(s);else{switch(h=kc(pt.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Oe]=s,n[xe]=l;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=n;t:switch(tn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ds(s)}}return me(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=pt.current,Wo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,h=pn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Oe]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z0(n.nodeValue,a)),n||Hr(s)}else n=kc(n).createTextNode(l),n[Oe]=s,s.stateNode=n}return me(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Wo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Oe]=s}else tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;me(s),h=!1}else h=jg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(hs(s),s):(hs(s),null)}if(hs(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Sc(s,s.updateQueue),me(s),null;case 4:return ye(),n===null&&Gd(s.stateNode.containerInfo),me(s),null;case 10:return us(s.type),me(s),null;case 19:if(et(Pe),h=s.memoizedState,h===null)return me(s),null;if(l=(s.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(ve!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=vc(n),d!==null){for(s.flags|=128,pl(h,!1),n=d.updateQueue,s.updateQueue=n,Sc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Vg(a,n),a=a.sibling;return st(Pe,Pe.current&1|2),s.child}n=n.sibling}h.tail!==null&&It()>Rc&&(s.flags|=128,l=!0,pl(h,!1),s.lanes=4194304)}else{if(!l)if(n=vc(d),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Sc(s,n),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Xt)return me(s),null}else 2*It()-h.renderingStartTime>Rc&&a!==536870912&&(s.flags|=128,l=!0,pl(h,!1),s.lanes=4194304);h.isBackwards?(d.sibling=s.child,s.child=d):(n=h.last,n!==null?n.sibling=d:s.child=d,h.last=d)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=It(),s.sibling=null,n=Pe.current,st(Pe,l?n&1|2:n&1),s):(me(s),null);case 22:case 23:return hs(s),Qf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(me(s),s.subtreeFlags&6&&(s.flags|=8192)):me(s),a=s.updateQueue,a!==null&&Sc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&et(Qr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),us(ke),me(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function G4(n,s){switch(Vf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return us(ke),ye(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ae(s),null;case 13:if(hs(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));tl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(Pe),null;case 4:return ye(),null;case 10:return us(s.type),null;case 22:case 23:return hs(s),Qf(),n!==null&&et(Qr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return us(ke),null;case 25:return null;default:return null}}function r0(n,s){switch(Vf(s),s.tag){case 3:us(ke),ye();break;case 26:case 27:case 5:Ae(s);break;case 4:ye();break;case 13:hs(s);break;case 19:et(Pe);break;case 10:us(s.type);break;case 22:case 23:hs(s),Qf(),n!==null&&et(Qr);break;case 24:us(ke)}}function yl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){ae(s,s.return,w)}}function zs(n,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=s;var V=a,Q=w;try{Q()}catch(nt){ae(h,V,nt)}}}l=l.next}while(l!==d)}}catch(nt){ae(s,s.return,nt)}}function a0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Yg(s,a)}catch(l){ae(n,n.return,l)}}}function o0(n,s,a){a.props=$r(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ae(n,s,l)}}function _l(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){ae(n,s,h)}}function Mi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ae(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(n,s,h)}else a.current=null}function l0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ae(n,n.return,h)}}function Ed(n,s,a){try{var l=n.stateNode;h6(l,n.type,a,s),l[xe]=s}catch(h){ae(n,n.return,h)}}function u0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ks(n.type)||n.tag===4}function Td(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||u0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ks(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=jc));else if(l!==4&&(l===27&&Ks(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(bd(n,s,a),n=n.sibling;n!==null;)bd(n,s,a),n=n.sibling}function Cc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Ks(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Cc(n,s,a),n=n.sibling;n!==null;)Cc(n,s,a),n=n.sibling}function c0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);tn(s,l,a),s[Oe]=n,s[xe]=a}catch(d){ae(n,n.return,d)}}var ms=!1,we=!1,wd=!1,h0=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function F4(n,s){if(n=n.containerInfo,Yd=Hc,n=bg(n),Tf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,w=-1,V=-1,Q=0,nt=0,at=n,$=null;e:for(;;){for(var K;at!==a||h!==0&&at.nodeType!==3||(w=E+h),at!==d||l!==0&&at.nodeType!==3||(V=E+l),at.nodeType===3&&(E+=at.nodeValue.length),(K=at.firstChild)!==null;)$=at,at=K;for(;;){if(at===n)break e;if($===a&&++Q===h&&(w=E),$===d&&++nt===l&&(V=E),(K=at.nextSibling)!==null)break;at=$,$=at.parentNode}at=K}a=w===-1||V===-1?null:{start:w,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:n,selectionRange:a},Hc=!1,Qe=s;Qe!==null;)if(s=Qe,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Qe=n;else for(;Qe!==null;){switch(s=Qe,d=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ct=$r(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ct,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Tt){ae(a,a.return,Tt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Zd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Qe=n;break}Qe=s.return}}function f0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qs(n,a),l&4&&yl(5,a);break;case 1:if(qs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){ae(a,a.return,E)}else{var h=$r(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ae(a,a.return,E)}}l&64&&a0(a),l&512&&_l(a,a.return);break;case 3:if(qs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Yg(n,s)}catch(E){ae(a,a.return,E)}}break;case 27:s===null&&l&4&&c0(a);case 26:case 5:qs(n,a),s===null&&l&4&&l0(a),l&512&&_l(a,a.return);break;case 12:qs(n,a);break;case 13:qs(n,a),l&4&&g0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=t6.bind(null,a),_6(n,a))));break;case 22:if(l=a.memoizedState!==null||ms,!l){s=s!==null&&s.memoizedState!==null||we,h=ms;var d=we;ms=l,(we=s)&&!d?Hs(n,a,(a.subtreeFlags&8772)!==0):qs(n,a),ms=h,we=d}break;case 30:break;default:qs(n,a)}}function d0(n){var s=n.alternate;s!==null&&(n.alternate=null,d0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ds(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var he=null,bn=!1;function gs(n,s,a){for(a=a.child;a!==null;)m0(n,s,a),a=a.sibling}function m0(n,s,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Wt,a)}catch{}switch(a.tag){case 26:we||Mi(a,s),gs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Mi(a,s);var l=he,h=bn;Ks(a.type)&&(he=a.stateNode,bn=!1),gs(n,s,a),Rl(a.stateNode),he=l,bn=h;break;case 5:we||Mi(a,s);case 6:if(l=he,h=bn,he=null,gs(n,s,a),he=l,bn=h,he!==null)if(bn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(d){ae(a,s,d)}else try{he.removeChild(a.stateNode)}catch(d){ae(a,s,d)}break;case 18:he!==null&&(bn?(n=he,n2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ll(n)):n2(he,a.stateNode));break;case 4:l=he,h=bn,he=a.stateNode.containerInfo,bn=!0,gs(n,s,a),he=l,bn=h;break;case 0:case 11:case 14:case 15:we||zs(2,a,s),we||zs(4,a,s),gs(n,s,a);break;case 1:we||(Mi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o0(a,s,l)),gs(n,s,a);break;case 21:gs(n,s,a);break;case 22:we=(l=we)||a.memoizedState!==null,gs(n,s,a),we=l;break;default:gs(n,s,a)}}function g0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ll(n)}catch(a){ae(s,s.return,a)}}function Q4(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new h0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new h0),s;default:throw Error(r(435,n.tag))}}function Sd(n,s){var a=Q4(n);s.forEach(function(l){var h=e6.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,E=s,w=E;t:for(;w!==null;){switch(w.tag){case 27:if(Ks(w.type)){he=w.stateNode,bn=!1;break t}break;case 5:he=w.stateNode,bn=!1;break t;case 3:case 4:he=w.stateNode.containerInfo,bn=!0;break t}w=w.return}if(he===null)throw Error(r(160));m0(d,E,h),he=null,bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)p0(s,n),s=s.sibling}var hi=null;function p0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(s,n),On(n),l&4&&(zs(3,n,n.return),yl(3,n),zs(5,n,n.return));break;case 1:Nn(s,n),On(n),l&512&&(we||a===null||Mi(a,a.return)),l&64&&ms&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=hi;if(Nn(s,n),On(n),l&512&&(we||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wr]||d[Oe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Oe]=n,Te(d),l=d;break t;case"link":var E=c2("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break e}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(E=c2("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break e}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Oe]=n,Te(d),l=d}n.stateNode=l}else h2(h,n.type,n.stateNode);else n.stateNode=u2(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h2(h,n.type,n.stateNode):u2(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ed(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(s,n),On(n),l&512&&(we||a===null||Mi(a,a.return)),a!==null&&l&4&&Ed(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(s,n),On(n),l&512&&(we||a===null||Mi(a,a.return)),n.flags&32){h=n.stateNode;try{Fn(h,"")}catch(K){ae(n,n.return,K)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Ed(n,h,a!==null?a.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(Nn(s,n),On(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){ae(n,n.return,K)}}break;case 3:if(Bc=null,h=hi,hi=Pc(s.containerInfo),Nn(s,n),hi=h,On(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(s.containerInfo)}catch(K){ae(n,n.return,K)}wd&&(wd=!1,y0(n));break;case 4:l=hi,hi=Pc(n.stateNode.containerInfo),Nn(s,n),On(n),hi=l;break;case 12:Nn(s,n),On(n);break;case 13:Nn(s,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=It()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sd(n,l)));break;case 22:h=n.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,Q=ms,nt=we;if(ms=Q||h,we=nt||V,Nn(s,n),we=nt,ms=Q,On(n),l&8192)t:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||V||ms||we||Kr(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=V.stateNode;var at=V.memoizedProps.style,$=at!=null&&at.hasOwnProperty("display")?at.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){ae(V,V.return,K)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(K){ae(V,V.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(n,a))));break;case 19:Nn(s,n),On(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sd(n,l)));break;case 30:break;case 21:break;default:Nn(s,n),On(n)}}function On(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(u0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(n);Cc(n,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Fn(E,""),a.flags&=-33);var w=Td(n);Cc(n,w,E);break;case 3:case 4:var V=a.stateNode.containerInfo,Q=Td(n);bd(n,Q,V);break;default:throw Error(r(161))}}catch(nt){ae(n,n.return,nt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function y0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;y0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function qs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)f0(n,s.alternate,s),s=s.sibling}function Kr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),Kr(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&o0(s,s.return,a),Kr(s);break;case 27:Rl(s.stateNode);case 26:case 5:Mi(s,s.return),Kr(s);break;case 22:s.memoizedState===null&&Kr(s);break;case 30:Kr(s);break;default:Kr(s)}n=n.sibling}}function Hs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=n,d=s,E=d.flags;switch(d.tag){case 0:case 11:case 15:Hs(h,d,a),yl(4,d);break;case 1:if(Hs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){ae(l,l.return,Q)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)Qg(V[h],w)}catch(Q){ae(l,l.return,Q)}}a&&E&64&&a0(d),_l(d,d.return);break;case 27:c0(d);case 26:case 5:Hs(h,d,a),a&&l===null&&E&4&&l0(d),_l(d,d.return);break;case 12:Hs(h,d,a);break;case 13:Hs(h,d,a),a&&E&4&&g0(h,d);break;case 22:d.memoizedState===null&&Hs(h,d,a),_l(d,d.return);break;case 30:break;default:Hs(h,d,a)}s=s.sibling}}function Cd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&il(a))}function Ad(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&il(n))}function Vi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_0(n,s,a,l),s=s.sibling}function _0(n,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(n,s,a,l),h&2048&&yl(9,s);break;case 1:Vi(n,s,a,l);break;case 3:Vi(n,s,a,l),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&il(n)));break;case 12:if(h&2048){Vi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){ae(s,s.return,V)}}else Vi(n,s,a,l);break;case 13:Vi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,E=s.alternate,s.memoizedState!==null?d._visibility&2?Vi(n,s,a,l):vl(n,s):d._visibility&2?Vi(n,s,a,l):(d._visibility|=2,za(n,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&Cd(E,s);break;case 24:Vi(n,s,a,l),h&2048&&Ad(s.alternate,s);break;default:Vi(n,s,a,l)}}function za(n,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=n,E=s,w=a,V=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,w,V,h),yl(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&2?za(d,E,w,V,h):vl(d,E):(nt._visibility|=2,za(d,E,w,V,h)),h&&Q&2048&&Cd(E.alternate,E);break;case 24:za(d,E,w,V,h),h&&Q&2048&&Ad(E.alternate,E);break;default:za(d,E,w,V,h)}s=s.sibling}}function vl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&Cd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Ad(l.alternate,l);break;default:vl(a,l)}s=s.sibling}}var El=8192;function qa(n){if(n.subtreeFlags&El)for(n=n.child;n!==null;)v0(n),n=n.sibling}function v0(n){switch(n.tag){case 26:qa(n),n.flags&El&&n.memoizedState!==null&&M6(hi,n.memoizedState,n.memoizedProps);break;case 5:qa(n);break;case 3:case 4:var s=hi;hi=Pc(n.stateNode.containerInfo),qa(n),hi=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=El,El=16777216,qa(n),El=s):qa(n));break;default:qa(n)}}function E0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Tl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Qe=l,b0(l,n)}E0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)T0(n),n=n.sibling}function T0(n){switch(n.tag){case 0:case 11:case 15:Tl(n),n.flags&2048&&zs(9,n,n.return);break;case 3:Tl(n);break;case 12:Tl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ac(n)):Tl(n);break;default:Tl(n)}}function Ac(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Qe=l,b0(l,n)}E0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),Ac(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(s));break;default:Ac(s)}n=n.sibling}}function b0(n,s){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:zs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=n;Qe!==null;){l=Qe;var h=l.sibling,d=l.return;if(d0(l),l===a){Qe=null;break t}if(h!==null){h.return=d,Qe=h;break t}Qe=d}}}var Y4={getCacheForType:function(n){var s=an(ke),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},$4=typeof WeakMap=="function"?WeakMap:Map,te=0,oe=null,Ut=null,Qt=0,ee=0,Ln=null,Gs=!1,Ha=!1,Rd=!1,ps=0,ve=0,Fs=0,Xr=0,xd=0,ti=0,Ga=0,bl=null,wn=null,Id=!1,Dd=0,Rc=1/0,xc=null,Qs=null,We=0,Ys=null,Fa=null,Qa=0,Md=0,Vd=null,w0=null,wl=0,Nd=null;function jn(){if((te&2)!==0&&Qt!==0)return Qt&-Qt;if(X.T!==null){var n=Na;return n!==0?n:Bd()}return xs()}function S0(){ti===0&&(ti=(Qt&536870912)===0||Xt?Vo():536870912);var n=Wn.current;return n!==null&&(n.flags|=32),ti}function kn(n,s,a){(n===oe&&(ee===2||ee===9)||n.cancelPendingCommit!==null)&&(Ya(n,0),$s(n,Qt,ti,!1)),$i(n,a),((te&2)===0||n!==oe)&&(n===oe&&((te&2)===0&&(Xr|=a),ve===4&&$s(n,Qt,ti,!1)),Ni(n))}function C0(n,s,a){if((te&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||br(n,s),h=l?Z4(n,s):jd(n,s,!0),d=l;do{if(h===0){Ha&&!l&&$s(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!K4(a)){h=jd(n,s,!1),d=!1;continue}if(h===2){if(d=s,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var w=n;h=bl;var V=w.current.memoizedState.isDehydrated;if(V&&(Ya(w,E).flags|=256),E=jd(w,E,!1),E!==2){if(Rd&&!V){w.errorRecoveryDisabledLanes|=d,Xr|=d,h=4;break t}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ya(n,0),$s(n,s,0,!0);break}t:{switch(l=n,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$s(l,s,ti,!Gs);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Dd+300-It(),10<h)){if($s(l,s,ti,!Gs),ca(l,0,!0)!==0)break t;l.timeoutHandle=t2(A0.bind(null,l,a,wn,xc,Id,s,ti,Xr,Ga,Gs,d,2,-0,0),h);break t}A0(l,a,wn,xc,Id,s,ti,Xr,Ga,Gs,d,0,-0,0)}}break}while(!0);Ni(n)}function A0(n,s,a,l,h,d,E,w,V,Q,nt,at,$,K){if(n.timeoutHandle=-1,at=s.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:D6},v0(s),at=V6(),at!==null)){n.cancelPendingCommit=at(N0.bind(null,n,s,d,a,l,h,E,w,V,nt,1,$,K)),$s(n,d,E,!Q);return}N0(n,s,d,a,l,h,E,w,V)}function K4(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Mn(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(n,s,a,l){s&=~xd,s&=~Xr,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var h=s;0<h;){var d=31-Ee(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&_i(n,a,s)}function Ic(){return(te&6)===0?(Sl(0),!1):!0}function Od(){if(Ut!==null){if(ee===0)var n=Ut.return;else n=Ut,ls=Gr=null,Zf(n),Ua=null,ml=0,n=Ut;for(;n!==null;)r0(n.alternate,n),n=n.return;Ut=null}}function Ya(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,d6(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Od(),oe=n,Ut=a=rs(n.current,null),Qt=s,ee=0,Ln=null,Gs=!1,Ha=br(n,s),Rd=!1,Ga=ti=xd=Xr=Fs=ve=0,wn=bl=null,Id=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var h=31-Ee(l),d=1<<h;s|=n[h],l&=~d}return ps=s,Zu(),a}function R0(n,s){jt=null,X.H=pc,s===rl||s===ac?(s=Gg(),ee=3):s===zg?(s=Gg(),ee=4):ee=s===Fp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Ut===null&&(ve=1,Tc(n,Kn(s,n.current)))}function x0(){var n=X.H;return X.H=pc,n===null?pc:n}function I0(){var n=X.A;return X.A=Y4,n}function Ld(){ve=4,Gs||(Qt&4194048)!==Qt&&Wn.current!==null||(Ha=!0),(Fs&134217727)===0&&(Xr&134217727)===0||oe===null||$s(oe,Qt,ti,!1)}function jd(n,s,a){var l=te;te|=2;var h=x0(),d=I0();(oe!==n||Qt!==s)&&(xc=null,Ya(n,s)),s=!1;var E=ve;t:do try{if(ee!==0&&Ut!==null){var w=Ut,V=Ln;switch(ee){case 8:Od(),E=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var Q=ee;if(ee=0,Ln=null,$a(n,w,V,Q),a&&Ha){E=0;break t}break;default:Q=ee,ee=0,Ln=null,$a(n,w,V,Q)}}X4(),E=ve;break}catch(nt){R0(n,nt)}while(!0);return s&&n.shellSuspendCounter++,ls=Gr=null,te=l,X.H=h,X.A=d,Ut===null&&(oe=null,Qt=0,Zu()),E}function X4(){for(;Ut!==null;)D0(Ut)}function Z4(n,s){var a=te;te|=2;var l=x0(),h=I0();oe!==n||Qt!==s?(xc=null,Rc=It()+500,Ya(n,s)):Ha=br(n,s);t:do try{if(ee!==0&&Ut!==null){s=Ut;var d=Ln;e:switch(ee){case 1:ee=0,Ln=null,$a(n,s,d,1);break;case 2:case 9:if(qg(d)){ee=0,Ln=null,M0(s);break}s=function(){ee!==2&&ee!==9||oe!==n||(ee=7),Ni(n)},d.then(s,s);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:qg(d)?(ee=0,Ln=null,M0(s)):(ee=0,Ln=null,$a(n,s,d,7));break;case 5:var E=null;switch(Ut.tag){case 26:E=Ut.memoizedState;case 5:case 27:var w=Ut;if(!E||f2(E)){ee=0,Ln=null;var V=w.sibling;if(V!==null)Ut=V;else{var Q=w.return;Q!==null?(Ut=Q,Dc(Q)):Ut=null}break e}}ee=0,Ln=null,$a(n,s,d,5);break;case 6:ee=0,Ln=null,$a(n,s,d,6);break;case 8:Od(),ve=6;break t;default:throw Error(r(462))}}J4();break}catch(nt){R0(n,nt)}while(!0);return ls=Gr=null,X.H=l,X.A=h,te=a,Ut!==null?0:(oe=null,Qt=0,Zu(),ve)}function J4(){for(;Ut!==null&&!zn();)D0(Ut)}function D0(n){var s=i0(n.alternate,n,ps);n.memoizedProps=n.pendingProps,s===null?Dc(n):Ut=s}function M0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Zp(a,s,s.pendingProps,s.type,void 0,Qt);break;case 11:s=Zp(a,s,s.pendingProps,s.type.render,s.ref,Qt);break;case 5:Zf(s);default:r0(a,s),s=Ut=Vg(s,ps),s=i0(a,s,ps)}n.memoizedProps=n.pendingProps,s===null?Dc(n):Ut=s}function $a(n,s,a,l){ls=Gr=null,Zf(s),Ua=null,ml=0;var h=s.return;try{if(z4(n,h,s,a,Qt)){ve=1,Tc(n,Kn(a,n.current)),Ut=null;return}}catch(d){if(h!==null)throw Ut=h,d;ve=1,Tc(n,Kn(a,n.current)),Ut=null;return}s.flags&32768?(Xt||l===1?n=!0:Ha||(Qt&536870912)!==0?n=!1:(Gs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V0(s,n)):Dc(s)}function Dc(n){var s=n;do{if((s.flags&32768)!==0){V0(s,Gs);return}n=s.return;var a=H4(s.alternate,s,ps);if(a!==null){Ut=a;return}if(s=s.sibling,s!==null){Ut=s;return}Ut=s=n}while(s!==null);ve===0&&(ve=5)}function V0(n,s){do{var a=G4(n.alternate,n);if(a!==null){a.flags&=32767,Ut=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ut=n;return}Ut=n=a}while(n!==null);ve=6,Ut=null}function N0(n,s,a,l,h,d,E,w,V){n.cancelPendingCommit=null;do Mc();while(We!==0);if((te&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Af,Oo(n,a,d,E,w,V),n===oe&&(Ut=oe=null,Qt=0),Fa=s,Ys=n,Qa=a,Md=d,Vd=h,w0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,n6(rn,function(){return P0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=lt.p,lt.p=2,E=te,te|=4;try{F4(n,s,a)}finally{te=E,lt.p=h,X.T=l}}We=1,O0(),L0(),j0()}}function O0(){if(We===1){We=0;var n=Ys,s=Fa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=lt.p;lt.p=2;var h=te;te|=4;try{p0(s,n);var d=$d,E=bg(n.containerInfo),w=d.focusedElem,V=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&Tg(w.ownerDocument.documentElement,w)){if(V!==null&&Tf(w)){var Q=V.start,nt=V.end;if(nt===void 0&&(nt=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(nt,w.value.length);else{var at=w.ownerDocument||document,$=at&&at.defaultView||window;if($.getSelection){var K=$.getSelection(),Ct=w.textContent.length,Tt=Math.min(V.start,Ct),re=V.end===void 0?Tt:Math.min(V.end,Ct);!K.extend&&Tt>re&&(E=re,re=Tt,Tt=E);var z=Eg(w,Tt),U=Eg(w,re);if(z&&U&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var G=at.createRange();G.setStart(z.node,z.offset),K.removeAllRanges(),Tt>re?(K.addRange(G),K.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),K.addRange(G))}}}}for(at=[],K=w;K=K.parentNode;)K.nodeType===1&&at.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<at.length;w++){var rt=at[w];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Hc=!!Yd,$d=Yd=null}finally{te=h,lt.p=l,X.T=a}}n.current=s,We=2}}function L0(){if(We===2){We=0;var n=Ys,s=Fa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=lt.p;lt.p=2;var h=te;te|=4;try{f0(n,s.alternate,s)}finally{te=h,lt.p=l,X.T=a}}We=3}}function j0(){if(We===4||We===3){We=0,vn();var n=Ys,s=Fa,a=Qa,l=w0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?We=5:(We=0,Fa=Ys=null,k0(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Qs=null),ha(a),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Wt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,h=lt.p,lt.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{X.T=s,lt.p=h}}(Qa&3)!==0&&Mc(),Ni(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Nd?wl++:(wl=0,Nd=n):wl=0,Sl(0)}}function k0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,il(s)))}function Mc(n){return O0(),L0(),j0(),P0()}function P0(){if(We!==5)return!1;var n=Ys,s=Md;Md=0;var a=ha(Qa),l=X.T,h=lt.p;try{lt.p=32>a?32:a,X.T=null,a=Vd,Vd=null;var d=Ys,E=Qa;if(We=0,Fa=Ys=null,Qa=0,(te&6)!==0)throw Error(r(331));var w=te;if(te|=4,T0(d.current),_0(d,d.current,E,a),te=w,Sl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Wt,d)}catch{}return!0}finally{lt.p=h,X.T=l,k0(n,s)}}function U0(n,s,a){s=Kn(a,s),s=hd(n.stateNode,s,2),n=ks(n,s,2),n!==null&&($i(n,2),Ni(n))}function ae(n,s,a){if(n.tag===3)U0(n,n,a);else for(;s!==null;){if(s.tag===3){U0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){n=Kn(a,n),a=Hp(2),l=ks(s,a,2),l!==null&&(Gp(a,l,s,n),$i(l,2),Ni(l));break}}s=s.return}}function kd(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new $4;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(Rd=!0,h.add(a),n=W4.bind(null,n,s,a),s.then(n,n))}function W4(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,oe===n&&(Qt&a)===a&&(ve===4||ve===3&&(Qt&62914560)===Qt&&300>It()-Dd?(te&2)===0&&Ya(n,0):xd|=a,Ga===Qt&&(Ga=0)),Ni(n)}function B0(n,s){s===0&&(s=No()),n=Ia(n,s),n!==null&&($i(n,s),Ni(n))}function t6(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),B0(n,a)}function e6(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),B0(n,a)}function n6(n,s){return _n(n,s)}var Vc=null,Ka=null,Pd=!1,Nc=!1,Ud=!1,Zr=0;function Ni(n){n!==Ka&&n.next===null&&(Ka===null?Vc=Ka=n:Ka=Ka.next=n),Nc=!0,Pd||(Pd=!0,s6())}function Sl(n,s){if(!Ud&&Nc){Ud=!0;do for(var a=!1,l=Vc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Ee(42|n)+1)-1,d&=h&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,G0(l,d))}else d=Qt,d=ca(l,l===oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||br(l,d)||(a=!0,G0(l,d));l=l.next}while(a);Ud=!1}}function i6(){z0()}function z0(){Nc=Pd=!1;var n=0;Zr!==0&&(f6()&&(n=Zr),Zr=0);for(var s=It(),a=null,l=Vc;l!==null;){var h=l.next,d=q0(l,s);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Ka=a)):(a=l,(n!==0||(d&3)!==0)&&(Nc=!0)),l=h}Sl(n)}function q0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Ee(d),w=1<<E,V=h[E];V===-1?((w&a)===0||(w&l)!==0)&&(h[E]=Mo(w,s)):V<=s&&(n.expiredLanes|=w),d&=~w}if(s=oe,a=Qt,a=ca(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(ee===2||ee===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&fn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||br(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&fn(l),ha(a)){case 2:case 8:a=En;break;case 32:a=rn;break;case 268435456:a=xn;break;default:a=rn}return l=H0.bind(null,n),a=_n(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&fn(l),n.callbackPriority=2,n.callbackNode=null,2}function H0(n,s){if(We!==0&&We!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Mc()&&n.callbackNode!==a)return null;var l=Qt;return l=ca(n,n===oe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(C0(n,l,s),q0(n,It()),n.callbackNode!=null&&n.callbackNode===a?H0.bind(null,n):null)}function G0(n,s){if(Mc())return null;C0(n,s,!0)}function s6(){m6(function(){(te&6)!==0?_n(qn,i6):z0()})}function Bd(){return Zr===0&&(Zr=Vo()),Zr}function F0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ya(""+n)}function Q0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function r6(n,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var d=F0((h[xe]||null).action),E=l.submitter;E&&(s=(s=E[xe]||null)?F0(s.formAction):E.getAttribute("formAction"),s!==null&&(d=s,E=null));var w=new _a("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var V=E?Q0(h,E):new FormData(h);ad(a,{pending:!0,data:V,method:h.method,action:d},null,V)}}else typeof d=="function"&&(w.preventDefault(),V=E?Q0(h,E):new FormData(h),ad(a,{pending:!0,data:V,method:h.method,action:d},d,V))},currentTarget:h}]})}}for(var zd=0;zd<Cf.length;zd++){var qd=Cf[zd],a6=qd.toLowerCase(),o6=qd[0].toUpperCase()+qd.slice(1);ci(a6,"on"+o6)}ci(Cg,"onAnimationEnd"),ci(Ag,"onAnimationIteration"),ci(Rg,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(S4,"onTransitionRun"),ci(C4,"onTransitionStart"),ci(A4,"onTransitionCancel"),ci(xg,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Y0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var E=l.length-1;0<=E;E--){var w=l[E],V=w.instance,Q=w.currentTarget;if(w=w.listener,V!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=Q;try{d(h)}catch(nt){Ec(nt)}h.currentTarget=null,d=V}else for(E=0;E<l.length;E++){if(w=l[E],V=w.instance,Q=w.currentTarget,w=w.listener,V!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=Q;try{d(h)}catch(nt){Ec(nt)}h.currentTarget=null,d=V}}}}function Bt(n,s){var a=s[jo];a===void 0&&(a=s[jo]=new Set);var l=n+"__bubble";a.has(l)||($0(s,n,2,!1),a.add(l))}function Hd(n,s,a){var l=0;s&&(l|=4),$0(a,n,l,s)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[Oc]){n[Oc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(l6.has(a)||Hd(a,!1,n),Hd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Oc]||(s[Oc]=!0,Hd("selectionchange",!1,s))}}function $0(n,s,a,l){switch(_2(s)){case 2:var h=L6;break;case 8:h=j6;break;default:h=s1}a=h.bind(null,s,a,n),h=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function Fd(n,s,a,l,h){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=Ki(w),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){l=d=E;continue t}w=w.parentNode}}l=l.return}ju(function(){var Q=d,nt=Qn(a),at=[];t:{var $=Ig.get(n);if($!==void 0){var K=_a,Ct=n;switch(n){case"keypress":if(Si(a)===0)break t;case"keydown":case"keyup":K=Sa;break;case"focusin":Ct="focus",K=Ta;break;case"focusout":Ct="blur",K=Ta;break;case"beforeblur":case"afterblur":K=Ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Gu;break;case Cg:case Ag:case Rg:K=ba;break;case xg:K=Qu;break;case"scroll":case"scrollend":K=ku;break;case"wheel":K=Ca;break;case"copy":case"cut":case"paste":K=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ko;break;case"toggle":case"beforetoggle":K=$u}var Tt=(s&4)!==0,re=!Tt&&(n==="scroll"||n==="scrollend"),z=Tt?$!==null?$+"Capture":null:$;Tt=[];for(var U=Q,G;U!==null;){var rt=U;if(G=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||G===null||z===null||(rt=Dr(U,z),rt!=null&&Tt.push(Al(U,rt,G))),re)break;U=U.return}0<Tt.length&&($=new K($,Ct,null,a,nt),at.push({event:$,listeners:Tt}))}}if((s&7)===0){t:{if($=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",$&&a!==Wi&&(Ct=a.relatedTarget||a.fromElement)&&(Ki(Ct)||Ct[Gn]))break t;if((K||$)&&($=nt.window===nt?nt:($=nt.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ct=a.relatedTarget||a.toElement,K=Q,Ct=Ct?Ki(Ct):null,Ct!==null&&(re=u(Ct),Tt=Ct.tag,Ct!==re||Tt!==5&&Tt!==27&&Tt!==6)&&(Ct=null)):(K=null,Ct=Q),K!==Ct)){if(Tt=$n,rt="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Tt=Ko,rt="onPointerLeave",z="onPointerEnter",U="pointer"),re=K==null?$:Ei(K),G=Ct==null?$:Ei(Ct),$=new Tt(rt,U+"leave",K,a,nt),$.target=re,$.relatedTarget=G,rt=null,Ki(nt)===Q&&(Tt=new Tt(z,U+"enter",Ct,a,nt),Tt.target=G,Tt.relatedTarget=re,rt=Tt),re=rt,K&&Ct)e:{for(Tt=K,z=Ct,U=0,G=Tt;G;G=Xa(G))U++;for(G=0,rt=z;rt;rt=Xa(rt))G++;for(;0<U-G;)Tt=Xa(Tt),U--;for(;0<G-U;)z=Xa(z),G--;for(;U--;){if(Tt===z||z!==null&&Tt===z.alternate)break e;Tt=Xa(Tt),z=Xa(z)}Tt=null}else Tt=null;K!==null&&K0(at,$,K,Tt,!1),Ct!==null&&re!==null&&K0(at,re,Ct,Tt,!0)}}t:{if($=Q?Ei(Q):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var gt=mg;else if(je($))if(gg)gt=T4;else{gt=v4;var Pt=_4}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&qo(Q.elementType)&&(gt=mg):gt=E4;if(gt&&(gt=gt(n,Q))){ss(at,gt,a,nt);break t}Pt&&Pt(n,$,Q),n==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&Vs($,"number",$.value)}switch(Pt=Q?Ei(Q):window,n){case"focusin":(je(Pt)||Pt.contentEditable==="true")&&(Aa=Pt,bf=Q,Jo=null);break;case"focusout":Jo=bf=Aa=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,wg(at,a,nt);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":wg(at,a,nt)}var _t;if(Ri)t:{switch(n){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Gt?tt(n,a)&&(wt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(v&&a.locale!=="ko"&&(Gt||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Gt&&(_t=Go()):(wi=nt,Ns="value"in wi?wi.value:wi.textContent,Gt=!0)),Pt=Lc(Q,wt),0<Pt.length&&(wt=new Yo(wt,n,null,a,nt),at.push({event:wt,listeners:Pt}),_t?wt.data=_t:(_t=ht(a),_t!==null&&(wt.data=_t)))),(_t=y?Le(n,a):Ft(n,a))&&(wt=Lc(Q,"onBeforeInput"),0<wt.length&&(Pt=new Yo("onBeforeInput","beforeinput",null,a,nt),at.push({event:Pt,listeners:wt}),Pt.data=_t)),r6(at,n,Q,a,nt)}Y0(at,s)})}function Al(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Lc(n,s){for(var a=s+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Dr(n,a),h!=null&&l.unshift(Al(n,h,d)),h=Dr(n,s),h!=null&&l.push(Al(n,h,d))),n.tag===3)return l;n=n.return}return[]}function Xa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function K0(n,s,a,l,h){for(var d=s._reactName,E=[];a!==null&&a!==l;){var w=a,V=w.alternate,Q=w.stateNode;if(w=w.tag,V!==null&&V===l)break;w!==5&&w!==26&&w!==27||Q===null||(V=Q,h?(Q=Dr(a,d),Q!=null&&E.unshift(Al(a,Q,V))):h||(Q=Dr(a,d),Q!=null&&E.push(Al(a,Q,V)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var u6=/\r\n?/g,c6=/\u0000|\uFFFD/g;function X0(n){return(typeof n=="string"?n:""+n).replace(u6,`
`).replace(c6,"")}function Z0(n,s){return s=X0(s),X0(n)===s}function jc(){}function se(n,s,a,l,h,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Fn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Fn(n,""+l);break;case"className":Ti(n,"class",l);break;case"tabIndex":Ti(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(n,a,l);break;case"style":zo(n,l,d);break;case"data":if(s!=="object"){Ti(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ya(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&se(n,s,"name",h.name,h,null),se(n,s,"formEncType",h.formEncType,h,null),se(n,s,"formMethod",h.formMethod,h,null),se(n,s,"formTarget",h.formTarget,h,null)):(se(n,s,"encType",h.encType,h,null),se(n,s,"method",h.method,h,null),se(n,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ya(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=jc);break;case"onScroll":l!=null&&Bt("scroll",n);break;case"onScrollEnd":l!=null&&Bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ya(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Bt("beforetoggle",n),Bt("toggle",n),Ms(n,"popover",l);break;case"xlinkActuate":Xe(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xe(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xe(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xe(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xe(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xe(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xe(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ms(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,Ms(n,a,l))}}function Qd(n,s,a,l,h,d){switch(a){case"style":zo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Fn(n,l):(typeof l=="number"||typeof l=="bigint")&&Fn(n,""+l);break;case"onScroll":l!=null&&Bt("scroll",n);break;case"onScrollEnd":l!=null&&Bt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=n[xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ms(n,a,l)}}}function tn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",n),Bt("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:se(n,s,d,E,a,null)}}h&&se(n,s,"srcSet",a.srcSet,a,null),l&&se(n,s,"src",a.src,a,null);return;case"input":Bt("invalid",n);var w=d=E=h=null,V=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var nt=a[l];if(nt!=null)switch(l){case"name":h=nt;break;case"type":E=nt;break;case"checked":V=nt;break;case"defaultChecked":Q=nt;break;case"value":d=nt;break;case"defaultValue":w=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,s));break;default:se(n,s,l,nt,a,null)}}Rr(n,d,w,V,Q,E,h,!1),pa(n);return;case"select":Bt("invalid",n),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:se(n,s,h,w,a,null)}s=d,a=E,n.multiple=!!l,s!=null?Ji(n,!!l,s,!1):a!=null&&Ji(n,!!l,a,!0);return;case"textarea":Bt("invalid",n),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:se(n,s,E,w,a,null)}xr(n,l,h,d),pa(n);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(n,s,V,l,a,null)}return;case"dialog":Bt("beforetoggle",n),Bt("toggle",n),Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":Bt("load",n);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Bt(Cl[l],n);break;case"image":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"embed":case"source":case"link":Bt("error",n),Bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:se(n,s,Q,l,a,null)}return;default:if(qo(s)){for(nt in a)a.hasOwnProperty(nt)&&(l=a[nt],l!==void 0&&Qd(n,s,nt,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&se(n,s,w,l,a,null))}function h6(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,V=null,Q=null,nt=null;for(K in a){var at=a[K];if(a.hasOwnProperty(K)&&at!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":V=at;default:l.hasOwnProperty(K)||se(n,s,K,null,l,at)}}for(var $ in l){var K=l[$];if(at=a[$],l.hasOwnProperty($)&&(K!=null||at!=null))switch($){case"type":d=K;break;case"name":h=K;break;case"checked":Q=K;break;case"defaultChecked":nt=K;break;case"value":E=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==at&&se(n,s,$,K,l,at)}}Dn(n,E,w,V,Q,nt,d,h);return;case"select":K=E=w=$=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":K=V;default:l.hasOwnProperty(d)||se(n,s,d,null,l,V)}for(h in l)if(d=l[h],V=a[h],l.hasOwnProperty(h)&&(d!=null||V!=null))switch(h){case"value":$=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==V&&se(n,s,h,d,l,V)}s=w,a=E,l=K,$!=null?Ji(n,!!a,$,!1):!!l!=!!a&&(s!=null?Ji(n,!!a,s,!0):Ji(n,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(n,s,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&se(n,s,E,h,l,d)}ne(n,$,K);return;case"option":for(var Ct in a)if($=a[Ct],a.hasOwnProperty(Ct)&&$!=null&&!l.hasOwnProperty(Ct))switch(Ct){case"selected":n.selected=!1;break;default:se(n,s,Ct,null,l,$)}for(V in l)if($=l[V],K=a[V],l.hasOwnProperty(V)&&$!==K&&($!=null||K!=null))switch(V){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:se(n,s,V,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)$=a[Tt],a.hasOwnProperty(Tt)&&$!=null&&!l.hasOwnProperty(Tt)&&se(n,s,Tt,null,l,$);for(Q in l)if($=l[Q],K=a[Q],l.hasOwnProperty(Q)&&$!==K&&($!=null||K!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:se(n,s,Q,$,l,K)}return;default:if(qo(s)){for(var re in a)$=a[re],a.hasOwnProperty(re)&&$!==void 0&&!l.hasOwnProperty(re)&&Qd(n,s,re,void 0,l,$);for(nt in l)$=l[nt],K=a[nt],!l.hasOwnProperty(nt)||$===K||$===void 0&&K===void 0||Qd(n,s,nt,$,l,K);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&se(n,s,z,null,l,$);for(at in l)$=l[at],K=a[at],!l.hasOwnProperty(at)||$===K||$==null&&K==null||se(n,s,at,$,l,K)}var Yd=null,$d=null;function kc(n){return n.nodeType===9?n:n.ownerDocument}function J0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Kd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xd=null;function f6(){var n=window.event;return n&&n.type==="popstate"?n===Xd?!1:(Xd=n,!0):(Xd=null,!1)}var t2=typeof setTimeout=="function"?setTimeout:void 0,d6=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,m6=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(n){return e2.resolve(null).then(n).catch(g6)}:t2;function g6(n){setTimeout(function(){throw n})}function Ks(n){return n==="head"}function n2(n,s){var a=s,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Rl(E.documentElement),a&2&&Rl(E.body),a&4)for(a=E.head,Rl(a),E=a.firstChild;E;){var w=E.nextSibling,V=E.nodeName;E[wr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(h===0){n.removeChild(d),Ll(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ll(s)}function Zd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function p6(n,s,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[wr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=fi(n.nextSibling),n===null)break}return null}function y6(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=fi(n.nextSibling),n===null))return null;return n}function Jd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function _6(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function fi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Wd=null;function i2(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function s2(n,s,a){switch(s=kc(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Rl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ds(n)}var ei=new Map,r2=new Set;function Pc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ys=lt.d;lt.d={f:v6,r:E6,D:T6,C:b6,L:w6,m:S6,X:A6,S:C6,M:R6};function v6(){var n=ys.f(),s=Ic();return n||s}function E6(n){var s=vi(n);s!==null&&s.tag===5&&s.type==="form"?Cp(s):ys.r(n)}var Za=typeof document>"u"?null:document;function a2(n,s,a){var l=Za;if(l&&typeof s=="string"&&s){var h=Ie(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r2.has(h)||(r2.add(h),n={rel:n,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),tn(s,"link",n),Te(s),l.head.appendChild(s)))}}function T6(n){ys.D(n),a2("dns-prefetch",n,null)}function b6(n,s){ys.C(n,s),a2("preconnect",n,s)}function w6(n,s,a){ys.L(n,s,a);var l=Za;if(l&&n&&s){var h='link[rel="preload"][as="'+Ie(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ie(a.imageSizes)+'"]')):h+='[href="'+Ie(n)+'"]';var d=h;switch(s){case"style":d=Ja(n);break;case"script":d=Wa(n)}ei.has(d)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),ei.set(d,n),l.querySelector(h)!==null||s==="style"&&l.querySelector(xl(d))||s==="script"&&l.querySelector(Il(d))||(s=l.createElement("link"),tn(s,"link",n),Te(s),l.head.appendChild(s)))}}function S6(n,s){ys.m(n,s);var a=Za;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Ie(l)+'"][href="'+Ie(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(n)}if(!ei.has(d)&&(n=_({rel:"modulepreload",href:n},s),ei.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),tn(l,"link",n),Te(l),a.head.appendChild(l)}}}function C6(n,s,a){ys.S(n,s,a);var l=Za;if(l&&n){var h=dn(l).hoistableStyles,d=Ja(n);s=s||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(xl(d)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=ei.get(d))&&t1(n,a);var V=E=l.createElement("link");Te(V),tn(V,"link",n),V._p=new Promise(function(Q,nt){V.onload=Q,V.onerror=nt}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Uc(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function A6(n,s){ys.X(n,s);var a=Za;if(a&&n){var l=dn(a).hoistableScripts,h=Wa(n),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(n=_({src:n,async:!0},s),(s=ei.get(h))&&e1(n,s),d=a.createElement("script"),Te(d),tn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function R6(n,s){ys.M(n,s);var a=Za;if(a&&n){var l=dn(a).hoistableScripts,h=Wa(n),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(n=_({src:n,async:!0,type:"module"},s),(s=ei.get(h))&&e1(n,s),d=a.createElement("script"),Te(d),tn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o2(n,s,a,l){var h=(h=pt.current)?Pc(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=dn(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ja(a.href);var d=dn(h).hoistableStyles,E=d.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=h.querySelector(xl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),ei.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(n,a),d||x6(h,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=dn(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ja(n){return'href="'+Ie(n)+'"'}function xl(n){return'link[rel="stylesheet"]['+n+"]"}function l2(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function x6(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),tn(s,"link",a),Te(s),n.head.appendChild(s))}function Wa(n){return'[src="'+Ie(n)+'"]'}function Il(n){return"script[async]"+n}function u2(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Ie(a.href)+'"]');if(l)return s.instance=l,Te(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Te(l),tn(l,"style",h),Uc(l,a.precedence,n),s.instance=l;case"stylesheet":h=Ja(a.href);var d=n.querySelector(xl(h));if(d)return s.state.loading|=4,s.instance=d,Te(d),d;l=l2(a),(h=ei.get(h))&&t1(l,h),d=(n.ownerDocument||n).createElement("link"),Te(d);var E=d;return E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),tn(d,"link",l),s.state.loading|=4,Uc(d,a.precedence,n),s.instance=d;case"script":return d=Wa(a.src),(h=n.querySelector(Il(d)))?(s.instance=h,Te(h),h):(l=a,(h=ei.get(d))&&(l=_({},a),e1(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Te(h),tn(h,"link",l),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Uc(l,a.precedence,n));return s.instance}function Uc(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===s)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function t1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function e1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Bc=null;function c2(n,s,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[wr]||d[Oe]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(s)||"";E=n+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function h2(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function I6(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Dl=null;function D6(){}function M6(n,s,a){if(Dl===null)throw Error(r(475));var l=Dl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ja(a.href),d=n.querySelector(xl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=zc.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=d,Te(d);return}d=n.ownerDocument||n,a=l2(a),(h=ei.get(h))&&t1(a,h),d=d.createElement("link"),Te(d);var E=d;E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),tn(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=zc.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function V6(){if(Dl===null)throw Error(r(475));var n=Dl;return n.stylesheets&&n.count===0&&n1(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&n1(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)n1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qc=null;function n1(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qc=new Map,s.forEach(N6,n),qc=null,zc.call(n))}function N6(n,s){if(!(s.state.loading&4)){var a=qc.get(n);if(a)var l=a.get(null);else{a=new Map,qc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=s.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var Ml={$$typeof:F,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function O6(n,s,a,l,h,d,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function d2(n,s,a,l,h,d,E,w,V,Q,nt,at){return n=new O6(n,s,a,E,w,V,Q,at),s=1,d===!0&&(s|=24),d=Vn(3,null,null,s),n.current=d,d.stateNode=n,s=kf(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},zf(d),n}function m2(n){return n?(n=Da,n):Da}function g2(n,s,a,l,h,d){h=m2(h),l.context===null?l.context=h:l.pendingContext=h,l=js(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ks(n,l,s),a!==null&&(kn(a,n,s),ol(a,n,s))}function p2(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function i1(n,s){p2(n,s),(n=n.alternate)&&p2(n,s)}function y2(n){if(n.tag===13){var s=Ia(n,67108864);s!==null&&kn(s,n,67108864),i1(n,67108864)}}var Hc=!0;function L6(n,s,a,l){var h=X.T;X.T=null;var d=lt.p;try{lt.p=2,s1(n,s,a,l)}finally{lt.p=d,X.T=h}}function j6(n,s,a,l){var h=X.T;X.T=null;var d=lt.p;try{lt.p=8,s1(n,s,a,l)}finally{lt.p=d,X.T=h}}function s1(n,s,a,l){if(Hc){var h=r1(l);if(h===null)Fd(n,s,l,Gc,a),v2(n,l);else if(P6(h,n,s,a,l))l.stopPropagation();else if(v2(n,l),s&4&&-1<k6.indexOf(n)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=oi(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var V=1<<31-Ee(E);w.entanglements[1]|=V,E&=~V}Ni(d),(te&6)===0&&(Rc=It()+500,Sl(0))}}break;case 13:w=Ia(d,2),w!==null&&kn(w,d,2),Ic(),i1(d,2)}if(d=r1(l),d===null&&Fd(n,s,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fd(n,s,l,null,a)}}function r1(n){return n=Qn(n),a1(n)}var Gc=null;function a1(n){if(Gc=null,n=Ki(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Gc=n,null}function _2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case qn:return 2;case En:return 8;case rn:case yi:return 32;case xn:return 268435456;default:return 32}default:return 32}}var o1=!1,Xs=null,Zs=null,Js=null,Vl=new Map,Nl=new Map,Ws=[],k6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v2(n,s){switch(n){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(s.pointerId)}}function Ol(n,s,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},s!==null&&(s=vi(s),s!==null&&y2(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function P6(n,s,a,l,h){switch(s){case"focusin":return Xs=Ol(Xs,n,s,a,l,h),!0;case"dragenter":return Zs=Ol(Zs,n,s,a,l,h),!0;case"mouseover":return Js=Ol(Js,n,s,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ol(Vl.get(d)||null,n,s,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,n,s,a,l,h)),!0}return!1}function E2(n){var s=Ki(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){n.blockedOn=s,Iu(n.priority,function(){if(a.tag===13){var l=jn();l=Rs(l);var h=Ia(a,l);h!==null&&kn(h,a,l),i1(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=r1(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Wi=l,a.target.dispatchEvent(l),Wi=null}else return s=vi(a),s!==null&&y2(s),n.blockedOn=a,!1;s.shift()}return!0}function T2(n,s,a){Fc(n)&&a.delete(s)}function U6(){o1=!1,Xs!==null&&Fc(Xs)&&(Xs=null),Zs!==null&&Fc(Zs)&&(Zs=null),Js!==null&&Fc(Js)&&(Js=null),Vl.forEach(T2),Nl.forEach(T2)}function Qc(n,s){n.blockedOn===s&&(n.blockedOn=null,o1||(o1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,U6)))}var Yc=null;function b2(n){Yc!==n&&(Yc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],h=n[s+2];if(typeof l!="function"){if(a1(l||a)===null)continue;break}var d=vi(a);d!==null&&(n.splice(s,3),s-=3,ad(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ll(n){function s(V){return Qc(V,n)}Xs!==null&&Qc(Xs,n),Zs!==null&&Qc(Zs,n),Js!==null&&Qc(Js,n),Vl.forEach(s),Nl.forEach(s);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)E2(a),a.blockedOn===null&&Ws.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[xe]||null;if(typeof d=="function")E||b2(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[xe]||null)w=E.formAction;else if(a1(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),b2(a)}}}function l1(n){this._internalRoot=n}$c.prototype.render=l1.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=jn();g2(a,l,n,s,null,null)},$c.prototype.unmount=l1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;g2(n.current,2,null,n,null,null),Ic(),s[Gn]=null}};function $c(n){this._internalRoot=n}$c.prototype.unstable_scheduleHydration=function(n){if(n){var s=xs();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ws.length&&s!==0&&s<Ws[a].priority;a++);Ws.splice(a,0,n),a===0&&E2(n)}};var w2=t.version;if(w2!=="19.1.0")throw Error(r(527,w2,"19.1.0"));lt.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var B6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Wt=Kc.inject(B6),zt=Kc}catch{}}return kl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",h=Up,d=Bp,E=zp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=d2(n,1,!1,null,null,a,l,h,d,E,w,null),n[Gn]=s.current,Gd(n),new l1(s)},kl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,h="",d=Up,E=Bp,w=zp,V=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),s=d2(n,1,!0,s,a??null,l,h,d,E,w,V,Q),s.context=m2(null),a=s.current,l=jn(),l=Rs(l),h=js(l),h.callback=null,ks(a,h,l),a=l,s.current.lanes=a,$i(s,a),Ni(s),n[Gn]=s.current,Gd(n),new $c(s)},kl.version="19.1.0",kl}var N2;function X6(){if(N2)return h1.exports;N2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),h1.exports=K6(),h1.exports}var Z6=X6(),g1={exports:{}},p1={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function J6(){if(O2)return p1;O2=1;var e=Lh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return p1.c=function(t){return e.H.useMemoCache(t)},p1}var L2;function W6(){return L2||(L2=1,g1.exports=J6()),g1.exports}var de=W6();const t5=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302"]}],hn=J.createContext(null),e5=e=>{const t=de.c(10),{children:i}=e,[r,o]=J.useState(!0),u=J.useRef("prod"),[f,m]=J.useState(!1),p=J.useRef(null);let g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],t[0]=g):g=t[0];const _=J.useRef(g),T=J.useRef(null),b=J.useRef(null),A=J.useRef(null),D=J.useRef(null),k=J.useRef("");let j;t[1]===Symbol.for("react.memo_cache_sentinel")?(j=[],t[1]=j):j=t[1];const B=J.useRef(j);let q,F;if(t[2]===Symbol.for("react.memo_cache_sentinel")?(q=()=>(u.current==="testing"?(p.current||(console.log("Creating a peer connection!"),p.current=new RTCPeerConnection({iceServers:t5})),D.current||(D.current=new MediaStream),p.current.ontrack=Y=>{D.current.addTrack(Y.track)},o(!1)):(async()=>{const M=await(await fetch("https://boopp.metered.live/api/v1/turn/credentials?apiKey=4ed69c72a74b9dba8ccbda3d7e966f90f898")).json();console.log("Peer connection set up!"),p.current=new RTCPeerConnection({iceServers:M}),D.current||(D.current=new MediaStream),p.current.ontrack=x=>{D.current.addTrack(x.track)},o(!1)})(),(async()=>{const Y=await fetch("https://tenor.googleapis.com/v2/featured?key=AIzaSyAnvUI0Ka40pbNu4COdmUoeMiIrf3gPg3k&client_key=boop-chat&media_filter=tinygif,gif&contentfilter=low").then(n5);B.current=Y.results,console.log(B.current)})(),()=>{p.current&&(p.current.close(),p.current=null)}),F=[],t[2]=q,t[3]=F):(q=t[2],F=t[3]),J.useEffect(q,F),r){let Y;return t[4]===Symbol.for("react.memo_cache_sentinel")?(Y=S.jsx("div",{children:" Loading .. "}),t[4]=Y):Y=t[4],Y}let Z;t[5]!==f?(Z={peerConnection:p,iceCandidates:_,dataChannel:T,imageChannel:b,videoChannel:A,remoteStream:D,peerName:k,connected:f,setConnected:m,featuredGifs:B},t[5]=f,t[6]=Z):Z=t[6];let W;return t[7]!==i||t[8]!==Z?(W=S.jsx(hn,{value:Z,children:i}),t[7]=i,t[8]=Z,t[9]=W):W=t[9],W};function n5(e){return e.json()}var _m=Eu(),Vt=e=>vu(e,_m),vm=Eu();Vt.write=e=>vu(e,vm);var jh=Eu();Vt.onStart=e=>vu(e,jh);var Em=Eu();Vt.onFrame=e=>vu(e,Em);var Tm=Eu();Vt.onFinish=e=>vu(e,Tm);var uo=[];Vt.setTimeout=(e,t)=>{const i=Vt.now()+t,r=()=>{const u=uo.findIndex(f=>f.cancel==r);~u&&uo.splice(u,1),rr-=~u?1:0},o={time:i,handler:e,cancel:r};return uo.splice(V_(i),0,o),rr+=1,N_(),o};var V_=e=>~(~uo.findIndex(t=>t.time>e)||~uo.length);Vt.cancel=e=>{jh.delete(e),Em.delete(e),Tm.delete(e),_m.delete(e),vm.delete(e)};Vt.sync=e=>{L1=!0,Vt.batchedUpdates(e),L1=!1};Vt.throttle=e=>{let t;function i(){try{e(...t)}finally{t=null}}function r(...o){t=o,Vt.onStart(i)}return r.handler=e,r.cancel=()=>{jh.delete(i),t=null},r};var bm=typeof window<"u"?window.requestAnimationFrame:()=>{};Vt.use=e=>bm=e;Vt.now=typeof performance<"u"?()=>performance.now():Date.now;Vt.batchedUpdates=e=>e();Vt.catch=console.error;Vt.frameLoop="always";Vt.advance=()=>{Vt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):L_()};var sr=-1,rr=0,L1=!1;function vu(e,t){L1?(t.delete(e),e(0)):(t.add(e),N_())}function N_(){sr<0&&(sr=0,Vt.frameLoop!=="demand"&&bm(O_))}function i5(){sr=-1}function O_(){~sr&&(bm(O_),Vt.batchedUpdates(L_))}function L_(){const e=sr;sr=Vt.now();const t=V_(sr);if(t&&(j_(uo.splice(0,t),i=>i.handler()),rr-=t),!rr){i5();return}jh.flush(),_m.flush(e?Math.min(64,sr-e):16.667),Em.flush(),vm.flush(),Tm.flush()}function Eu(){let e=new Set,t=e;return{add(i){rr+=t==e&&!e.has(i)?1:0,e.add(i)},delete(i){return rr-=t==e&&e.has(i)?1:0,e.delete(i)},flush(i){t.size&&(e=new Set,rr-=t.size,j_(t,r=>r(i)&&e.add(r)),rr+=e.size,t=e)}}}function j_(e,t){e.forEach(i=>{try{t(i)}catch(r){Vt.catch(r)}})}var s5=Object.defineProperty,r5=(e,t)=>{for(var i in t)s5(e,i,{get:t[i],enumerable:!0})},pi={};r5(pi,{assign:()=>o5,colors:()=>or,createStringInterpolator:()=>Sm,skipAnimation:()=>P_,to:()=>k_,willAdvance:()=>Cm});function j1(){}var a5=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),ct={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Es(e,t){if(ct.arr(e)){if(!ct.arr(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e===t}var Ht=(e,t)=>e.forEach(t);function zi(e,t,i){if(ct.arr(e)){for(let r=0;r<e.length;r++)t.call(i,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r)}var Un=e=>ct.und(e)?[]:ct.arr(e)?e:[e];function $l(e,t){if(e.size){const i=Array.from(e);e.clear(),Ht(i,t)}}var Hl=(e,...t)=>$l(e,i=>i(...t)),wm=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Sm,k_,or=null,P_=!1,Cm=j1,o5=e=>{e.to&&(k_=e.to),e.now&&(Vt.now=e.now),e.colors!==void 0&&(or=e.colors),e.skipAnimation!=null&&(P_=e.skipAnimation),e.createStringInterpolator&&(Sm=e.createStringInterpolator),e.requestAnimationFrame&&Vt.use(e.requestAnimationFrame),e.batchedUpdates&&(Vt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Cm=e.willAdvance),e.frameLoop&&(Vt.frameLoop=e.frameLoop)},Kl=new Set,si=[],y1=[],mh=0,kh={get idle(){return!Kl.size&&!si.length},start(e){mh>e.priority?(Kl.add(e),Vt.onStart(l5)):(U_(e),Vt(k1))},advance:k1,sort(e){if(mh)Vt.onFrame(()=>kh.sort(e));else{const t=si.indexOf(e);~t&&(si.splice(t,1),B_(e))}},clear(){si=[],Kl.clear()}};function l5(){Kl.forEach(U_),Kl.clear(),Vt(k1)}function U_(e){si.includes(e)||B_(e)}function B_(e){si.splice(u5(si,t=>t.priority>e.priority),0,e)}function k1(e){const t=y1;for(let i=0;i<si.length;i++){const r=si[i];mh=r.priority,r.idle||(Cm(r),r.advance(e),r.idle||t.push(r))}return mh=0,y1=si,y1.length=0,si=t,si.length>0}function u5(e,t){const i=e.findIndex(t);return i<0?e.length:i}var c5={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},gi="[-+]?\\d*\\.?\\d+",gh=gi+"%";function Ph(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var h5=new RegExp("rgb"+Ph(gi,gi,gi)),f5=new RegExp("rgba"+Ph(gi,gi,gi,gi)),d5=new RegExp("hsl"+Ph(gi,gh,gh)),m5=new RegExp("hsla"+Ph(gi,gh,gh,gi)),g5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,y5=/^#([0-9a-fA-F]{6})$/,_5=/^#([0-9a-fA-F]{8})$/;function v5(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=y5.exec(e))?parseInt(t[1]+"ff",16)>>>0:or&&or[e]!==void 0?or[e]:(t=h5.exec(e))?(to(t[1])<<24|to(t[2])<<16|to(t[3])<<8|255)>>>0:(t=f5.exec(e))?(to(t[1])<<24|to(t[2])<<16|to(t[3])<<8|P2(t[4]))>>>0:(t=g5.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=_5.exec(e))?parseInt(t[1],16)>>>0:(t=p5.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=d5.exec(e))?(j2(k2(t[1]),Xc(t[2]),Xc(t[3]))|255)>>>0:(t=m5.exec(e))?(j2(k2(t[1]),Xc(t[2]),Xc(t[3]))|P2(t[4]))>>>0:null}function _1(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function j2(e,t,i){const r=i<.5?i*(1+t):i+t-i*t,o=2*i-r,u=_1(o,r,e+1/3),f=_1(o,r,e),m=_1(o,r,e-1/3);return Math.round(u*255)<<24|Math.round(f*255)<<16|Math.round(m*255)<<8}function to(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function k2(e){return(parseFloat(e)%360+360)%360/360}function P2(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Xc(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function U2(e){let t=v5(e);if(t===null)return e;t=t||0;const i=(t&4278190080)>>>24,r=(t&16711680)>>>16,o=(t&65280)>>>8,u=(t&255)/255;return`rgba(${i}, ${r}, ${o}, ${u})`}var iu=(e,t,i)=>{if(ct.fun(e))return e;if(ct.arr(e))return iu({range:e,output:t,extrapolate:i});if(ct.str(e.output[0]))return Sm(e);const r=e,o=r.output,u=r.range||[0,1],f=r.extrapolateLeft||r.extrapolate||"extend",m=r.extrapolateRight||r.extrapolate||"extend",p=r.easing||(g=>g);return g=>{const _=T5(g,u);return E5(g,u[_],u[_+1],o[_],o[_+1],p,f,m,r.map)}};function E5(e,t,i,r,o,u,f,m,p){let g=p?p(e):e;if(g<t){if(f==="identity")return g;f==="clamp"&&(g=t)}if(g>i){if(m==="identity")return g;m==="clamp"&&(g=i)}return r===o?r:t===i?e<=t?r:o:(t===-1/0?g=-g:i===1/0?g=g-t:g=(g-t)/(i-t),g=u(g),r===-1/0?g=-g:o===1/0?g=g+r:g=g*(o-r)+r,g)}function T5(e,t){for(var i=1;i<t.length-1&&!(t[i]>=e);++i);return i-1}var b5={linear:e=>e},su=Symbol.for("FluidValue.get"),go=Symbol.for("FluidValue.observers"),ni=e=>!!(e&&e[su]),Cn=e=>e&&e[su]?e[su]():e,B2=e=>e[go]||null;function w5(e,t){e.eventObserved?e.eventObserved(t):e(t)}function ru(e,t){const i=e[go];i&&i.forEach(r=>{w5(r,t)})}var z_=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");S5(this,e)}},S5=(e,t)=>q_(e,su,t);function Co(e,t){if(e[su]){let i=e[go];i||q_(e,go,i=new Set),i.has(t)||(i.add(t),e.observerAdded&&e.observerAdded(i.size,t))}return t}function au(e,t){const i=e[go];if(i&&i.has(t)){const r=i.size-1;r?i.delete(t):e[go]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var q_=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),rh=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,C5=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,z2=new RegExp(`(${rh.source})(%|[a-z]+)`,"i"),A5=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Uh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,H_=e=>{const[t,i]=R5(e);if(!t||wm())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(i&&i.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||e}else{if(i&&Uh.test(i))return H_(i);if(i)return i}return e},R5=e=>{const t=Uh.exec(e);if(!t)return[,];const[,i,r]=t;return[i,r]},v1,x5=(e,t,i,r,o)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(r)}, ${o})`,G_=e=>{v1||(v1=or?new RegExp(`(${Object.keys(or).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(u=>Cn(u).replace(Uh,H_).replace(C5,U2).replace(v1,U2)),i=t.map(u=>u.match(rh).map(Number)),o=i[0].map((u,f)=>i.map(m=>{if(!(f in m))throw Error('The arity of each "output" value must be equal');return m[f]})).map(u=>iu({...e,output:u}));return u=>{var p;const f=!z2.test(t[0])&&((p=t.find(g=>z2.test(g)))==null?void 0:p.replace(rh,""));let m=0;return t[0].replace(rh,()=>`${o[m++](u)}${f||""}`).replace(A5,x5)}},Am="react-spring: ",F_=e=>{const t=e;let i=!1;if(typeof t!="function")throw new TypeError(`${Am}once requires a function parameter`);return(...r)=>{i||(t(...r),i=!0)}},I5=F_(console.warn);function D5(){I5(`${Am}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var M5=F_(console.warn);function V5(){M5(`${Am}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Bh(e){return ct.str(e)&&(e[0]=="#"||/\d/.test(e)||!wm()&&Uh.test(e)||e in(or||{}))}var Rm=wm()?J.useEffect:J.useLayoutEffect,N5=()=>{const e=J.useRef(!1);return Rm(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Q_(){const e=J.useState()[1],t=N5();return()=>{t.current&&e(Math.random())}}var Y_=e=>J.useEffect(e,O5),O5=[];function q2(e){const t=J.useRef(void 0);return J.useEffect(()=>{t.current=e}),t.current}var ou=Symbol.for("Animated:node"),L5=e=>!!e&&e[ou]===e,ji=e=>e&&e[ou],xm=(e,t)=>a5(e,ou,t),zh=e=>e&&e[ou]&&e[ou].getPayload(),$_=class{constructor(){xm(this,this)}getPayload(){return this.payload||[]}},qh=class K_ extends $_{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ct.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new K_(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,i){return ct.num(t)&&(this.lastPosition=t,i&&(t=Math.round(t/i)*i,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ct.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},ph=class X_ extends qh{constructor(t){super(0),this._string=null,this._toString=iu({output:[t,t]})}static create(t){return new X_(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ct.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=iu({output:[this.getValue(),t]})),this._value=0,super.reset()}},yh={dependencies:null},Hh=class extends $_{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return zi(this.source,(i,r)=>{L5(i)?t[r]=i.getValue(e):ni(i)?t[r]=Cn(i):e||(t[r]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Ht(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return zi(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){yh.dependencies&&ni(e)&&yh.dependencies.add(e);const t=zh(e);t&&Ht(t,i=>this.add(i))}},j5=class Z_ extends Hh{constructor(t){super(t)}static create(t){return new Z_(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const i=this.getPayload();return t.length==i.length?i.map((r,o)=>r.setValue(t[o])).some(Boolean):(super.setValue(t.map(k5)),!0)}};function k5(e){return(Bh(e)?ph:qh).create(e)}function P1(e){const t=ji(e);return t?t.constructor:ct.arr(e)?j5:Bh(e)?ph:qh}var H2=(e,t)=>{const i=!ct.fun(e)||e.prototype&&e.prototype.isReactComponent;return J.forwardRef((r,o)=>{const u=J.useRef(null),f=i&&J.useCallback(D=>{u.current=B5(o,D)},[o]),[m,p]=U5(r,t),g=Q_(),_=()=>{const D=u.current;if(i&&!D)return;(D?t.applyAnimatedValues(D,m.getValue(!0)):!1)===!1&&g()},T=new P5(_,p),b=J.useRef(void 0);Rm(()=>(b.current=T,Ht(p,D=>Co(D,T)),()=>{b.current&&(Ht(b.current.deps,D=>au(D,b.current)),Vt.cancel(b.current.update))})),J.useEffect(_,[]),Y_(()=>()=>{const D=b.current;Ht(D.deps,k=>au(k,D))});const A=t.getComponentProps(m.getValue());return J.createElement(e,{...A,ref:f})})},P5=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Vt.write(this.update)}};function U5(e,t){const i=new Set;return yh.dependencies=i,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Hh(e),yh.dependencies=null,[e,i]}function B5(e,t){return e&&(ct.fun(e)?e(t):e.current=t),t}var G2=Symbol.for("AnimatedComponent"),z5=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=o=>new Hh(o),getComponentProps:r=o=>o}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:r},u=f=>{const m=F2(f)||"Anonymous";return ct.str(f)?f=u[f]||(u[f]=H2(f,o)):f=f[G2]||(f[G2]=H2(f,o)),f.displayName=`Animated(${m})`,f};return zi(e,(f,m)=>{ct.arr(e)&&(m=F2(f)),u[m]=u(f)}),{animated:u}},F2=e=>ct.str(e)?e:e&&ct.str(e.displayName)?e.displayName:ct.fun(e)&&e.name||null;function ta(e,...t){return ct.fun(e)?e(...t):e}var Xl=(e,t)=>e===!0||!!(t&&e&&(ct.fun(e)?e(t):Un(e).includes(t))),J_=(e,t)=>ct.obj(e)?t&&e[t]:e,W_=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,q5=e=>e,Im=(e,t=q5)=>{let i=H5;e.default&&e.default!==!0&&(e=e.default,i=Object.keys(e));const r={};for(const o of i){const u=t(e[o],o);ct.und(u)||(r[o]=u)}return r},H5=["config","onProps","onStart","onChange","onPause","onResume","onRest"],G5={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function F5(e){const t={};let i=0;if(zi(e,(r,o)=>{G5[o]||(t[o]=r,i++)}),i)return t}function tv(e){const t=F5(e);if(t){const i={to:t};return zi(e,(r,o)=>o in t||(i[o]=r)),i}return{...e}}function lu(e){return e=Cn(e),ct.arr(e)?e.map(lu):Bh(e)?pi.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Q5(e){for(const t in e)return!0;return!1}function U1(e){return ct.fun(e)||ct.arr(e)&&ct.obj(e[0])}function Y5(e,t){var i;(i=e.ref)==null||i.delete(e),t==null||t.delete(e)}function $5(e,t){var i;t&&e.ref!==t&&((i=e.ref)==null||i.delete(e),t.add(e),e.ref=t)}var B1={default:{tension:170,friction:26},stiff:{tension:210,friction:20}},z1={...B1.default,mass:1,damping:1,easing:b5.linear,clamp:!1},K5=class{constructor(){this.velocity=0,Object.assign(this,z1)}};function X5(e,t,i){i&&(i={...i},Q2(i,t),t={...i,...t}),Q2(e,t),Object.assign(e,t);for(const f in z1)e[f]==null&&(e[f]=z1[f]);let{frequency:r,damping:o}=e;const{mass:u}=e;return ct.und(r)||(r<.01&&(r=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/r,2)*u,e.friction=4*Math.PI*o*u/r),e}function Q2(e,t){if(!ct.und(t.decay))e.duration=void 0;else{const i=!ct.und(t.tension)||!ct.und(t.friction);(i||!ct.und(t.frequency)||!ct.und(t.damping)||!ct.und(t.mass))&&(e.duration=void 0,e.decay=void 0),i&&(e.frequency=void 0)}}var Y2=[],Z5=class{constructor(){this.changed=!1,this.values=Y2,this.toValues=null,this.fromValues=Y2,this.config=new K5,this.immediate=!1}};function ev(e,{key:t,props:i,defaultProps:r,state:o,actions:u}){return new Promise((f,m)=>{let p,g,_=Xl(i.cancel??(r==null?void 0:r.cancel),t);if(_)A();else{ct.und(i.pause)||(o.paused=Xl(i.pause,t));let D=r==null?void 0:r.pause;D!==!0&&(D=o.paused||Xl(D,t)),p=ta(i.delay||0,t),D?(o.resumeQueue.add(b),u.pause()):(u.resume(),b())}function T(){o.resumeQueue.add(b),o.timeouts.delete(g),g.cancel(),p=g.time-Vt.now()}function b(){p>0&&!pi.skipAnimation?(o.delayed=!0,g=Vt.setTimeout(A,p),o.pauseQueue.add(T),o.timeouts.add(g)):A()}function A(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(T),o.timeouts.delete(g),e<=(o.cancelId||0)&&(_=!0);try{u.start({...i,callId:e,cancel:_},f)}catch(D){m(D)}}})}var Dm=(e,t)=>t.length==1?t[0]:t.some(i=>i.cancelled)?co(e.get()):t.every(i=>i.noop)?nv(e.get()):mi(e.get(),t.every(i=>i.finished)),nv=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),mi=(e,t,i=!1)=>({value:e,finished:t,cancelled:i}),co=e=>({value:e,cancelled:!0,finished:!1});function iv(e,t,i,r){const{callId:o,parentId:u,onRest:f}=t,{asyncTo:m,promise:p}=i;return!u&&e===m&&!t.reset?p:i.promise=(async()=>{i.asyncId=o,i.asyncTo=e;const g=Im(t,(j,B)=>B==="onRest"?void 0:j);let _,T;const b=new Promise((j,B)=>(_=j,T=B)),A=j=>{const B=o<=(i.cancelId||0)&&co(r)||o!==i.asyncId&&mi(r,!1);if(B)throw j.result=B,T(j),j},D=(j,B)=>{const q=new $2,F=new K2;return(async()=>{if(pi.skipAnimation)throw uu(i),F.result=mi(r,!1),T(F),F;A(q);const Z=ct.obj(j)?{...j}:{...B,to:j};Z.parentId=o,zi(g,(Y,M)=>{ct.und(Z[M])&&(Z[M]=Y)});const W=await r.start(Z);return A(q),i.paused&&await new Promise(Y=>{i.resumeQueue.add(Y)}),W})()};let k;if(pi.skipAnimation)return uu(i),mi(r,!1);try{let j;ct.arr(e)?j=(async B=>{for(const q of B)await D(q)})(e):j=Promise.resolve(e(D,r.stop.bind(r))),await Promise.all([j.then(_),b]),k=mi(r.get(),!0,!1)}catch(j){if(j instanceof $2)k=j.result;else if(j instanceof K2)k=j.result;else throw j}finally{o==i.asyncId&&(i.asyncId=u,i.asyncTo=u?m:void 0,i.promise=u?p:void 0)}return ct.fun(f)&&Vt.batchedUpdates(()=>{f(k,r,r.item)}),k})()}function uu(e,t){$l(e.timeouts,i=>i.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var $2=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},K2=class extends Error{constructor(){super("SkipAnimationSignal")}},q1=e=>e instanceof Mm,J5=1,Mm=class extends z_{constructor(){super(...arguments),this.id=J5++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ji(this);return e&&e.getValue()}to(...e){return pi.to(this,e)}interpolate(...e){return D5(),pi.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){ru(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||kh.sort(this),ru(this,{type:"priority",parent:this,priority:e})}},ia=Symbol.for("SpringPhase"),sv=1,H1=2,G1=4,E1=e=>(e[ia]&sv)>0,er=e=>(e[ia]&H1)>0,Pl=e=>(e[ia]&G1)>0,X2=(e,t)=>t?e[ia]|=H1|sv:e[ia]&=~H1,Z2=(e,t)=>t?e[ia]|=G1:e[ia]&=~G1,W5=class extends Mm{constructor(e,t){if(super(),this.animation=new Z5,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ct.und(e)||!ct.und(t)){const i=ct.obj(e)?{...e}:{...t,from:e};ct.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(er(this)||this._state.asyncTo)||Pl(this)}get goal(){return Cn(this.animation.to)}get velocity(){const e=ji(this);return e instanceof qh?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return E1(this)}get isAnimating(){return er(this)}get isPaused(){return Pl(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1;const r=this.animation;let{toValues:o}=r;const{config:u}=r,f=zh(r.to);!f&&ni(r.to)&&(o=Un(Cn(r.to))),r.values.forEach((g,_)=>{if(g.done)return;const T=g.constructor==ph?1:f?f[_].lastPosition:o[_];let b=r.immediate,A=T;if(!b){if(A=g.lastPosition,u.tension<=0){g.done=!0;return}let D=g.elapsedTime+=e;const k=r.fromValues[_],j=g.v0!=null?g.v0:g.v0=ct.arr(u.velocity)?u.velocity[_]:u.velocity;let B;const q=u.precision||(k==T?.005:Math.min(1,Math.abs(T-k)*.001));if(ct.und(u.duration))if(u.decay){const F=u.decay===!0?.998:u.decay,Z=Math.exp(-(1-F)*D);A=k+j/(1-F)*(1-Z),b=Math.abs(g.lastPosition-A)<=q,B=j*Z}else{B=g.lastVelocity==null?j:g.lastVelocity;const F=u.restVelocity||q/10,Z=u.clamp?0:u.bounce,W=!ct.und(Z),Y=k==T?g.v0>0:k<T;let M,x=!1;const R=1,O=Math.ceil(e/R);for(let N=0;N<O&&(M=Math.abs(B)>F,!(!M&&(b=Math.abs(T-A)<=q,b)));++N){W&&(x=A==T||A>T==Y,x&&(B=-B*Z,A=T));const P=-u.tension*1e-6*(A-T),I=-u.friction*.001*B,Rt=(P+I)/u.mass;B=B+Rt*R,A=A+B*R}}else{let F=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,g.durationProgress>0&&(g.elapsedTime=u.duration*g.durationProgress,D=g.elapsedTime+=e)),F=(u.progress||0)+D/this._memoizedDuration,F=F>1?1:F<0?0:F,g.durationProgress=F),A=k+u.easing(F)*(T-k),B=(A-g.lastPosition)/e,b=F==1}g.lastVelocity=B,Number.isNaN(A)&&(console.warn("Got NaN while animating:",this),b=!0)}f&&!f[_].done&&(b=!1),b?g.done=!0:t=!1,g.setValue(A,u.round)&&(i=!0)});const m=ji(this),p=m.getValue();if(t){const g=Cn(r.to);(p!==g||i)&&!u.decay?(m.setValue(g),this._onChange(g)):i&&u.decay&&this._onChange(p),this._stop()}else i&&this._onChange(p)}set(e){return Vt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(er(this)){const{to:e,config:t}=this.animation;Vt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return ct.und(e)?(i=this.queue||[],this.queue=[]):i=[ct.obj(e)?e:{...t,to:e}],Promise.all(i.map(r=>this._update(r))).then(r=>Dm(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),uu(this._state,e&&this._lastCallId),Vt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:i,from:r}=e;i=ct.obj(i)?i[t]:i,(i==null||U1(i))&&(i=void 0),r=ct.obj(r)?r[t]:r,r==null&&(r=void 0);const o={to:i,from:r};return E1(this)||(e.reverse&&([i,r]=[r,i]),r=Cn(r),ct.und(r)?ji(this)||this._set(i):this._set(r)),o}_update({...e},t){const{key:i,defaultProps:r}=this;e.default&&Object.assign(r,Im(e,(f,m)=>/^on/.test(m)?J_(f,i):f)),W2(this,e,"onProps"),Bl(this,"onProps",e,this);const o=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return ev(++this._lastCallId,{key:i,props:e,defaultProps:r,state:u,actions:{pause:()=>{Pl(this)||(Z2(this,!0),Hl(u.pauseQueue),Bl(this,"onPause",mi(this,Ul(this,this.animation.to)),this))},resume:()=>{Pl(this)&&(Z2(this,!1),er(this)&&this._resume(),Hl(u.resumeQueue),Bl(this,"onResume",mi(this,Ul(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(f=>{if(e.loop&&f.finished&&!(t&&f.noop)){const m=rv(e);if(m)return this._update(m,!0)}return f})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(co(this));const r=!ct.und(e.to),o=!ct.und(e.from);if(r||o)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(co(this));const{key:u,defaultProps:f,animation:m}=this,{to:p,from:g}=m;let{to:_=p,from:T=g}=e;o&&!r&&(!t.default||ct.und(_))&&(_=T),t.reverse&&([_,T]=[T,_]);const b=!Es(T,g);b&&(m.from=T),T=Cn(T);const A=!Es(_,p);A&&this._focus(_);const D=U1(t.to),{config:k}=m,{decay:j,velocity:B}=k;(r||o)&&(k.velocity=0),t.config&&!D&&X5(k,ta(t.config,u),t.config!==f.config?ta(f.config,u):void 0);let q=ji(this);if(!q||ct.und(_))return i(mi(this,!0));const F=ct.und(t.reset)?o&&!t.default:!ct.und(T)&&Xl(t.reset,u),Z=F?T:this.get(),W=lu(_),Y=ct.num(W)||ct.arr(W)||Bh(W),M=!D&&(!Y||Xl(f.immediate||t.immediate,u));if(A){const N=P1(_);if(N!==q.constructor)if(M)q=this._set(W);else throw Error(`Cannot animate between ${q.constructor.name} and ${N.name}, as the "to" prop suggests`)}const x=q.constructor;let R=ni(_),O=!1;if(!R){const N=F||!E1(this)&&b;(A||N)&&(O=Es(lu(Z),W),R=!O),(!Es(m.immediate,M)&&!M||!Es(k.decay,j)||!Es(k.velocity,B))&&(R=!0)}if(O&&er(this)&&(m.changed&&!F?R=!0:R||this._stop(p)),!D&&((R||ni(p))&&(m.values=q.getPayload(),m.toValues=ni(_)?null:x==ph?[1]:Un(W)),m.immediate!=M&&(m.immediate=M,!M&&!F&&this._set(p)),R)){const{onRest:N}=m;Ht(e9,I=>W2(this,t,I));const P=mi(this,Ul(this,p));Hl(this._pendingCalls,P),this._pendingCalls.add(i),m.changed&&Vt.batchedUpdates(()=>{var I;m.changed=!F,N==null||N(P,this),F?ta(f.onRest,P):(I=m.onStart)==null||I.call(m,P,this)})}F&&this._set(Z),D?i(iv(t.to,t,this._state,this)):R?this._start():er(this)&&!A?this._pendingCalls.add(i):i(nv(Z))}_focus(e){const t=this.animation;e!==t.to&&(B2(this)&&this._detach(),t.to=e,B2(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;ni(t)&&(Co(t,this),q1(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;ni(e)&&au(e,this)}_set(e,t=!0){const i=Cn(e);if(!ct.und(i)){const r=ji(this);if(!r||!Es(i,r.getValue())){const o=P1(i);!r||r.constructor!=o?xm(this,o.create(i)):r.setValue(i),r&&Vt.batchedUpdates(()=>{this._onChange(i,t)})}}return ji(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Bl(this,"onStart",mi(this,Ul(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),ta(this.animation.onChange,e,this)),ta(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ji(this).reset(Cn(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),er(this)||(X2(this,!0),Pl(this)||this._resume())}_resume(){pi.skipAnimation?this.finish():kh.start(this)}_stop(e,t){if(er(this)){X2(this,!1);const i=this.animation;Ht(i.values,o=>{o.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),ru(this,{type:"idle",parent:this});const r=t?co(this.get()):mi(this.get(),Ul(this,e??i.to));Hl(this._pendingCalls,r),i.changed&&(i.changed=!1,Bl(this,"onRest",r,this))}}};function Ul(e,t){const i=lu(t),r=lu(e.get());return Es(r,i)}function rv(e,t=e.loop,i=e.to){const r=ta(t);if(r){const o=r!==!0&&tv(r),u=(o||e).reverse,f=!o||o.reset;return cu({...e,loop:t,default:!1,pause:void 0,to:!u||U1(i)?i:void 0,from:f?e.from:void 0,reset:f,...o})}}function cu(e){const{to:t,from:i}=e=tv(e),r=new Set;return ct.obj(t)&&J2(t,r),ct.obj(i)&&J2(i,r),e.keys=r.size?Array.from(r):null,e}function t9(e){const t=cu(e);return ct.und(t.default)&&(t.default=Im(t)),t}function J2(e,t){zi(e,(i,r)=>i!=null&&t.add(r))}var e9=["onStart","onRest","onChange","onPause","onResume"];function W2(e,t,i){e.animation[i]=t[i]!==W_(t,i)?J_(t[i],e.key):void 0}function Bl(e,t,...i){var r,o,u,f;(o=(r=e.animation)[t])==null||o.call(r,...i),(f=(u=e.defaultProps)[t])==null||f.call(u,...i)}var n9=["onStart","onChange","onRest"],i9=1,s9=class{constructor(t,i){this.id=i9++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),i&&(this._flush=i),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((i,r)=>t[r]=i.get()),t}set(t){for(const i in t){const r=t[i];ct.und(r)||this.springs[i].set(r)}}update(t){return t&&this.queue.push(cu(t)),this}start(t){let{queue:i}=this;return t?i=Un(t).map(cu):this.queue=[],this._flush?this._flush(this,i):(cv(this,i),F1(this,i))}stop(t,i){if(t!==!!t&&(i=t),i){const r=this.springs;Ht(Un(i),o=>r[o].stop(!!t))}else uu(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ct.und(t))this.start({pause:!0});else{const i=this.springs;Ht(Un(t),r=>i[r].pause())}return this}resume(t){if(ct.und(t))this.start({pause:!1});else{const i=this.springs;Ht(Un(t),r=>i[r].resume())}return this}each(t){zi(this.springs,t)}_onFrame(){const{onStart:t,onChange:i,onRest:r}=this._events,o=this._active.size>0,u=this._changed.size>0;(o&&!this._started||u&&!this._started)&&(this._started=!0,$l(t,([p,g])=>{g.value=this.get(),p(g,this,this._item)}));const f=!o&&this._started,m=u||f&&r.size?this.get():null;u&&i.size&&$l(i,([p,g])=>{g.value=m,p(g,this,this._item)}),f&&(this._started=!1,$l(r,([p,g])=>{g.value=m,p(g,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Vt.onFrame(this._onFrame)}};function F1(e,t){return Promise.all(t.map(i=>av(e,i))).then(i=>Dm(e,i))}async function av(e,t,i){const{keys:r,to:o,from:u,loop:f,onRest:m,onResolve:p}=t,g=ct.obj(t.default)&&t.default;f&&(t.loop=!1),o===!1&&(t.to=null),u===!1&&(t.from=null);const _=ct.arr(o)||ct.fun(o)?o:void 0;_?(t.to=void 0,t.onRest=void 0,g&&(g.onRest=void 0)):Ht(n9,k=>{const j=t[k];if(ct.fun(j)){const B=e._events[k];t[k]=({finished:q,cancelled:F})=>{const Z=B.get(j);Z?(q||(Z.finished=!1),F&&(Z.cancelled=!0)):B.set(j,{value:null,finished:q||!1,cancelled:F||!1})},g&&(g[k]=t[k])}});const T=e._state;t.pause===!T.paused?(T.paused=t.pause,Hl(t.pause?T.pauseQueue:T.resumeQueue)):T.paused&&(t.pause=!0);const b=(r||Object.keys(e.springs)).map(k=>e.springs[k].start(t)),A=t.cancel===!0||W_(t,"cancel")===!0;(_||A&&T.asyncId)&&b.push(ev(++e._lastAsyncId,{props:t,state:T,actions:{pause:j1,resume:j1,start(k,j){A?(uu(T,e._lastAsyncId),j(co(e))):(k.onRest=m,j(iv(_,k,T,e)))}}})),T.paused&&await new Promise(k=>{T.resumeQueue.add(k)});const D=Dm(e,await Promise.all(b));if(f&&D.finished&&!(i&&D.noop)){const k=rv(t,f,o);if(k)return cv(e,[k]),av(e,k,!0)}return p&&Vt.batchedUpdates(()=>p(D,e,e.item)),D}function ty(e,t){const i={...e.springs};return t&&Ht(Un(t),r=>{ct.und(r.keys)&&(r=cu(r)),ct.obj(r.to)||(r={...r,to:void 0}),uv(i,r,o=>lv(o))}),ov(e,i),i}function ov(e,t){zi(t,(i,r)=>{e.springs[r]||(e.springs[r]=i,Co(i,e))})}function lv(e,t){const i=new W5;return i.key=e,t&&Co(i,t),i}function uv(e,t,i){t.keys&&Ht(t.keys,r=>{(e[r]||(e[r]=i(r)))._prepareNode(t)})}function cv(e,t){Ht(t,i=>{uv(e.springs,i,r=>lv(r,e))})}var r9=J.createContext({pause:!1,immediate:!1}),a9=()=>{const e=[],t=function(r){V5();const o=[];return Ht(e,(u,f)=>{if(ct.und(r))o.push(u.start());else{const m=i(r,u,f);m&&o.push(u.start(m))}}),o};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const o=e.indexOf(r);~o&&e.splice(o,1)},t.pause=function(){return Ht(e,r=>r.pause(...arguments)),this},t.resume=function(){return Ht(e,r=>r.resume(...arguments)),this},t.set=function(r){Ht(e,(o,u)=>{const f=ct.fun(r)?r(u,o):r;f&&o.set(f)})},t.start=function(r){const o=[];return Ht(e,(u,f)=>{if(ct.und(r))o.push(u.start());else{const m=this._getProps(r,u,f);m&&o.push(u.start(m))}}),o},t.stop=function(){return Ht(e,r=>r.stop(...arguments)),this},t.update=function(r){return Ht(e,(o,u)=>o.update(this._getProps(r,o,u))),this};const i=function(r,o,u){return ct.fun(r)?r(u,o):r};return t._getProps=i,t};function o9(e,t,i){const r=ct.fun(t)&&t;r&&!i&&(i=[]);const o=J.useMemo(()=>r||arguments.length==3?a9():void 0,[]),u=J.useRef(0),f=Q_(),m=J.useMemo(()=>({ctrls:[],queue:[],flush(B,q){const F=ty(B,q);return u.current>0&&!m.queue.length&&!Object.keys(F).some(W=>!B.springs[W])?F1(B,q):new Promise(W=>{ov(B,F),m.queue.push(()=>{W(F1(B,q))}),f()})}}),[]),p=J.useRef([...m.ctrls]),g=J.useRef([]),_=q2(e)||0;J.useMemo(()=>{Ht(p.current.slice(e,_),B=>{Y5(B,o),B.stop(!0)}),p.current.length=e,T(_,e)},[e]),J.useMemo(()=>{T(0,Math.min(_,e))},i);function T(B,q){for(let F=B;F<q;F++){const Z=p.current[F]||(p.current[F]=new s9(null,m.flush)),W=r?r(F,Z):t[F];W&&(g.current[F]=t9(W))}}const b=p.current.map((B,q)=>ty(B,g.current[q])),A=J.useContext(r9),D=q2(A),k=A!==D&&Q5(A);Rm(()=>{u.current++,m.ctrls=p.current;const{queue:B}=m;B.length&&(m.queue=[],Ht(B,q=>q())),Ht(p.current,(q,F)=>{o==null||o.add(q),k&&q.start({default:A});const Z=g.current[F];Z&&($5(q,Z.ref),q.ref?q.queue.push(Z):q.start(Z))})}),Y_(()=>()=>{Ht(m.ctrls,B=>B.stop(!0))});const j=b.map(B=>({...B}));return o?[j,o]:j}function aa(e,t){const i=ct.fun(e),[[r],o]=o9(1,i?e:[e],i?[]:t);return i||arguments.length==2?[r,o]:r}var l9=class extends Mm{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=iu(...t);const i=this._get(),r=P1(i);xm(this,r.create(i))}advance(e){const t=this._get(),i=this.get();Es(t,i)||(ji(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ey(this._active)&&T1(this)}_get(){const e=ct.arr(this.source)?this.source.map(Cn):Un(Cn(this.source));return this.calc(...e)}_start(){this.idle&&!ey(this._active)&&(this.idle=!1,Ht(zh(this),e=>{e.done=!1}),pi.skipAnimation?(Vt.batchedUpdates(()=>this.advance()),T1(this)):kh.start(this))}_attach(){let e=1;Ht(Un(this.source),t=>{ni(t)&&Co(t,this),q1(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Ht(Un(this.source),e=>{ni(e)&&au(e,this)}),this._active.clear(),T1(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Un(this.source).reduce((t,i)=>Math.max(t,(q1(i)?i.priority:0)+1),0))}};function u9(e){return e.idle!==!1}function ey(e){return!e.size||Array.from(e).every(u9)}function T1(e){e.idle||(e.idle=!0,Ht(zh(e),t=>{t.done=!0}),ru(e,{type:"idle",parent:e}))}pi.assign({createStringInterpolator:G_,to:(e,t)=>new l9(e,t)});var c9=M_(),hv=/^--/;function h9(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!hv.test(e)&&!(Zl.hasOwnProperty(e)&&Zl[e])?t+"px":(""+t).trim()}var ny={};function f9(e,t){if(!e.nodeType||!e.setAttribute)return!1;const i=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:o,children:u,scrollTop:f,scrollLeft:m,viewBox:p,...g}=t,_=Object.values(g),T=Object.keys(g).map(b=>i||e.hasAttribute(b)?b:ny[b]||(ny[b]=b.replace(/([A-Z])/g,A=>"-"+A.toLowerCase())));u!==void 0&&(e.textContent=u);for(const b in o)if(o.hasOwnProperty(b)){const A=h9(b,o[b]);hv.test(b)?e.style.setProperty(b,A):e.style[b]=A}T.forEach((b,A)=>{e.setAttribute(b,_[A])}),r!==void 0&&(e.className=r),f!==void 0&&(e.scrollTop=f),m!==void 0&&(e.scrollLeft=m),p!==void 0&&e.setAttribute("viewBox",p)}var Zl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d9=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),m9=["Webkit","Ms","Moz","O"];Zl=Object.keys(Zl).reduce((e,t)=>(m9.forEach(i=>e[d9(i,t)]=e[t]),e),Zl);var g9=/^(matrix|translate|scale|rotate|skew)/,p9=/^(translate)/,y9=/^(rotate|skew)/,b1=(e,t)=>ct.num(e)&&e!==0?e+t:e,ah=(e,t)=>ct.arr(e)?e.every(i=>ah(i,t)):ct.num(e)?e===t:parseFloat(e)===t,_9=class extends Hh{constructor({x:e,y:t,z:i,...r}){const o=[],u=[];(e||t||i)&&(o.push([e||0,t||0,i||0]),u.push(f=>[`translate3d(${f.map(m=>b1(m,"px")).join(",")})`,ah(f,0)])),zi(r,(f,m)=>{if(m==="transform")o.push([f||""]),u.push(p=>[p,p===""]);else if(g9.test(m)){if(delete r[m],ct.und(f))return;const p=p9.test(m)?"px":y9.test(m)?"deg":"";o.push(Un(f)),u.push(m==="rotate3d"?([g,_,T,b])=>[`rotate3d(${g},${_},${T},${b1(b,p)})`,ah(b,0)]:g=>[`${m}(${g.map(_=>b1(_,p)).join(",")})`,ah(g,m.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new v9(o,u)),super(r)}},v9=class extends z_{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Ht(this.inputs,(i,r)=>{const o=Cn(i[0]),[u,f]=this.transforms[r](ct.arr(o)?o:i.map(Cn));e+=" "+u,t=t&&f}),t?"none":e}observerAdded(e){e==1&&Ht(this.inputs,t=>Ht(t,i=>ni(i)&&Co(i,this)))}observerRemoved(e){e==0&&Ht(this.inputs,t=>Ht(t,i=>ni(i)&&au(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),ru(this,e)}},E9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];pi.assign({batchedUpdates:c9.unstable_batchedUpdates,createStringInterpolator:G_,colors:c5});var T9=z5(E9,{applyAnimatedValues:f9,createAnimatedStyle:e=>new _9(e),getComponentProps:({scrollTop:e,scrollLeft:t,...i})=>i}),As=T9.animated;function b9(e,t,i){return Math.max(t,Math.min(e,i))}const ue={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function iy(e,t,i){return t===0||Math.abs(t)===1/0?Math.pow(e,i*5):e*t*i/(t+i*e)}function sy(e,t,i,r=.15){return r===0?b9(e,t,i):e<t?-iy(t-e,i-t,r)+t:e>i?+iy(e-i,i-t,r)+i:e}function w9(e,[t,i],[r,o]){const[[u,f],[m,p]]=e;return[sy(t,u,f,r),sy(i,m,p,o)]}function S9(e,t){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e){var t=S9(e,"string");return typeof t=="symbol"?t:String(t)}function Ne(e,t,i){return t=C9(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ry(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,r)}return i}function ge(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ry(Object(i),!0).forEach(function(r){Ne(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ry(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}const fv={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ay(e){return e?e[0].toUpperCase()+e.slice(1):""}const A9=["enter","leave"];function R9(e=!1,t){return e&&!A9.includes(t)}function x9(e,t="",i=!1){const r=fv[e],o=r&&r[t]||t;return"on"+ay(e)+ay(o)+(R9(i,o)?"Capture":"")}const I9=["gotpointercapture","lostpointercapture"];function D9(e){let t=e.substring(2).toLowerCase();const i=!!~t.indexOf("passive");i&&(t=t.replace("passive",""));const r=I9.includes(t)?"capturecapture":"capture",o=!!~t.indexOf(r);return o&&(t=t.replace("capture","")),{device:t,capture:o,passive:i}}function M9(e,t=""){const i=fv[e],r=i&&i[t]||t;return e+r}function Gh(e){return"touches"in e}function dv(e){return Gh(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function V9(e){return Array.from(e.touches).filter(t=>{var i,r;return t.target===e.currentTarget||((i=e.currentTarget)===null||i===void 0||(r=i.contains)===null||r===void 0?void 0:r.call(i,t.target))})}function N9(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function mv(e){return Gh(e)?N9(e)[0]:e}function Q1(e,t){try{const i=t.clientX-e.clientX,r=t.clientY-e.clientY,o=(t.clientX+e.clientX)/2,u=(t.clientY+e.clientY)/2,f=Math.hypot(i,r);return{angle:-(Math.atan2(i,r)*180)/Math.PI,distance:f,origin:[o,u]}}catch{}return null}function O9(e){return V9(e).map(t=>t.identifier)}function oy(e,t){const[i,r]=Array.from(e.touches).filter(o=>t.includes(o.identifier));return Q1(i,r)}function w1(e){const t=mv(e);return Gh(e)?t.identifier:t.pointerId}function po(e){const t=mv(e);return[t.clientX,t.clientY]}const ly=40,uy=800;function gv(e){let{deltaX:t,deltaY:i,deltaMode:r}=e;return r===1?(t*=ly,i*=ly):r===2&&(t*=uy,i*=uy),[t,i]}function L9(e){var t,i;const{scrollX:r,scrollY:o,scrollLeft:u,scrollTop:f}=e.currentTarget;return[(t=r??u)!==null&&t!==void 0?t:0,(i=o??f)!==null&&i!==void 0?i:0]}function j9(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:i,altKey:r,metaKey:o,ctrlKey:u}=e;Object.assign(t,{shiftKey:i,altKey:r,metaKey:o,ctrlKey:u})}return t}function _h(e,...t){return typeof e=="function"?e(...t):e}function k9(){}function P9(...e){return e.length===0?k9:e.length===1?e[0]:function(){let t;for(const i of e)t=i.apply(this,arguments)||t;return t}}function cy(e,t){return Object.assign({},t,e||{})}const U9=32;class pv{constructor(t,i,r){this.ctrl=t,this.args=i,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:i,ingKey:r,args:o}=this;i[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=o,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const i=this.state,r=this.config;i._active||(this.reset(),this.computeInitial(),i._active=!0,i.target=t.target,i.currentTarget=t.currentTarget,i.lastOffset=r.from?_h(r.from,i):i.offset,i.offset=i.lastOffset,i.startTime=i.timeStamp=t.timeStamp)}computeValues(t){const i=this.state;i._values=t,i.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:i,config:r,shared:o}=this;i.args=this.args;let u=0;if(t&&(i.event=t,r.preventDefault&&t.cancelable&&i.event.preventDefault(),i.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,j9(t)),o.down=o.pressed=o.buttons%2===1||o.touches>0,u=t.timeStamp-i.timeStamp,i.timeStamp=t.timeStamp,i.elapsedTime=i.timeStamp-i.startTime),i._active){const Y=i._delta.map(Math.abs);ue.addTo(i._distance,Y)}this.axisIntent&&this.axisIntent(t);const[f,m]=i._movement,[p,g]=r.threshold,{_step:_,values:T}=i;if(r.hasCustomTransform?(_[0]===!1&&(_[0]=Math.abs(f)>=p&&T[0]),_[1]===!1&&(_[1]=Math.abs(m)>=g&&T[1])):(_[0]===!1&&(_[0]=Math.abs(f)>=p&&Math.sign(f)*p),_[1]===!1&&(_[1]=Math.abs(m)>=g&&Math.sign(m)*g)),i.intentional=_[0]!==!1||_[1]!==!1,!i.intentional)return;const b=[0,0];if(r.hasCustomTransform){const[Y,M]=T;b[0]=_[0]!==!1?Y-_[0]:0,b[1]=_[1]!==!1?M-_[1]:0}else b[0]=_[0]!==!1?f-_[0]:0,b[1]=_[1]!==!1?m-_[1]:0;this.restrictToAxis&&!i._blocked&&this.restrictToAxis(b);const A=i.offset,D=i._active&&!i._blocked||i.active;D&&(i.first=i._active&&!i.active,i.last=!i._active&&i.active,i.active=o[this.ingKey]=i._active,t&&(i.first&&("bounds"in r&&(i._bounds=_h(r.bounds,i)),this.setup&&this.setup()),i.movement=b,this.computeOffset()));const[k,j]=i.offset,[[B,q],[F,Z]]=i._bounds;i.overflow=[k<B?-1:k>q?1:0,j<F?-1:j>Z?1:0],i._movementBound[0]=i.overflow[0]?i._movementBound[0]===!1?i._movement[0]:i._movementBound[0]:!1,i._movementBound[1]=i.overflow[1]?i._movementBound[1]===!1?i._movement[1]:i._movementBound[1]:!1;const W=i._active?r.rubberband||[0,0]:[0,0];if(i.offset=w9(i._bounds,i.offset,W),i.delta=ue.sub(i.offset,A),this.computeMovement(),D&&(!i.last||u>U9)){i.delta=ue.sub(i.offset,A);const Y=i.delta.map(Math.abs);ue.addTo(i.distance,Y),i.direction=i.delta.map(Math.sign),i._direction=i._delta.map(Math.sign),!i.first&&u>0&&(i.velocity=[Y[0]/u,Y[1]/u],i.timeDelta=u)}}emit(){const t=this.state,i=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const o=this.handler(ge(ge(ge({},i),t),{},{[this.aliasKey]:t.values}));o!==void 0&&(t.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function B9([e,t],i){const r=Math.abs(e),o=Math.abs(t);if(r>o&&r>i)return"x";if(o>r&&o>i)return"y"}class Tu extends pv{constructor(...t){super(...t),Ne(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ue.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ue.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const i=this.state,r=this.config;if(!i.axis&&t){const o=typeof r.axisThreshold=="object"?r.axisThreshold[dv(t)]:r.axisThreshold;i.axis=B9(i._movement,o)}i._blocked=(r.lockDirection||!!r.axis)&&!i.axis||!!r.axis&&r.axis!==i.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const z9=e=>e,hy=.15,yv={enabled(e=!0){return e},eventOptions(e,t,i){return ge(ge({},i.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[hy,hy];case!1:return[0,0];default:return ue.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return ue.toVector(e)},transform(e,t,i){const r=e||i.shared.transform;return this.hasCustomTransform=!!r,r||z9},threshold(e){return ue.toVector(e,0)}},q9=0,oa=ge(ge({},yv),{},{axis(e,t,{axis:i}){if(this.lockDirection=i==="lock",!this.lockDirection)return i},axisThreshold(e=q9){return e},bounds(e={}){if(typeof e=="function")return u=>oa.bounds(e(u));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:i=1/0,top:r=-1/0,bottom:o=1/0}=e;return[[t,i],[r,o]]}}),fy={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class H9 extends Tu{constructor(...t){super(...t),Ne(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const i=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),o={left:i.left-r.left+t.offset[0],right:i.right-r.right+t.offset[0],top:i.top-r.top+t.offset[1],bottom:i.bottom-r.bottom+t.offset[1]};t._bounds=oa.bounds(o)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const i=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(i.pointerButtons)?!i.pointerButtons.includes(t.buttons):i.pointerButtons!==-1&&i.pointerButtons!==t.buttons))return;const o=this.ctrl.setEventIds(t);i.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(o&&o.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=w1(t),r._pointerActive=!0,this.computeValues(po(t)),this.computeInitial(),i.preventScrollAxis&&dv(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):i.delay>0?(this.setupDelayTrigger(t),i.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const i=this.state;i._active=!0,i._preventScroll=!0,i._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const i=this.state,r=this.config;if(!i._pointerActive)return;const o=w1(t);if(i._pointerId!==void 0&&o!==i._pointerId)return;const u=po(t);if(document.pointerLockElement===t.target?i._delta=[t.movementX,t.movementY]:(i._delta=ue.sub(u,i._values),this.computeValues(u)),ue.addTo(i._movement,i._delta),this.compute(t),i._delayed&&i.intentional){this.timeoutStore.remove("dragDelay"),i.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!i._preventScroll)if(i.axis)if(i.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){i._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const i=this.state,r=this.config;if(!i._active||!i._pointerActive)return;const o=w1(t);if(i._pointerId!==void 0&&o!==i._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[u,f]=i._distance;if(i.tap=u<=r.tapsThreshold&&f<=r.tapsThreshold,i.tap&&r.filterTaps)i._force=!0;else{const[m,p]=i._delta,[g,_]=i._movement,[T,b]=r.swipe.velocity,[A,D]=r.swipe.distance,k=r.swipe.duration;if(i.elapsedTime<k){const j=Math.abs(m/i.timeDelta),B=Math.abs(p/i.timeDelta);j>T&&Math.abs(g)>A&&(i.swipe[0]=Math.sign(m)),B>b&&Math.abs(_)>D&&(i.swipe[1]=Math.sign(p))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const i=this.config,r=i.device;i.pointerLock&&t.currentTarget.requestPointerLock(),i.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,G9(t);const i=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",i),this.eventStore.add(this.sharedConfig.window,"touch","cancel",i),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const i=fy[t.key];if(i){const r=this.state,o=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=i(this.config.keyboardDisplacement,o),r._keyboardActive=!0,ue.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in fy&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const i=this.config.device;t(i,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(i,"change",this.pointerMove.bind(this)),t(i,"end",this.pointerUp.bind(this)),t(i,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function G9(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const bu=typeof window<"u"&&window.document&&window.document.createElement;function _v(){return bu&&"ontouchstart"in window}function F9(){return _v()||bu&&window.navigator.maxTouchPoints>1}function Q9(){return bu&&"onpointerdown"in window}function Y9(){return bu&&"exitPointerLock"in window.document}function $9(){try{return"constructor"in GestureEvent}catch{return!1}}const ii={isBrowser:bu,gesture:$9(),touch:_v(),touchscreen:F9(),pointer:Q9(),pointerLock:Y9()},K9=250,X9=180,Z9=.5,J9=50,W9=250,t7=10,dy={mouse:0,touch:0,pen:8},e7=ge(ge({},oa),{},{device(e,t,{pointer:{touch:i=!1,lock:r=!1,mouse:o=!1}={}}){return this.pointerLock=r&&ii.pointerLock,ii.touch&&i?"touch":this.pointerLock?"mouse":ii.pointer&&!o?"pointer":ii.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:i}){if(this.preventScrollDelay=typeof i=="number"?i:i||i===void 0&&e?K9:void 0,!(!ii.touchscreen||i===!1))return e||(i!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:i=!0,buttons:r=1,keys:o=!0}={}}){return this.pointerButtons=r,this.keys=o,!this.pointerLock&&this.device==="pointer"&&i},threshold(e,t,{filterTaps:i=!1,tapsThreshold:r=3,axis:o=void 0}){const u=ue.toVector(e,i?r:o?1:0);return this.filterTaps=i,this.tapsThreshold=r,u},swipe({velocity:e=Z9,distance:t=J9,duration:i=W9}={}){return{velocity:this.transform(ue.toVector(e)),distance:this.transform(ue.toVector(t)),duration:i}},delay(e=0){switch(e){case!0:return X9;case!1:return 0;default:return e}},axisThreshold(e){return e?ge(ge({},dy),e):dy},keyboardDisplacement(e=t7){return e}});function vv(e){const[t,i]=e.overflow,[r,o]=e._delta,[u,f]=e._direction;(t<0&&r>0&&u<0||t>0&&r<0&&u>0)&&(e._movement[0]=e._movementBound[0]),(i<0&&o>0&&f<0||i>0&&o<0&&f>0)&&(e._movement[1]=e._movementBound[1])}const n7=30,i7=100;class s7 extends pv{constructor(...t){super(...t),Ne(this,"ingKey","pinching"),Ne(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:i,lastOffset:r}=this.state;t==="wheel"?this.state.offset=ue.add(i,r):this.state.offset=[(1+i[0])*r[0],i[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:i}=this.state;this.state.movement=[t[0]/i[0],t[1]-i[1]]}axisIntent(){const t=this.state,[i,r]=t._movement;if(!t.axis){const o=Math.abs(i)*n7-Math.abs(r);o<0?t.axis="angle":o>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const i=this.state,r=this.ctrl.touchIds;if(i._active&&i._touchIds.every(u=>r.has(u))||r.size<2)return;this.start(t),i._touchIds=Array.from(r).slice(0,2);const o=oy(t,i._touchIds);o&&this.pinchStart(t,o)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const i=this.state,r=i._pointerEvents,o=this.ctrl.pointerIds;if(i._active&&Array.from(r.keys()).every(f=>o.has(f))||(r.size<2&&r.set(t.pointerId,t),i._pointerEvents.size<2))return;this.start(t);const u=Q1(...Array.from(r.values()));u&&this.pinchStart(t,u)}pinchStart(t,i){const r=this.state;r.origin=i.origin,this.computeValues([i.distance,i.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const i=oy(t,this.state._touchIds);i&&this.pinchMove(t,i)}pointerMove(t){const i=this.state._pointerEvents;if(i.has(t.pointerId)&&i.set(t.pointerId,t),!this.state._active)return;const r=Q1(...Array.from(i.values()));r&&this.pinchMove(t,r)}pinchMove(t,i){const r=this.state,o=r._values[1],u=i.angle-o;let f=0;Math.abs(u)>270&&(f+=Math.sign(u)),this.computeValues([i.distance,i.angle-360*f]),r.origin=i.origin,r.turns=f,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(i=>!this.ctrl.touchIds.has(i))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const i=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}i._pointerEvents.has(t.pointerId)&&i._pointerEvents.delete(t.pointerId),i._active&&i._pointerEvents.size<2&&(i._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const i=this.state;i._active||(this.start(t),this.computeValues([t.scale,t.rotation]),i.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const i=this.state;this.computeValues([t.scale,t.rotation]),i.origin=[t.clientX,t.clientY];const r=i._movement;i._movement=[t.scale-1,t.rotation],i._delta=ue.sub(i._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const i=this.config.modifierKey;i&&(Array.isArray(i)?!i.find(r=>t[r]):!t[i])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-gv(t)[1]/i7*r.offset[0],0],ue.addTo(r._movement,r._delta),vv(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const i=this.config.device;i&&(t(i,"start",this[i+"Start"].bind(this)),t(i,"change",this[i+"Move"].bind(this)),t(i,"end",this[i+"End"].bind(this)),t(i,"cancel",this[i+"End"].bind(this)),t("lostPointerCapture","",this[i+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const r7=ge(ge({},yv),{},{device(e,t,{shared:i,pointer:{touch:r=!1}={}}){if(i.target&&!ii.touch&&ii.gesture)return"gesture";if(ii.touch&&r)return"touch";if(ii.touchscreen){if(ii.pointer)return"pointer";if(ii.touch)return"touch"}},bounds(e,t,{scaleBounds:i={},angleBounds:r={}}){const o=f=>{const m=cy(_h(i,f),{min:-1/0,max:1/0});return[m.min,m.max]},u=f=>{const m=cy(_h(r,f),{min:-1/0,max:1/0});return[m.min,m.max]};return typeof i!="function"&&typeof r!="function"?[o(),u()]:f=>[o(f),u(f)]},threshold(e,t,i){return this.lockDirection=i.axis==="lock",ue.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class a7 extends Tu{constructor(...t){super(...t),Ne(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(po(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const i=po(t),r=this.state;r._delta=ue.sub(i,r._values),ue.addTo(r._movement,r._delta),this.computeValues(i),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const o7=ge(ge({},oa),{},{mouseOnly:(e=!0)=>e});class l7 extends Tu{constructor(...t){super(...t),Ne(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const i=this.state,r=L9(t);i._delta=ue.sub(r,i._values),ue.addTo(i._movement,i._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const u7=oa;class c7 extends Tu{constructor(...t){super(...t),Ne(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const i=this.state;i._delta=gv(t),ue.addTo(i._movement,i._delta),vv(i),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const h7=oa;class f7 extends Tu{constructor(...t){super(...t),Ne(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(po(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const i=this.state;if(!i._active)return;i._active=!1;const r=po(t);i._movement=i._delta=ue.sub(r,i._values),this.computeValues(r),this.compute(t),i.delta=i.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const d7=ge(ge({},oa),{},{mouseOnly:(e=!0)=>e}),Vm=new Map,Y1=new Map;function Ev(e){Vm.set(e.key,e.engine),Y1.set(e.key,e.resolver)}const Tv={key:"drag",engine:H9,resolver:e7},m7={key:"hover",engine:f7,resolver:d7},g7={key:"move",engine:a7,resolver:o7},p7={key:"pinch",engine:s7,resolver:r7},y7={key:"scroll",engine:l7,resolver:u7},_7={key:"wheel",engine:c7,resolver:h7};function v7(e,t){if(e==null)return{};var i={},r=Object.keys(e),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(i[o]=e[o]);return i}function E7(e,t){if(e==null)return{};var i=v7(e,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const T7={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=ii.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},b7=["target","eventOptions","window","enabled","transform"];function oh(e={},t){const i={};for(const[r,o]of Object.entries(t))switch(typeof o){case"function":i[r]=o.call(i,e[r],r,e);break;case"object":i[r]=oh(e[r],o);break;case"boolean":o&&(i[r]=e[r]);break}return i}function w7(e,t,i={}){const r=e,{target:o,eventOptions:u,window:f,enabled:m,transform:p}=r,g=E7(r,b7);if(i.shared=oh({target:o,eventOptions:u,window:f,enabled:m,transform:p},T7),t){const _=Y1.get(t);i[t]=oh(ge({shared:i.shared},g),_)}else for(const _ in g){const T=Y1.get(_);T&&(i[_]=oh(ge({shared:i.shared},g[_]),T))}return i}class bv{constructor(t,i){Ne(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=i}add(t,i,r,o,u){const f=this._listeners,m=M9(i,r),p=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},g=ge(ge({},p),u);t.addEventListener(m,o,g);const _=()=>{t.removeEventListener(m,o,g),f.delete(_)};return f.add(_),_}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class S7{constructor(){Ne(this,"_timeouts",new Map)}add(t,i,r=140,...o){this.remove(t),this._timeouts.set(t,window.setTimeout(i,r,...o))}remove(t){const i=this._timeouts.get(t);i&&window.clearTimeout(i)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class C7{constructor(t){Ne(this,"gestures",new Set),Ne(this,"_targetEventStore",new bv(this)),Ne(this,"gestureEventStores",{}),Ne(this,"gestureTimeoutStores",{}),Ne(this,"handlers",{}),Ne(this,"config",{}),Ne(this,"pointerIds",new Set),Ne(this,"touchIds",new Set),Ne(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),A7(this,t)}setEventIds(t){if(Gh(t))return this.touchIds=new Set(O9(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,i){this.handlers=t,this.nativeHandlers=i}applyConfig(t,i){this.config=w7(t,i,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const i=this.config.shared,r={};let o;if(!(i.target&&(o=i.target(),!o))){if(i.enabled){for(const f of this.gestures){const m=this.config[f],p=my(r,m.eventOptions,!!o);if(m.enabled){const g=Vm.get(f);new g(this,t,f).bind(p)}}const u=my(r,i.eventOptions,!!o);for(const f in this.nativeHandlers)u(f,"",m=>this.nativeHandlers[f](ge(ge({},this.state.shared),{},{event:m,args:t})),void 0,!0)}for(const u in r)r[u]=P9(...r[u]);if(!o)return r;for(const u in r){const{device:f,capture:m,passive:p}=D9(u);this._targetEventStore.add(o,f,"",r[u],{capture:m,passive:p})}}}}function eo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new bv(e,t),e.gestureTimeoutStores[t]=new S7}function A7(e,t){t.drag&&eo(e,"drag"),t.wheel&&eo(e,"wheel"),t.scroll&&eo(e,"scroll"),t.move&&eo(e,"move"),t.pinch&&eo(e,"pinch"),t.hover&&eo(e,"hover")}const my=(e,t,i)=>(r,o,u,f={},m=!1)=>{var p,g;const _=(p=f.capture)!==null&&p!==void 0?p:t.capture,T=(g=f.passive)!==null&&g!==void 0?g:t.passive;let b=m?r:x9(r,o,_);i&&T&&(b+="Passive"),e[b]=e[b]||[],e[b].push(u)},R7=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function x7(e){const t={},i={},r=new Set;for(let o in e)R7.test(o)?(r.add(RegExp.lastMatch),i[o]=e[o]):t[o]=e[o];return[i,t,r]}function no(e,t,i,r,o,u){if(!e.has(i)||!Vm.has(r))return;const f=i+"Start",m=i+"End",p=g=>{let _;return g.first&&f in t&&t[f](g),i in t&&(_=t[i](g)),g.last&&m in t&&t[m](g),_};o[r]=p,u[r]=u[r]||{}}function I7(e,t){const[i,r,o]=x7(e),u={};return no(o,i,"onDrag","drag",u,t),no(o,i,"onWheel","wheel",u,t),no(o,i,"onScroll","scroll",u,t),no(o,i,"onPinch","pinch",u,t),no(o,i,"onMove","move",u,t),no(o,i,"onHover","hover",u,t),{handlers:u,config:t,nativeHandlers:r}}function wv(e,t={},i,r){const o=ea.useMemo(()=>new C7(e),[]);if(o.applyHandlers(e,r),o.applyConfig(t,i),ea.useEffect(o.effect.bind(o)),ea.useEffect(()=>o.clean.bind(o),[]),t.target===void 0)return o.bind.bind(o)}function wu(e,t){return Ev(Tv),wv({drag:e},t||{},"drag")}function D7(e){return e.forEach(Ev),function(i,r){const{handlers:o,nativeHandlers:u,config:f}=I7(i,r||{});return wv(o,f,void 0,u)}}function M7(e,t){return D7([Tv,p7,y7,_7,g7,m7])(e,t||{})}const V7="_popup_1om69_1",N7={popup:V7},O7=e=>{const t=de.c(13),{message:i,onClose:r}=e,[o,u]=J.useState(!1),[f,m]=aa(L7),{x:p,y:g,opacity:_}=f;let T;t[0]!==m||t[1]!==r?(T=j=>{const{down:B,movement:q,direction:F}=j,[Z]=q,[W]=F;if(!B&&Math.abs(Z)>100){u(!0),m.start({x:W>0?500:-500,opacity:0,onRest:r});return}m.start({x:B?Z:0,opacity:1})},t[0]=m,t[1]=r,t[2]=T):T=t[2];const b=wu(T);if(o)return null;let A;t[3]!==b?(A=b(),t[3]=b,t[4]=A):A=t[4];let D;t[5]!==_||t[6]!==p||t[7]!==g?(D={x:p,y:g,opacity:_},t[5]=_,t[6]=p,t[7]=g,t[8]=D):D=t[8];let k;return t[9]!==i||t[10]!==A||t[11]!==D?(k=S.jsx(As.div,{...A,className:N7.popup,style:D,children:i}),t[9]=i,t[10]=A,t[11]=D,t[12]=k):k=t[12],k};function L7(){return{from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}}}const Sv=J.createContext(),Su=()=>J.useContext(Sv),j7=({children:e})=>{const[t,i]=J.useState([]),r=(f,m={})=>{const p=Date.now();i(g=>[...g,{id:p,message:f,...m}]),m.persistent||setTimeout(()=>o(p),m.duration||3e3)},o=f=>{i(m=>m.filter(p=>p.id!==f))},u=J.useMemo(()=>({showNotification:r,removeNotification:o}),[]);return S.jsxs(Sv,{value:u,children:[e,S.jsx("div",{style:{position:"fixed",top:20,right:0,left:0,display:"flex",flexDirection:"column",padding:20,gap:10,zIndex:10,pointerEvents:"none"},children:t.map(f=>S.jsx(O7,{...f,onClose:()=>o(f.id)},f.id))})]})};function ho(e){const t=e.current.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function k7(e,t){let i=0;return function(...r){const o=Date.now();o-i>=t&&(i=o,e.apply(this,r))}}function P7(e,t){let i;return(...r)=>{clearTimeout(i),i=setTimeout(()=>e(...r),t)}}async function U7(e,t=32*1024){const i=[];let r=0;const o=await e.arrayBuffer();for(;r<o.byteLength;){const u=o.slice(r,r+t);i.push(u),r+=t,i.length%50===0&&await new Promise(f=>setTimeout(f,0))}return i}async function B7(e,t){let i=0;t.send(JSON.stringify({type:"imageStart",sentId:e.sentId,receivedId:e.receivedId}));for(const r of e.chunks)i++,t.send(r),i%50===0&&await new Promise(o=>setTimeout(o,0));t.send(JSON.stringify({type:"imageEnd",imageType:e.fileType}))}const $1=({type:e,content:t,replying:i,setReplying:r,selectedMessage:o,dataChannel:u,addMessage:f,sentId:m,inputRef:p,atBottomRef:g,chatBottom:_})=>{const T={type:e,content:t,sentId:m.current,receivedId:null},b={sentId:m.current,receivedId:null,type:e==="text"?e:"image",status:"sending",reaction:-1,content:t,deleted:0};if(i){const A={sentId:o.receivedId,receivedId:o.sentId};T.replyTo={...o,...A},b.replyTo=o,r(!1)}u.send(JSON.stringify(T)),f(b),m.current=m.current+1,p&&(p.current.value=""),ho(_)&&(g.current=!0),console.log("The value of isInViewPort is ",ho(_))};function z7(e){return e?new RegExp("^(?:\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F|\\p{Emoji_Modifier_Base}(?:\\p{Emoji_Modifier})?|\\p{Extended_Pictographic})+$","u").test(e.trim()):void 0}function q7(e,t){return e.length<=t?e:e.slice(0,t)+"..."}const gy=e=>{let t;const i=new Set,r=(g,_)=>{const T=typeof g=="function"?g(t):g;if(!Object.is(T,t)){const b=t;t=_??(typeof T!="object"||T===null)?T:Object.assign({},t,T),i.forEach(A=>A(t,b))}},o=()=>t,m={setState:r,getState:o,getInitialState:()=>p,subscribe:g=>(i.add(g),()=>i.delete(g))},p=t=e(r,o,m);return m},H7=e=>e?gy(e):gy,G7=e=>e;function F7(e,t=G7){const i=ea.useSyncExternalStore(e.subscribe,ea.useCallback(()=>t(e.getState()),[e,t]),ea.useCallback(()=>t(e.getInitialState()),[e,t]));return ea.useDebugValue(i),i}const py=e=>{const t=H7(e),i=r=>F7(t,r);return Object.assign(i,t),i},Cv=e=>e?py(e):py,At=Cv(e=>({messages:[],addMessage:t=>e(i=>({messages:[...i.messages,t]})),removeMessage:(t,i)=>e(r=>({messages:r.messages.filter(o=>o.sentId!==t&&o.receivedId!==i)})),updateMessage:(t,i,r)=>e(o=>({messages:o.messages.map(u=>u.sentId===t&&u.receivedId===i?{...u,...r}:u)})),highlightMessage:(t,i)=>e(r=>({messages:r.messages.map(o=>o.sentId===t&&o.receivedId===i?{...o,highlight:!o.highlight}:o)})),replying:null,setReplying:t=>e(()=>({replying:t})),actionsShown:!1,setActionsShown:t=>e(()=>({actionsShown:t})),reactionsShown:!1,setReactionsShown:t=>e(()=>({reactionsShown:t})),newMessage:!1,setNewMessage:t=>e(()=>({newMessage:t})),incomingCall:!1,setIncomingCall:t=>e(()=>({incomingCall:t})),typing:!1,setTyping:t=>e(()=>({typing:t})),imageDialog:null,setImageDialog:t=>e(()=>({imageDialog:t})),videoCall:"hidden",setVideoCall:t=>e(()=>({videoCall:t})),settings:!1,setSettings:t=>e(()=>({settings:t}))})),Se=Cv(e=>({audio:!1,setAudio:t=>e(()=>({audio:t})),video:!1,setVideo:t=>e(()=>({video:t})),remoteAudio:!1,setRemoteAudio:t=>e(()=>({remoteAudio:t})),remoteVideo:!1,setRemoteVideo:t=>e(()=>({remoteVideo:t})),cameraFace:"front",setCameraFace:t=>e(()=>({cameraFace:t})),controlsShown:!0,setControlsShown:t=>e(()=>({controlsShown:t})),toggleControlsShown:()=>e(t=>({controlsShown:!t.controlsShown})),callMode:"normal",setCallMode:t=>e(()=>({callMode:t}))})),ri=J.createContext(null),Q7=({children:e})=>{console.log("Chat context rendered!");const{dataChannel:t,imageChannel:i}=J.useContext(hn),{showNotification:r}=Su(),o=J.useRef(null),u=J.useRef([]),f=J.useRef(0),m=J.useRef(null),p=J.useRef({x:0,y:0}),g=J.useRef(!1),_=J.useRef(null),T=J.useRef(!1),b=J.useRef(null),A=At(W=>W.addMessage),D=At(W=>W.updateMessage),k=At(W=>W.removeMessage),j=At(W=>W.setNewMessage),B=At(W=>W.setVideoCall),q=At(W=>W.setIncomingCall),F=At(W=>W.setTyping);J.useEffect(()=>(t.current.onmessage=W=>{let Y=JSON.parse(W.data);if(Y.type==="typing")clearTimeout(_.current),F(!0),_.current=setTimeout(()=>{F(!1)},1400);else if(Y.type==="text"){let M={receivedId:Y.sentId,sentId:Y.receivedId,type:Y.type,reaction:-1,content:Y.content,deleted:0,hightlight:!1,replyTo:Y.replyTo};ho(m)?(console.log("I am in the bottom!"),T.current=!0):j(!0);let x={type:"ack",sentId:Y.sentId,receivedId:Y.receivedId};t.current.send(JSON.stringify(x)),A(M)}else if(Y.type==="ack")D(Y.sentId,null,{status:"sent"});else if(Y.type==="reaction"){let M={type:"ackReaction",sentId:Y.id,reaction:Y.reaction};t.current.send(JSON.stringify(M)),D(Y.id,null,{reaction:Y.reaction})}else if(Y.type==="ackReaction")console.log("I have received an ackReaction message: ",Y),D(null,Y.sentId,{reaction:Y.reaction});else if(Y.type==="gif"){let M={receivedId:Y.sentId,sentId:Y.receivedId,type:"image",reaction:-1,content:Y.content,deleted:0,hightlight:!1,replyTo:Y.replyTo};ho(m)?T.current=!0:j(!0);let x={type:"gifAck",sentId:Y.sentId,receivedId:Y.receivedId};t.current.send(JSON.stringify(x)),A(M)}else if(Y.type==="gifAck")D(Y.sentId,Y.receivedId,{status:"sent"});else if(Y.type==="imageRequest"){let M={receivedId:Y.sentId,sentId:Y.receivedId,type:Y.type,reaction:-1,deleted:0,hightlight:!1,replyTo:Y.replyTo};ho(m)?T.current=!0:j(!0),A(M)}else if(Y.type==="imageAccept"){const M=u.current.find(x=>x.sentId===Y.sentId&&x.receivedId===Y.receivedId);console.log(M),(async()=>await B7(M,i.current))()}else if(Y.type==="imageReject")console.log("The image I sent was rejected!"),k(Y.sentId,Y.receivedId);else if(Y.type==="imageReceived")D(Y.sentId,Y.receivedId,{status:"sent"});else if(Y.type==="delete"){let M={type:"ackDeletion",sentId:Y.sentId};t.current.send(JSON.stringify(M)),D(null,Y.sentId,{type:"text",content:"This message has been deleted",deleted:2})}else Y.type==="ackDeletion"?D(Y.sentId,null,{type:"text",content:"This message has been deleted",deleted:2}):Y.type==="callRequest"?(console.log("The other peer is trying to call me!"),q(!0)):Y.type==="callCancel"?q(!1):Y.type==="callReject"?(r("Your call was rejected!"),B("hidden")):Y.type==="callAccept"?B("connected"):Y.type==="callEnd"&&B("hidden")},i.current.onmessage=W=>{if(typeof W.data=="string"){const Y=JSON.parse(W.data);if(Y.type==="imageStart")b.current={sentId:Y.receivedId,receivedId:Y.sentId,chunks:[]};else if(Y.type==="imageEnd"){const M=new Blob(b.current.chunks,{type:Y.imageType}),x=URL.createObjectURL(M);t.current.send(JSON.stringify({type:"imageReceived",sentId:b.current.receivedId,receivedId:b.current.sentId})),D(b.current.sentId,b.current.receivedId,{type:"image",content:x,status:"received"}),b.current=null}}else b.current.chunks.push(W.data)},()=>{t.current.onmessage=null,i.current.onmessage=null}),[]);const Z=J.useMemo(()=>({chatBottom:m,sentId:f,selectedMessage:o,pointerPosition:p,longPressed:g,atBottomRef:T,images:u,receivingImage:b}),[]);return S.jsx(ri,{value:Z,children:e})},Y7="_navContainer_1vwj8_1",$7="_logo_1vwj8_10",K7="_navList_1vwj8_16",X7="_hamburger_1vwj8_30",Oi={navContainer:Y7,logo:$7,navList:K7,hamburger:X7};function Z7(){const e=de.c(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=S.jsx("a",{href:"/",className:Oi.logo,"aria-label":"Homepage",children:"boop"}),e[0]=t):t=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx("a",{className:Oi.hamburger,"aria-label":"Expand for menu",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[S.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),S.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),S.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),e[1]=i):i=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx("li",{className:Oi.navItem,children:S.jsx("a",{href:"#about",className:Oi.navLink,children:"About"})}),e[2]=r):r=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsx("li",{className:Oi.navItem,children:S.jsx("a",{href:"#projects",className:Oi.navLink,children:"Policy"})}),e[3]=o):o=e[3];let u;return e[4]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsxs("nav",{"aria-label":"Main Navigation",className:Oi.navContainer,children:[t,i,S.jsxs("ul",{className:Oi.navList,children:[r,o,S.jsx("li",{className:Oi.navItem,children:S.jsx("a",{href:"#contact",className:Oi.navLink,children:"Contact"})})]})]}),e[4]=u):u=e[4],u}const J7="_mainContainer_15mr1_1",W7="_inputCard_15mr1_13",t8="_linkInput_15mr1_41",e8="_loaderWrapper_15mr1_71",n8="_loader_15mr1_71",zl={mainContainer:J7,inputCard:W7,linkInput:t8,loaderWrapper:e8,loader:n8},i8=()=>{};var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},s8=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],f=e[i++],m=e[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=e[i++],f=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,A=g&63;p||(A=64,f||(b=64)),r.push(i[_],i[T],i[b],i[A])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Av(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],m=o<e.length?i[e.charAt(o)]:0;++o;const g=o<e.length?i[e.charAt(o)]:64;++o;const T=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new r8;const b=u<<2|m>>4;if(r.push(b),g!==64){const A=m<<4&240|g>>2;if(r.push(A),T!==64){const D=g<<6&192|T;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class r8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a8=function(e){const t=Av(e);return Rv.encodeByteArray(t,!0)},vh=function(e){return a8(e).replace(/\./g,"")},o8=function(e){try{return Rv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=()=>l8().__FIREBASE_DEFAULTS__,c8=()=>{if(typeof process>"u"||typeof yy>"u")return;const e=yy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},h8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&o8(e[1]);return t&&JSON.parse(t)},Nm=()=>{try{return i8()||u8()||c8()||h8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},f8=e=>{var t,i;return(i=(t=Nm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},d8=e=>{const t=f8(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},xv=()=>{var e;return(e=Nm())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e){return e.endsWith(".cloudworkstations.dev")}async function g8(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vh(JSON.stringify(i)),vh(JSON.stringify(f)),""].join(".")}const Jl={};function y8(){const e={prod:[],emulator:[]};for(const t of Object.keys(Jl))Jl[t]?e.emulator.push(t):e.prod.push(t);return e}function _8(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let _y=!1;function v8(e,t){if(typeof window>"u"||typeof document>"u"||!Om(window.location.host)||Jl[e]===t||Jl[e]||_y)return;Jl[e]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=y8().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_y=!0,f()},b}function _(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=_8(r),A=i("text"),D=document.getElementById(A)||document.createElement("span"),k=i("learnmore"),j=document.getElementById(k)||document.createElement("a"),B=i("preprendIcon"),q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;m(F),_(j,k);const Z=g();p(q,B),F.append(q,D,j,Z),document.body.appendChild(F)}u?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T8(){var e;const t=(e=Nm())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b8(){return!T8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w8(){try{return typeof indexedDB=="object"}catch{return!1}}function S8(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="FirebaseError";class Ao extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=C8,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iv.prototype.create)}}class Iv{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?A8(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ao(o,m,r)}}function A8(e,t){return e.replace(R8,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const R8=/\{\$([^}]+)}/g;function Eh(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=e[o],f=t[o];if(vy(u)&&vy(f)){if(!Eh(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function vy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e){return e&&e._delegate?e._delegate:e}class hu{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new m8;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(D8(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I8(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I8(e){return e===Wr?void 0:e}function D8(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new x8(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($t||($t={}));const V8={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},N8=$t.INFO,O8={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},L8=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=O8[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dv{constructor(t){this.name=t,this._logLevel=N8,this._logHandler=L8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?V8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const j8=(e,t)=>t.some(i=>e instanceof i);let Ey,Ty;function k8(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P8(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,K1=new WeakMap,Vv=new WeakMap,S1=new WeakMap,Lm=new WeakMap;function U8(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{i(lr(e.result)),o()},f=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&Mv.set(i,e)}).catch(()=>{}),Lm.set(t,e),t}function B8(e){if(K1.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});K1.set(e,t)}let X1={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return K1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Vv.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function z8(e){X1=e(X1)}function q8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(C1(this),t,...i);return Vv.set(r,t.sort?t.sort():[t]),lr(r)}:P8().includes(e)?function(...t){return e.apply(C1(this),t),lr(Mv.get(this))}:function(...t){return lr(e.apply(C1(this),t))}}function H8(e){return typeof e=="function"?q8(e):(e instanceof IDBTransaction&&B8(e),j8(e,k8())?new Proxy(e,X1):e)}function lr(e){if(e instanceof IDBRequest)return U8(e);if(S1.has(e))return S1.get(e);const t=H8(e);return t!==e&&(S1.set(e,t),Lm.set(t,e)),t}const C1=e=>Lm.get(e);function G8(e,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=lr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(lr(f.result),p.oldVersion,p.newVersion,lr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const F8=["get","getKey","getAll","getAllKeys","count"],Q8=["put","add","delete","clear"],A1=new Map;function by(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(A1.get(t))return A1.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Q8.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||F8.includes(i)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return A1.set(t,u),u}z8(e=>({...e,get:(t,i,r)=>by(t,i)||e.get(t,i,r),has:(t,i)=>!!by(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($8(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function $8(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Z1="@firebase/app",wy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Dv("@firebase/app"),K8="@firebase/app-compat",X8="@firebase/analytics-compat",Z8="@firebase/analytics",J8="@firebase/app-check-compat",W8="@firebase/app-check",tE="@firebase/auth",eE="@firebase/auth-compat",nE="@firebase/database",iE="@firebase/data-connect",sE="@firebase/database-compat",rE="@firebase/functions",aE="@firebase/functions-compat",oE="@firebase/installations",lE="@firebase/installations-compat",uE="@firebase/messaging",cE="@firebase/messaging-compat",hE="@firebase/performance",fE="@firebase/performance-compat",dE="@firebase/remote-config",mE="@firebase/remote-config-compat",gE="@firebase/storage",pE="@firebase/storage-compat",yE="@firebase/firestore",_E="@firebase/ai",vE="@firebase/firestore-compat",EE="firebase",TE="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="[DEFAULT]",bE={[Z1]:"fire-core",[K8]:"fire-core-compat",[Z8]:"fire-analytics",[X8]:"fire-analytics-compat",[W8]:"fire-app-check",[J8]:"fire-app-check-compat",[tE]:"fire-auth",[eE]:"fire-auth-compat",[nE]:"fire-rtdb",[iE]:"fire-data-connect",[sE]:"fire-rtdb-compat",[rE]:"fire-fn",[aE]:"fire-fn-compat",[oE]:"fire-iid",[lE]:"fire-iid-compat",[uE]:"fire-fcm",[cE]:"fire-fcm-compat",[hE]:"fire-perf",[fE]:"fire-perf-compat",[dE]:"fire-rc",[mE]:"fire-rc-compat",[gE]:"fire-gcs",[pE]:"fire-gcs-compat",[yE]:"fire-fst",[vE]:"fire-fst-compat",[_E]:"fire-vertex","fire-js":"fire-js",[EE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,wE=new Map,W1=new Map;function Sy(e,t){try{e.container.addComponent(t)}catch(i){ws.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function bh(e){const t=e.name;if(W1.has(t))return ws.debug(`There were multiple attempts to register component ${t}.`),!1;W1.set(t,e);for(const i of Th.values())Sy(i,e);for(const i of wE.values())Sy(i,e);return!0}function SE(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function CE(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Iv("app","Firebase",AE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=TE;function Nv(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:J1,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=xv()),!i)throw ur.create("no-options");const u=Th.get(o);if(u){if(Eh(i,u.options)&&Eh(r,u.config))return u;throw ur.create("duplicate-app",{appName:o})}const f=new M8(o);for(const p of W1.values())f.addComponent(p);const m=new RE(i,r,f);return Th.set(o,m),m}function IE(e=J1){const t=Th.get(e);if(!t&&e===J1&&xv())return Nv();if(!t)throw ur.create("no-app",{appName:e});return t}function fo(e,t,i){var r;let o=(r=bE[e])!==null&&r!==void 0?r:e;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ws.warn(m.join(" "));return}bh(new hu(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebase-heartbeat-database",ME=1,fu="firebase-heartbeat-store";let R1=null;function Ov(){return R1||(R1=G8(DE,ME,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(fu)}catch(i){console.warn(i)}}}}).catch(e=>{throw ur.create("idb-open",{originalErrorMessage:e.message})})),R1}async function VE(e){try{const i=(await Ov()).transaction(fu),r=await i.objectStore(fu).get(Lv(e));return await i.done,r}catch(t){if(t instanceof Ao)ws.warn(t.message);else{const i=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ws.warn(i.message)}}}async function Cy(e,t){try{const r=(await Ov()).transaction(fu,"readwrite");await r.objectStore(fu).put(t,Lv(e)),await r.done}catch(i){if(i instanceof Ao)ws.warn(i.message);else{const r=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ws.warn(r.message)}}}function Lv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=1024,OE=30;class LE{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kE(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ay();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>OE){const f=PE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ay(),{heartbeatsToSend:r,unsentEntries:o}=jE(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ws.warn(i),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function jE(e,t=NE){const i=[];let r=e.slice();for(const o of e){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ry(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ry(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class kE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w8()?S8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VE(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ry(e){return vh(JSON.stringify({version:2,heartbeats:e})).length}function PE(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e){bh(new hu("platform-logger",t=>new Y8(t),"PRIVATE")),bh(new hu("heartbeat",t=>new LE(t),"PRIVATE")),fo(Z1,wy,e),fo(Z1,wy,"esm2017"),fo("fire-js","")}UE("");var BE="firebase",zE="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(BE,zE,"app");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,jv;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,x){function R(){}R.prototype=x.prototype,M.D=x.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,N,P){for(var I=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)I[Rt-2]=arguments[Rt];return x.prototype[N].apply(O,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,R){R||(R=0);var O=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)O[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;16>N;++N)O[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=M.g[0],R=M.g[1],N=M.g[2];var P=M.g[3],I=x+(P^R&(N^P))+O[0]+3614090360&4294967295;x=R+(I<<7&4294967295|I>>>25),I=P+(N^x&(R^N))+O[1]+3905402710&4294967295,P=x+(I<<12&4294967295|I>>>20),I=N+(R^P&(x^R))+O[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(x^N&(P^x))+O[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=x+(P^R&(N^P))+O[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=P+(N^x&(R^N))+O[5]+1200080426&4294967295,P=x+(I<<12&4294967295|I>>>20),I=N+(R^P&(x^R))+O[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(x^N&(P^x))+O[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=x+(P^R&(N^P))+O[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=P+(N^x&(R^N))+O[9]+2336552879&4294967295,P=x+(I<<12&4294967295|I>>>20),I=N+(R^P&(x^R))+O[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(x^N&(P^x))+O[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=x+(P^R&(N^P))+O[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=P+(N^x&(R^N))+O[13]+4254626195&4294967295,P=x+(I<<12&4294967295|I>>>20),I=N+(R^P&(x^R))+O[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=R+(x^N&(P^x))+O[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=x+(N^P&(R^N))+O[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(x^R))+O[6]+3225465664&4294967295,P=x+(I<<9&4294967295|I>>>23),I=N+(x^R&(P^x))+O[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^x&(N^P))+O[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=x+(N^P&(R^N))+O[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(x^R))+O[10]+38016083&4294967295,P=x+(I<<9&4294967295|I>>>23),I=N+(x^R&(P^x))+O[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^x&(N^P))+O[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=x+(N^P&(R^N))+O[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(x^R))+O[14]+3275163606&4294967295,P=x+(I<<9&4294967295|I>>>23),I=N+(x^R&(P^x))+O[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^x&(N^P))+O[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=x+(N^P&(R^N))+O[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=P+(R^N&(x^R))+O[2]+4243563512&4294967295,P=x+(I<<9&4294967295|I>>>23),I=N+(x^R&(P^x))+O[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=R+(P^x&(N^P))+O[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=x+(R^N^P)+O[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=P+(x^R^N)+O[8]+2272392833&4294967295,P=x+(I<<11&4294967295|I>>>21),I=N+(P^x^R)+O[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^x)+O[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=x+(R^N^P)+O[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=P+(x^R^N)+O[4]+1272893353&4294967295,P=x+(I<<11&4294967295|I>>>21),I=N+(P^x^R)+O[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^x)+O[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=x+(R^N^P)+O[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=P+(x^R^N)+O[0]+3936430074&4294967295,P=x+(I<<11&4294967295|I>>>21),I=N+(P^x^R)+O[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^x)+O[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=x+(R^N^P)+O[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=P+(x^R^N)+O[12]+3873151461&4294967295,P=x+(I<<11&4294967295|I>>>21),I=N+(P^x^R)+O[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=R+(N^P^x)+O[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=x+(N^(R|~P))+O[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=P+(R^(x|~N))+O[7]+1126891415&4294967295,P=x+(I<<10&4294967295|I>>>22),I=N+(x^(P|~R))+O[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~x))+O[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=x+(N^(R|~P))+O[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=P+(R^(x|~N))+O[3]+2399980690&4294967295,P=x+(I<<10&4294967295|I>>>22),I=N+(x^(P|~R))+O[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~x))+O[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=x+(N^(R|~P))+O[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=P+(R^(x|~N))+O[15]+4264355552&4294967295,P=x+(I<<10&4294967295|I>>>22),I=N+(x^(P|~R))+O[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~x))+O[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=x+(N^(R|~P))+O[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=P+(R^(x|~N))+O[11]+3174756917&4294967295,P=x+(I<<10&4294967295|I>>>22),I=N+(x^(P|~R))+O[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=R+(P^(N|~x))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+P&4294967295}r.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var R=x-this.blockSize,O=this.B,N=this.h,P=0;P<x;){if(N==0)for(;P<=R;)o(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<x;)if(O[N++]=M.charCodeAt(P++),N==this.blockSize){o(this,O),N=0;break}}else for(;P<x;)if(O[N++]=M[P++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var R=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=R&255,R/=256;for(this.u(M),M=Array(16),x=R=0;4>x;++x)for(var O=0;32>O;O+=8)M[R++]=this.g[x]>>>O&255;return M};function u(M,x){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=x(M)}function f(M,x){this.h=x;for(var R=[],O=!0,N=M.length-1;0<=N;N--){var P=M[N]|0;O&&P==x||(R[N]=P,O=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(x){return new f([x|0],0>x?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return j(g(-M));for(var x=[],R=1,O=0;M>=R;O++)x[O]=M/R|0,R*=4294967296;return new f(x,0)}function _(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return j(_(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),O=T,N=0;N<M.length;N+=8){var P=Math.min(8,M.length-N),I=parseInt(M.substring(N,N+P),x);8>P?(P=g(Math.pow(x,P)),O=O.j(P).add(g(I))):(O=O.j(R),O=O.add(g(I)))}return O}var T=p(0),b=p(1),A=p(16777216);e=f.prototype,e.m=function(){if(k(this))return-j(this).m();for(var M=0,x=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*x,x*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(k(this))return"-"+j(this).toString(M);for(var x=g(Math.pow(M,6)),R=this,O="";;){var N=Z(R,x).g;R=B(R,N.j(x));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=N,D(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function k(M){return M.h==-1}e.l=function(M){return M=B(this,M),k(M)?-1:D(M)?0:1};function j(M){for(var x=M.g.length,R=[],O=0;O<x;O++)R[O]=~M.g[O];return new f(R,~M.h).add(b)}e.abs=function(){return k(this)?j(this):this},e.add=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],O=0,N=0;N<=x;N++){var P=O+(this.i(N)&65535)+(M.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);O=I>>>16,P&=65535,I&=65535,R[N]=I<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function B(M,x){return M.add(j(x))}e.j=function(M){if(D(this)||D(M))return T;if(k(this))return k(M)?j(this).j(j(M)):j(j(this).j(M));if(k(M))return j(this.j(j(M)));if(0>this.l(A)&&0>M.l(A))return g(this.m()*M.m());for(var x=this.g.length+M.g.length,R=[],O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<M.g.length;N++){var P=this.i(O)>>>16,I=this.i(O)&65535,Rt=M.i(N)>>>16,xt=M.i(N)&65535;R[2*O+2*N]+=I*xt,q(R,2*O+2*N),R[2*O+2*N+1]+=P*xt,q(R,2*O+2*N+1),R[2*O+2*N+1]+=I*Rt,q(R,2*O+2*N+1),R[2*O+2*N+2]+=P*Rt,q(R,2*O+2*N+2)}for(O=0;O<x;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=x;O<2*x;O++)R[O]=0;return new f(R,0)};function q(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function F(M,x){this.g=M,this.h=x}function Z(M,x){if(D(x))throw Error("division by zero");if(D(M))return new F(T,T);if(k(M))return x=Z(j(M),x),new F(j(x.g),j(x.h));if(k(x))return x=Z(M,j(x)),new F(j(x.g),x.h);if(30<M.g.length){if(k(M)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=x;0>=O.l(M);)R=W(R),O=W(O);var N=Y(R,1),P=Y(O,1);for(O=Y(O,2),R=Y(R,2);!D(O);){var I=P.add(O);0>=I.l(M)&&(N=N.add(R),P=I),O=Y(O,1),R=Y(R,1)}return x=B(M,N.j(x)),new F(N,x)}for(N=T;0<=M.l(x);){for(R=Math.max(1,Math.floor(M.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=g(R),I=P.j(x);k(I)||0<I.l(M);)R-=O,P=g(R),I=P.j(x);D(P)&&(P=b),N=N.add(P),M=B(M,I)}return new F(N,M)}e.A=function(M){return Z(this,M).h},e.and=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)&M.i(O);return new f(R,this.h&M.h)},e.or=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)|M.i(O);return new f(R,this.h|M.h)},e.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)^M.i(O);return new f(R,this.h^M.h)};function W(M){for(var x=M.g.length+1,R=[],O=0;O<x;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(R,M.h)}function Y(M,x){var R=x>>5;x%=32;for(var O=M.g.length-R,N=[],P=0;P<O;P++)N[P]=0<x?M.i(P+R)>>>x|M.i(P+R+1)<<32-x:M.i(P+R);return new f(N,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jv=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,cr=f}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kv,Gl,Pv,lh,tm,Uv,Bv,zv;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var v=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in v))break t;v=v[H]}c=c[c.length-1],C=v[c],y=y(C),y!=C&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,C=!1,H={next:function(){if(!C&&v<c.length){var tt=v++;return{value:y(tt,c[tt]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,b.apply(null,arguments)}function A(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function D(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(C,H,tt){for(var ht=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)ht[Gt-2]=arguments[Gt];return y.prototype[H].apply(C,ht)}}function k(c){const y=c.length;if(0<y){const v=Array(y);for(let C=0;C<y;C++)v[C]=c[C];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(p(C)){const H=c.length||0,tt=C.length||0;c.length=H+tt;for(let ht=0;ht<tt;ht++)c[H+ht]=C[ht]}else c.push(C)}}class B{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var W=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function Y(c,y,v){for(const C in c)y.call(v,c[C],C,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(v in C)c[v]=C[v];for(let tt=0;tt<R.length;tt++)v=R[tt],Object.prototype.hasOwnProperty.call(C,v)&&(c[v]=C[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=bt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Rt{constructor(){this.h=this.g=null}add(y,v){const C=xt.get();C.set(y,v),this.h?this.h.next=C:this.g=C,this.h=C}}var xt=new B(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ft=!1,bt=new Rt,L=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(it)}};var it=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){P(v)}var y=xt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function yt(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(W){t:{try{Z(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yt.aa.h.call(this)}}D(yt,st);var pt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function ye(c,y,v,C,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!C,this.ha=H,this.key=++Nt,this.da=this.fa=!1}function le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,y,v,C,H){var tt=c.toString();c=this.g[tt],c||(c=this.g[tt]=[],this.h++);var ht=_n(c,y,C,H);return-1<ht?(y=c[ht],v||(y.fa=!1)):(y=new ye(y,this.src,tt,!!C,H),y.fa=v,c.push(y)),y};function Ke(c,y){var v=y.type;if(v in c.g){var C=c.g[v],H=Array.prototype.indexOf.call(C,y,void 0),tt;(tt=0<=H)&&Array.prototype.splice.call(C,H,1),tt&&(le(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _n(c,y,v,C){for(var H=0;H<c.length;++H){var tt=c[H];if(!tt.da&&tt.listener==y&&tt.capture==!!v&&tt.ha==C)return H}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),zn={};function vn(c,y,v,C,H){if(Array.isArray(y)){for(var tt=0;tt<y.length;tt++)vn(c,y[tt],v,C,H);return null}return v=Fi(v),c&&c[Ot]?c.K(y,v,g(C)?!!C.capture:!1,H):It(c,y,v,!1,C,H)}function It(c,y,v,C,H,tt){if(!y)throw Error("Invalid event type");var ht=g(H)?!!H.capture:!!H,Gt=xn(c);if(Gt||(c[fn]=Gt=new Ae(c)),v=Gt.add(y,v,C,ht,tt),v.proxy)return v;if(C=ai(),v.proxy=C,C.src=c,C.listener=v,c.addEventListener)dt||(H=ht),H===void 0&&(H=!1),c.addEventListener(y.toString(),C,H);else if(c.attachEvent)c.attachEvent(rn(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ai(){function c(v){return y.call(c.src,c.listener,v)}const y=yi;return c}function qn(c,y,v,C,H){if(Array.isArray(y))for(var tt=0;tt<y.length;tt++)qn(c,y[tt],v,C,H);else C=g(C)?!!C.capture:!!C,v=Fi(v),c&&c[Ot]?(c=c.i,y=String(y).toString(),y in c.g&&(tt=c.g[y],v=_n(tt,v,C,H),-1<v&&(le(tt[v]),Array.prototype.splice.call(tt,v,1),tt.length==0&&(delete c.g[y],c.h--)))):c&&(c=xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=_n(y,v,C,H)),(v=-1<c?y[c]:null)&&En(v))}function En(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])Ke(y.i,c);else{var v=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(v,C,c.capture):y.detachEvent?y.detachEvent(rn(v),C):y.addListener&&y.removeListener&&y.removeListener(C),(v=xn(y))?(Ke(v,c),v.h==0&&(v.src=null,y[fn]=null)):le(c)}}}function rn(c){return c in zn?zn[c]:zn[c]="on"+c}function yi(c,y){if(c.da)c=!0;else{y=new yt(y,this);var v=c.listener,C=c.ha||c.src;c.fa&&En(c),c=v.call(C,y)}return c}function xn(c){return c=c[fn],c instanceof Ae?c:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(c){return typeof c=="function"?c:(c[Gi]||(c[Gi]=function(y){return c.handleEvent(y)}),c[Gi])}function Wt(){et.call(this),this.i=new Ae(this),this.M=this,this.F=null}D(Wt,et),Wt.prototype[Ot]=!0,Wt.prototype.removeEventListener=function(c,y,v,C){qn(this,c,y,v,C)};function zt(c,y){var v,C=c.F;if(C)for(v=[];C;C=C.F)v.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var H=y;y=new st(C,c),O(y,H)}if(H=!0,v)for(var tt=v.length-1;0<=tt;tt--){var ht=y.g=v[tt];H=Re(ht,C,!0,y)&&H}if(ht=y.g=c,H=Re(ht,C,!0,y)&&H,H=Re(ht,C,!1,y)&&H,v)for(tt=0;tt<v.length;tt++)ht=y.g=v[tt],H=Re(ht,C,!1,y)&&H}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],C=0;C<v.length;C++)le(v[C]);delete c.g[y],c.h--}}this.F=null},Wt.prototype.K=function(c,y,v,C){return this.i.add(String(c),y,!1,v,C)},Wt.prototype.L=function(c,y,v,C){return this.i.add(String(c),y,!0,v,C)};function Re(c,y,v,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,tt=0;tt<y.length;++tt){var ht=y[tt];if(ht&&!ht.da&&ht.capture==v){var Gt=ht.listener,Le=ht.ha||ht.src;ht.fa&&Ke(c.i,ht),H=Gt.call(Le,C)!==!1&&H}}return H&&!C.defaultPrevented}function Ee(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function qe(c){c.g=Ee(()=>{c.g=null,c.i&&(c.i=!1,qe(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class In extends et{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hn(c){et.call(this),this.h=c,this.g={}}D(Hn,et);var Qi=[];function Tr(c){Y(c.g,function(y,v){this.g.hasOwnProperty(v)&&En(y)},c),c.g={}}Hn.prototype.N=function(){Hn.aa.N.call(this),Tr(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=m.JSON.stringify,ca=m.JSON.parse,br=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function No(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){st.call(this,"d")}D($i,st);function Oo(){st.call(this,"c")}D(Oo,st);var _i={},Lo=null;function Rs(){return Lo=Lo||new Wt}_i.La="serverreachability";function ha(c){st.call(this,_i.La,c)}D(ha,st);function xs(c){const y=Rs();zt(y,new ha(y))}_i.STAT_EVENT="statevent";function Iu(c,y){st.call(this,_i.STAT_EVENT,c),this.stat=y}D(Iu,st);function ce(c){const y=Rs();zt(y,new Iu(y,c))}_i.Ma="timingevent";function Oe(c,y){st.call(this,_i.Ma,c),this.size=y}D(Oe,st);function xe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function jo(c,y,v,C,H,tt){c.info(function(){if(c.g)if(tt)for(var ht="",Gt=tt.split("&"),Le=0;Le<Gt.length;Le++){var Ft=Gt[Le].split("=");if(1<Ft.length){var Ge=Ft[0];Ft=Ft[1];var je=Ge.split("_");ht=2<=je.length&&je[1]=="type"?ht+(Ge+"="+Ft+"&"):ht+(Ge+"=redacted&")}}else ht=null;else ht=tt;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+v+`
`+ht})}function ff(c,y,v,C,H,tt,ht){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+v+`
`+tt+" "+ht})}function Is(c,y,v,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+wr(c,v)+(C?" "+C:"")})}function Du(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function wr(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var C=v[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var tt=H[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var ht=1;ht<H.length;ht++)H[ht]=""}}}}return oi(v)}catch{return y}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function Ei(){}D(Ei,Mo),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},vi=new Ei;function dn(c,y,v,C){this.j=c,this.i=y,this.l=v,this.R=C||1,this.U=new Hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var ko={},fa={};function li(c,y,v){c.L=1,c.v=xr(Dn(y)),c.m=v,c.P=!0,Xi(c,null)}function Xi(c,y){c.F=Date.now(),Sr(c),c.A=Dn(c.v);var v=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Ho(v.i,"t",C),c.C=0,v=c.j.J,c.h=new Te,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new In(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Qi[0]=H.toString()),H=Qi);for(var tt=0;tt<H.length;tt++){var ht=vn(v,H[tt],C||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xs(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}dn.prototype.ca=function(c){c=c.target;const y=this.M;y&&$n(c)==3?y.j():this.Y(c)},dn.prototype.Y=function(c){try{if(c==this.g)t:{const je=$n(this.g);var y=this.g.Ba();const ss=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||je!=4||y==7||(y==8||0>=ss?xs(3):xs(2)),Ms(this);var v=this.g.Z();this.X=v;e:if(Mu(this)){var C=Pu(this.g);c="";var H=C.length,tt=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),Ti(this);var ht="";break e}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(tt&&y==H-1)});C.length=0,this.h.g+=c,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=v==200,ff(this.i,this.u,this.A,this.l,this.R,je,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,Le=this.g;if((Gt=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Gt)){var Ft=Gt;break e}}Ft=null}if(v=Ft)Is(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cr(this,v);else{this.o=!1,this.s=3,ce(12),Xe(this),Ti(this);break t}}if(this.P){v=!0;let Ze;for(;!this.J&&this.C<ht.length;)if(Ze=Vu(this,ht),Ze==fa){je==4&&(this.s=4,ce(14),v=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==ko){this.s=4,ce(15),Is(this.i,this.l,ht,"[Invalid Chunk]"),v=!1;break}else Is(this.i,this.l,Ze,null),Cr(this,Ze);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||ht.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)Is(this.i,this.l,ht,"[Invalid Chunked Response]"),Xe(this),Ti(this);else if(0<ht.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),jr(Ge),Ge.M=!0,ce(11))}}else Is(this.i,this.l,ht,null),Cr(this,ht);je==4&&Xe(this),this.o&&!this.J&&(je==4?Hu(this.j,this):(this.o=!1,Sr(this)))}else yf(this.g),v==400&&0<ht.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),Xe(this),Ti(this)}}}catch{}finally{}};function Mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,C=y.indexOf(`
`,v);return C==-1?fa:(v=Number(y.substring(v,C)),isNaN(v)?ko:(C+=1,C+v>y.length?fa:(y=y.slice(C,C+v),c.C=C+v,y)))}dn.prototype.cancel=function(){this.J=!0,Xe(this)};function Sr(c){c.S=Date.now()+c.I,Nu(c,c.I)}function Nu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xe(b(c.ba,c),y)}function Ms(c){c.B&&(m.clearTimeout(c.B),c.B=null)}dn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Du(this.i,this.A),this.L!=2&&(xs(),ce(17)),Xe(this),this.s=2,Ti(this)):Nu(this,this.S-c)};function Ti(c){c.j.G==0||c.J||Hu(c.j,c)}function Xe(c){Ms(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Tr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Cr(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Po(v.h,c))){if(!c.K&&Po(v.h,c)&&v.G==3){try{var C=v.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Sa(v),ba(v);else break t;$o(v),ce(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=xe(b(v.Za,v),6e3));if(1>=ma(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else is(v,11)}else if((c.K||v.g==c)&&Sa(v),!q(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Ft=H[y];if(v.T=Ft[0],Ft=Ft[1],v.G==2)if(Ft[0]=="c"){v.K=Ft[1],v.ia=Ft[2];const Ge=Ft[3];Ge!=null&&(v.la=Ge,v.j.info("VER="+v.la));const je=Ft[4];je!=null&&(v.Aa=je,v.j.info("SVER="+v.Aa));const ss=Ft[5];ss!=null&&typeof ss=="number"&&0<ss&&(C=1.5*ss,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Ze=c.g;if(Ze){const xi=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var tt=C.h;tt.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(ga(tt,tt.h),tt.h=null))}if(C.D){const Xo=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(C.ya=Xo,ne(C.I,C.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var ht=c;if(C.qa=Fu(C,C.J?C.ia:null,C.W),ht.K){mn(C.h,ht);var Gt=ht,Le=C.L;Le&&(Gt.I=Le),Gt.B&&(Ms(Gt),Sr(Gt)),C.g=ht}else zu(C);0<v.i.length&&wa(v)}else Ft[0]!="stop"&&Ft[0]!="close"||is(v,7);else v.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?is(v,7):Qo(v):Ft[0]!="noop"&&v.l&&v.l.ta(Ft),v.v=0)}}xs(4)}catch{}}var Ou=class{constructor(c,y){this.g=c,this.map=y}};function Zi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ma(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Zi.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return k(c.i)}function df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,C=0;C<v;C++)y.push(c[C]);return y}y=[],v=0;for(C in c)y[v++]=c[C];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const C in c)y[v++]=C;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=pa(c),C=df(c),H=C.length,tt=0;tt<H;tt++)y.call(void 0,C[tt],v&&v[tt],c)}var Ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var C=c[v].indexOf("="),H=null;if(0<=C){var tt=c[v].substring(0,C);H=c[v].substring(C+1)}else tt=c[v];y(tt,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ie(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ie){this.h=c.h,Rr(this,c.j),this.o=c.o,this.g=c.g,Vs(this,c.s),this.l=c.l;var y=c.i,v=new Wi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ji(this,v),this.m=c.m}else c&&(y=String(c).match(Ar))?(this.h=!1,Rr(this,y[1]||"",!0),this.o=Fn(y[2]||""),this.g=Fn(y[3]||"",!0),Vs(this,y[4]),this.l=Fn(y[5]||"",!0),Ji(this,y[6]||"",!0),this.m=Fn(y[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Ie.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ir(y,zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ir(y,zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ir(v,v.charAt(0)=="/"?gf:qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ir(v,ya)),c.join("")};function Dn(c){return new Ie(c)}function Rr(c,y,v){c.j=v?Fn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Vs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ji(c,y,v){y instanceof Wi?(c.i=y,ju(c.i,c.h)):(v||(y=Ir(y,pf)),c.i=new Wi(y,c.h))}function ne(c,y,v){c.i.set(y,v)}function xr(c){return ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ir(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Lu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,qo=/[#\?:]/g,gf=/[#\?]/g,pf=/[#\?@]/g,ya=/#/g;function Wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Qn(c){c.g||(c.g=new Map,c.h=0,c.i&&mf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}e=Wi.prototype,e.add=function(c,y){Qn(this),this.i=null,c=bi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ts(c,y){Qn(c),y=bi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function es(c,y){return Qn(c),y=bi(c,y),c.g.has(y)}e.forEach=function(c,y){Qn(this),this.g.forEach(function(v,C){v.forEach(function(H){c.call(y,H,C,this)},this)},this)},e.na=function(){Qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let C=0;C<y.length;C++){const H=c[C];for(let tt=0;tt<H.length;tt++)v.push(y[C])}return v},e.V=function(c){Qn(this);let y=[];if(typeof c=="string")es(this,c)&&(y=y.concat(this.g.get(bi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},e.set=function(c,y){return Qn(this),this.i=null,c=bi(this,c),es(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},e.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ho(c,y,v){ts(c,y),0<v.length&&(c.i=null,c.g.set(bi(c,y),k(v)),c.h+=v.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var C=y[v];const tt=encodeURIComponent(String(C)),ht=this.V(C);for(C=0;C<ht.length;C++){var H=tt;ht[C]!==""&&(H+="="+encodeURIComponent(String(ht[C]))),c.push(H)}}return this.i=c.join("&")};function bi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(Qn(c),c.i=null,c.g.forEach(function(v,C){var H=C.toLowerCase();C!=H&&(ts(this,C),Ho(this,H,v))},c)),c.j=y}function Dr(c,y){const v=new Gn;if(m.Image){const C=new Image;C.onload=A(Yn,v,"TestLoadImage: loaded",!0,y,C),C.onerror=A(Yn,v,"TestLoadImage: error",!1,y,C),C.onabort=A(Yn,v,"TestLoadImage: abort",!1,y,C),C.ontimeout=A(Yn,v,"TestLoadImage: timeout",!1,y,C),m.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function ui(c,y){const v=new Gn,C=new AbortController,H=setTimeout(()=>{C.abort(),Yn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(tt=>{clearTimeout(H),tt.ok?Yn(v,"TestPingServer: ok",!0,y):Yn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Yn(v,"TestPingServer: error",!1,y)})}function Yn(c,y,v,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(v)}catch{}}function Mr(){this.g=new br}function wi(c,y,v){const C=v||"";try{Bo(c,function(H,tt){let ht=H;g(H)&&(ht=oi(H)),y.push(C+tt+"="+encodeURIComponent(ht))})}catch(H){throw y.push(C+"type="+encodeURIComponent("_badmap")),H}}function Ns(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ns,Mo),Ns.prototype.g=function(){return new ns(this.l,this.j)},Ns.prototype.i=function(c){return function(){return c}}({});function ns(c,y){Wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ns,Wt),e=ns.prototype,e.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ci(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Si(this):Ci(this),this.readyState==3&&Go(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,Si(this))},e.Qa=function(c){this.g&&(this.response=c,Si(this))},e.ga=function(){this.g&&Si(this)};function Si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ci(c)}e.setRequestHeader=function(c,y){this.u.append(c,y)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return Y(c,function(v,C){y+=C,y+=":",y+=v,y+=`\r
`}),y}function He(c,y,v){t:{for(C in v){var C=!1;break t}C=!0}C||(v=Fo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ne(c,y,v))}function Zt(c){Wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Zt,Wt);var _a=/^https?$/i,Vr=["POST","PUT"];e=Zt.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,y,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?Vo(this.o):Vo(vi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(tt){ku(this,tt);return}if(c=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)v.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const tt of C.keys())v.set(tt,C.get(tt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(tt=>tt.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vr,y,void 0))||C||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,ht]of v)this.g.setRequestHeader(tt,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nr(this),this.u=!0,this.g.send(c),this.u=!1}catch(tt){ku(this,tt)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),Ai(c)}function va(c){c.A||(c.A=!0,zt(c,"complete"),zt(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,zt(this,"complete"),zt(this,"abort"),Ai(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},e.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)Ee(c.Ea,0,c);else if(zt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const ht=c.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var C;if(C=ht===0){var H=String(c.D).match(Ar)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),C=!_a.test(H?H.toLowerCase():"")}v=C}if(v)zt(c,"complete"),zt(c,"success");else{c.m=6;try{var tt=2<$n(c)?c.g.statusText:""}catch{tt=""}c.l=tt+" ["+c.Z()+"]",va(c)}}finally{Ai(c)}}}}function Ai(c,y){if(c.g){Nr(c);const v=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||zt(c,"ready");try{v.onreadystatechange=C}catch{}}}function Nr(c){c.I&&(m.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ca(y)}};function Pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(c){const y={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(q(c[C]))continue;var v=N(c[C]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const tt=y[H]||[];y[H]=tt,tt.push(v)}M(y,function(C){return C.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,c),this.cb=Or("retryDelaySeedMs",1e4,c),this.Wa=Or("forwardChannelMaxRetries",2,c),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(c&&c.concurrentRequestLimit),this.Da=new Mr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ta.prototype,e.la=8,e.G=1,e.connect=function(c,y,v,C){ce(0),this.W=c,this.H=y||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=Fu(this,null,this.W),wa(this)};function Qo(c){if(Uu(c),c.G==3){var y=c.U++,v=Dn(c.I);if(ne(v,"SID",c.K),ne(v,"RID",y),ne(v,"TYPE","terminate"),Lr(c,v),y=new dn(c,c.j,y),y.L=2,y.v=xr(Dn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Sr(y)}Gu(c)}function ba(c){c.g&&(jr(c),c.g.cancel(),c.g=null)}function Uu(c){ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!da(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||L(),ft||(lt(),ft=!0),bt.add(y,c),c.B=0}}function _f(c,y){return ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xe(b(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new dn(this,this.j,c);let tt=this.o;if(this.S&&(tt?(tt=x(tt),O(tt,this.S)):tt=this.S),this.m!==null||this.O||(H.H=tt,tt=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Bu(this,H,y),v=Dn(this.I),ne(v,"RID",c),ne(v,"CVER",22),this.D&&ne(v,"X-HTTP-Session-Id",this.D),Lr(this,v),tt&&(this.O?y="headers="+encodeURIComponent(String(Fo(tt)))+"&"+y:this.m&&He(v,this.m,tt)),ga(this.h,H),this.Ua&&ne(v,"TYPE","init"),this.P?(ne(v,"$req",y),ne(v,"SID","null"),H.T=!0,li(H,v,null)):li(H,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||da(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const C=Dn(c.I);ne(C,"SID",c.K),ne(C,"RID",v),ne(C,"AID",c.T),Lr(c,C),c.m&&c.o&&He(C,c.m,c.o),v=new dn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,v),li(v,C,y)}function Lr(c,y){c.H&&Y(c.H,function(v,C){ne(y,C,v)}),c.l&&Bo({},function(v,C){ne(y,C,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);var C=c.l?b(c.l.Na,c.l,c):null;t:{var H=c.i;let tt=-1;for(;;){const ht=["count="+v];tt==-1?0<v?(tt=H[0].g,ht.push("ofs="+tt)):tt=0:ht.push("ofs="+tt);let Gt=!0;for(let Le=0;Le<v;Le++){let Ft=H[Le].g;const Ge=H[Le].map;if(Ft-=tt,0>Ft)tt=Math.max(0,H[Le].g-100),Gt=!1;else try{wi(Ge,ht,"req"+Ft+"_")}catch{C&&C(Ge)}}if(Gt){C=ht.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,C}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||L(),ft||(lt(),ft=!0),bt.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xe(b(c.Fa,c),Ko(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xe(b(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),ba(this),qu(this))};function jr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new dn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dn(c.qa);ne(y,"RID","rpc"),ne(y,"SID",c.K),ne(y,"AID",c.T),ne(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ne(y,"TO",c.ja),ne(y,"TYPE","xmlhttp"),Lr(c,y),c.m&&c.o&&He(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=xr(Dn(y)),v.m=null,v.P=!0,Xi(v,c)}e.Za=function(){this.C!=null&&(this.C=null,ba(this),$o(this),ce(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var v=null;if(c.g==y){Sa(c),jr(c),c.g=null;var C=2}else if(Po(c.h,y))v=y.D,mn(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;C=Rs(),zt(C,new Oe(C,v)),wa(c)}else zu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(C==1&&_f(c,y)||C==2&&$o(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:is(c,5);break;case 4:is(c,10);break;case 3:is(c,6);break;default:is(c,2)}}}function Ko(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function is(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),C=c.Xa;const H=!C;C=new Ie(C||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rr(C,"https"),xr(C),H?Dr(C.toString(),v):ui(C.toString(),v)}else ce(2);c.G=0,c.l&&c.l.sa(y),Gu(c),Uu(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,v){var C=v instanceof Ie?Dn(v):new Ie(v);if(C.g!="")y&&(C.g=y+"."+C.g),Vs(C,C.s);else{var H=m.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var tt=new Ie(null);C&&Rr(tt,C),y&&(tt.g=y),H&&Vs(tt,H),v&&(tt.l=v),C=tt}return v=c.D,y=c.ya,v&&y&&ne(C,v,y),ne(C,"VER",c.la),Lr(c,C),C}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Zt(new Ns({eb:v})):new Zt(c.pa),y.Ha(c.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}e=Yu.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ca(){}Ca.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Wt.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ri(this)}D(gn,Wt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qo(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=oi(c),c=v);y.i.push(new Ou(y.Ya++,c)),y.G==3&&wa(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,gn.aa.N.call(this)};function $u(c){$i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D($u,$i);function Ku(){Oo.call(this),this.status=1}D(Ku,Oo);function Ri(c){this.g=c}D(Ri,Yu),Ri.prototype.ua=function(){zt(this.g,"a")},Ri.prototype.ta=function(c){zt(this.g,new $u(c))},Ri.prototype.sa=function(c){zt(this.g,new Ku)},Ri.prototype.ra=function(){zt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,zv=function(){return new Ca},Bv=function(){return Rs()},Uv=_i,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,lh=Ds,Ki.COMPLETE="complete",Pv=Ki,No.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Gl=No,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,kv=Zt}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",Dy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Dv("@firebase/firestore");function ro(){return sa.logLevel}function mt(e,...t){if(sa.logLevel<=$t.DEBUG){const i=t.map(jm);sa.debug(`Firestore (${Ro}): ${e}`,...i)}}function Ss(e,...t){if(sa.logLevel<=$t.ERROR){const i=t.map(jm);sa.error(`Firestore (${Ro}): ${e}`,...i)}}function yo(e,...t){if(sa.logLevel<=$t.WARN){const i=t.map(jm);sa.warn(`Firestore (${Ro}): ${e}`,...i)}}function jm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,qv(e,r,i)}function qv(e,t,i){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ss(r),new Error(r)}function Jt(e,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,e||qv(t,o,r)}function Mt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Ao{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(un.UNAUTHENTICATED))}shutdown(){}}class HE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class GE{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new Hv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class FE{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QE{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new FE(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class My{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YE{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,CE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new My(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$E(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function kt(e,t){return e<t?-1:e>t?1:0}function em(e,t){let i=0;for(;i<e.length&&i<t.length;){const r=e.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return kt(r,o);{const u=Gv(),f=KE(u.encode(Vy(e,i)),u.encode(Vy(t,i)));return f!==0?f:kt(r,o)}}i+=r>65535?2:1}return kt(e.length,t.length)}function Vy(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function KE(e,t){for(let i=0;i<e.length&&i<t.length;++i)if(e[i]!==t[i])return kt(e[i],t[i]);return kt(e.length,t.length)}function _o(e,t,i){return e.length===t.length&&e.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,Oy=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Oy);return new Be(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ny)throw new vt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ny;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Be(0,0))}static max(){return new Dt(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="__name__";class ki{constructor(t,i,r){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&St(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ki.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return kt(t.length,i.length)}static compareSegments(t,i){const r=ki.isNumericId(t),o=ki.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ki.extractNumericId(t).compare(ki.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class fe extends ki{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new vt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new fe(i)}static emptyPath(){return new fe([])}}const XE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends ki{construct(t,i,r){return new nn(t,i,r)}static isValidIdentifier(t){return XE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ly}static keyField(){return new nn([Ly])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new vt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new vt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new vt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new vt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(fe.fromString(t))}static fromName(t){return new Et(fe.fromString(t).popFirst(5))}static empty(){return new Et(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new fe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function ZE(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new Be(i+1,0):new Be(i,r));return new dr(o,Et.empty(),t)}function JE(e){return new dr(e.readTime,e.key,du)}class dr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(Dt.min(),Et.empty(),du)}static max(){return new dr(Dt.max(),Et.empty(),du)}}function WE(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(e.documentKey,t.documentKey),i!==0?i:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(e){if(e.code!==ut.FAILED_PRECONDITION||e.message!==tT)throw e;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ot((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof ot?i:ot.resolve(i)}catch(i){return ot.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):ot.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):ot.reject(i)}static resolve(t){return new ot((i,r)=>{i(t)})}static reject(t){return new ot((i,r)=>{r(t)})}static waitFor(t){return new ot((i,r)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&i()},p=>r(p))}),f=!0,u===o&&i()})}static or(t){let i=ot.resolve(!1);for(const r of t)i=i.next(o=>o?ot.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new ot((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(_=>{f[g]=_,++m,m===u&&r(f)},_=>o(_))}})}static doWhile(t,i){return new ot((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function nT(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Io(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-1;function Qh(e){return e==null}function wh(e){return e===0&&1/e==-1/0}function iT(e){return typeof e=="number"&&Number.isInteger(e)&&!wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="";function sT(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=jy(t)),t=rT(e.get(i),t);return jy(t)}function rT(e,t){let i=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case Qv:i+="";break;default:i+=u}}return i}function jy(e){return e+Qv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function vr(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function Yv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jc(this.root,t,this.comparator,!0)}}class Jc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new en(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Py(this.data.getIterator())}getIteratorFrom(t){return new Py(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Py{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Bn([])}unionWith(t){let i=new ze(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $v("Invalid base64 string: "+u):u}}(t);return new sn(i)}static fromUint8Array(t){const i=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new sn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const aT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(e){if(Jt(!!e,39018),typeof e=="string"){let t=0;const i=aT.exec(e);if(Jt(!!i,46558,{timestamp:e}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ce(e.seconds),nanos:Ce(e.nanos)}}function Ce(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gr(e){return typeof e=="string"?sn.fromBase64String(e):sn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="server_timestamp",Xv="__type__",Zv="__previous_value__",Jv="__local_write_time__";function Pm(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Xv])===null||i===void 0?void 0:i.stringValue)===Kv}function Yh(e){const t=e.mapValue.fields[Zv];return Pm(t)?Yh(t):t}function mu(e){const t=mr(e.mapValue.fields[Jv].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,i,r,o,u,f,m,p,g,_){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Sh="(default)";class gu{constructor(t,i){this.projectId=t,this.database=i||Sh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(t){return t instanceof gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__type__",lT="__max__",Wc={mapValue:{}},t3="__vector__",Ch="value";function pr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pm(e)?4:cT(e)?9007199254740991:uT(e)?10:11:St(28295,{value:e})}function qi(e,t){if(e===t)return!0;const i=pr(e);if(i!==pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mu(e).isEqual(mu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=mr(o.timestampValue),m=mr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return gr(o.bytesValue).isEqual(gr(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return Ce(o.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ce(o.integerValue)===Ce(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ce(o.doubleValue),m=Ce(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return _o(e.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ky(f)!==ky(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qi(f[p],m[p])))return!1;return!0}(e,t);default:return St(52216,{left:e})}}function pu(e,t){return(e.values||[]).find(i=>qi(i,t))!==void 0}function vo(e,t){if(e===t)return 0;const i=pr(e),r=pr(t);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Ce(u.integerValue||u.doubleValue),p=Ce(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(e,t);case 3:return Uy(e.timestampValue,t.timestampValue);case 4:return Uy(mu(e),mu(t));case 5:return em(e.stringValue,t.stringValue);case 6:return function(u,f){const m=gr(u),p=gr(f);return m.compareTo(p)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=kt(m[g],p[g]);if(_!==0)return _}return kt(m.length,p.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=kt(Ce(u.latitude),Ce(f.latitude));return m!==0?m:kt(Ce(u.longitude),Ce(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return By(e.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,_;const T=u.fields||{},b=f.fields||{},A=(m=T[Ch])===null||m===void 0?void 0:m.arrayValue,D=(p=b[Ch])===null||p===void 0?void 0:p.arrayValue,k=kt(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:By(A,D)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=em(p[T],_[T]);if(b!==0)return b;const A=vo(m[p[T]],g[_[T]]);if(A!==0)return A}return kt(p.length,_.length)}(e.mapValue,t.mapValue);default:throw St(23264,{Pe:i})}}function Uy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const i=mr(e),r=mr(t),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function By(e,t){const i=e.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=vo(i[o],r[o]);if(u)return u}return kt(i.length,r.length)}function Eo(e){return nm(e)}function nm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return gr(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return Et.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=nm(u);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${nm(i.fields[f])}`;return o+"}"}(e.mapValue):St(61005,{value:e})}function uh(e){switch(pr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yh(e);return t?16+uh(t):16;case 5:return 2*e.stringValue.length;case 6:return gr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+uh(u),0)}(e.arrayValue);case 10:case 11:return function(r){let o=0;return vr(r.fields,(u,f)=>{o+=u.length+uh(f)}),o}(e.mapValue);default:throw St(13486,{value:e})}}function im(e){return!!e&&"integerValue"in e}function Um(e){return!!e&&"arrayValue"in e}function zy(e){return!!e&&"nullValue"in e}function qy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ch(e){return!!e&&"mapValue"in e}function uT(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Wv])===null||i===void 0?void 0:i.stringValue)===t3}function Wl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vr(e.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Wl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Wl(e.arrayValue.values[i]);return t}return Object.assign({},e)}function cT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===lT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!ch(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(i)}setAll(t){let i=nn.emptyPath(),r={},o=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}f?r[m.lastSegment()]=Wl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());ch(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){vr(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new An(Wl(this.value))}}function e3(e){const t=[];return vr(e.fields,(i,r)=>{const o=new nn([i]);if(ch(r)){const u=e3(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,i,r,o,u,f,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new cn(t,0,Dt.min(),Dt.min(),Dt.min(),An.empty(),0)}static newFoundDocument(t,i,r,o){return new cn(t,1,i,Dt.min(),r,o,0)}static newNoDocument(t,i){return new cn(t,2,i,Dt.min(),Dt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,Dt.min(),Dt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,i){this.position=t,this.inclusive=i}}function Hy(e,t,i){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?r=Et.comparator(Et.fromName(f.referenceValue),i.key):r=vo(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!qi(e.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function hT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{}class Ue extends n3{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new dT(t,i,r):i==="array-contains"?new pT(t,r):i==="in"?new yT(t,r):i==="not-in"?new _T(t,r):i==="array-contains-any"?new vT(t,r):new Ue(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new mT(t,r):new gT(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vo(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(vo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends n3{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new Hi(t,i)}matches(t){return i3(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function i3(e){return e.op==="and"}function s3(e){return fT(e)&&i3(e)}function fT(e){for(const t of e.filters)if(t instanceof Hi)return!1;return!0}function sm(e){if(e instanceof Ue)return e.field.canonicalString()+e.op.toString()+Eo(e.value);if(s3(e))return e.filters.map(t=>sm(t)).join(",");{const t=e.filters.map(i=>sm(i)).join(",");return`${e.op}(${t})`}}function r3(e,t){return e instanceof Ue?function(r,o){return o instanceof Ue&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)}(e,t):e instanceof Hi?function(r,o){return o instanceof Hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,m)=>u&&r3(f,o.filters[m]),!0):!1}(e,t):void St(19439)}function a3(e){return e instanceof Ue?function(i){return`${i.field.canonicalString()} ${i.op} ${Eo(i.value)}`}(e):e instanceof Hi?function(i){return i.op.toString()+" {"+i.getFilters().map(a3).join(" ,")+"}"}(e):"Filter"}class dT extends Ue{constructor(t,i,r){super(t,i,r),this.key=Et.fromName(r.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class mT extends Ue{constructor(t,i){super(t,"in",i),this.keys=o3("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class gT extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=o3("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function o3(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>Et.fromName(r.referenceValue))}class pT extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&pu(i.arrayValue,this.value)}}class yT extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&pu(this.value.arrayValue,i)}}class _T extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!pu(this.value.arrayValue,i)}}class vT extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,i=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function Fy(e,t=null,i=[],r=[],o=null,u=null,f=null){return new ET(e,t,i,r,o,u,f)}function Bm(e){const t=Mt(e);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>sm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Qh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Eo(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Eo(r)).join(",")),t.Ie=i}return t.Ie}function zm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!hT(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!r3(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gy(e.startAt,t.startAt)&&Gy(e.endAt,t.endAt)}function rm(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,i=null,r=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TT(e,t,i,r,o,u,f,m){return new $h(e,t,i,r,o,u,f,m)}function Kh(e){return new $h(e)}function Qy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function bT(e){return e.collectionGroup!==null}function tu(e){const t=Mt(e);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ze(nn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Rh(u,r))}),i.has(nn.keyField().canonicalString())||t.Ee.push(new Rh(nn.keyField(),r))}return t.Ee}function Pi(e){const t=Mt(e);return t.de||(t.de=wT(t,tu(e))),t.de}function wT(e,t){if(e.limitType==="F")return Fy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Rh(o.field,u)});const i=e.endAt?new Ah(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ah(e.startAt.position,e.startAt.inclusive):null;return Fy(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}}function am(e,t,i){return new $h(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Xh(e,t){return zm(Pi(e),Pi(t))&&e.limitType===t.limitType}function l3(e){return`${Bm(Pi(e))}|lt:${e.limitType}`}function ao(e){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>a3(o)).join(", ")}]`),Qh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>Eo(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>Eo(o)).join(",")),`Target(${r})`}(Pi(e))}; limitType=${e.limitType})`}function Zh(e,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Et.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(e,t)&&function(r,o){for(const u of tu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(f,m,p){const g=Hy(f,m,p);return f.inclusive?g<=0:g<0}(r.startAt,tu(r),o)||r.endAt&&!function(f,m,p){const g=Hy(f,m,p);return f.inclusive?g>=0:g>0}(r.endAt,tu(r),o))}(e,t)}function ST(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function u3(e){return(t,i)=>{let r=!1;for(const o of tu(e)){const u=CT(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function CT(e,t,i){const r=e.field.isKeyField()?Et.comparator(t.key,i.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):St(42886)}(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return Yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new pe(Et.comparator);function Cs(){return AT}const c3=new pe(Et.comparator);function Fl(...e){let t=c3;for(const i of e)t=t.insert(i.key,i);return t}function h3(e){let t=c3;return e.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function na(){return eu()}function f3(){return eu()}function eu(){return new la(e=>e.toString(),(e,t)=>e.isEqual(t))}const RT=new pe(Et.comparator),xT=new ze(Et.comparator);function qt(...e){let t=xT;for(const i of e)t=t.add(i);return t}const IT=new ze(kt);function DT(){return IT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function d3(e){return{integerValue:""+e}}function MT(e,t){return iT(t)?d3(t):qm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function VT(e,t,i){return e instanceof xh?function(o,u){const f={fields:{[Xv]:{stringValue:Kv},[Jv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pm(u)&&(u=Yh(u)),u&&(f.fields[Zv]=u),{mapValue:f}}(i,t):e instanceof yu?g3(e,t):e instanceof _u?p3(e,t):function(o,u){const f=m3(o,u),m=Yy(f)+Yy(o.Re);return im(f)&&im(o.Re)?d3(m):qm(o.serializer,m)}(e,t)}function NT(e,t,i){return e instanceof yu?g3(e,t):e instanceof _u?p3(e,t):i}function m3(e,t){return e instanceof Ih?function(r){return im(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class xh extends Jh{}class yu extends Jh{constructor(t){super(),this.elements=t}}function g3(e,t){const i=y3(t);for(const r of e.elements)i.some(o=>qi(o,r))||i.push(r);return{arrayValue:{values:i}}}class _u extends Jh{constructor(t){super(),this.elements=t}}function p3(e,t){let i=y3(t);for(const r of e.elements)i=i.filter(o=>!qi(o,r));return{arrayValue:{values:i}}}class Ih extends Jh{constructor(t,i){super(),this.serializer=t,this.Re=i}}function Yy(e){return Ce(e.integerValue||e.doubleValue)}function y3(e){return Um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function OT(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof yu&&o instanceof yu||r instanceof _u&&o instanceof _u?_o(r.elements,o.elements,qi):r instanceof Ih&&o instanceof Ih?qi(r.Re,o.Re):r instanceof xh&&o instanceof xh}(e.transform,t.transform)}class LT{constructor(t,i){this.version=t,this.transformResults=i}}class Ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wh{}function _3(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new E3(e.key,Ui.none()):new Cu(e.key,e.data,Ui.none());{const i=e.data,r=An.empty();let o=new ze(nn.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Er(e.key,r,new Bn(o.toArray()),Ui.none())}}function jT(e,t,i){e instanceof Cu?function(o,u,f){const m=o.value.clone(),p=Ky(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,i):e instanceof Er?function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Ky(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(v3(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(e,t,i):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function nu(e,t,i,r){return e instanceof Cu?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),_=Xy(u.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(e,t,i,r):e instanceof Er?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=Xy(u.fieldTransforms,p,f),_=f.data;return _.setAll(v3(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(e,t,i,r):function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,i)}function kT(e,t){let i=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=m3(r.transform,o||null);u!=null&&(i===null&&(i=An.empty()),i.set(r.field,u))}return i||null}function $y(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&_o(r,o,(u,f)=>OT(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cu extends Wh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends Wh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function v3(e){const t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}}),t}function Ky(e,t,i){const r=new Map;Jt(e.length===i.length,32656,{Ve:i.length,me:e.length});for(let o=0;o<i.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,NT(f,m,i[o]))}return r}function Xy(e,t,i){const r=new Map;for(const o of e){const u=o.transform,f=i.data.field(o.field);r.set(o.field,VT(u,f,t))}return r}class E3 extends Wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PT extends Wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&jT(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=nu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=nu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=f3();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const p=_3(f,m);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),qt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,(i,r)=>$y(i,r))&&_o(this.baseMutations,t.baseMutations,(i,r)=>$y(i,r))}}class Hm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Jt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return RT}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Hm(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Yt;function qT(e){switch(e){case ut.OK:return St(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function T3(e){if(e===void 0)return Ss("GRPC error has no .code"),ut.UNKNOWN;switch(e){case Ve.OK:return ut.OK;case Ve.CANCELLED:return ut.CANCELLED;case Ve.UNKNOWN:return ut.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return ut.INTERNAL;case Ve.UNAVAILABLE:return ut.UNAVAILABLE;case Ve.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ve.NOT_FOUND:return ut.NOT_FOUND;case Ve.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ve.ABORTED:return ut.ABORTED;case Ve.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ve.DATA_LOSS:return ut.DATA_LOSS;default:return St(39323,{code:e})}}(Yt=Ve||(Ve={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new cr([4294967295,4294967295],0);function Zy(e){const t=Gv().encode(e),i=new jv;return i.update(t),new Uint8Array(i.digest())}function Jy(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new cr([i,r],0),new cr([o,u],0)]}class Gm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=cr.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(cr.fromNumber(r)));return o.compare(HT)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=Zy(t),[r,o]=Jy(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);if(!this.be(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gm(u,o,i);return r.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const i=Zy(t),[r,o]=Jy(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Au.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new tf(Dt.min(),o,new pe(kt),Cs(),qt())}}class Au{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Au(r,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class b3{constructor(t,i){this.targetId=t,this.Ce=i}}class w3{constructor(t,i,r=sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Wy{constructor(){this.Fe=0,this.Me=t_(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=qt(),i=qt(),r=qt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:St(38017,{changeType:u})}}),new Au(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=t_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class GT{constructor(t){this.ze=t,this.je=new Map,this.He=Cs(),this.Je=th(),this.Ye=th(),this.Ze=new pe(kt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(rm(u))if(r===0){const f=new Et(u.path);this.tt(i,f,cn.newNoDocument(f,Dt.min()))}else Jt(r===1,20013,{expectedCount:r});else{const f=this.ut(i);if(f!==r){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=gr(r).toUint8Array()}catch(p){if(p instanceof $v)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gm(f,o,u)}catch(p){return yo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&rm(m.target)){const p=new Et(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,cn.newNoDocument(p,t))}u.Le&&(i.set(f,u.qe()),u.Qe())}});let r=qt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new tf(t,i,this.Ze,this.He,r);return this.He=Cs(),this.Je=th(),this.Ye=th(),this.Ze=new pe(kt),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new Wy,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new ze(kt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new ze(kt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Wy),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function th(){return new pe(Et.comparator)}function t_(){return new pe(Et.comparator)}const FT={asc:"ASCENDING",desc:"DESCENDING"},QT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YT={and:"AND",or:"OR"};class $T{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(e,t){return e.useProto3Json||Qh(t)?t:{value:t}}function Dh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function S3(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KT(e,t){return Dh(e,t.toTimestamp())}function Bi(e){return Jt(!!e,49232),Dt.fromTimestamp(function(i){const r=mr(i);return new Be(r.seconds,r.nanos)}(e))}function Fm(e,t){return lm(e,t).canonicalString()}function lm(e,t){const i=function(o){return new fe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?i:i.child(t)}function C3(e){const t=fe.fromString(e);return Jt(D3(t),10190,{key:t.toString()}),t}function um(e,t){return Fm(e.databaseId,t.path)}function x1(e,t){const i=C3(t);if(i.get(1)!==e.databaseId.projectId)throw new vt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new vt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new Et(R3(i))}function A3(e,t){return Fm(e.databaseId,t)}function XT(e){const t=C3(e);return t.length===4?fe.emptyPath():R3(t)}function cm(e){return new fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function R3(e){return Jt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function e_(e,t,i){return{name:um(e,t),fields:i.value.mapValue.fields}}function ZT(e,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Jt(_===void 0||typeof _=="string",58123),sn.fromBase64String(_||"")):(Jt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),sn.fromUint8Array(_||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const _=g.code===void 0?ut.UNKNOWN:T3(g.code);return new vt(_,g.message||"")}(f);i=new w3(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=x1(e,r.document.name),u=Bi(r.document.updateTime),f=r.document.createTime?Bi(r.document.createTime):Dt.min(),m=new An({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(o,u,f,m),g=r.targetIds||[],_=r.removedTargetIds||[];i=new fh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=x1(e,r.document),u=r.readTime?Bi(r.readTime):Dt.min(),f=cn.newNoDocument(o,u),m=r.removedTargetIds||[];i=new fh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=x1(e,r.document),u=r.removedTargetIds||[];i=new fh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new zT(o,u),m=r.targetId;i=new b3(m,f)}}return i}function JT(e,t){let i;if(t instanceof Cu)i={update:e_(e,t.key,t.value)};else if(t instanceof E3)i={delete:um(e,t.key)};else if(t instanceof Er)i={update:e_(e,t.key,t.data),updateMask:ob(t.fieldMask)};else{if(!(t instanceof PT))return St(16599,{ft:t.type});i={verify:um(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw St(20930,{transform:f.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:KT(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)}(e,t.precondition)),i}function WT(e,t){return e&&e.length>0?(Jt(t!==void 0,14353),e.map(i=>function(o,u){let f=o.updateTime?Bi(o.updateTime):Bi(u);return f.isEqual(Dt.min())&&(f=Bi(u)),new LT(f,o.transformResults||[])}(i,t))):[]}function tb(e,t){return{documents:[A3(e,t.path)]}}function eb(e,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=A3(e,o);const u=function(g){if(g.length!==0)return I3(Hi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:oo(b.field),direction:sb(b.dir)}}(_))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=om(e,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function nb(e){let t=XT(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Jt(r===1,65062);const _=i.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];i.where&&(u=function(T){const b=x3(T);return b instanceof Hi&&s3(b)?b.getFilters():[b]}(i.where));let f=[];i.orderBy&&(f=function(T){return T.map(b=>function(D){return new Rh(lo(D.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(i.orderBy));let m=null;i.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,Qh(b)?null:b}(i.limit));let p=null;i.startAt&&(p=function(T){const b=!!T.before,A=T.values||[];return new Ah(A,b)}(i.startAt));let g=null;return i.endAt&&(g=function(T){const b=!T.before,A=T.values||[];return new Ah(A,b)}(i.endAt)),TT(t,o,f,u,m,"F",p,g)}function ib(e,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function x3(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=lo(i.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(i.unaryFilter.field);return Ue.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(i.unaryFilter.field);return Ue.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(e):e.fieldFilter!==void 0?function(i){return Ue.create(lo(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return Hi.create(i.compositeFilter.filters.map(r=>x3(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(i.compositeFilter.op))}(e):St(30097,{filter:e})}function sb(e){return FT[e]}function rb(e){return QT[e]}function ab(e){return YT[e]}function oo(e){return{fieldPath:e.canonicalString()}}function lo(e){return nn.fromServerFormat(e.fieldPath)}function I3(e){return e instanceof Ue?function(i){if(i.op==="=="){if(qy(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NAN"}};if(zy(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(qy(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NOT_NAN"}};if(zy(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(i.field),op:rb(i.op),value:i.value}}}(e):e instanceof Hi?function(i){const r=i.getFilters().map(o=>I3(o));return r.length===1?r[0]:{compositeFilter:{op:ab(i.op),filters:r}}}(e):St(54877,{filter:e})}function ob(e){const t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function D3(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,i,r,o,u=Dt.min(),f=Dt.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t){this.wt=t}}function ub(e){const t=nb({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?am(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.Cn=new hb}addToCollectionParentIndex(t,i){return this.Cn.add(i),ot.resolve()}getCollectionParents(t,i){return ot.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ot.resolve()}deleteFieldIndex(t,i){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,i){return ot.resolve()}getDocumentsMatchingTarget(t,i){return ot.resolve(null)}getIndexType(t,i){return ot.resolve(0)}getFieldIndexes(t,i){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,i){return ot.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return ot.resolve(dr.min())}updateCollectionGroup(t,i,r){return ot.resolve()}updateIndexEntries(t,i){return ot.resolve()}}class hb{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new ze(fe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ze(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M3=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(M3,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new To(0)}static lr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LruGarbageCollector",fb=1048576;function s_([e,t],[i,r]){const o=kt(e,i);return o===0?kt(t,r):o}class db{constructor(t){this.Er=t,this.buffer=new ze(s_),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();s_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mb{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){mt(i_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Io(i)?mt(i_,"Ignoring IndexedDB error during garbage collection: ",i):await xo(i)}await this.mr(3e5)})}}class gb{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return ot.resolve(Fh.le);const r=new db(i);return this.gr.forEachTarget(t,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.gr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(n_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let r,o,u,f,m,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(r=T,m=Date.now(),this.removeTargets(t,r,i))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(g=Date.now(),ro()<=$t.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function pb(e,t){return new gb(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.changes=new la(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ot.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&nu(r.mutation,o,Bn.empty(),Be.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,qt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=qt()){const o=na();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const r=na();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,qt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,r,o){let u=Cs();const f=eu(),m=function(){return eu()}();return i.forEach((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Er)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),nu(_.mutation,g,_.mutation.getFieldMask(),Be.now())):f.set(g.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,_)=>f.set(g,_)),i.forEach((g,_)=>{var T;return m.set(g,new _b(_,(T=f.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(t,i){const r=eu();let o=new pe((f,m)=>f-m),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let _=r.get(p)||Bn.empty();_=m.applyToLocalView(g,_),r.set(p,_);const T=(o.get(m.batchId)||qt()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=f3();_.forEach(b=>{if(!u.has(b)){const A=_3(i.get(b),r.get(b));A!==null&&T.set(b,A),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return ot.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):bT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ot.resolve(na());let m=du,p=u;return f.next(g=>ot.forEach(g,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ot.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,qt())).next(_=>({batchId:m,changes:h3(_)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next(r=>{let o=Fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(t,u).next(m=>ot.forEach(m,p=>{const g=function(T,b){return new $h(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(_=>{_.forEach((T,b)=>{f=f.insert(T,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(f=>{u.forEach((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,cn.newInvalidDocument(_)))});let m=Fl();return f.forEach((p,g)=>{const _=u.get(p);_!==void 0&&nu(_.mutation,g,Bn.empty(),Be.now()),Zh(i,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return ot.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}}(i)),ot.resolve()}getNamedQuery(t,i){return ot.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(o){return{name:o.name,query:ub(o.bundledQuery),readTime:Bi(o.readTime)}}(i)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.overlays=new pe(Et.comparator),this.Qr=new Map}getOverlay(t,i){return ot.resolve(this.overlays.get(i))}getOverlays(t,i){const r=na();return ot.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),ot.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),ot.resolve()}getOverlaysForCollection(t,i,r){const o=na(),u=i.length+1,f=new Et(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ot.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new pe((g,_)=>g-_);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=na(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ot.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new BT(i,r));let u=this.Qr.get(i);u===void 0&&(u=qt(),this.Qr.set(i,u)),this.Qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.$r=new ze($e.Ur),this.Kr=new ze($e.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const r=new $e(t,i);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.zr(new $e(t,i))}jr(t,i){t.forEach(r=>this.removeReference(r,i))}Hr(t){const i=new Et(new fe([])),r=new $e(i,t),o=new $e(i,t+1),u=[];return this.Kr.forEachInRange([r,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new Et(new fe([])),r=new $e(i,t),o=new $e(i,t+1);let u=qt();return this.Kr.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(t){const i=new $e(t,0),r=this.$r.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class $e{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return Et.comparator(t.key,i.key)||kt(t.Zr,i.Zr)}static Wr(t,i){return kt(t.Zr,i.Zr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new ze($e.Ur)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new UT(u,i,r,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new $e(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ot.resolve(f)}lookupMutationBatch(t,i){return ot.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ti(r),u=o<0?0:o;return ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?km:this.nr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ze(kt);return i.forEach(o=>{const u=new $e(o,0),f=new $e(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{r=r.add(m.Zr)})}),ot.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Et.isDocumentKey(u)||(u=u.child(""));const f=new $e(new Et(u),0);let m=new ze(kt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ot.resolve(this.ni(m))}ni(t){const i=[];return t.forEach(r=>{const o=this.ei(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Jt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ot.forEach(i.mutations,o=>{const u=new $e(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,i){const r=new $e(i,0),o=this.Xr.firstAfterOrEqual(r);return ot.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.ii=t,this.docs=function(){return new pe(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.ii(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ot.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let r=Cs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))}),ot.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Cs();const f=i.path,m=new Et(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||WE(JE(_),r)<=0||(o.has(_.key)||Zh(i,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ot.resolve(u)}getAllFromCollectionGroup(t,i,r,o){St(9500)}si(t,i){return ot.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new Cb(this)}getSize(t){return ot.resolve(this.size)}}class Cb extends yb{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(t,o)):this.Br.removeEntry(r)}),ot.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t){this.persistence=t,this.oi=new la(i=>Bm(i),zm),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this._i=0,this.ai=new Qm,this.targetCount=0,this.ui=To.cr()}forEachTarget(t,i){return this.oi.forEach((r,o)=>i(o)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this._i&&(this._i=i),ot.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new To(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,ot.resolve()}updateTargetData(t,i){return this.Tr(i),ot.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),ot.waitFor(u).next(()=>o)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,i){const r=this.oi.get(i)||null;return ot.resolve(r)}addMatchingKeys(t,i,r){return this.ai.Gr(i,r),ot.resolve()}removeMatchingKeys(t,i,r){this.ai.jr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),ot.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),ot.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ai.Yr(i);return ot.resolve(r)}containsKey(t,i){return ot.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,i){this.ci={},this.overlays={},this.li=new Fh(0),this.hi=!1,this.hi=!0,this.Pi=new bb,this.referenceDelegate=t(this),this.Ti=new Ab(this),this.indexManager=new cb,this.remoteDocumentCache=function(o){return new Sb(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new lb(i),this.Ei=new Eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Tb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ci[t.toKey()];return r||(r=new wb(i,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,r){mt("MemoryPersistence","Starting transaction:",t);const o=new Rb(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,i){return ot.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,i)))}}class Rb extends eT{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Vi=new Qm,this.mi=null}static fi(t){return new Ym(t)}get gi(){if(this.mi)return this.mi;throw St(60996)}addReference(t,i,r){return this.Vi.addReference(r,i),this.gi.delete(r.toString()),ot.resolve()}removeReference(t,i,r){return this.Vi.removeReference(r,i),this.gi.add(r.toString()),ot.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),ot.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.gi,r=>{const o=Et.fromPath(r);return this.pi(t,o).next(u=>{u||i.removeEntry(o,Dt.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(r=>{r?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return ot.or([()=>ot.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class Mh{constructor(t,i){this.persistence=t,this.yi=new la(r=>sT(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=pb(this,i)}static fi(t,i){return new Mh(t,i)}di(){}Ai(t){return ot.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}br(t){let i=0;return this.yr(t,r=>{i++}).next(()=>i)}yr(t,i){return ot.forEach(this.yi,(r,o)=>this.Dr(t,r,o).next(u=>u?ot.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,i).next(m=>{m||(r++,u.removeEntry(f,Dt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),ot.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.yi.set(r,t.currentSequenceNumber),ot.resolve()}removeReference(t,i,r){return this.yi.set(r,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),ot.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uh(t.data.value)),i}Dr(t,i,r){return ot.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.yi.get(i);return ot.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ds=r,this.As=o}static Rs(t,i){let r=qt(),o=qt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $m(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return b8()?8:nT(E8())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ws(t,i).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,i,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new xb;return this.Ss(t,i,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,i,f,m.size)})}).next(()=>u.result)}Ds(t,i,r,o){return r.documentReadCount<this.gs?(ro()<=$t.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",ao(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ot.resolve()):(ro()<=$t.DEBUG&&mt("QueryEngine","Query:",ao(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(ro()<=$t.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",ao(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(i))):ot.resolve())}ws(t,i){if(Qy(i))return ot.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=qt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.vs(i,m);return this.Cs(i,g,f,p.readTime)?this.ws(t,am(i,null,"F")):this.Fs(t,g,i,p)}))})))}bs(t,i,r,o){return Qy(i)||o.isEqual(Dt.min())?ot.resolve(null):this.ys.getDocuments(t,r).next(u=>{const f=this.vs(i,u);return this.Cs(i,f,r,o)?ot.resolve(null):(ro()<=$t.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(i)),this.Fs(t,f,i,ZE(o,du)).next(m=>m))})}vs(t,i){let r=new ze(u3(t));return i.forEach((o,u)=>{Zh(t,u)&&(r=r.add(u))}),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return ro()<=$t.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",ao(i)),this.ys.getDocumentsMatchingQuery(t,i,dr.min(),r)}Fs(t,i,r,o){return this.ys.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",Db=3e8;class Mb{constructor(t,i,r,o){this.persistence=t,this.Ms=i,this.serializer=o,this.xs=new pe(kt),this.Os=new la(u=>Bm(u),zm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vb(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function Vb(e,t,i,r){return new Mb(e,t,i,r)}async function N3(e,t){const i=Mt(e);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Ls(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],m=[];let p=qt();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return i.localDocuments.getDocuments(r,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function Nb(e,t){const i=Mt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const T=g.batch,b=T.keys();let A=ot.resolve();return b.forEach(D=>{A=A.next(()=>_.getEntry(p,D)).next(k=>{const j=g.docVersions.get(D);Jt(j!==null,48541),k.version.compareTo(j)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))})}),A.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let p=qt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function O3(e){const t=Mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function Ob(e,t){const i=Mt(e),r=t.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const m=[];t.targetChanges.forEach((_,T)=>{const b=o.get(T);if(!b)return;m.push(i.Ti.removeMatchingKeys(u,_.removedDocuments,T).next(()=>i.Ti.addMatchingKeys(u,_.addedDocuments,T)));let A=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?A=A.withResumeToken(sn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,r)),o=o.insert(T,A),function(k,j,B){return k.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Db?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,A,_)&&m.push(i.Ti.updateTargetData(u,A))});let p=Cs(),g=qt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(Lb(u,f,t.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!r.isEqual(Dt.min())){const _=i.Ti.getLastRemoteSnapshotVersion(u).next(T=>i.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(_)}return ot.waitFor(m).next(()=>f.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.xs=o,u))}function Lb(e,t,i){let r=qt(),o=qt();return i.forEach(u=>r=r.add(u)),t.getEntries(e,r).next(u=>{let f=Cs();return i.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Dt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):mt(Km,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function jb(e,t){const i=Mt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function kb(e,t){const i=Mt(e);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Ti.getTargetData(r,t).next(u=>u?(o=u,ot.resolve(o)):i.Ti.allocateTargetId(r).next(f=>(o=new ar(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(r.targetId,r),i.Os.set(t,r.targetId)),r})}async function hm(e,t,i){const r=Mt(e),o=r.xs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Io(f))throw f;mt(Km,`Failed to update sequence numbers for target ${t}: ${f}`)}r.xs=r.xs.remove(t),r.Os.delete(o.target)}function r_(e,t,i){const r=Mt(e);let o=Dt.min(),u=qt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,_){const T=Mt(p),b=T.Os.get(_);return b!==void 0?ot.resolve(T.xs.get(b)):T.Ti.getTargetData(g,_)}(r,f,Pi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>r.Ms.getDocumentsMatchingQuery(f,t,i?o:Dt.min(),i?u:qt())).next(m=>(Pb(r,ST(t),m),{documents:m,$s:u})))}function Pb(e,t,i){let r=e.Ns.get(t)||Dt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),e.Ns.set(t,r)}class a_{constructor(){this.activeTargetIds=DT()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ub{constructor(){this.xo=new a_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,r){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new a_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class l_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){mt(o_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){mt(o_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function fm(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="RestConnection",zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qb{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===Sh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(t,i,r,o,u){const f=fm(),m=this.jo(t,i.toUriEncodedString());mt(I1,`Sending RPC '${t}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),_=Om(g);return this.Jo(t,m,p,r,_).then(T=>(mt(I1,`Received RPC '${t}' ${f}: `,T),T),T=>{throw yo(I1,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",r),T})}Yo(t,i,r,o,u,f){return this.zo(t,i,r,o,u)}Ho(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}jo(t,i){const r=zb[t];return`${this.Ko}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class Gb extends qb{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const f=fm();return new Promise((m,p)=>{const g=new kv;g.setWithCredentials(!0),g.listenOnce(Pv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const T=g.getResponseJson();mt(ln,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case lh.TIMEOUT:mt(ln,`RPC '${t}' ${f} timed out`),p(new vt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const b=g.getStatus();if(mt(ln,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const k=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(q)>=0?q:ut.UNKNOWN}(D.status);p(new vt(k,D.message))}else p(new vt(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new vt(ut.UNAVAILABLE,"Connection failed."));break;default:St(9055,{h_:t,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{mt(ln,`RPC '${t}' ${f} completed.`)}});const _=JSON.stringify(o);mt(ln,`RPC '${t}' ${f} sending request:`,o),g.send(i,"POST",_,r,15)})}I_(t,i,r){const o=fm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=zv(),m=Bv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const _=u.join("");mt(ln,`Creating RPC '${t}' stream ${o}: ${_}`,p);const T=f.createWebChannel(_,p);this.E_(T);let b=!1,A=!1;const D=new Hb({Zo:j=>{A?mt(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(b||(mt(ln,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),mt(ln,`RPC '${t}' stream ${o} sending:`,j),T.send(j))},Xo:()=>T.close()}),k=(j,B,q)=>{j.listen(B,F=>{try{q(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return k(T,Gl.EventType.OPEN,()=>{A||(mt(ln,`RPC '${t}' stream ${o} transport opened.`),D.__())}),k(T,Gl.EventType.CLOSE,()=>{A||(A=!0,mt(ln,`RPC '${t}' stream ${o} transport closed`),D.u_(),this.d_(T))}),k(T,Gl.EventType.ERROR,j=>{A||(A=!0,yo(ln,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),D.u_(new vt(ut.UNAVAILABLE,"The operation could not be completed")))}),k(T,Gl.EventType.MESSAGE,j=>{var B;if(!A){const q=j.data[0];Jt(!!q,16349);const F=q,Z=(F==null?void 0:F.error)||((B=F[0])===null||B===void 0?void 0:B.error);if(Z){mt(ln,`RPC '${t}' stream ${o} received error:`,Z);const W=Z.status;let Y=function(R){const O=Ve[R];if(O!==void 0)return T3(O)}(W),M=Z.message;Y===void 0&&(Y=ut.INTERNAL,M="Unknown error status: "+W+" with message "+Z.message),A=!0,D.u_(new vt(Y,M)),T.close()}else mt(ln,`RPC '${t}' stream ${o} received:`,q),D.c_(q)}}),k(m,Uv.STAT_EVENT,j=>{j.stat===tm.PROXY?mt(ln,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===tm.NOPROXY&&mt(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(i=>i===t)}}function D1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){return new $T(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(t,i,r=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=i,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const i=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="PersistentStream";class j3{constructor(t,i,r,o,u,f,m,p){this.xi=t,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new L3(t,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():i&&i.code===ut.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===i&&this.z_(r,o)},r=>{t(()=>{const o=new vt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(t,i){const r=this.G_(this.v_);this.stream=this.H_(t,i),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return mt(u_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return i=>{this.xi.enqueueAndForget(()=>this.v_===t?i():(mt(u_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fb extends j3{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}H_(t,i){return this.connection.I_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const i=ZT(this.serializer,t),r=function(u){if(!("targetChange"in u))return Dt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Dt.min():f.readTime?Bi(f.readTime):Dt.min()}(t);return this.listener.Y_(i,r)}Z_(t){const i={};i.database=cm(this.serializer),i.addTarget=function(u,f){let m;const p=f.target;if(m=rm(p)?{documents:tb(u,p)}:{query:eb(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=S3(u,f.resumeToken);const g=om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Dt.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const r=ib(this.serializer,t);r&&(i.labels=r),this.Q_(i)}X_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.Q_(i)}}class Qb extends j3{constructor(t,i,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,i){return this.connection.I_("Write",t,i)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const i=WT(t.writeResults,t.commitTime),r=Bi(t.commitTime);return this.listener.ra(r,i)}ia(){const t={};t.database=cm(this.serializer),this.Q_(t)}ta(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>JT(this.serializer,r))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{}class $b extends Yb{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new vt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,lm(i,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(ut.UNKNOWN,u.toString())})}Yo(t,i,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,lm(i,r),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new vt(ut.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Kb{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ss(i),this.ua=!1):mt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class Xb{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{r.enqueueAndForget(async()=>{ua(this)&&(mt(ra,"Restarting streams for network reachability change."),await async function(p){const g=Mt(p);g.da.add(4),await Ru(g),g.Va.set("Unknown"),g.da.delete(4),await nf(g)}(this))})}),this.Va=new Kb(r,o)}}async function nf(e){if(ua(e))for(const t of e.Aa)await t(!0)}async function Ru(e){for(const t of e.Aa)await t(!1)}function k3(e,t){const i=Mt(e);i.Ea.has(t.targetId)||(i.Ea.set(t.targetId,t),Wm(i)?Jm(i):Do(i).N_()&&Zm(i,t))}function Xm(e,t){const i=Mt(e),r=Do(i);i.Ea.delete(t),r.N_()&&P3(i,t),i.Ea.size===0&&(r.N_()?r.k_():ua(i)&&i.Va.set("Unknown"))}function Zm(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Do(e).Z_(t)}function P3(e,t){e.ma.Ke(t),Do(e).X_(t)}function Jm(e){e.ma=new GT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Do(e).start(),e.Va.ca()}function Wm(e){return ua(e)&&!Do(e).O_()&&e.Ea.size>0}function ua(e){return Mt(e).da.size===0}function U3(e){e.ma=void 0}async function Zb(e){e.Va.set("Online")}async function Jb(e){e.Ea.forEach((t,i)=>{Zm(e,t)})}async function Wb(e,t){U3(e),Wm(e)?(e.Va.Pa(t),Jm(e)):e.Va.set("Unknown")}async function tw(e,t,i){if(e.Va.set("Online"),t instanceof w3&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(e,t)}catch(r){mt(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Vh(e,r)}else if(t instanceof fh?e.ma.Xe(t):t instanceof b3?e.ma.ot(t):e.ma.nt(t),!i.isEqual(Dt.min()))try{const r=await O3(e.localStore);i.compareTo(r)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ea.get(g);_&&u.Ea.set(g,_.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ea.get(p);if(!_)return;u.Ea.set(p,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),P3(u,p);const T=new ar(_.target,p,g,_.sequenceNumber);Zm(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(e,i)}catch(r){mt(ra,"Failed to raise snapshot:",r),await Vh(e,r)}}async function Vh(e,t,i){if(!Io(t))throw t;e.da.add(1),await Ru(e),e.Va.set("Offline"),i||(i=()=>O3(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{mt(ra,"Retrying IndexedDB access"),await i(),e.da.delete(1),await nf(e)})}function B3(e,t){return t().catch(i=>Vh(e,i,t))}async function sf(e){const t=Mt(e),i=yr(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:km;for(;ew(t);)try{const o=await jb(t.localStore,r);if(o===null){t.Ia.length===0&&i.k_();break}r=o.batchId,nw(t,o)}catch(o){await Vh(t,o)}z3(t)&&q3(t)}function ew(e){return ua(e)&&e.Ia.length<10}function nw(e,t){e.Ia.push(t);const i=yr(e);i.N_()&&i.ea&&i.ta(t.mutations)}function z3(e){return ua(e)&&!yr(e).O_()&&e.Ia.length>0}function q3(e){yr(e).start()}async function iw(e){yr(e).ia()}async function sw(e){const t=yr(e);for(const i of e.Ia)t.ta(i.mutations)}async function rw(e,t,i){const r=e.Ia.shift(),o=Hm.from(r,t,i);await B3(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await sf(e)}async function aw(e,t){t&&yr(e).ea&&await async function(r,o){if(function(f){return qT(f)&&f!==ut.ABORTED}(o.code)){const u=r.Ia.shift();yr(r).L_(),await B3(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await sf(r)}}(e,t),z3(e)&&q3(e)}async function c_(e,t){const i=Mt(e);i.asyncQueue.verifyOperationInProgress(),mt(ra,"RemoteStore received new credentials");const r=ua(i);i.da.add(3),await Ru(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.da.delete(3),await nf(i)}async function ow(e,t){const i=Mt(e);t?(i.da.delete(2),await nf(i)):t||(i.da.add(2),await Ru(i),i.Va.set("Unknown"))}function Do(e){return e.fa||(e.fa=function(i,r,o){const u=Mt(i);return u.oa(),new Fb(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{e_:Zb.bind(null,e),n_:Jb.bind(null,e),i_:Wb.bind(null,e),Y_:tw.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Wm(e)?Jm(e):e.Va.set("Unknown")):(await e.fa.stop(),U3(e))})),e.fa}function yr(e){return e.ga||(e.ga=function(i,r,o){const u=Mt(i);return u.oa(),new Qb(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:iw.bind(null,e),i_:aw.bind(null,e),na:sw.bind(null,e),ra:rw.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await sf(e)):(await e.ga.stop(),e.Ia.length>0&&(mt(ra,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,m=new tg(t,i,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(e,t){if(Ss("AsyncQueue",`${t}: ${e}`),Io(e))return new vt(ut.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(t){return new mo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Et.comparator(i.key,r.key):(i,r)=>Et.comparator(i.key,r.key),this.keyedMap=Fl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.pa=new pe(Et.comparator)}track(t){const i=t.doc.key,r=this.pa.get(i);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(i,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(i):t.type===1&&r.type===2?this.pa=this.pa.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):St(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(i,t)}wa(){const t=[];return this.pa.inorderTraversal((i,r)=>{t.push(r)}),t}}class bo{constructor(t,i,r,o,u,f,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new bo(t,i,mo.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class uw{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Mt(i),u=o.queries;o.queries=f_(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(r)})})(this,new vt(ut.ABORTED,"Firestore shutting down"))}}function f_(){return new la(e=>l3(e),Xh)}async function H3(e,t){const i=Mt(e);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Da()&&t.va()&&(r=2):(u=new lw,r=t.va()?0:1);try{switch(r){case 0:u.ba=await i.onListen(o,!0);break;case 1:u.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=eg(f,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.Fa(i.onlineState),u.ba&&t.Ma(u.ba)&&ng(i)}async function G3(e,t){const i=Mt(e),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function cw(e,t){const i=Mt(e);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(r=!0);f.ba=o}}r&&ng(i)}function hw(e,t,i){const r=Mt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function ng(e){e.Ca.forEach(t=>{t.next()})}var dm,d_;(d_=dm||(dm={})).xa="default",d_.Cache="cache";class F3{constructor(t,i,r){this.query=t,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Na?this.La(t)&&(this.Oa.next(t),i=!0):this.ka(t,this.onlineState)&&(this.qa(t),i=!0),this.Ba=t,i}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),i=!0),i}ka(t,i){if(!t.fromCache||!this.va())return!0;const r=i!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}La(t){if(t.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t){this.key=t}}class Y3{constructor(t){this.key=t}}class fw{constructor(t,i){this.query=t,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.Za=u3(t),this.Xa=new mo(this.Za)}get eu(){return this.Ha}tu(t,i){const r=i?i.nu:new h_,o=i?i.Xa:this.Xa;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,T)=>{const b=o.get(_),A=Zh(this.query,T)?T:null,D=!!b&&this.mutatedKeys.has(b.key),k=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;b&&A?b.data.isEqual(A.data)?D!==k&&(r.track({type:3,doc:A}),j=!0):this.ru(b,A)||(r.track({type:2,doc:A}),j=!0,(p&&this.Za(A,p)>0||g&&this.Za(A,g)<0)&&(m=!0)):!b&&A?(r.track({type:0,doc:A}),j=!0):b&&!A&&(r.track({type:1,doc:b}),j=!0,(p||g)&&(m=!0)),j&&(A?(f=f.add(A),u=k?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{Xa:f,nu:r,Cs:m,mutatedKeys:u}}ru(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((_,T)=>function(A,D){const k=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:j})}};return k(A)-k(D)}(_.type,T.type)||this.Za(_.doc,T.doc)),this.iu(r),o=o!=null&&o;const m=i&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new bo(this.query,t.Xa,u,f,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new h_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=qt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const i=[];return t.forEach(r=>{this.Ya.has(r)||i.push(new Y3(r))}),this.Ya.forEach(r=>{t.has(r)||i.push(new Q3(r))}),i}au(t){this.Ha=t.$s,this.Ya=qt();const i=this.tu(t.documents);return this.applyChanges(i,!0)}uu(){return bo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ig="SyncEngine";class dw{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class mw{constructor(t){this.key=t,this.cu=!1}}class gw{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new la(m=>l3(m),Xh),this.Pu=new Map,this.Tu=new Set,this.Iu=new pe(Et.comparator),this.Eu=new Map,this.du=new Qm,this.Au={},this.Ru=new Map,this.Vu=To.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function pw(e,t,i=!0){const r=W3(e);let o;const u=r.hu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await $3(r,t,i,!0),o}async function yw(e,t){const i=W3(e);await $3(i,t,!0,!1)}async function $3(e,t,i,r){const o=await kb(e.localStore,Pi(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await _w(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&i&&k3(e.remoteStore,o),m}async function _w(e,t,i,r,o){e.fu=(T,b,A)=>async function(k,j,B,q){let F=j.view.tu(B);F.Cs&&(F=await r_(k.localStore,j.query,!1).then(({documents:M})=>j.view.tu(M,F)));const Z=q&&q.targetChanges.get(j.targetId),W=q&&q.targetMismatches.get(j.targetId)!=null,Y=j.view.applyChanges(F,k.isPrimaryClient,Z,W);return g_(k,j.targetId,Y.ou),Y.snapshot}(e,T,b,A);const u=await r_(e.localStore,t,!0),f=new fw(t,u.$s),m=f.tu(u.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(i,r&&e.onlineState!=="Offline",o),g=f.applyChanges(m,e.isPrimaryClient,p);g_(e,i,g.ou);const _=new dw(t,i,f);return e.hu.set(t,_),e.Pu.has(i)?e.Pu.get(i).push(t):e.Pu.set(i,[t]),g.snapshot}async function vw(e,t,i){const r=Mt(e),o=r.hu.get(t),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(f=>!Xh(f,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Xm(r.remoteStore,o.targetId),mm(r,o.targetId)}).catch(xo)):(mm(r,o.targetId),await hm(r.localStore,o.targetId,!0))}async function Ew(e,t){const i=Mt(e),r=i.hu.get(t),o=i.Pu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(i.remoteStore,r.targetId))}async function Tw(e,t,i){const r=xw(e);try{const o=await function(f,m){const p=Mt(f),g=Be.now(),_=m.reduce((A,D)=>A.add(D.key),qt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=Cs(),k=qt();return p.Bs.getEntries(A,_).next(j=>{D=j,D.forEach((B,q)=>{q.isValidDocument()||(k=k.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,D)).next(j=>{T=j;const B=[];for(const q of m){const F=kT(q,T.get(q.key).overlayedDocument);F!=null&&B.push(new Er(q.key,F,e3(F.value.mapValue),Ui.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,B,m)}).next(j=>{b=j;const B=j.applyToLocalDocumentSet(T,k);return p.documentOverlayCache.saveOverlays(A,j.batchId,B)})}).then(()=>({batchId:b.batchId,changes:h3(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new pe(kt)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(r,o.batchId,i),await xu(r,o.changes),await sf(r.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");i.reject(u)}}async function K3(e,t){const i=Mt(e);try{const r=await Ob(i.localStore,t);t.targetChanges.forEach((o,u)=>{const f=i.Eu.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Jt(f.cu,14607):o.removedDocuments.size>0&&(Jt(f.cu,42227),f.cu=!1))}),await xu(i,r,t)}catch(r){await xo(r)}}function m_(e,t,i){const r=Mt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.hu.forEach((u,f)=>{const m=f.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Mt(f);p.onlineState=m;let g=!1;p.queries.forEach((_,T)=>{for(const b of T.Sa)b.Fa(m)&&(g=!0)}),g&&ng(p)}(r.eventManager,t),o.length&&r.lu.Y_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bw(e,t,i){const r=Mt(e);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Eu.get(t),u=o&&o.key;if(u){let f=new pe(Et.comparator);f=f.insert(u,cn.newNoDocument(u,Dt.min()));const m=qt().add(u),p=new tf(Dt.min(),new Map,new pe(kt),f,m);await K3(r,p),r.Iu=r.Iu.remove(u),r.Eu.delete(t),sg(r)}else await hm(r.localStore,t,!1).then(()=>mm(r,t,i)).catch(xo)}async function ww(e,t){const i=Mt(e),r=t.batch.batchId;try{const o=await Nb(i.localStore,t);Z3(i,r,null),X3(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xu(i,o)}catch(o){await xo(o)}}async function Sw(e,t,i){const r=Mt(e);try{const o=await function(f,m){const p=Mt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Jt(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(r.localStore,t);Z3(r,t,i),X3(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await xu(r,o)}catch(o){await xo(o)}}function X3(e,t){(e.Ru.get(t)||[]).forEach(i=>{i.resolve()}),e.Ru.delete(t)}function Z3(e,t,i){const r=Mt(e);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Au[r.currentUser.toKey()]=o}}function mm(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),i&&e.lu.gu(r,i);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(r=>{e.du.containsKey(r)||J3(e,r)})}function J3(e,t){e.Tu.delete(t.path.canonicalString());const i=e.Iu.get(t);i!==null&&(Xm(e.remoteStore,i),e.Iu=e.Iu.remove(t),e.Eu.delete(i),sg(e))}function g_(e,t,i){for(const r of i)r instanceof Q3?(e.du.addReference(r.key,t),Cw(e,r)):r instanceof Y3?(mt(ig,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||J3(e,r.key)):St(19791,{pu:r})}function Cw(e,t){const i=t.key,r=i.path.canonicalString();e.Iu.get(i)||e.Tu.has(r)||(mt(ig,"New document in limbo: "+i),e.Tu.add(r),sg(e))}function sg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const i=new Et(fe.fromString(t)),r=e.Vu.next();e.Eu.set(r,new mw(i)),e.Iu=e.Iu.insert(i,r),k3(e.remoteStore,new ar(Pi(Kh(i.path)),r,"TargetPurposeLimboResolution",Fh.le))}}async function xu(e,t,i){const r=Mt(e),o=[],u=[],f=[];r.hu.isEmpty()||(r.hu.forEach((m,p)=>{f.push(r.fu(p,t,i).then(g=>{var _;if((g||i)&&r.isPrimaryClient){const T=g?!g.fromCache:(_=i==null?void 0:i.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=$m.Rs(p.targetId,g);u.push(T)}}))}),await Promise.all(f),r.lu.Y_(o),await async function(p,g){const _=Mt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ot.forEach(g,b=>ot.forEach(b.ds,A=>_.persistence.referenceDelegate.addReference(T,b.targetId,A)).next(()=>ot.forEach(b.As,A=>_.persistence.referenceDelegate.removeReference(T,b.targetId,A)))))}catch(T){if(!Io(T))throw T;mt(Km,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const A=_.xs.get(b),D=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(D);_.xs=_.xs.insert(b,k)}}}(r.localStore,u))}async function Aw(e,t){const i=Mt(e);if(!i.currentUser.isEqual(t)){mt(ig,"User change. New user:",t.toKey());const r=await N3(i.localStore,t);i.currentUser=t,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new vt(ut.CANCELLED,f))})}),u.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await xu(i,r.ks)}}function Rw(e,t){const i=Mt(e),r=i.Eu.get(t);if(r&&r.cu)return qt().add(r.key);{let o=qt();const u=i.Pu.get(t);if(!u)return o;for(const f of u){const m=i.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function W3(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=K3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bw.bind(null,t),t.lu.Y_=cw.bind(null,t.eventManager),t.lu.gu=hw.bind(null,t.eventManager),t}function xw(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ww.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sw.bind(null,t),t}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ef(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,i){return null}Cu(t,i){return null}Du(t){return Vb(this.persistence,new Ib,t.initialUser,this.serializer)}Su(t){return new V3(Ym.fi,this.serializer)}bu(t){return new Ub}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class Iw extends Nh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,i){Jt(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mb(r,t.asyncQueue,i)}Su(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new V3(r=>Mh.fi(r,i),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aw.bind(null,this.syncEngine),await ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uw}()}createDatastore(t){const i=ef(t.databaseInfo.databaseId),r=function(u){return new Gb(u)}(t.databaseInfo);return function(u,f,m,p){return new $b(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,f,m){return new Xb(r,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>m_(this.syncEngine,i,0),function(){return l_.C()?new l_:new Bb}())}createSyncEngine(t,i){return function(o,u,f,m,p,g,_){const T=new gw(o,u,f,m,p,g);return _&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=Mt(o);mt(ra,"RemoteStore shutting down."),u.da.add(5),await Ru(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class Dw{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{mt(_r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(mt(_r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=eg(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function M1(e,t){e.asyncQueue.verifyOperationInProgress(),mt(_r,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await N3(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function p_(e,t){e.asyncQueue.verifyOperationInProgress();const i=await Mw(e);mt(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener(r=>c_(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>c_(t.remoteStore,o)),e._onlineComponents=t}async function Mw(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mt(_r,"Using user provided OfflineComponentProvider");try{await M1(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;yo("Error using user provided cache. Falling back to memory cache: "+i),await M1(e,new Nh)}}else mt(_r,"Using default OfflineComponentProvider"),await M1(e,new Iw(void 0));return e._offlineComponents}async function e4(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mt(_r,"Using user provided OnlineComponentProvider"),await p_(e,e._uninitializedComponentsProvider._online)):(mt(_r,"Using default OnlineComponentProvider"),await p_(e,new gm))),e._onlineComponents}function Vw(e){return e4(e).then(t=>t.syncEngine)}async function pm(e){const t=await e4(e),i=t.eventManager;return i.onListen=pw.bind(null,t.syncEngine),i.onUnlisten=vw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Ew.bind(null,t.syncEngine),i}function Nw(e,t,i={}){const r=new hr;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const _=new t4({next:b=>{_.xu(),f.enqueueAndForget(()=>G3(u,T));const A=b.docs.has(m);!A&&b.fromCache?g.reject(new vt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&p&&p.source==="server"?g.reject(new vt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new F3(Kh(m.path),_,{includeMetadataChanges:!0,Qa:!0});return H3(u,T)}(await pm(e),e.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e,t,i){if(!i)throw new vt(ut.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ow(e,t,i,r){if(t===!0&&r===!0)throw new vt(ut.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function __(e){if(!Et.isDocumentKey(e))throw new vt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function v_(e){if(Et.isDocumentKey(e))throw new vt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function rg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function Ts(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rg(e);throw new vt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firestore.googleapis.com",E_=!0;class T_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s4,this.ssl=E_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:E_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=M3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fb)throw new vt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ow("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n4((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qE;switch(r.type){case"firstParty":return new QE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=y_.get(i);r&&(mt("ComponentProvider","Removing Datastore"),y_.delete(i),r.terminate())}(this),Promise.resolve()}}function Lw(e,t,i,r={}){var o;e=Ts(e,rf);const u=Om(t),f=e._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:e._getEmulatorOptions()}),p=`${t}:${i}`;u&&(g8(`https://${p}`),v8("Firestore",!0)),f.host!==s4&&f.host!==p&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:r});if(!Eh(g,m)&&(e._setSettings(g),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=un.MOCK_USER;else{_=p8(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new vt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(b)}e._authCredentials=new HE(new Hv(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new af(this.firestore,t,this._query)}}class Rn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rn(this.firestore,t,this._key)}}class fr extends af{constructor(t,i,r){super(t,i,Kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rn(this.firestore,null,new Et(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function jw(e,t,...i){if(e=bs(e),i4("collection","path",t),e instanceof rf){const r=fe.fromString(t,...i);return v_(r),new fr(e,null,r)}{if(!(e instanceof Rn||e instanceof fr))throw new vt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fe.fromString(t,...i));return v_(r),new fr(e.firestore,null,r)}}function of(e,t,...i){if(e=bs(e),arguments.length===1&&(t=Fv.newId()),i4("doc","path",t),e instanceof rf){const r=fe.fromString(t,...i);return __(r),new Rn(e,null,new Et(r))}{if(!(e instanceof Rn||e instanceof fr))throw new vt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fe.fromString(t,...i));return __(r),new Rn(e.firestore,e instanceof fr?e.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class w_{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new L3(this,"async_queue_retry"),this.rc=()=>{const r=D1();r&&mt(b_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const i=D1();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const i=D1();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new hr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Io(t))throw t;mt(b_,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const i=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,Ss("INTERNAL UNHANDLED ERROR: ",S_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=i,i}enqueueAfterDelay(t,i,r){this.oc(),this.nc.indexOf(t)>-1&&(i=0);const o=tg.createAndSchedule(this,t,i,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&St(47125,{cc:S_(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const i of this.Zu)if(i.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const i=this.Zu.indexOf(t);this.Zu.splice(i,1)}}function S_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e){return function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class wo extends rf{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new w_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new w_(t),this._firestoreClient=void 0,await t}}}function kw(e,t){const i=typeof e=="object"?e:IE(),r=typeof e=="string"?e:Sh,o=SE(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=d8("firestore");u&&Lw(o,...u)}return o}function ag(e){if(e._terminated)throw new vt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Pw(e),e._firestoreClient}function Pw(e){var t,i,r;const o=e._freezeSettings(),u=function(m,p,g,_){return new oT(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,n4(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Dw(e._authCredentials,e._appCheckCredentials,e._queue,u,e._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this._byteString=t}static fromBase64String(t){try{return new So(sn.fromBase64String(t))}catch(i){throw new vt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new So(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=/^__.*__$/;class Bw{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,i,this.fieldTransforms):new Cu(t,this.data,i,this.fieldTransforms)}}class r4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function a4(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ic:e})}}class cg{constructor(t,i,r,o,u,f){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new cg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:r,Rc:!1});return o.Vc(t),o}mc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Oh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(a4(this.Ic)&&Uw.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class zw{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||ef(t)}bc(t,i,r,o=!1){return new cg({Ic:t,methodName:i,wc:r,path:nn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o4(e){const t=e._freezeSettings(),i=ef(e._databaseId);return new zw(e._databaseId,!!t.ignoreUndefinedProperties,i)}function qw(e,t,i,r,o,u={}){const f=e.bc(u.merge||u.mergeFields?2:0,t,i,o);hg("Data must be an object, but it was:",f,r);const m=l4(r,f);let p,g;if(u.merge)p=new Bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const b=ym(t,T,i);if(!f.contains(b))throw new vt(ut.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);c4(_,b)||_.push(b)}p=new Bn(_),g=f.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=f.fieldTransforms;return new Bw(new An(m),p,g)}class uf extends og{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uf}}function Hw(e,t,i,r){const o=e.bc(1,t,i);hg("Data must be an object, but it was:",o,r);const u=[],f=An.empty();vr(r,(p,g)=>{const _=fg(t,p,i);g=bs(g);const T=o.mc(_);if(g instanceof uf)u.push(_);else{const b=cf(g,T);b!=null&&(u.push(_),f.set(_,b))}});const m=new Bn(u);return new r4(f,m,o.fieldTransforms)}function Gw(e,t,i,r,o,u){const f=e.bc(1,t,i),m=[ym(t,r,i)],p=[o];if(u.length%2!=0)throw new vt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(ym(t,u[b])),p.push(u[b+1]);const g=[],_=An.empty();for(let b=m.length-1;b>=0;--b)if(!c4(g,m[b])){const A=m[b];let D=p[b];D=bs(D);const k=f.mc(A);if(D instanceof uf)g.push(A);else{const j=cf(D,k);j!=null&&(g.push(A),_.set(A,j))}}const T=new Bn(g);return new r4(_,T,f.fieldTransforms)}function cf(e,t){if(u4(e=bs(e)))return hg("Unsupported field value:",t,e),l4(e,t);if(e instanceof og)return function(r,o){if(!a4(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const m of r){let p=cf(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(e,t)}return function(r,o){if((r=bs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Be.fromDate(r);return{timestampValue:Dh(o.serializer,u)}}if(r instanceof Be){const u=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(r instanceof lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:S3(o.serializer,r._byteString)};if(r instanceof Rn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ug)return function(f,m){return{mapValue:{fields:{[Wv]:{stringValue:t3},[Ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return qm(m.serializer,g)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${rg(r)}`)}(e,t)}function l4(e,t){const i={};return Yv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(e,(r,o)=>{const u=cf(o,t.Ac(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function u4(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Be||e instanceof lg||e instanceof So||e instanceof Rn||e instanceof og||e instanceof ug)}function hg(e,t,i){if(!u4(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=rg(i);throw r==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function ym(e,t,i){if((t=bs(t))instanceof lf)return t._internalPath;if(typeof t=="string")return fg(e,t);throw Oh("Field path arguments must be of type string or ",e,!1,void 0,i)}const Fw=new RegExp("[~\\*/\\[\\]]");function fg(e,t,i){if(t.search(Fw)>=0)throw Oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new lf(...t.split("."))._internalPath}catch{throw Oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function Oh(e,t,i,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new vt(ut.INVALID_ARGUMENT,m+e+p)}function c4(e,t){return e.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(f4("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qw extends h4{data(){return super.data()}}function f4(e,t){return typeof t=="string"?fg(e,t):t instanceof lf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new vt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{convertValue(t,i="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return vr(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[Ch].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>Ce(f.doubleValue));return new ug(u)}convertGeoPoint(t){return new lg(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Yh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(mu(t));default:return null}}convertTimestamp(t){const i=mr(t);return new Be(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);Jt(D3(r),9688,{name:t});const o=new gu(r.get(1),r.get(3)),u=new Et(r.popFirst(5));return o.isEqual(i)||Ss(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e,t,i){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class d4 extends h4{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(f4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class dh extends d4{data(t={}){return super.data(t)}}class Xw{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new dh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:Zw(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Zw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e){e=Ts(e,Rn);const t=Ts(e.firestore,wo);return Nw(ag(t),e._key).then(i=>p4(t,e,i))}class m4 extends $w{constructor(t){super(),this.firestore=t}convertBytes(t){return new So(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function Ww(e,t,i,...r){e=Ts(e,Rn);const o=Ts(e.firestore,wo),u=o4(o);let f;return f=typeof(t=bs(t))=="string"||t instanceof lf?Gw(u,"updateDoc",e._key,t,i,r):Hw(u,"updateDoc",e._key,t),g4(o,[f.toMutation(e._key,Ui.exists(!0))])}function tS(e,t){const i=Ts(e.firestore,wo),r=of(e),o=Kw(e.converter,t);return g4(i,[qw(o4(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,Ui.exists(!1))]).then(()=>r)}function eS(e,...t){var i,r,o;e=bs(e);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||C_(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(C_(t[f])){const T=t[f];t[f]=(i=T.next)===null||i===void 0?void 0:i.bind(T),t[f+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,_;if(e instanceof Rn)g=Ts(e.firestore,wo),_=Kh(e._key.path),p={next:T=>{t[f]&&t[f](p4(g,e,T))},error:t[f+1],complete:t[f+2]};else{const T=Ts(e,af);g=Ts(T.firestore,wo),_=T._query;const b=new m4(g);p={next:A=>{t[f]&&t[f](new Xw(g,b,T,A))},error:t[f+1],complete:t[f+2]},Yw(e._query)}return function(b,A,D,k){const j=new t4(k),B=new F3(A,j,D);return b.asyncQueue.enqueueAndForget(async()=>H3(await pm(b),B)),()=>{j.xu(),b.asyncQueue.enqueueAndForget(async()=>G3(await pm(b),B))}}(ag(g),_,m,p)}function g4(e,t){return function(r,o){const u=new hr;return r.asyncQueue.enqueueAndForget(async()=>Tw(await Vw(r),o,u)),u.promise}(ag(e),t)}function p4(e,t,i){const r=i.docs.get(t._key),o=new m4(e);return new d4(e,o,t._key,r,new Yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Ro=o})(xE),bh(new hu("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new wo(new GE(r.getProvider("auth-internal")),new YE(f,r.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new vt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,_)}(f,o),f);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fo(Iy,Dy,t),fo(Iy,Dy,"esm2017")})();const nS={apiKey:"AIzaSyA1YHZuK7xQzrGf2sVPo8Qax__FqLaFg_g",authDomain:"boop-chat.firebaseapp.com",projectId:"boop-chat",storageBucket:"boop-chat.firebasestorage.app",messagingSenderId:"86390385381",appId:"1:86390385381:web:899e240ed5dedab2a8c20c",measurementId:"G-R49YGVYMFQ"},iS=Nv(nS),hf=kw(iS),sS=async e=>(await tS(jw(hf,"sessions"),e)).id,rS=async e=>{const t=await Jw(of(hf,"sessions",e));return t.exists()?(console.log("The data has been found at Firestore!"),t.data()):(console.log("The data doesn't exist at Firestore!"),null)},aS=async(e,t)=>{Ww(of(hf,"sessions",e),t)},oS=async(e,t,i)=>{const r=of(hf,"sessions",e),o=eS(r,async u=>{var m;if(!u.exists())return;const f=u.data();f.receiverDescription&&((m=f.receiverCandidates)==null?void 0:m.length)>0&&(console.log("Receiver info available:",f),i.current=f.receiverName,t(f),o())});return o},A_=async(e,t,i,r,o,u,f,m,p)=>{console.log(t.current),t.current.onicecandidate=_=>{_.candidate?(console.log("Ice candidate found! Candidate = ",_.candidate),console.log(u.current),u.current.push(_.candidate.toJSON())):(console.log("The ice gathering state might have been completed by this time!"),console.log("State = ",t.current.iceGatheringState))},t.current.onicecandidateerror=_=>{console.warn("ICE candidate error:",_.errorCode,_.port,_.url)};const g=t.current.getConfiguration();if(console.log("ICE servers configured on this PC:",g.iceServers),e==="sender"){t.current.addTransceiver("video",{direction:"sendrecv"}),t.current.addTransceiver("audio",{direction:"sendrecv"}),i.current=t.current.createDataChannel("chat"),r.current=t.current.createDataChannel("image"),o.current=t.current.createDataChannel("video"),i.current.onopen=()=>{console.log("The data channel has been established!"),f(!0)},r.current.onopen=()=>{console.log("The image channel has been established!")},o.current.onopen=()=>{console.log("The video channel has been established!")};let _=await t.current.createOffer();console.log("The offer has been created!"),await t.current.setLocalDescription(_),console.log("The local description has been added!")}else{console.log(t.current);let _=await rS(p);if(!_)return null;m.current=_.senderName,await lS(t,_),console.log("The state of the peer connection = ",t.current.iceGatheringState)}console.log("The initial setup of the connection has been established.")},lS=async(e,t)=>{console.log(t.senderDescription),await e.current.setRemoteDescription(t.senderDescription),console.log("The remote description has been added!"),e.current.getTransceivers().forEach(o=>{o.direction="sendrecv"});let r=await e.current.createAnswer();console.log("The answer has been created!"),await e.current.setLocalDescription(r),console.log("The local description has been added!");for(const o of t.senderCandidates)try{await e.current.addIceCandidate(o)}catch(u){console.error("Error adding ICE candidate:",u)}};async function uS(e,t,i,r){console.log("Starting the createLink function! At the beginning of the function, the state = ",e.iceGatheringState),console.log("The iceCandidate object looks like this: ",t.current);let o=await sS({senderName:i,senderDescription:{type:e.current.localDescription.type,sdp:e.current.localDescription.sdp},senderCandidates:t.current,receiverName:"",receiverDescription:"",receiverCandidates:""});return console.log("The session has been added to Firebase by the sender! Now, waiting for the receiver!"),oS(o,async u=>{await e.current.setRemoteDescription(new RTCSessionDescription(u.receiverDescription));for(const f of u.receiverCandidates)await e.current.addIceCandidate(new RTCIceCandidate(f))},r),o}async function cS(e,t,i,r){return console.log("After the waiting, the state = ",e.current.iceGatheringState),await aS(r,{receiverName:i,receiverDescription:{type:e.current.localDescription.type,sdp:e.current.localDescription.sdp},receiverCandidates:t.current}),"success"}const hS=new URLSearchParams(window.location.search),nr=hS.get("link"),fS=()=>{const{peerConnection:e,iceCandidates:t,dataChannel:i,imageChannel:r,videoChannel:o,peerName:u,setConnected:f}=J.useContext(hn),{showNotification:m}=Su(),[p,g]=J.useState(!1),_=J.useRef(null);function T(A){A.preventDefault(),navigator.clipboard.writeText(A.target.elements.link.value),m("The link has been copied!")}const b=async A=>{if(A.preventDefault(),g(!0),nr){let D=await cS(e,t,_.current.value,nr);console.log(D),D?D=="success"&&(e.current.ondatachannel=k=>{k.channel.label==="chat"&&(i.current=k.channel,console.log("The data channel has been established!"),f(!0)),k.channel.label==="image"&&(r.current=k.channel,console.log("The image channel has been established!")),k.channel.label==="video"&&(o.current=k.channel,console.log("The video channel has been established!"))}):alert("The link you gave doesn't exist.")}else{let D=await uS(e,t,_.current.value,u);_.current.value=`https://www.mukesharyal.com.np/boop?link=${D}`,_.current.disabled=!0,navigator.clipboard.writeText(_.current.value),m("The link has been copied!")}};return J.useEffect(()=>{A_(nr?"receiver":"sender",e,i,r,o,t,f,u,nr)},[]),S.jsxs(S.Fragment,{children:[S.jsx(Z7,{}),S.jsx("main",{className:zl.mainContainer,children:S.jsx("section",{className:zl.inputCard,children:p?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:zl.loaderWrapper,children:S.jsx("div",{className:zl.loader})}),S.jsx("h1",{children:nr?"Joining the chat":"Waiting for other person to join"}),!nr&&S.jsxs("form",{onSubmit:T,children:[S.jsx("input",{autoFocus:!0,spellCheck:!1,autoComplete:"off",name:"link",ref:_,title:"Copy this link",className:zl.linkInput}),S.jsx("br",{}),S.jsx("button",{name:"copyLinkButton",children:"Copy Link"})]})]}):S.jsxs(S.Fragment,{children:[S.jsxs("h1",{children:["Welcome to Boop.",S.jsx("br",{}),"Let's Get Started!"]}),S.jsxs("form",{onSubmit:b,children:[S.jsx("input",{name:"name",required:!0,minLength:2,maxLength:20,autoComplete:"off",type:"text",spellCheck:!1,placeholder:"Your Name",title:"Enter your name",id:"name",ref:_}),S.jsx("br",{}),nr?S.jsx("button",{type:"submit",children:"Join Chat"}):S.jsx("button",{type:"submit",children:"Create Link"})]})]})})})]})},dS="_chatPage_1du93_1",mS="_chatContainer_1du93_13",R_={chatPage:dS,chatContainer:mS},gS="_actionList_19djp_1",pS={actionList:gS};function yS(){const e=de.c(25);console.log("Actions List rendered!");const{dataChannel:t}=J.useContext(hn),{selectedMessage:i}=J.useContext(ri),r=At(vS),o=At(_S),{showNotification:u}=Su();let f;e[0]!==i.current.content||e[1]!==i.current.type||e[2]!==u?(f=()=>{i.current.type==="text"?(navigator.clipboard.writeText(i.current.content),u("The message has been copied!")):u("This message cannot be copied!")},e[0]=i.current.content,e[1]=i.current.type,e[2]=u,e[3]=f):f=e[3];const m=f;let p;e[4]!==i.current||e[5]!==r?(p=()=>{r(i.current)},e[4]=i.current,e[5]=r,e[6]=p):p=e[6];const g=p;let _;e[7]!==t||e[8]!==o||e[9]!==i.current.receivedId||e[10]!==i.current.sentId?(_=()=>{if(i.current.sentId===null)o(i.current.sentId,i.current.receivedId);else{const F={type:"delete",sentId:i.current.sentId};t.current.send(JSON.stringify(F))}},e[7]=t,e[8]=o,e[9]=i.current.receivedId,e[10]=i.current.sentId,e[11]=_):_=e[11];const T=_;let b;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsxs("svg",{width:"2rem",height:"2rem",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("title",{children:"reply"}),S.jsx("path",{d:"M3.488 15.136q0 0.96 0.8 1.472l10.72 7.136q0.416 0.288 0.896 0.32t0.928-0.224 0.704-0.672 0.256-0.896v-3.584q3.456 0 6.208 1.984t3.872 5.152q0.64-1.792 0.64-3.552 0-2.912-1.44-5.376t-3.904-3.904-5.376-1.44v-3.584q0-0.48-0.256-0.896t-0.704-0.672-0.928-0.224-0.896 0.32l-10.72 7.136q-0.8 0.512-0.8 1.504z"})]}),e[12]=b):b=e[12];let A;e[13]!==g?(A=S.jsxs("li",{onClick:g,children:[b,"Reply"]}),e[13]=g,e[14]=A):A=e[14];let D;e[15]===Symbol.for("react.memo_cache_sentinel")?(D=S.jsxs("svg",{width:"2rem",height:"2rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M16 12.9V17.1C16 20.6 14.6 22 11.1 22H6.9C3.4 22 2 20.6 2 17.1V12.9C2 9.4 3.4 8 6.9 8H11.1C14.6 8 16 9.4 16 12.9Z",fill:"#292D32"}),S.jsx("path",{d:"M17.0998 2H12.8998C9.81668 2 8.37074 3.09409 8.06951 5.73901C8.00649 6.29235 8.46476 6.75 9.02167 6.75H11.0998C15.2998 6.75 17.2498 8.7 17.2498 12.9V14.9781C17.2498 15.535 17.7074 15.9933 18.2608 15.9303C20.9057 15.629 21.9998 14.1831 21.9998 11.1V6.9C21.9998 3.4 20.5998 2 17.0998 2Z",fill:"#292D32"})]}),e[15]=D):D=e[15];let k;e[16]!==m?(k=S.jsxs("li",{onClick:m,children:[D,"Copy"]}),e[16]=m,e[17]=k):k=e[17];let j;e[18]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("svg",{width:"2rem",height:"2rem",viewBox:"-0.5 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{id:"out",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:S.jsx("path",{d:"M4.91666667,14.8888889 C4.91666667,15.3571429 5.60416667,16 6.0625,16 L12.9375,16 C13.3958333,16 14.0833333,15.3571429 14.0833333,14.8888889 L14.0833333,6 L4.91666667,6 L4.91666667,14.8888889 L4.91666667,14.8888889 L4.91666667,14.8888889 Z M15,3.46500003 L12.5555556,3.46500003 L11.3333333,2 L7.66666667,2 L6.44444444,3.46500003 L4,3.46500003 L4,4.93000007 L15,4.93000007 L15,3.46500003 L15,3.46500003 L15,3.46500003 Z",id:"path",fill:"#000000","sketch:type":"MSShapeGroup"})})}),e[18]=j):j=e[18];let B;e[19]!==T?(B=S.jsxs("li",{onClick:T,children:[j,"Delete"]}),e[19]=T,e[20]=B):B=e[20];let q;return e[21]!==A||e[22]!==k||e[23]!==B?(q=S.jsxs("ul",{className:pS.actionList,children:[A,k,B]}),e[21]=A,e[22]=k,e[23]=B,e[24]=q):q=e[24],q}function _S(e){return e.removeMessage}function vS(e){return e.setReplying}const ES="_reactionList_1s4ks_1",TS="_selectedReaction_1s4ks_35",x_={reactionList:ES,selectedReaction:TS},bS=["","","","","",""];function wS(){const e=de.c(12);console.log("Reactions list rendered!");const{dataChannel:t}=J.useContext(hn),{selectedMessage:i,pointerPosition:r}=J.useContext(ri);let o=r.current.y-80,u=r.current.x-110;o<0&&(o=10),u<0&&(u=10);let f;e[0]!==t||e[1]!==i?(f=T=>{T===i.current.reaction&&(T=-1);const A={type:"reaction",id:i.current.receivedId,reaction:T};t.current.send(JSON.stringify(A))},e[0]=t,e[1]=i,e[2]=f):f=e[2];const m=f;let p;e[3]!==u||e[4]!==o?(p={top:o,left:u},e[3]=u,e[4]=o,e[5]=p):p=e[5];let g;e[6]!==i||e[7]!==m?(g=bS.map((T,b)=>S.jsx("li",{onClick:()=>{m(b)},className:i.current.reaction===b?x_.selectedReaction:"",children:T},b)),e[6]=i,e[7]=m,e[8]=g):g=e[8];let _;return e[9]!==p||e[10]!==g?(_=S.jsx("ul",{className:x_.reactionList,style:p,children:g}),e[9]=p,e[10]=g,e[11]=_):_=e[11],_}const SS="_actionsContainer_clwax_18",CS={actionsContainer:SS};function AS(e){const t=de.c(23),{imageSource:i,imageAlt:r}=e,o=r===void 0?"Image":r;console.log("Image dialog rendered!");const u=At(RS),f=J.useRef(null);let m;t[0]!==u?(m=()=>{u(!1),window.history.state==="image"&&window.history.back()},t[0]=u,t[1]=m):m=t[1];const p=m;let g;t[2]!==i?(g=()=>{window.open(i,"_blank")},t[2]=i,t[3]=g):g=t[3];const _=g;let T;t[4]!==p||t[5]!==u?(T=()=>{window.history.pushState("image","",null);const Z=f.current;if(!Z)return;const W=Y=>{Y.target===Z&&u(null)};return Z.addEventListener("click",W),window.addEventListener("popstate",p),()=>{Z.removeEventListener("click",W),window.removeEventListener("popstate",p)}},t[4]=p,t[5]=u,t[6]=T):T=t[6];let b;t[7]===Symbol.for("react.memo_cache_sentinel")?(b=[],t[7]=b):b=t[7],J.useEffect(T,b);let A;t[8]===Symbol.for("react.memo_cache_sentinel")?(A=S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})}),t[8]=A):A=t[8];let D;t[9]!==p?(D=S.jsx("button",{onClick:p,children:A}),t[9]=p,t[10]=D):D=t[10];let k;t[11]===Symbol.for("react.memo_cache_sentinel")?(k=S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.163 2.819C9 3.139 9 3.559 9 4.4V11H7.803c-.883 0-1.325 0-1.534.176a.75.75 0 0 0-.266.62c.017.274.322.593.931 1.232l4.198 4.401c.302.318.453.476.63.535a.749.749 0 0 0 .476 0c.177-.059.328-.217.63-.535l4.198-4.4c.61-.64.914-.96.93-1.233a.75.75 0 0 0-.265-.62C17.522 11 17.081 11 16.197 11H15V4.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 0 0-.655-.656C13.861 2 13.441 2 12.6 2h-1.2c-.84 0-1.26 0-1.581.163a1.5 1.5 0 0 0-.656.656zM5 21a1 1 0 0 0 1 1h12a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1z",fill:"#000000"})}),t[11]=k):k=t[11];let j;t[12]!==_?(j=S.jsx("button",{onClick:_,children:k}),t[12]=_,t[13]=j):j=t[13];let B;t[14]!==D||t[15]!==j?(B=S.jsxs("div",{className:CS.actionsContainer,children:[D,j]}),t[14]=D,t[15]=j,t[16]=B):B=t[16];let q;t[17]!==o||t[18]!==i?(q=S.jsx("img",{src:i,alt:o}),t[17]=o,t[18]=i,t[19]=q):q=t[19];let F;return t[20]!==B||t[21]!==q?(F=S.jsxs("dialog",{ref:f,children:[B,q]}),t[20]=B,t[21]=q,t[22]=F):F=t[22],F}function RS(e){return e.setImageDialog}const xS="_navContainer_as0vj_1",IS="_profileContainer_as0vj_12",DS="_actionsContainer_as0vj_26",io={navContainer:xS,profileContainer:IS,actionsContainer:DS};function MS(){const e=de.c(21);console.log("Chat header rendered!");const{peerName:t}=J.useContext(hn),i=At(OS),r=At(NS),o=At(VS),u=J.useRef(null);let f;e[0]!==r?(f=()=>{r("idle")},e[0]=r,e[1]=f):f=e[1];const m=f;let p;e[2]!==o?(p=()=>{window.innerWidth>1400||o(!0)},e[2]=o,e[3]=p):p=e[3];const g=p;let _,T;e[4]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{window.visualViewport&&window.visualViewport.addEventListener("scroll",()=>{u.current.style.top=`${window.visualViewport.offsetTop}px`})},T=[],e[4]=_,e[5]=T):(_=e[4],T=e[5]),J.useEffect(_,T);let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsx("img",{src:"./pp.svg",width:32,height:32,className:io.profileImage}),e[6]=b):b=e[6];const A=t.current?t.current:"Receiver";let D;e[7]!==A?(D=S.jsxs("div",{className:io.profileContainer,children:[b,S.jsx("p",{children:A})]}),e[7]=A,e[8]=D):D=e[8];let k;e[9]!==m||e[10]!==i?(k=i==="hidden"&&S.jsx("button",{className:io.videoCallButton,onClick:m,children:S.jsx("svg",{width:"1.25rem",height:"1.25rem",viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"})})}),e[9]=m,e[10]=i,e[11]=k):k=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("svg",{width:"1.25rem",height:"1.25rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2788 2.15224C13.9085 2 13.439 2 12.5 2C11.561 2 11.0915 2 10.7212 2.15224C10.2274 2.35523 9.83509 2.74458 9.63056 3.23463C9.53719 3.45834 9.50065 3.7185 9.48635 4.09799C9.46534 4.65568 9.17716 5.17189 8.69017 5.45093C8.20318 5.72996 7.60864 5.71954 7.11149 5.45876C6.77318 5.2813 6.52789 5.18262 6.28599 5.15102C5.75609 5.08178 5.22018 5.22429 4.79616 5.5472C4.47814 5.78938 4.24339 6.1929 3.7739 6.99993C3.30441 7.80697 3.06967 8.21048 3.01735 8.60491C2.94758 9.1308 3.09118 9.66266 3.41655 10.0835C3.56506 10.2756 3.77377 10.437 4.0977 10.639C4.57391 10.936 4.88032 11.4419 4.88029 12C4.88026 12.5581 4.57386 13.0639 4.0977 13.3608C3.77372 13.5629 3.56497 13.7244 3.41645 13.9165C3.09108 14.3373 2.94749 14.8691 3.01725 15.395C3.06957 15.7894 3.30432 16.193 3.7738 17C4.24329 17.807 4.47804 18.2106 4.79606 18.4527C5.22008 18.7756 5.75599 18.9181 6.28589 18.8489C6.52778 18.8173 6.77305 18.7186 7.11133 18.5412C7.60852 18.2804 8.2031 18.27 8.69012 18.549C9.17714 18.8281 9.46533 19.3443 9.48635 19.9021C9.50065 20.2815 9.53719 20.5417 9.63056 20.7654C9.83509 21.2554 10.2274 21.6448 10.7212 21.8478C11.0915 22 11.561 22 12.5 22C13.439 22 13.9085 22 14.2788 21.8478C14.7726 21.6448 15.1649 21.2554 15.3694 20.7654C15.4628 20.5417 15.4994 20.2815 15.5137 19.902C15.5347 19.3443 15.8228 18.8281 16.3098 18.549C16.7968 18.2699 17.3914 18.2804 17.8886 18.5412C18.2269 18.7186 18.4721 18.8172 18.714 18.8488C19.2439 18.9181 19.7798 18.7756 20.2038 18.4527C20.5219 18.2105 20.7566 17.807 21.2261 16.9999C21.6956 16.1929 21.9303 15.7894 21.9827 15.395C22.0524 14.8691 21.9088 14.3372 21.5835 13.9164C21.4349 13.7243 21.2262 13.5628 20.9022 13.3608C20.4261 13.0639 20.1197 12.558 20.1197 11.9999C20.1197 11.4418 20.4261 10.9361 20.9022 10.6392C21.2263 10.4371 21.435 10.2757 21.5836 10.0835C21.9089 9.66273 22.0525 9.13087 21.9828 8.60497C21.9304 8.21055 21.6957 7.80703 21.2262 7C20.7567 6.19297 20.522 5.78945 20.2039 5.54727C19.7799 5.22436 19.244 5.08185 18.7141 5.15109C18.4722 5.18269 18.2269 5.28136 17.8887 5.4588C17.3915 5.71959 16.7969 5.73002 16.3099 5.45096C15.8229 5.17191 15.5347 4.65566 15.5136 4.09794C15.4993 3.71848 15.4628 3.45833 15.3694 3.23463C15.1649 2.74458 14.7726 2.35523 14.2788 2.15224ZM12.5 15C14.1695 15 15.5228 13.6569 15.5228 12C15.5228 10.3431 14.1695 9 12.5 9C10.8305 9 9.47716 10.3431 9.47716 12C9.47716 13.6569 10.8305 15 12.5 15Z",fill:"#1C274C"})}),e[12]=j):j=e[12];let B;e[13]!==g?(B=S.jsx("button",{className:io.settingsButton,onClick:g,children:j}),e[13]=g,e[14]=B):B=e[14];let q;e[15]!==k||e[16]!==B?(q=S.jsxs("ul",{className:io.actionsContainer,children:[k,B]}),e[15]=k,e[16]=B,e[17]=q):q=e[17];let F;return e[18]!==q||e[19]!==D?(F=S.jsxs("nav",{"aria-label":"Main Navigation",className:io.navContainer,ref:u,children:[D,q]}),e[18]=q,e[19]=D,e[20]=F):F=e[20],F}function VS(e){return e.setSettings}function NS(e){return e.setVideoCall}function OS(e){return e.videoCall}const LS="_chatContainer_intrd_1",jS="_chatBottom_intrd_18",I_={chatContainer:LS,chatBottom:jS},kS="_textMessage_um7fn_1",PS="_sentMessage_um7fn_31",US="_receivedMessage_um7fn_36",BS="_sending_um7fn_41",zS="_sent_um7fn_31",qS="_deletedMessage_um7fn_49",HS="_topMessage_um7fn_55",GS="_bottomMessage_um7fn_60",FS="_repliedMessage_um7fn_73",QS="_hasImage_um7fn_78",YS="_hasReaction_um7fn_84",$S="_emoji_um7fn_88",KS="_optionsButton_um7fn_98",Pn={textMessage:kS,sentMessage:PS,receivedMessage:US,sending:BS,sent:zS,deletedMessage:qS,topMessage:HS,bottomMessage:GS,repliedMessage:FS,hasImage:QS,hasReaction:YS,emoji:$S,optionsButton:KS},XS="_reaction_mi0kw_1",ZS="_sentReaction_mi0kw_14",JS="_receivedReaction_mi0kw_18",V1={reaction:XS,sentReaction:ZS,receivedReaction:JS},WS=["","","","","",""];function tC(e){const t=de.c(8),{reaction:i,origin:r}=e,[o,u]=aa(eC);let f;t[0]!==u?(f=()=>{u.start({from:{scale:0},to:{scale:1},config:{tension:300,friction:15}})},t[0]=u,t[1]=f):f=t[1];let m;t[2]!==i?(m=[i],t[2]=i,t[3]=m):m=t[3],J.useEffect(f,m);let p;return t[4]!==r||t[5]!==i||t[6]!==o?(p=i!==-1?S.jsx(As.div,{className:`${V1.reaction} ${r==="sent"?V1.sentReaction:V1.receivedReaction}`,style:{...o},children:WS[i]}):S.jsx(S.Fragment,{}),t[4]=r,t[5]=i,t[6]=o,t[7]=p):p=t[7],p}function eC(){return{scale:1}}const nC="_requestDiv_1axuz_1",iC="_decisionBox_1axuz_9",sC="_loading_1axuz_35",N1={requestDiv:nC,decisionBox:iC,loading:sC};function rC(e){const t=de.c(16),{sentId:i,receivedId:r}=e;console.log("Image request rendered!");const{dataChannel:o,peerName:u}=J.useContext(hn),f=At(aC),{receivingImage:m}=J.useContext(ri),{showNotification:p}=Su(),[g,_]=J.useState(!1);let T;t[0]!==o.current||t[1]!==r||t[2]!==m.current||t[3]!==i||t[4]!==p?(T=()=>{m.current===null?(o.current.send(JSON.stringify({type:"imageAccept",sentId:r,receivedId:i})),_(!0)):p("Please wait for a while!")},t[0]=o.current,t[1]=r,t[2]=m.current,t[3]=i,t[4]=p,t[5]=T):T=t[5];const b=T;let A;t[6]!==o.current||t[7]!==r||t[8]!==f||t[9]!==i?(A=()=>{o.current.send(JSON.stringify({type:"imageReject",sentId:r,receivedId:i})),f(i,r)},t[6]=o.current,t[7]=r,t[8]=f,t[9]=i,t[10]=A):A=t[10];const D=A;let k;return t[11]!==b||t[12]!==g||t[13]!==u||t[14]!==D?(k=g?S.jsxs("div",{className:N1.loading,children:[S.jsx("span",{children:"L"}),S.jsx("span",{children:"o"}),S.jsx("span",{children:"a"}),S.jsx("span",{children:"d"}),S.jsx("span",{children:"i"}),S.jsx("span",{children:"n"}),S.jsx("span",{children:"g"}),S.jsx("span",{children:""}),S.jsx("span",{children:"i"}),S.jsx("span",{children:"m"}),S.jsx("span",{children:"a"}),S.jsx("span",{children:"g"}),S.jsx("span",{children:"e"})]}):S.jsxs("div",{className:N1.requestDiv,children:[S.jsxs("div",{children:[u.current," wants to send you an image"]}),S.jsxs("div",{className:N1.decisionBox,children:[S.jsx("button",{onClick:b,children:"Accept"}),S.jsx("button",{onClick:D,children:"Reject"})]})]}),t[11]=b,t[12]=g,t[13]=u,t[14]=D,t[15]=k):k=t[15],k}function aC(e){return e.removeMessage}const oC="_wrapperContainer_1jaxu_1",lC="_show_1jaxu_13",O1={wrapperContainer:oC,show:lC};function dg({imageData:e,imageSource:t,imageAlt:i="Image",backgroundColor:r,clickHandler:o}){const[u,f]=J.useState(!1),m={[`data-${e==null?void 0:e.label}`]:e==null?void 0:e.value};return S.jsx("div",{style:{backgroundColor:u?"transparent":r},className:`${O1.wrapperContainer} ${u?O1.stopAnimation:""}`,children:S.jsx("img",{onClick:o,...m,className:u?O1.show:"",onLoad:()=>{f(!0)},src:t,alt:i})})}const y4=J.memo(({message:e,prevMessageSentId:t,prevMessageReceivedId:i,prevMessageReaction:r,nextMessageSentId:o,nextMessageReceivedId:u,nextMessageReplyTo:f})=>{const{dataChannel:m}=J.useContext(hn),p=At(et=>et.setReplying),g=At(et=>et.setActionsShown),_=At(et=>et.setReactionsShown),T=At(et=>et.setImageDialog),{chatBottom:b,pointerPosition:A,selectedMessage:D,longPressed:k,atBottomRef:j}=J.useContext(ri),{sentId:B,receivedId:q,type:F,status:Z,content:W,reaction:Y,deleted:M,highlight:x,replyTo:R}=e;console.log("Rendering message ",e);const O=()=>{T({src:W,sent:q===null})},N={text:()=>S.jsx("p",{children:W}),image:()=>S.jsx(dg,{imageSource:W,backgroundColor:q===null?"#FFD1B3":"#B3E0FF",clickHandler:O}),imageRequest:()=>S.jsx(rC,{sentId:B,receivedId:q})},[P,I]=aa(()=>({scale:1,x:0})),Rt=J.useRef(null),xt=J.useRef(!1),X=J.useRef(!0),lt=J.useRef(0),ft=J.useRef(null);J.useEffect(()=>{j.current&&(b.current.scrollIntoView({behavior:"smooth"}),j.current=!1),I.start({from:{scale:0,opacity:0},to:[{scale:1,opacity:1}],reset:!0,config:B1.stiff})},[]),J.useEffect(()=>{if(X.current){X.current=!1;return}(async()=>(ft.current.scrollIntoView({behavior:"instant"}),await new Promise(et=>setTimeout(et,100)),I.start({from:{scale:1},to:[{scale:1.2},{scale:1}],reset:!0,config:B1.stiff})))()},[x]);const bt=()=>{if(B===null&&Y!==1){let et={type:"reaction",id:q,reaction:1};m.current.send(JSON.stringify(et))}},L=M7({onPointerDown:({event:et})=>{xt.current=!1,Rt.current=setTimeout(()=>{xt.current||(A.current.x=et.clientX,A.current.y=et.clientY,k.current=!0,I.start({from:{scale:1},to:[{scale:1.1},{scale:1}],reset:!0,config:{duration:150},onRest:()=>{g(!0),p(null),B===null&&_(!0),D.current=e}}))},500)},onPointerUp:()=>{setTimeout(()=>{k.current=!1},100),clearTimeout(Rt.current);const et=Date.now();et-lt.current<500?(bt(),lt.current=0):lt.current=et},onPointerLeave:()=>{clearTimeout(Rt.current)},onDrag:({last:et,movement:[st]})=>{if(B===null){if(st<0)return}else if(st>0)return;if(Math.abs(st)<5){I.set({x:0});return}xt.current=!0,xt.current&&Rt.current&&(clearTimeout(Rt.current),Rt.current=null),et?I.start({x:0,config:{tension:500,friction:20},onRest:()=>{Math.abs(st)>60&&(D.current=e,p(D.current),g(!1),_(!1))}}):I.start({x:st,config:{tension:500,friction:20},immediate:!0})}},{eventOptions:{passive:!1}}),it=et=>{et.stopPropagation(),!(M===2||F==="imageRequest"||Z==="sending")&&(D.current=e,g(!0),q!==null&&(A.current.x=et.clientX-ft.current.clientWidth/2-36,A.current.y=et.clientY,_(!0)))};return S.jsxs(As.div,{ref:ft,...M!==0||F==="imageRequest"||Z==="sending"?{}:L(),style:{...P},className:`
        ${Pn.textMessage}
        ${Z==="sending"?Pn.sending:Pn.sent}
        ${q===null?Pn.sentMessage:Pn.receivedMessage}
        ${(o===B||u===q)&&e.reaction===-1&&!f?Pn.topMessage:""}
        ${(t===B||i===q)&&!r?Pn.bottomMessage:""}
        ${R?Pn.repliedMessage:""}
        ${M===2?Pn.deletedMessage:""}
        ${Y!==-1&&M!==2?Pn.hasReaction:""}
        ${F==="image"?Pn.hasImage:""}
        ${z7(W)?Pn.emoji:""}
      `,children:[(N[F]||(()=>S.jsx("p",{children:S.jsx("span",{children:"Unknown type"})})))(),M!==2&&S.jsx(tC,{reaction:Y,origin:B===null?"received":"sent"}),S.jsx("button",{onClick:()=>{it(event)},className:Pn.optionsButton,children:S.jsxs("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M0 0h48v48H0z",fill:"none"}),S.jsxs("g",{children:[S.jsx("circle",{cx:"24",cy:"24",r:"5"}),S.jsx("circle",{cx:"24",cy:"11",r:"5"}),S.jsx("circle",{cx:"24",cy:"37",r:"5"})]})]})})]})}),uC="_replyToMessage_ol6gh_1",cC="_sentMessage_ol6gh_20",hC="_receivedMessage_ol6gh_25",nh={replyToMessage:uC,sentMessage:cC,receivedMessage:hC};function fC(e){const t=de.c(18),{message:i,nextMessageSentId:r,nextMessageReceivedId:o,nextMessageReplyTo:u}=e,f=At(dC);let m;t[0]!==f||t[1]!==i.replyTo.receivedId||t[2]!==i.replyTo.sentId?(m=()=>{setTimeout(()=>{f(i.replyTo.sentId,i.replyTo.receivedId)},100)},t[0]=f,t[1]=i.replyTo.receivedId,t[2]=i.replyTo.sentId,t[3]=m):m=t[3];const p=m,g=`
          ${nh.replyToMessage}
          ${i.receivedId===null?nh.sentMessage:nh.receivedMessage}
          ${i.reaction!==-1?nh.hasReaction:""}
        `,_=i.replyTo.type==="image"?"Image":i.replyTo.content;let T;t[4]!==_?(T=S.jsx("p",{children:_}),t[4]=_,t[5]=T):T=t[5];let b;t[6]!==p||t[7]!==g||t[8]!==T?(b=S.jsx("a",{onClick:p,className:g,children:T}),t[6]=p,t[7]=g,t[8]=T,t[9]=b):b=t[9];let A;t[10]!==i||t[11]!==o||t[12]!==u||t[13]!==r?(A=S.jsx(y4,{message:i,replied:!0,nextMessageSentId:r,nextMessageReceivedId:o,nextMessageReplyTo:u}),t[10]=i,t[11]=o,t[12]=u,t[13]=r,t[14]=A):A=t[14];let D;return t[15]!==b||t[16]!==A?(D=S.jsxs(S.Fragment,{children:[b,A]}),t[15]=b,t[16]=A,t[17]=D):D=t[17],D}function dC(e){return e.highlightMessage}const mC="_typingIndicator_1w1tb_1",gC="_dot_1w1tb_12",ih={typingIndicator:mC,dot:gC};function pC(){const e=de.c(1),{chatBottom:t}=J.useContext(ri);ho(t)&&setTimeout(()=>{t.current.scrollIntoView({behavior:"smooth"})},300);let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsxs("div",{className:ih.typingIndicator,children:[S.jsx("span",{className:ih.dot}),S.jsx("span",{className:ih.dot}),S.jsx("span",{className:ih.dot})]}),e[0]=i):i=e[0],i}const yC="_newMessageContainer_19iot_1",_C="_newMessage_19iot_1",D_={newMessageContainer:yC,newMessage:_C};function vC(){const e=de.c(4);console.log("New Message component rendered!");const{chatBottom:t}=J.useContext(ri);let i;e[0]!==t.current?(i=()=>{t.current.scrollIntoView({behavior:"smooth"})},e[0]=t.current,e[1]=i):i=e[1];const r=i;let o;return e[2]!==r?(o=S.jsx("div",{className:D_.newMessageContainer,children:S.jsx("div",{className:D_.newMessage,onClick:r,children:"New Message"})}),e[2]=r,e[3]=o):o=e[3],o}function EC(){const e=de.c(17);console.log("Chat component rendered!");const{chatBottom:t}=J.useContext(ri),i=At(CC),r=At(SC),o=At(wC),u=At(bC);let f;e[0]!==t||e[1]!==u?(f=()=>{const A=new IntersectionObserver(k=>{k.forEach(j=>{j.isIntersecting&&u(!1)})},{threshold:.1}),D=t.current;return D&&A.observe(D),()=>{D&&A.unobserve(D)}},e[0]=t,e[1]=u,e[2]=f):f=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[3]=m):m=e[3],J.useLayoutEffect(f,m);let p;e[4]!==i?(p=i.map(TC),e[4]=i,e[5]=p):p=e[5];let g;e[6]!==r?(g=r&&S.jsx(pC,{}),e[6]=r,e[7]=g):g=e[7];let _;e[8]!==o?(_=o&&S.jsx(vC,{}),e[8]=o,e[9]=_):_=e[9];let T;e[10]!==t?(T=S.jsx("div",{ref:t,className:I_.chatBottom,children:"Hehe"},"chatBottom"),e[10]=t,e[11]=T):T=e[11];let b;return e[12]!==p||e[13]!==g||e[14]!==_||e[15]!==T?(b=S.jsxs("div",{className:I_.chatContainer,children:[p,g,_,T]}),e[12]=p,e[13]=g,e[14]=_,e[15]=T,e[16]=b):b=e[16],b}function TC(e,t,i){var r,o,u,f,m,p,g,_,T;return e.replyTo?S.jsx(fC,{message:e,nextMessageSentId:(r=i[t+1])==null?void 0:r.sentId,nextMessageReceivedId:(o=i[t+1])==null?void 0:o.receivedId,nextMessageReplyTo:(u=i[t+1])==null?void 0:u.replyTo},`${e.sentId} m ${e.receivedId}`):S.jsx(y4,{message:e,nextMessageSentId:(f=i[t+1])==null?void 0:f.sentId,nextMessageReceivedId:(m=i[t+1])==null?void 0:m.receivedId,nextMessageReplyTo:(p=i[t+1])==null?void 0:p.replyTo,prevMessageSentId:(g=i[t-1])==null?void 0:g.sentId,prevMessageReceivedId:(_=i[t-1])==null?void 0:_.receivedId,prevMessageReaction:((T=i[t-1])==null?void 0:T.reaction)!==-1},`${e.sentId} m ${e.receivedId}`)}function bC(e){return e.setNewMessage}function wC(e){return e.newMessage}function SC(e){return e.typing}function CC(e){return e.messages}const AC="_inputSpaceWrapper_ohpjy_1",RC="_inputSpaceContainer_ohpjy_7",xC="_textAreaWrapper_ohpjy_15",IC="_optionsContainer_ohpjy_66",DC="_sendButton_ohpjy_108",MC="_active_ohpjy_116",VC="_addButton_ohpjy_124",NC="_optionsShown_ohpjy_141",OC="_imageBox_ohpjy_157",LC="_inputImage_ohpjy_168",jC="_closeImage_ohpjy_175",di={inputSpaceWrapper:AC,inputSpaceContainer:RC,textAreaWrapper:xC,optionsContainer:IC,sendButton:DC,active:MC,addButton:VC,optionsShown:NC,imageBox:OC,inputImage:LC,closeImage:jC},kC="_gifBox_ov4sj_1",PC="_dragger_ov4sj_18",UC="_inputDiv_ov4sj_28",BC="_closeButton_ov4sj_34",zC="_gifInput_ov4sj_45",qC="_gifsContainer_ov4sj_65",HC="_containerColumn_ov4sj_76",ir={gifBox:kC,dragger:PC,inputDiv:UC,closeButton:BC,gifInput:zC,gifsContainer:qC,containerColumn:HC},GC="AIzaSyAnvUI0Ka40pbNu4COdmUoeMiIrf3gPg3k",FC="client_key=boop-chat&media_filter=tinygif,gif&contentfilter=low";function QC(e){const t=de.c(49),{setGifPicker:i}=e;console.log("Gif Picker rendered!");const{dataChannel:r,featuredGifs:o}=J.useContext(hn),{sentId:u,selectedMessage:f,atBottomRef:m,chatBottom:p}=J.useContext(ri),g=At(eA),_=At(tA),T=At(WC),[b,A]=J.useState(o.current),D=J.useRef(null),[k,j]=aa(JC),{h:B,pB:q}=k;let F;t[0]!==j||t[1]!==i?(F=()=>{j.start({h:0,pB:0,onRest:()=>{i(!1),window.history.state==="gifs"&&window.history.back()}})},t[0]=j,t[1]=i,t[2]=F):F=t[2];const Z=F;let W;t[3]!==j||t[4]!==Z?(W=Ot=>{const{movement:Nt,last:ye}=Ot,[,le]=Nt;Math.abs(le)<2&&!ye||(ye?le>60?Z():j.start({h:85,immediate:!1}):le>0&&j.start({h:85-le/window.innerHeight*100,immediate:!0}))},t[3]=j,t[4]=Z,t[5]=W):W=t[5];const Y=wu(W);let M;t[6]===Symbol.for("react.memo_cache_sentinel")?(M=async Ot=>{const Nt=`https://tenor.googleapis.com/v2/search?q=${Ot}&key=${GC}&${FC}`,ye=await fetch(Nt).then(ZC);A(ye.results)},t[6]=M):M=t[6];const x=M;let R;t[7]===Symbol.for("react.memo_cache_sentinel")?(R=P7(x,200),t[7]=R):R=t[7];const O=J.useRef(R);let N;t[8]!==o.current?(N=()=>{const Ot=D.current.value.trimEnd();Ot.length===0?A(o.current):O.current(Ot)},t[8]=o.current,t[9]=N):N=t[9];const P=N;let I;t[10]!==g||t[11]!==m||t[12]!==p||t[13]!==r||t[14]!==_||t[15]!==f||t[16]!==u||t[17]!==i||t[18]!==T?(I=Ot=>{console.log("Clicked!"),Ot.target.dataset.url&&($1({type:"gif",content:Ot.target.dataset.url,replying:_,setReplying:T,selectedMessage:f.current,dataChannel:r.current,addMessage:g,sentId:u,inputRef:null,atBottomRef:m,chatBottom:p}),i(!1))},t[10]=g,t[11]=m,t[12]=p,t[13]=r,t[14]=_,t[15]=f,t[16]=u,t[17]=i,t[18]=T,t[19]=I):I=t[19];const Rt=I;let xt;t[20]!==j||t[21]!==Z?(xt=()=>(j.start({from:{h:0},to:[{h:85}]}),window.history.pushState("gifs",""),window.addEventListener("popstate",Z),()=>{window.removeEventListener("popstate",Z)}),t[20]=j,t[21]=Z,t[22]=xt):xt=t[22];let X;t[23]===Symbol.for("react.memo_cache_sentinel")?(X=[],t[23]=X):X=t[23],J.useEffect(xt,X);let lt;t[24]!==Y?(lt=Y(),t[24]=Y,t[25]=lt):lt=t[25];let ft;t[26]!==B?(ft=B.to(XC),t[26]=B,t[27]=ft):ft=t[27];let bt;t[28]!==q?(bt=q.to(KC),t[28]=q,t[29]=bt):bt=t[29];let L;t[30]!==ft||t[31]!==bt?(L={height:ft,paddingBottom:bt},t[30]=ft,t[31]=bt,t[32]=L):L=t[32];let it;t[33]===Symbol.for("react.memo_cache_sentinel")?(it=S.jsx("div",{className:ir.dragger}),t[33]=it):it=t[33];let et;t[34]!==P?(et=S.jsx("input",{ref:D,autoComplete:"off",placeholder:"Search",spellCheck:!1,name:"query",title:"Search for GIFs",className:ir.gifInput,onChange:P}),t[34]=P,t[35]=et):et=t[35];let st;t[36]!==Z?(st=S.jsx("button",{onClick:Z,className:ir.closeButton,children:" Close "}),t[36]=Z,t[37]=st):st=t[37];let dt;t[38]!==et||t[39]!==st?(dt=S.jsxs("div",{className:ir.inputDiv,children:[et,st]}),t[38]=et,t[39]=st,t[40]=dt):dt=t[40];let yt;t[41]!==b||t[42]!==Rt?(yt=b.length>0?S.jsxs("div",{className:ir.gifsContainer,onClick:Ot=>Rt(Ot),children:[S.jsx("div",{className:ir.containerColumn,children:b.map($C)}),S.jsx("div",{className:ir.containerColumn,children:b.map(YC)})]}):S.jsx(S.Fragment,{}),t[41]=b,t[42]=Rt,t[43]=yt):yt=t[43];let pt;return t[44]!==lt||t[45]!==L||t[46]!==dt||t[47]!==yt?(pt=S.jsxs(As.div,{...lt,style:L,className:ir.gifBox,children:[it,dt,yt]}),t[44]=lt,t[45]=L,t[46]=dt,t[47]=yt,t[48]=pt):pt=t[48],pt}function YC(e,t){return t%2===1&&S.jsx(dg,{imageData:{label:"url",value:e.media_formats.gif.url},imageSource:e.media_formats.tinygif.url,imageAlt:e.content_description,backgroundColor:"var(--opaque-background)"},e.id+t)}function $C(e,t){return t%2===0&&S.jsx(dg,{imageData:{label:"url",value:e.media_formats.gif.url},imageSource:e.media_formats.tinygif.url,imageAlt:e.content_description,backgroundColor:"var(--opaque-background)"},e.id+t)}function KC(e){return`${e}rem`}function XC(e){return`${e}vh`}function ZC(e){return e.json()}function JC(){return{h:85,pB:.5}}function WC(e){return e.setReplying}function tA(e){return e.replying}function eA(e){return e.addMessage}const nA="_replyInfo_fj03s_1",iA="_messageContents_fj03s_14",sA="_replyingTo_fj03s_40",rA="_selectedMessage_fj03s_45",sh={replyInfo:nA,messageContents:iA,replyingTo:sA,selectedMessage:rA};function aA(){const e=de.c(16),{peerName:t}=J.useContext(hn),{selectedMessage:i}=J.useContext(ri),r=At(oA),o=i.current.receivedId===null?"yourself":t.current;let u;e[0]!==i.current.content||e[1]!==i.current.type?(u=i.current.type==="image"?"Image":q7(i.current.content,40),e[0]=i.current.content,e[1]=i.current.type,e[2]=u):u=e[2];const f=u;let m;e[3]!==r?(m=()=>{r(null)},e[3]=r,e[4]=m):m=e[4];const p=m;let g;e[5]!==o?(g=S.jsxs("p",{className:sh.replyingTo,children:["Replying to ",o]}),e[5]=o,e[6]=g):g=e[6];let _;e[7]!==f?(_=S.jsx("p",{className:sh.selectedMessage,children:f}),e[7]=f,e[8]=_):_=e[8];let T;e[9]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"}),e[9]=T):T=e[9];let b;e[10]!==p?(b=S.jsx("svg",{width:"1rem",height:"1rem",onClick:p,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:T}),e[10]=p,e[11]=b):b=e[11];let A;return e[12]!==g||e[13]!==_||e[14]!==b?(A=S.jsx("div",{className:sh.replyInfo,children:S.jsxs("div",{className:sh.messageContents,children:[g,_,b]})}),e[12]=g,e[13]=_,e[14]=b,e[15]=A):A=e[15],A}function oA(e){return e.setReplying}function lA(){const e=de.c(78),{showNotification:t}=Su(),{dataChannel:i}=J.useContext(hn),{sentId:r,atBottomRef:o,images:u,selectedMessage:f,chatBottom:m}=J.useContext(ri),p=At(fA),g=At(hA),_=At(cA),T=J.useRef(null),b=J.useRef(null),A=J.useRef(null),[D,k]=J.useState(null),[j,B]=J.useState(!1),[q,F]=J.useState(!1),[Z,W]=J.useState("");let Y;e[0]===Symbol.for("react.memo_cache_sentinel")?(Y=function(){document.activeElement!==T.current&&T.current.focus()},e[0]=Y):Y=e[0];const M=Y;let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x=function(){const In=window.visualViewport.height+window.visualViewport.offsetTop,Hn=window.innerHeight,Qi=Math.max(0,Hn-In);b.current.style.bottom=`${Qi}px`},e[1]=x):x=e[1];const R=x;let O,N;e[2]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{window.visualViewport&&(window.visualViewport.addEventListener("resize",R),window.visualViewport.addEventListener("scroll",R)),window.addEventListener("keydown",M)},N=[],e[2]=O,e[3]=N):(O=e[2],N=e[3]),J.useEffect(O,N);let P,I;e[4]!==p?(P=()=>{p&&T.current&&T.current.focus()},I=[p],e[4]=p,e[5]=P,e[6]=I):(P=e[5],I=e[6]),J.useLayoutEffect(P,I);let Rt;e[7]===Symbol.for("react.memo_cache_sentinel")?(Rt=()=>{B(!0)},e[7]=Rt):Rt=e[7];const xt=Rt;let X;e[8]!==i?(X=()=>{i.current.send(JSON.stringify({type:"typing"}))},e[8]=i,e[9]=X):X=e[9];const lt=X;let ft;e[10]!==lt?(ft=k7(lt,800),e[10]=lt,e[11]=ft):ft=e[11];const bt=J.useRef(ft);let L;e[12]===Symbol.for("react.memo_cache_sentinel")?(L=qe=>{W(qe.target.value),bt.current(),T.current.style.height="auto",T.current.scrollHeight>T.current.clientHeight&&(T.current.style.height=T.current.scrollHeight+"px")},e[12]=L):L=e[12];const it=L;let et;e[13]!==u.current||e[14]!==r||e[15]!==t?(et=async qe=>{const In=qe.target.files[0];if(!In)return;const Hn=await U7(In);if(Hn.length>64){t("Please upload images upto 2 MB!");return}u.current.push({sentId:r.current,receivedId:null,fileType:In.type,chunks:Hn}),k(URL.createObjectURL(In))},e[13]=u.current,e[14]=r,e[15]=t,e[16]=et):et=e[16];const st=et;let dt;e[17]!==_||e[18]!==o||e[19]!==m||e[20]!==i||e[21]!==Z||e[22]!==p||e[23]!==f||e[24]!==r||e[25]!==g?(dt=()=>{Z.trim().length!==0&&($1({type:"text",content:Z.trimEnd(),replying:p,setReplying:g,selectedMessage:f.current,dataChannel:i.current,addMessage:_,sentId:r,inputRef:T,atBottomRef:o,chatBottom:m}),W(""))},e[17]=_,e[18]=o,e[19]=m,e[20]=i,e[21]=Z,e[22]=p,e[23]=f,e[24]=r,e[25]=g,e[26]=dt):dt=e[26];const yt=dt;let pt;e[27]!==_||e[28]!==o||e[29]!==m||e[30]!==i||e[31]!==D||e[32]!==p||e[33]!==f||e[34]!==r||e[35]!==g?(pt=()=>{D!==null&&($1({type:"imageRequest",content:D,replying:p,setReplying:g,selectedMessage:f.current,dataChannel:i.current,addMessage:_,sentId:r,inputRef:A,atBottomRef:o,chatBottom:m}),k(null))},e[27]=_,e[28]=o,e[29]=m,e[30]=i,e[31]=D,e[32]=p,e[33]=f,e[34]=r,e[35]=g,e[36]=pt):pt=e[36];const Ot=pt;let Nt;e[37]===Symbol.for("react.memo_cache_sentinel")?(Nt=()=>{T.current.style.height="unset",T.current.scrollTop=T.current.scrollHeight},e[37]=Nt):Nt=e[37];const ye=Nt;let le;e[38]!==u.current||e[39]!==r?(le=()=>{A.current.value="";const qe=u.current.findIndex(In=>In.sentId===r.current&&In.receivedId===null);u.current.splice(qe,1),k(null)},e[38]=u.current,e[39]=r,e[40]=le):le=e[40];const Ae=le;let Ke;e[41]!==D||e[42]!==Ot||e[43]!==yt?(Ke=()=>{D===null?yt():Ot()},e[41]=D,e[42]=Ot,e[43]=yt,e[44]=Ke):Ke=e[44];const _n=Ke;let fn;e[45]!==yt?(fn=qe=>{qe.key!=="Enter"||window.innerWidth<=1400||qe.shiftKey||(qe.preventDefault(),yt(),T.current.blur())},e[45]=yt,e[46]=fn):fn=e[46];const zn=fn;let vn;e[47]!==j?(vn=j?S.jsx(QC,{setGifPicker:B}):null,e[47]=j,e[48]=vn):vn=e[48];let It;e[49]!==st?(It=S.jsx("input",{ref:A,id:"fileInput",type:"file",accept:"image/*",onChange:qe=>st(qe)}),e[49]=st,e[50]=It):It=e[50];let ai;e[51]!==p?(ai=p&&S.jsx(aA,{}),e[51]=p,e[52]=ai):ai=e[52];const qn=`${di.addButton} ${q?di.optionsShown:""}`;let En;e[53]===Symbol.for("react.memo_cache_sentinel")?(En=()=>{F(uA)},e[53]=En):En=e[53];let rn;e[54]===Symbol.for("react.memo_cache_sentinel")?(rn=S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{id:"Vector",d:"M6 12H12M12 12H18M12 12V18M12 12V6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e[54]=rn):rn=e[54];let yi;e[55]!==qn?(yi=S.jsx("button",{className:qn,onClick:En,children:rn}),e[55]=qn,e[56]=yi):yi=e[56];let xn;e[57]!==zn||e[58]!==D||e[59]!==Z||e[60]!==q||e[61]!==Ae?(xn=D?S.jsxs("div",{className:di.imageBox,children:[S.jsx("img",{src:D,className:di.inputImage}),S.jsx("svg",{className:di.closeImage,width:"1rem",height:"1rem",onClick:Ae,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})]}):S.jsx("div",{className:di.textAreaWrapper,children:q?S.jsxs("div",{className:di.optionsContainer,children:[S.jsx("div",{children:S.jsx("label",{htmlFor:"fileInput",children:S.jsx("svg",{width:"1.125rem",height:"1.125rem",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M0 26.016q0 2.496 1.76 4.224t4.256 1.76h20q2.464 0 4.224-1.76t1.76-4.224v-20q0-2.496-1.76-4.256t-4.224-1.76h-20q-2.496 0-4.256 1.76t-1.76 4.256v20zM4 26.016v-20q0-0.832 0.576-1.408t1.44-0.608h20q0.8 0 1.408 0.608t0.576 1.408v20q0 0.832-0.576 1.408t-1.408 0.576h-20q-0.832 0-1.44-0.576t-0.576-1.408zM6.016 24q0 0.832 0.576 1.44t1.408 0.576h16q0.832 0 1.408-0.576t0.608-1.44v-0.928q-0.224-0.448-1.12-2.688t-1.6-3.584-1.28-2.112q-0.544-0.576-1.12-0.608t-1.152 0.384-1.152 1.12-1.184 1.568-1.152 1.696-1.152 1.6-1.088 1.184-1.088 0.448q-0.576 0-1.664-1.44-0.16-0.192-0.48-0.608-1.12-1.504-1.6-1.824-0.768-0.512-1.184 0.352-0.224 0.512-0.928 2.24t-1.056 2.56v0.64zM6.016 9.024q0 1.248 0.864 2.112t2.112 0.864 2.144-0.864 0.864-2.112-0.864-2.144-2.144-0.864-2.112 0.864-0.864 2.144z"})})})}),S.jsx("button",{children:S.jsx("svg",{onClick:xt,width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{id:"ic_fluent_gif_24_filled",fillRule:"nonzero",children:S.jsx("path",{d:"M18.75,3.50054297 C20.5449254,3.50054297 22,4.95561754 22,6.75054297 L22,17.2531195 C22,19.048045 20.5449254,20.5031195 18.75,20.5031195 L5.25,20.5031195 C3.45507456,20.5031195 2,19.048045 2,17.2531195 L2,6.75054297 C2,4.95561754 3.45507456,3.50054297 5.25,3.50054297 L18.75,3.50054297 Z M8.01459972,8.87193666 C6.38839145,8.87193666 5.26103525,10.2816525 5.26103525,11.9943017 C5.26103525,13.707564 6.38857781,15.1202789 8.01459972,15.1202789 C8.90237918,15.1202789 9.71768065,14.6931811 10.1262731,13.9063503 L10.2024697,13.7442077 L10.226,13.674543 L10.2440163,13.5999276 L10.2440163,13.5999276 L10.2516169,13.5169334 L10.2518215,11.9961937 L10.2450448,11.9038358 C10.2053646,11.6359388 9.99569349,11.4234501 9.72919932,11.3795378 L9.62682145,11.3711937 L8.62521827,11.3711937 L8.53286035,11.3779703 C8.26496328,11.4176506 8.05247466,11.6273217 8.00856234,11.8938159 L8.00021827,11.9961937 L8.00699487,12.0885517 C8.0466751,12.3564487 8.25634623,12.5689373 8.5228404,12.6128497 L8.62521827,12.6211937 L9.00103525,12.6209367 L9.00103525,13.3549367 L8.99484486,13.3695045 C8.80607251,13.6904125 8.44322427,13.8702789 8.01459972,13.8702789 C7.14873038,13.8702789 6.51103525,13.0713011 6.51103525,11.9943017 C6.51103525,10.9182985 7.14788947,10.1219367 8.01459972,10.1219367 C8.43601415,10.1219367 8.67582824,10.1681491 8.97565738,10.3121334 C9.28681641,10.4615586 9.6601937,10.3304474 9.80961888,10.0192884 C9.95904407,9.70812933 9.82793289,9.33475204 9.51677386,9.18532686 C9.03352891,8.95326234 8.61149825,8.87193666 8.01459972,8.87193666 Z M12.6289445,8.99393497 C12.3151463,8.99393497 12.0553614,9.22519285 12.0107211,9.52657705 L12.0039445,9.61893497 L12.0039445,14.381065 L12.0107211,14.4734229 C12.0553614,14.7748072 12.3151463,15.006065 12.6289445,15.006065 C12.9427427,15.006065 13.2025276,14.7748072 13.2471679,14.4734229 L13.2539445,14.381065 L13.2539445,9.61893497 L13.2471679,9.52657705 C13.2025276,9.22519285 12.9427427,8.99393497 12.6289445,8.99393497 Z M17.6221579,9.00083497 L15.6247564,8.99393111 C15.3109601,8.99285493 15.0503782,9.22321481 15.0046948,9.52444312 L14.9975984,9.61677709 L14.9975984,14.3649711 L15.0043751,14.4573291 C15.0440553,14.7252261 15.2537265,14.9377148 15.5202206,14.9816271 L15.6225985,14.9899711 L15.7149564,14.9831945 C15.9828535,14.9435143 16.1953421,14.7338432 16.2392544,14.467349 L16.2475985,14.3649711 L16.2470353,13.2499367 L17.37,13.2504012 L17.4623579,13.2436246 C17.730255,13.2039444 17.9427436,12.9942732 17.9866559,12.7277791 L17.995,12.6254012 L17.9882234,12.5330433 C17.9485432,12.2651462 17.738872,12.0526576 17.4723779,12.0087453 L17.37,12.0004012 L16.2470353,11.9999367 L16.2470353,10.2449367 L17.6178421,10.2508313 L17.7102229,10.2443727 C18.0117595,10.2007704 18.2439132,9.94178541 18.2450039,9.62798912 C18.24608,9.31419284 18.0157202,9.05361096 17.7144919,9.00793041 L17.6221579,9.00083497 L15.6247564,8.99393111 L17.6221579,9.00083497 Z",id:"-Color"})})})}),S.jsx("button",{children:S.jsx("svg",{width:"1.125rem",height:"1.125rem",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"iconify iconify--twemoji",preserveAspectRatio:"xMidYMid meet",children:S.jsx("path",{fill:"#FFAC33",d:"M27.287 34.627c-.404 0-.806-.124-1.152-.371L18 28.422l-8.135 5.834a1.97 1.97 0 0 1-2.312-.008a1.971 1.971 0 0 1-.721-2.194l3.034-9.792l-8.062-5.681a1.98 1.98 0 0 1-.708-2.203a1.978 1.978 0 0 1 1.866-1.363L12.947 13l3.179-9.549a1.976 1.976 0 0 1 3.749 0L23 13l10.036.015a1.975 1.975 0 0 1 1.159 3.566l-8.062 5.681l3.034 9.792a1.97 1.97 0 0 1-.72 2.194a1.957 1.957 0 0 1-1.16.379z"})})})]}):S.jsx("textarea",{onChange:it,onFocus:it,onBlur:ye,ref:T,name:"textMessage",placeholder:"Message",rows:1,spellCheck:!1,onKeyDown:zn,value:Z})}),e[57]=zn,e[58]=D,e[59]=Z,e[60]=q,e[61]=Ae,e[62]=xn):xn=e[62];const Gi=`${di.sendButton} ${D||Z.trim()!==""?di.active:""}`;let Fi;e[63]===Symbol.for("react.memo_cache_sentinel")?(Fi=S.jsx("path",{d:"M9.11933 4.38421C6.32524 2.98547 3.22434 5.63695 4.17515 8.61184L5.26247 12.0138L4.18106 15.3845C3.22719 18.3576 6.32366 21.0124 9.11924 19.6182L18.0461 15.1663C20.6491 13.8682 20.6519 10.1575 18.0509 8.85543L9.11933 4.38421Z"}),e[63]=Fi):Fi=e[63];let Wt;e[64]!==_n||e[65]!==Gi?(Wt=S.jsx("svg",{className:Gi,onClick:_n,width:"2rem",height:"2rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Fi}),e[64]=_n,e[65]=Gi,e[66]=Wt):Wt=e[66];let zt;e[67]!==yi||e[68]!==xn||e[69]!==Wt?(zt=S.jsxs("div",{className:di.inputSpaceContainer,children:[yi,xn,Wt]}),e[67]=yi,e[68]=xn,e[69]=Wt,e[70]=zt):zt=e[70];let Re;e[71]!==It||e[72]!==ai||e[73]!==zt?(Re=S.jsxs("div",{ref:b,className:di.inputSpaceWrapper,children:[It,ai,zt]}),e[71]=It,e[72]=ai,e[73]=zt,e[74]=Re):Re=e[74];let Ee;return e[75]!==vn||e[76]!==Re?(Ee=S.jsxs(S.Fragment,{children:[vn,Re]}),e[75]=vn,e[76]=Re,e[77]=Ee):Ee=e[77],Ee}function uA(e){return!e}function cA(e){return e.addMessage}function hA(e){return e.setReplying}function fA(e){return e.replying}const dA="_containingDiv_1e4vm_1",mA="_incomingCall_1e4vm_8",gA="_incomingCallText_1e4vm_25",pA="_profileImage_1e4vm_31",yA="_callingText_1e4vm_35",_A="_callActions_1e4vm_46",vA="_acceptCall_1e4vm_53",EA="_rejectCall_1e4vm_57",_s={containingDiv:dA,incomingCall:mA,incomingCallText:gA,profileImage:pA,callingText:yA,callActions:_A,acceptCall:vA,rejectCall:EA};function TA(){const e=de.c(34);console.log("Incoming call rendered!");const{peerName:t,dataChannel:i}=J.useContext(hn),r=At(SA),o=At(wA),[u,f]=aa(bA),{x:m,y:p,opacity:g}=u;let _;e[0]!==i.current||e[1]!==r||e[2]!==o?(_=()=>{i.current.send(JSON.stringify({type:"callAccept"})),r(!1),o("connected")},e[0]=i.current,e[1]=r,e[2]=o,e[3]=_):_=e[3];const T=_;let b;e[4]!==i.current||e[5]!==r?(b=()=>{i.current.send(JSON.stringify({type:"callReject"})),r(!1)},e[4]=i.current,e[5]=r,e[6]=b):b=e[6];const A=b;let D;e[7]!==f||e[8]!==A?(D=N=>{const{down:P,movement:I,direction:Rt}=N,[xt]=I,[X]=Rt;if(!P&&Math.abs(xt)>100){f.start({x:X>0?500:-500,opacity:0,onRest:A});return}f.start({x:P?xt:0,opacity:1})},e[7]=f,e[8]=A,e[9]=D):D=e[9];const k=wu(D);let j;e[10]!==k?(j=k(),e[10]=k,e[11]=j):j=e[11];let B;e[12]!==g||e[13]!==m||e[14]!==p?(B={x:m,y:p,opacity:g},e[12]=g,e[13]=m,e[14]=p,e[15]=B):B=e[15];let q,F;e[16]===Symbol.for("react.memo_cache_sentinel")?(q=S.jsx("div",{className:_s.profileImage,children:S.jsx("img",{src:"./pp.svg",width:50,height:50,className:_s.profileImage})}),F=S.jsx("p",{className:_s.incomingCallText,children:"Incoming Call"}),e[16]=q,e[17]=F):(q=e[16],F=e[17]);let Z;e[18]!==t.current?(Z=S.jsxs("div",{children:[F,S.jsxs("p",{className:_s.callingText,children:[t.current," is calling you"]})]}),e[18]=t.current,e[19]=Z):Z=e[19];let W;e[20]===Symbol.for("react.memo_cache_sentinel")?(W=S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M9 16C2.814 9.813 3.11 5.134 5.94 3.012l.627-.467a1.483 1.483 0 0 1 2.1.353l1.579 2.272a1.5 1.5 0 0 1-.25 1.99L8.476 8.474c-.38.329-.566.828-.395 1.301.316.88 1.083 2.433 2.897 4.246 1.814 1.814 3.366 2.581 4.246 2.898.474.17.973-.015 1.302-.396l1.314-1.518a1.5 1.5 0 0 1 1.99-.25l2.276 1.58a1.48 1.48 0 0 1 .354 2.096l-.47.633C19.869 21.892 15.188 22.187 9 16z"})}),e[20]=W):W=e[20];let Y;e[21]!==T?(Y=S.jsx("button",{className:_s.acceptCall,onClick:T,children:W}),e[21]=T,e[22]=Y):Y=e[22];let M;e[23]===Symbol.for("react.memo_cache_sentinel")?(M=S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})}),e[23]=M):M=e[23];let x;e[24]!==A?(x=S.jsx("button",{className:_s.rejectCall,onClick:A,children:M}),e[24]=A,e[25]=x):x=e[25];let R;e[26]!==Y||e[27]!==x?(R=S.jsxs("div",{className:_s.callActions,children:[Y,x]}),e[26]=Y,e[27]=x,e[28]=R):R=e[28];let O;return e[29]!==R||e[30]!==j||e[31]!==B||e[32]!==Z?(O=S.jsx("div",{className:_s.containingDiv,children:S.jsxs(As.div,{...j,className:_s.incomingCall,style:B,children:[q,Z,R]})}),e[29]=R,e[30]=j,e[31]=B,e[32]=Z,e[33]=O):O=e[33],O}function bA(){return{from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}}}function wA(e){return e.setVideoCall}function SA(e){return e.setIncomingCall}const CA="_videoCallDiv_y27t6_1",AA="_videoCallContainer_y27t6_7",RA="_cancelButton_y27t6_48",xA="_expanded_y27t6_44",IA="_mini_y27t6_75",DA="_callingIndicatorContainer_y27t6_99",MA="_callingIndicator_y27t6_99",Jr={videoCallDiv:CA,videoCallContainer:AA,cancelButton:RA,expanded:xA,mini:IA,callingIndicatorContainer:DA,callingIndicator:MA},VA="_videoContainer_8p4eo_1",NA="_expanded_8p4eo_10",OA="_contracted_8p4eo_19",LA="_video_8p4eo_1",jA="_expandButton_8p4eo_35",kA="_mutedButton_8p4eo_40",PA="_sendingVideo_8p4eo_45",UA="_receivingVideo_8p4eo_50",BA="_miniCallMode_8p4eo_70",yn={videoContainer:VA,expanded:NA,contracted:OA,video:LA,expandButton:jA,mutedButton:kA,sendingVideo:PA,receivingVideo:UA,miniCallMode:BA};function zA(e){const t=de.c(26),{bindDrag:i,x:r,y:o,expandOrContractVideo:u}=e,{remoteStream:f}=J.useContext(hn),m=J.useRef(null),p=Se(GA),g=Se(HA),_=Se(qA);let T;t[0]!==f||t[1]!==_?(T=()=>{m.current.srcObject=_?f.current:null},t[0]=f,t[1]=_,t[2]=T):T=t[2];let b;t[3]!==_?(b=[_],t[3]=_,t[4]=b):b=t[4],J.useEffect(T,b);const A=`
                ${yn.videoContainer}
                ${yn.receivingVideo}
                ${p==="expandReceiving"?yn.expanded:""}
                ${p==="expandSending"?yn.contracted:""}
                ${p==="mini"?yn.miniCallMode:""}
            `;let D;t[5]!==i||t[6]!==p?(D=p==="expandSending"?i():{},t[5]=i,t[6]=p,t[7]=D):D=t[7];let k;t[8]!==p||t[9]!==r||t[10]!==o?(k=p==="expandSending"?{x:r,y:o}:{},t[8]=p,t[9]=r,t[10]=o,t[11]=k):k=t[11];let j;t[12]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("video",{className:yn.video,autoPlay:!0,ref:m,poster:"./pp.svg"}),t[12]=j):j=t[12];let B;t[13]!==g?(B=!g&&S.jsx("button",{className:yn.mutedButton,children:S.jsx("svg",{width:"0.75rem",height:"0.75rem",viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:S.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:S.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),t[13]=g,t[14]=B):B=t[14];let q;t[15]!==u?(q=Y=>{u(Y,"receiving")},t[15]=u,t[16]=q):q=t[16];let F;t[17]===Symbol.for("react.memo_cache_sentinel")?(F=S.jsxs("svg",{width:"0.75rem",height:"0.75rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M23 4C23 2.34315 21.6569 1 20 1H16C15.4477 1 15 1.44772 15 2C15 2.55228 15.4477 3 16 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 21.4477 9 22 9C22.5523 9 23 8.55228 23 8V4Z"}),S.jsx("path",{d:"M23 16C23 15.4477 22.5523 15 22 15C21.4477 15 21 15.4477 21 16V20C21 20.5523 20.5523 21 20 21H16C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23H20C21.6569 23 23 21.6569 23 20V16Z"}),S.jsx("path",{d:"M4 21H8C8.55228 21 9 21.4477 9 22C9 22.5523 8.55228 23 8 23H4C2.34315 23 1 21.6569 1 20V16C1 15.4477 1.44772 15 2 15C2.55228 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21Z"}),S.jsx("path",{d:"M1 8C1 8.55228 1.44772 9 2 9C2.55228 9 3 8.55228 3 8L3 4C3 3.44772 3.44772 3 4 3H8C8.55228 3 9 2.55228 9 2C9 1.44772 8.55228 1 8 1H4C2.34315 1 1 2.34315 1 4V8Z"})]}),t[17]=F):F=t[17];let Z;t[18]!==q?(Z=S.jsx("button",{className:yn.expandButton,onClick:q,children:F}),t[18]=q,t[19]=Z):Z=t[19];let W;return t[20]!==Z||t[21]!==A||t[22]!==D||t[23]!==k||t[24]!==B?(W=S.jsxs(As.div,{className:A,...D,style:k,children:[j,B,Z]}),t[20]=Z,t[21]=A,t[22]=D,t[23]=k,t[24]=B,t[25]=W):W=t[25],W}function qA(e){return e.remoteVideo}function HA(e){return e.remoteAudio}function GA(e){return e.callMode}function FA(e){const t=de.c(26),{bindDrag:i,x:r,y:o,expandOrContractVideo:u,localStream:f}=e,m=Se($A),p=Se(YA),g=Se(QA);let _;t[0]!==f||t[1]!==g?(_=()=>{b.current.srcObject=g?f.current:null},t[0]=f,t[1]=g,t[2]=_):_=t[2];let T;t[3]!==g?(T=[g],t[3]=g,t[4]=T):T=t[4],J.useEffect(_,T);const b=J.useRef(null),A=`
                ${yn.videoContainer} 
                ${yn.sendingVideo}
                ${m==="expandSending"?yn.expanded:""}
                ${m==="expandReceiving"?yn.contracted:""}
                `;let D;t[5]!==i||t[6]!==m?(D=m==="expandReceiving"?i():{},t[5]=i,t[6]=m,t[7]=D):D=t[7];let k;t[8]!==m||t[9]!==r||t[10]!==o?(k=m==="expandReceiving"?{x:r,y:o}:{},t[8]=m,t[9]=r,t[10]=o,t[11]=k):k=t[11];let j;t[12]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("video",{className:yn.video,autoPlay:!0,poster:"./pp.svg",ref:b,muted:!0}),t[12]=j):j=t[12];let B;t[13]!==p?(B=!p&&S.jsx("button",{className:yn.mutedButton,children:S.jsx("svg",{width:"0.75rem",height:"0.75rem",viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:S.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:S.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),t[13]=p,t[14]=B):B=t[14];let q;t[15]!==u?(q=Y=>{u(Y,"sending")},t[15]=u,t[16]=q):q=t[16];let F;t[17]===Symbol.for("react.memo_cache_sentinel")?(F=S.jsxs("svg",{width:"0.75rem",height:"0.75rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M23 4C23 2.34315 21.6569 1 20 1H16C15.4477 1 15 1.44772 15 2C15 2.55228 15.4477 3 16 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 21.4477 9 22 9C22.5523 9 23 8.55228 23 8V4Z"}),S.jsx("path",{d:"M23 16C23 15.4477 22.5523 15 22 15C21.4477 15 21 15.4477 21 16V20C21 20.5523 20.5523 21 20 21H16C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23H20C21.6569 23 23 21.6569 23 20V16Z"}),S.jsx("path",{d:"M4 21H8C8.55228 21 9 21.4477 9 22C9 22.5523 8.55228 23 8 23H4C2.34315 23 1 21.6569 1 20V16C1 15.4477 1.44772 15 2 15C2.55228 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21Z"}),S.jsx("path",{d:"M1 8C1 8.55228 1.44772 9 2 9C2.55228 9 3 8.55228 3 8L3 4C3 3.44772 3.44772 3 4 3H8C8.55228 3 9 2.55228 9 2C9 1.44772 8.55228 1 8 1H4C2.34315 1 1 2.34315 1 4V8Z"})]}),t[17]=F):F=t[17];let Z;t[18]!==q?(Z=S.jsx("button",{className:yn.expandButton,onClick:q,children:F}),t[18]=q,t[19]=Z):Z=t[19];let W;return t[20]!==Z||t[21]!==A||t[22]!==D||t[23]!==k||t[24]!==B?(W=S.jsxs(As.div,{className:A,...D,style:k,children:[j,B,Z]}),t[20]=Z,t[21]=A,t[22]=D,t[23]=k,t[24]=B,t[25]=W):W=t[25],W}function QA(e){return e.video}function YA(e){return e.audio}function $A(e){return e.callMode}const KA="_actionList_op3pv_1",XA="_startCall_op3pv_38",ZA="_endCall_op3pv_51",JA="_rotateLogo_op3pv_64",WA="_shown_op3pv_76",tR="_hidden_op3pv_81",so={actionList:KA,startCall:XA,endCall:ZA,rotateLogo:JA,shown:WA,hidden:tR};function eR(e){var _n,fn,zn,vn;const t=de.c(77),{audioTransceiver:i,videoTransceiver:r,localStream:o,endCall:u}=e,{videoChannel:f,dataChannel:m}=J.useContext(hn),p=At(mR),g=At(dR),_=Se(fR),T=Se(hR),b=Se(cR),A=Se(uR),D=Se(lR),k=Se(oR),j=Se(aR),B=Se(rR),q=J.useRef(null);let F;t[0]!==_||t[1]!==T?(F=()=>{_?q.current=setTimeout(()=>{T(!1)},2e3):clearTimeout(q.current)},t[0]=_,t[1]=T,t[2]=F):F=t[2];let Z;t[3]!==_?(Z=[_],t[3]=_,t[4]=Z):Z=t[4],J.useEffect(F,Z);let W;t[5]!==D?(W=It=>{It.stopPropagation(),D(sR)},t[5]=D,t[6]=W):W=t[6];const Y=W;let M;t[7]!==k?(M=It=>{It.stopPropagation(),k(iR)},t[7]=k,t[8]=M):M=t[8];const x=M;let R;t[9]!==j||t[10]!==B?(R=It=>{It.stopPropagation(),B(j==="front"?"back":"front")},t[9]=j,t[10]=B,t[11]=R):R=t[11];const O=R;let N;t[12]!==m.current||t[13]!==g?(N=It=>{It.stopPropagation(),m.current.send(JSON.stringify({type:"callRequest"})),console.log("I am attempting a call!"),g("calling")},t[12]=m.current,t[13]=g,t[14]=N):N=t[14];const P=N;let I;t[15]!==b||t[16]!==((_n=i.current)==null?void 0:_n.sender)||t[17]!==o.current||t[18]!==p||t[19]!==f?(I=()=>{var It;p==="connected"&&f.current.send(JSON.stringify({message:b?"audioOn":"audioOff"})),(It=i.current)==null||It.sender.replaceTrack(b?o.current.getAudioTracks()[0]:null)},t[15]=b,t[16]=(fn=i.current)==null?void 0:fn.sender,t[17]=o.current,t[18]=p,t[19]=f,t[20]=I):I=t[20];let Rt;t[21]!==b?(Rt=[b],t[21]=b,t[22]=Rt):Rt=t[22],J.useEffect(I,Rt);let xt;t[23]!==o.current||t[24]!==A||t[25]!==p||t[26]!==f||t[27]!==((zn=r.current)==null?void 0:zn.sender)?(xt=()=>{var It;p==="connected"&&f.current.send(JSON.stringify({message:A?"videoOn":"videoOff"})),(It=r.current)==null||It.sender.replaceTrack(A?o.current.getVideoTracks()[0]:null)},t[23]=o.current,t[24]=A,t[25]=p,t[26]=f,t[27]=(vn=r.current)==null?void 0:vn.sender,t[28]=xt):xt=t[28];let X;t[29]!==A?(X=[A],t[29]=A,t[30]=X):X=t[30],J.useEffect(xt,X);let lt;t[31]!==b||t[32]!==A||t[33]!==p||t[34]!==f?(lt=()=>{p==="connected"&&(f.current.send(JSON.stringify({message:b?"audioOn":"audioOff"})),f.current.send(JSON.stringify({message:A?"videoOn":"videoOff"})))},t[31]=b,t[32]=A,t[33]=p,t[34]=f,t[35]=lt):lt=t[35];let ft;t[36]!==p?(ft=[p],t[36]=p,t[37]=ft):ft=t[37],J.useEffect(lt,ft);let bt;t[38]!==b||t[39]!==i.current||t[40]!==j||t[41]!==o.current||t[42]!==A||t[43]!==p||t[44]!==r.current?(bt=()=>{(async()=>{var qn,En;(qn=o.current)==null||qn.getTracks().forEach(nR),(En=o.current)==null||En.getTracks().forEach(rn=>o.current.removeTrack(rn));const It=j==="front"?"user":"environment";(await navigator.mediaDevices.getUserMedia({video:{facingMode:It},audio:!0})).getTracks().forEach(rn=>{o.current.addTrack(rn)}),p==="connected"&&(r.current.sender.replaceTrack(A?o.current.getVideoTracks()[0]:null),i.current.sender.replaceTrack(b?o.current.getAudioTracks()[0]:null))})()},t[38]=b,t[39]=i.current,t[40]=j,t[41]=o.current,t[42]=A,t[43]=p,t[44]=r.current,t[45]=bt):bt=t[45];let L;t[46]!==j?(L=[j],t[46]=j,t[47]=L):L=t[47],J.useEffect(bt,L);const it=`${so.actionList} ${_?so.shown:so.hidden}`;let et;t[48]!==Y?(et=It=>{Y(It)},t[48]=Y,t[49]=et):et=t[49];let st;t[50]!==b?(st=b?S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"-5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:S.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-107.000000, -309.000000)",children:S.jsx("path",{d:"M118,333 C121.866,333 125,329.866 125,326 L125,316 C125,312.134 121.866,309 118,309 C114.134,309 111,312.134 111,316 L111,326 C111,329.866 114.134,333 118,333 L118,333 Z M129,328 L127,328 C126.089,332.007 122.282,335 118,335 C113.718,335 109.911,332.007 109,328 L107,328 C107.883,332.799 112.063,336.51 117,336.955 L117,339 L116,339 C115.448,339 115,339.448 115,340 C115,340.553 115.448,341 116,341 L120,341 C120.552,341 121,340.553 121,340 C121,339.448 120.552,339 120,339 L119,339 L119,336.955 C123.937,336.51 128.117,332.799 129,328 L129,328 Z",id:"microphone","sketch:type":"MSShapeGroup"})})})}):S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:S.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:S.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})}),t[50]=b,t[51]=st):st=t[51];let dt;t[52]!==et||t[53]!==st?(dt=S.jsx("li",{onClick:et,children:st}),t[52]=et,t[53]=st,t[54]=dt):dt=t[54];let yt;t[55]!==x?(yt=It=>{x(It)},t[55]=x,t[56]=yt):yt=t[56];let pt;t[57]!==A?(pt=A?S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M21.15 6.17C20.74 5.95 19.88 5.72 18.71 6.54L17.24 7.58C17.13 4.47 15.78 3.25 12.5 3.25H6.5C3.08 3.25 1.75 4.58 1.75 8V16C1.75 18.3 3 20.75 6.5 20.75H12.5C15.78 20.75 17.13 19.53 17.24 16.42L18.71 17.46C19.33 17.9 19.87 18.04 20.3 18.04C20.67 18.04 20.96 17.93 21.15 17.83C21.56 17.62 22.25 17.05 22.25 15.62V8.38C22.25 6.95 21.56 6.38 21.15 6.17ZM11 11.38C9.97 11.38 9.12 10.54 9.12 9.5C9.12 8.46 9.97 7.62 11 7.62C12.03 7.62 12.88 8.46 12.88 9.5C12.88 10.54 12.03 11.38 11 11.38Z",fill:"#292D32"})}):S.jsxs("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{opacity:"0.4",d:"M17.7405 7.57031C17.7505 7.64031 17.7505 7.72031 17.7405 7.79031C17.7405 7.72031 17.7305 7.65031 17.7305 7.58031L17.7405 7.57031Z",fill:"#292D32"}),S.jsx("path",{d:"M17.2789 6.56L3.82891 20.01C2.42891 19.12 1.87891 17.53 1.87891 16V8C1.87891 4.58 3.20891 3.25 6.62891 3.25H12.6289C15.5189 3.25 16.9089 4.2 17.2789 6.56Z",fill:"#292D32"}),S.jsx("path",{d:"M21.4 2.22891C21.1 1.92891 20.61 1.92891 20.31 2.22891L1.85 20.6889C1.55 20.9889 1.55 21.4789 1.85 21.7789C2 21.9189 2.2 21.9989 2.39 21.9989C2.59 21.9989 2.78 21.9189 2.93 21.7689L21.4 3.30891C21.7 3.00891 21.7 2.52891 21.4 2.22891Z",fill:"#292D32"}),S.jsx("path",{d:"M22.3802 8.38047V15.6205C22.3802 17.0505 21.6802 17.6205 21.2802 17.8305C21.0902 17.9305 20.7902 18.0405 20.4202 18.0405C19.9902 18.0405 19.4602 17.9005 18.8402 17.4605L17.3602 16.4205C17.2902 18.6305 16.5902 19.8905 15.0002 20.4205C14.3602 20.6505 13.5702 20.7505 12.6202 20.7505H6.62016C6.38016 20.7505 6.15016 20.7405 5.91016 20.7105L15.0002 11.6305L20.6502 5.98047C20.9102 6.00047 21.1202 6.08047 21.2802 6.17047C21.6802 6.38047 22.3802 6.95047 22.3802 8.38047Z",fill:"#292D32"})]}),t[57]=A,t[58]=pt):pt=t[58];let Ot;t[59]!==yt||t[60]!==pt?(Ot=S.jsx("li",{onClick:yt,children:pt}),t[59]=yt,t[60]=pt,t[61]=Ot):Ot=t[61];let Nt;t[62]!==O?(Nt=It=>O(It),t[62]=O,t[63]=Nt):Nt=t[63];let ye;t[64]===Symbol.for("react.memo_cache_sentinel")?(ye=S.jsxs("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M9.77778 21H14.2222C17.3433 21 18.9038 21 20.0248 20.2646C20.51 19.9462 20.9267 19.5371 21.251 19.0607C22 17.9601 22 16.4279 22 13.3636C22 10.2994 22 8.76721 21.251 7.6666C20.9267 7.19014 20.51 6.78104 20.0248 6.46268C19.3044 5.99013 18.4027 5.82123 17.022 5.76086C16.3631 5.76086 15.7959 5.27068 15.6667 4.63636C15.4728 3.68489 14.6219 3 13.6337 3H10.3663C9.37805 3 8.52715 3.68489 8.33333 4.63636C8.20412 5.27068 7.63685 5.76086 6.978 5.76086C5.59733 5.82123 4.69555 5.99013 3.97524 6.46268C3.48995 6.78104 3.07328 7.19014 2.74902 7.6666C2 8.76721 2 10.2994 2 13.3636C2 16.4279 2 17.9601 2.74902 19.0607C3.07328 19.5371 3.48995 19.9462 3.97524 20.2646C5.09624 21 6.65675 21 9.77778 21Z"}),S.jsx("path",{className:so.rotateLogo,d:"M14.5197 8.84961C14.9339 8.84961 15.2697 9.1854 15.2697 9.59961V11.2796C15.2697 11.6342 15.0213 11.9404 14.6743 12.0135L13.1546 12.3335C12.7492 12.4189 12.3515 12.1595 12.2661 11.7542C12.1928 11.4061 12.3737 11.0637 12.6828 10.9198C11.8617 10.6788 10.9379 10.8822 10.2902 11.5299C9.34598 12.4741 9.34598 14.0049 10.2902 14.9491C11.2344 15.8933 12.7652 15.8933 13.7094 14.9491C14.112 14.5465 14.3422 14.0392 14.4019 13.5148C14.4487 13.1033 14.8203 12.8076 15.2319 12.8544C15.6434 12.9012 15.9391 13.2728 15.8923 13.6844C15.7957 14.5337 15.421 15.3588 14.77 16.0098C13.2401 17.5397 10.7595 17.5397 9.22951 16.0098C7.69954 14.4798 7.69954 11.9992 9.22951 10.4692C10.4581 9.24066 12.2996 8.99864 13.7697 9.74316V9.59961C13.7697 9.1854 14.1055 8.84961 14.5197 8.84961Z"})]}),t[64]=ye):ye=t[64];let le;t[65]!==Nt?(le=S.jsx("li",{onClick:Nt,children:ye}),t[65]=Nt,t[66]=le):le=t[66];let Ae;t[67]!==u||t[68]!==P||t[69]!==p?(Ae=p==="calling"||p==="connected"?S.jsx("li",{className:so.endCall,onClick:It=>{u(It)},children:S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})})}):S.jsx("li",{className:so.startCall,onClick:It=>{P(It)},children:S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M9 16C2.814 9.813 3.11 5.134 5.94 3.012l.627-.467a1.483 1.483 0 0 1 2.1.353l1.579 2.272a1.5 1.5 0 0 1-.25 1.99L8.476 8.474c-.38.329-.566.828-.395 1.301.316.88 1.083 2.433 2.897 4.246 1.814 1.814 3.366 2.581 4.246 2.898.474.17.973-.015 1.302-.396l1.314-1.518a1.5 1.5 0 0 1 1.99-.25l2.276 1.58a1.48 1.48 0 0 1 .354 2.096l-.47.633C19.869 21.892 15.188 22.187 9 16z"})})}),t[67]=u,t[68]=P,t[69]=p,t[70]=Ae):Ae=t[70];let Ke;return t[71]!==it||t[72]!==dt||t[73]!==Ot||t[74]!==le||t[75]!==Ae?(Ke=S.jsx(S.Fragment,{children:S.jsxs("ul",{className:it,children:[dt,Ot,le,Ae]})}),t[71]=it,t[72]=dt,t[73]=Ot,t[74]=le,t[75]=Ae,t[76]=Ke):Ke=t[76],Ke}function nR(e){return e.stop()}function iR(e){return!e}function sR(e){return!e}function rR(e){return e.setCameraFace}function aR(e){return e.cameraFace}function oR(e){return e.setVideo}function lR(e){return e.setAudio}function uR(e){return e.video}function cR(e){return e.audio}function hR(e){return e.setControlsShown}function fR(e){return e.controlsShown}function dR(e){return e.setVideoCall}function mR(e){return e.videoCall}function gR(){console.log("Call screen rendered!");const{peerConnection:e,videoChannel:t,dataChannel:i}=J.useContext(hn),r=At(R=>R.videoCall),o=At(R=>R.setVideoCall),u=Se(R=>R.setRemoteAudio),f=Se(R=>R.setRemoteVideo),m=Se(R=>R.callMode),p=Se(R=>R.setCallMode);Se(R=>R.setControlsShown),Se(R=>R.controlsShown);const g=Se(R=>R.toggleControlsShown),_=J.useRef(null),T=J.useRef(null),b=J.useRef({x:0,y:0}),A=J.useRef(null),D=J.useRef(null),k=J.useRef(null),j=J.useRef(null),[{x:B,y:q},F]=aa(()=>({x:b.current.x,y:b.current.y,config:{tension:300,friction:15}}));J.useEffect(()=>{window.history.pushState("call",""),t.current.onmessage=O=>{let N=JSON.parse(O.data);N.message==="audioOn"?u(!0):N.message==="audioOff"?u(!1):N.message==="videoOn"?f(!0):N.message==="videoOff"&&f(!1)},k.current=new MediaStream;const R=e.current.getTransceivers();return T.current=R.find(O=>{var N,P,I;return((N=O.receiver.track)==null?void 0:N.kind)==="video"||((P=O.sender.track)==null?void 0:P.kind)==="video"||((I=O.mid)==null?void 0:I.includes("video"))}),_.current=R.find(O=>{var N,P,I;return((N=O.receiver.track)==null?void 0:N.kind)==="audio"||((P=O.sender.track)==null?void 0:P.kind)==="audio"||((I=O.mid)==null?void 0:I.includes("audio"))}),window.addEventListener("popstate",W),()=>{var O;(O=k.current)==null||O.getTracks().forEach(N=>{N.stop()}),window.removeEventListener("popstate",W)}},[]);const Z=wu(({down:R,offset:[O,N],movement:[P],last:I})=>{if(!(Math.abs(P)<2)){if(R)b.current={x:O,y:N},F.start({x:O,y:N,immediate:!0});else if(I){D.current=!0;const Rt=m==="mini"?window.innerWidth:A.current.clientWidth,xt=m==="mini"?window.innerHeight:A.current.clientHeight,X=window.innerWidth,lt=X>1400?.35*(.3*X):.35*X,ft=lt,bt=16,L=16,it=16,et=128;let st=0;O>(Rt-(it+L)-lt)/2&&(st=Rt-(it+L)-lt);let dt=N;N<0&&(dt=0),N>xt-(bt+et+ft)&&(dt=xt-(bt+et+ft)),b.current={x:st,y:dt},F.start({x:st,y:dt,immediate:!1,onRest:()=>{D.current=!1}})}}},{from:()=>[B.get(),q.get()]});J.useLayoutEffect(()=>{F.start({x:B.get(),y:q.get(),immediate:!0})}),J.useEffect(()=>{j.current=r},[r]);const W=()=>{(j.current==="connected"||j.current==="calling")&&window.innerWidth<=1400?(p("mini"),window.history.pushState("call","")):Y()},Y=R=>{R&&R.stopPropagation(),r==="connected"?i.current.send(JSON.stringify({type:"callEnd"})):i.current.send(JSON.stringify({type:"callCancel"})),o("hidden"),window.history.state==="call"&&window.history.back()},M=()=>{D.current||g()},x=(R,O)=>{R.stopPropagation(),O==="sending"?(console.log("The selected video was sending video!"),p(m==="expandSending"?"normal":"expandSending")):(console.log("The selected video was receiving video!"),p(m==="expandReceiving"?"normal":"expandReceiving"))};return S.jsx("div",{className:Jr.videoCallDiv,children:S.jsxs(As.div,{className:`
                    ${Jr.videoCallContainer}
                    ${m==="mini"?Jr.mini:""}
                    ${m==="expandSending"||m==="expandReceiving"?Jr.expanded:""}
                `,onClick:M,ref:A,...m==="mini"?Z():{},style:m==="mini"?{x:B,y:q}:{},children:[S.jsx(zA,{bindDrag:Z,x:B,y:q,expandOrContractVideo:x}),m!=="mini"&&S.jsxs(S.Fragment,{children:[S.jsx(FA,{bindDrag:Z,x:B,y:q,expandOrContractVideo:x,localStream:k}),S.jsx(eR,{audioTransceiver:_,videoTransceiver:T,localStream:k,endCall:Y}),r==="idle"&&S.jsx("button",{onClick:()=>{o("hidden")},className:Jr.cancelButton,children:S.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})})]}),r==="calling"&&S.jsx("div",{className:Jr.callingIndicatorContainer,children:S.jsx("span",{className:Jr.callingIndicator,children:"Calling"})})]})})}const pR="_videoCallDiv_78ox9_1",yR="_videoCallContainer_78ox9_7",_R="_videoContainer_78ox9_20",vR="_image_78ox9_25",ER="_sendingImage_78ox9_32",TR="_receivingImage_78ox9_36",bR="_startCallButton_78ox9_47",vs={videoCallDiv:pR,videoCallContainer:yR,videoContainer:_R,image:vR,sendingImage:ER,receivingImage:TR,startCallButton:bR};function wR(){const e=de.c(7),t=At(SR);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx("div",{className:vs.videoContainer,children:S.jsx("img",{className:`${vs.image} ${vs.receivingImage}`,src:"./pp.svg",alt:"Profile picture of receiver"})}),e[0]=i):i=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx("div",{className:vs.videoContainer,children:S.jsx("img",{className:`${vs.image} ${vs.sendingImage}`,src:"./pp.svg",alt:"Profile picture of sender"})}),e[1]=r):r=e[1];let o;e[2]!==t?(o=()=>{t("idle")},e[2]=t,e[3]=o):o=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx("svg",{width:"2rem",height:"2rem",viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fill:"#EEEEEE",d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"})}),e[4]=u):u=e[4];let f;return e[5]!==o?(f=S.jsx("div",{className:vs.videoCallDiv,children:S.jsxs("div",{className:vs.videoCallContainer,children:[i,r,S.jsx("button",{className:vs.startCallButton,onClick:o,children:u})]})}),e[5]=o,e[6]=f):f=e[6],f}function SR(e){return e.setVideoCall}const CR="_settingsDiv_taelt_1",AR="_settingsContainer_taelt_10",RR="_settingsPage_taelt_24",xR="_visible_taelt_28",IR="_dragger_taelt_34",ql={settingsDiv:CR,settingsContainer:AR,settingsPage:RR,visible:xR,dragger:IR},DR="_listItem_vqbls_1",MR="_themeOption_vqbls_20",VR="_themes_vqbls_20",NR="_selected_vqbls_27",Li={listItem:DR,themeOption:MR,themes:VR,selected:NR};function OR(){const e=de.c(26);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=localStorage.getItem("theme"),e[0]=t):t=e[0];const[i,r]=J.useState(t);let o,u;e[1]!==i?(o=()=>{localStorage.setItem("theme",i),document.body.className=i==="default"?"":i},u=[i],e[1]=i,e[2]=o,e[3]=u):(o=e[2],u=e[3]),J.useEffect(o,u);let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>r("default"),e[4]=f):f=e[4];const m=i==="default"?Li.selected:"";let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M21 16V7.2C21 6.0799 21 5.51984 20.782 5.09202C20.5903 4.71569 20.2843 4.40973 19.908 4.21799C19.4802 4 18.9201 4 17.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V16M4.66667 20H19.3333C19.9533 20 20.2633 20 20.5176 19.9319C21.2078 19.7469 21.7469 19.2078 21.9319 18.5176C22 18.2633 22 17.9533 22 17.3333C22 17.0233 22 16.8683 21.9659 16.7412C21.8735 16.3961 21.6039 16.1265 21.2588 16.0341C21.1317 16 20.9767 16 20.6667 16H3.33333C3.02334 16 2.86835 16 2.74118 16.0341C2.39609 16.1265 2.12654 16.3961 2.03407 16.7412C2 16.8683 2 17.0233 2 17.3333C2 17.9533 2 18.2633 2.06815 18.5176C2.25308 19.2078 2.79218 19.7469 3.48236 19.9319C3.73669 20 4.04669 20 4.66667 20Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e[5]=p):p=e[5];let g;e[6]!==m?(g=S.jsx("li",{children:S.jsx("button",{onClick:f,className:m,children:p})}),e[6]=m,e[7]=g):g=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=()=>r("light"),e[8]=_):_=e[8];const T=i==="light"?Li.selected:"";let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsxs("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3432 15 9.00004 13.6569 9.00004 12C9.00004 10.3432 10.3432 9.00004 12 9.00004C13.6569 9.00004 15 10.3432 15 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),S.jsx("path",{d:"M7.64338 5.18899L7.56701 6.10541C7.52707 6.58478 7.50709 6.82447 7.40373 7.01167C7.31261 7.1767 7.1767 7.31261 7.01167 7.40373C6.82447 7.50709 6.58477 7.52707 6.10541 7.56701L5.18898 7.64338C4.16259 7.72892 3.6494 7.77168 3.39642 8.00615C3.17627 8.21018 3.05941 8.50232 3.07812 8.8019C3.09961 9.14615 3.44174 9.53105 4.126 10.3008L4.69153 10.9371C5.02586 11.3132 5.19302 11.5012 5.2565 11.7135C5.31243 11.9004 5.31243 12.0997 5.2565 12.2866C5.19302 12.4988 5.02586 12.6869 4.69153 13.063L4.126 13.6992C3.44174 14.469 3.09961 14.8539 3.07812 15.1982C3.05941 15.4978 3.17627 15.7899 3.39642 15.9939C3.6494 16.2284 4.16259 16.2712 5.18899 16.3567L6.10541 16.4331C6.58478 16.473 6.82446 16.493 7.01167 16.5964C7.1767 16.6875 7.31261 16.8234 7.40373 16.9884C7.50709 17.1756 7.52707 17.4153 7.56701 17.8947L7.64338 18.8111C7.72892 19.8375 7.77168 20.3507 8.00615 20.6037C8.21018 20.8238 8.50232 20.9407 8.8019 20.922C9.14615 20.9005 9.53105 20.5583 10.3008 19.8741L10.9371 19.3085C11.3132 18.9742 11.5012 18.8071 11.7135 18.7436C11.9004 18.6876 12.0997 18.6876 12.2866 18.7436C12.4988 18.8071 12.6869 18.9742 13.063 19.3085L13.6992 19.8741C14.469 20.5583 14.8539 20.9005 15.1982 20.922C15.4978 20.9407 15.7899 20.8238 15.9939 20.6037C16.2284 20.3507 16.2712 19.8375 16.3567 18.8111L16.4331 17.8947C16.473 17.4153 16.493 17.1756 16.5964 16.9884C16.6875 16.8234 16.8234 16.6875 16.9884 16.5964C17.1756 16.493 17.4153 16.473 17.8947 16.4331L18.8111 16.3567C19.8375 16.2712 20.3507 16.2284 20.6037 15.9939C20.8238 15.7899 20.9407 15.4978 20.922 15.1982C20.9005 14.8539 20.5583 14.469 19.8741 13.6992L19.3085 13.063C18.9742 12.6869 18.8071 12.4988 18.7436 12.2866C18.6876 12.0997 18.6876 11.9004 18.7436 11.7135C18.8071 11.5012 18.9742 11.3132 19.3085 10.9371L19.8741 10.3008C20.5583 9.53105 20.9005 9.14615 20.922 8.8019C20.9407 8.50232 20.8238 8.21018 20.6037 8.00615C20.3507 7.77168 19.8375 7.72892 18.8111 7.64338L17.8947 7.56701C17.4153 7.52707 17.1756 7.50709 16.9884 7.40373C16.8234 7.31261 16.6875 7.1767 16.5964 7.01167C16.493 6.82446 16.473 6.58478 16.4331 6.10541L16.3567 5.18898C16.2712 4.16259 16.2284 3.6494 15.9939 3.39642C15.7899 3.17627 15.4978 3.05941 15.1982 3.07812C14.8539 3.09961 14.469 3.44174 13.6992 4.126L13.063 4.69153C12.6869 5.02586 12.4988 5.19302 12.2866 5.2565C12.0997 5.31243 11.9004 5.31243 11.7135 5.2565C11.5012 5.19302 11.3132 5.02586 10.9371 4.69153L10.3008 4.126C9.53105 3.44174 9.14615 3.09961 8.8019 3.07812C8.50232 3.05941 8.21018 3.17627 8.00615 3.39642C7.77168 3.6494 7.72892 4.16259 7.64338 5.18899Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e[9]=b):b=e[9];let A;e[10]!==T?(A=S.jsx("li",{children:S.jsx("button",{onClick:_,className:T,children:b})}),e[10]=T,e[11]=A):A=e[11];let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=()=>r("dark"),e[12]=D):D=e[12];const k=i==="dark"?Li.selected:"";let j;e[13]===Symbol.for("react.memo_cache_sentinel")?(j=S.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"var(--icon-color)"})}),e[13]=j):j=e[13];let B;e[14]!==k?(B=S.jsx("li",{children:S.jsx("button",{onClick:D,className:k,children:j})}),e[14]=k,e[15]=B):B=e[15];let q;e[16]!==A||e[17]!==B||e[18]!==g?(q=S.jsxs("li",{className:`${Li.themeOption} ${Li.listItem}`,children:["Theme",S.jsxs("ul",{className:Li.themes,children:[g,A,B]})]}),e[16]=A,e[17]=B,e[18]=g,e[19]=q):q=e[19];let F;e[20]===Symbol.for("react.memo_cache_sentinel")?(F=S.jsxs("li",{className:Li.listItem,children:["Disconnect from user",S.jsx("button",{children:S.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z",fill:"var(--icon-color)"})})})]}),e[20]=F):F=e[20];let Z;e[21]===Symbol.for("react.memo_cache_sentinel")?(Z=S.jsxs("li",{className:Li.listItem,children:["Connect to next user",S.jsx("button",{children:S.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 -2 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:S.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:S.jsx("g",{transform:"translate(-144.000000, -3805.000000)",fill:"var(--icon-color)",children:S.jsx("g",{transform:"translate(56.000000, 160.000000)",children:S.jsx("path",{d:"M99.684,3649.69353 L95.207,3652.82453 C94.571,3653.25353 94,3652.84553 94,3652.13153 L94,3650.14053 L89.78,3652.82453 C89.145,3653.25353 88,3652.84553 88,3652.13153 L88,3645.86853 C88,3645.15453 89.145,3644.74653 89.78,3645.17453 L94,3647.85953 L94,3645.86853 C94,3645.15453 94.571,3644.74653 95.207,3645.17453 L99.516,3648.30653 C100.03,3648.65353 100.198,3649.34653 99.684,3649.69353"})})})})})})]}),e[21]=Z):Z=e[21];let W;e[22]===Symbol.for("react.memo_cache_sentinel")?(W=S.jsxs("li",{className:Li.listItem,children:["Download web app",S.jsx("button",{children:S.jsx("svg",{fill:"var(--icon-color)",width:"1.2rem",height:"1.2rem",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M 43.3749 20.7812 C 47.8048 20.7812 51.4844 17.1016 51.4844 12.6485 C 51.4844 8.1953 47.8283 4.5156 43.3749 4.5156 C 38.8984 4.5156 35.2421 8.1953 35.2421 12.6485 C 35.2421 17.1016 38.8984 20.7812 43.3749 20.7812 Z M 17.0312 51.4844 L 34.6796 51.4844 C 38.6640 51.4844 42.0390 51.1094 44.4296 48.7187 C 46.8203 46.3281 47.1716 43.0000 47.1716 38.9922 L 47.1716 23.2890 C 45.9765 23.7344 44.6874 23.9687 43.3749 23.9687 C 37.1405 23.9687 32.0312 18.8594 32.0312 12.6485 C 32.0312 11.3125 32.2656 10.0234 32.7109 8.8516 L 16.9609 8.8516 C 13.0234 8.8516 9.6484 9.2266 7.2578 11.6172 C 4.8671 14.0078 4.5156 17.3594 4.5156 21.2734 L 4.5156 38.9922 C 4.5156 43.0000 4.8671 46.3281 7.2578 48.7187 C 9.6484 51.1094 13.0234 51.4844 17.0312 51.4844 Z"})})})]}),e[22]=W):W=e[22];let Y;e[23]===Symbol.for("react.memo_cache_sentinel")?(Y=S.jsxs("li",{className:Li.listItem,children:["Report for abuse",S.jsx("button",{children:S.jsx("svg",{fill:"var(--icon-color)",width:"1.2rem",height:"1.2rem",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M6.002 14a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm.195-12.01a1.81 1.81 0 1 1 3.602 0l-.701 7.015a1.105 1.105 0 0 1-2.2 0l-.7-7.015z"})})})]}),e[23]=Y):Y=e[23];let M;return e[24]!==q?(M=S.jsxs(S.Fragment,{children:[q,F,Z,W,Y]}),e[24]=q,e[25]=M):M=e[25],M}function LR(){console.log("Settings component rendered!");const e=At(_=>_.settings),t=At(_=>_.setSettings),i=10*16,r=J.useRef(null),o=J.useRef(null),[{y:u},f]=aa(()=>({y:0}));J.useEffect(()=>(window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}),[]),J.useEffect(()=>{e&&(window.history.pushState("settings",""),f.start({from:{y:r.current.clientHeight},to:{y:0},immediate:!1}))},[e]);const m=wu(({movement:[,_],last:T})=>{window.innerWidth>1400||Math.abs(_)<2&&!T||(T?_>i?p():f.start({y:0,immediate:!1}):_>0&&f.start({y:_,immediate:!0}))}),p=()=>{f.start({y:r.current.clientHeight,immediate:!1,onRest:()=>{t(!1),window.history.state==="settings"&&window.history.back()}})},g=_=>{_.target===o.current&&p()};return S.jsx("div",{className:ql.settingsDiv,children:S.jsx("div",{ref:o,onClick:g,className:`${ql.settingsPage} ${e?ql.visible:""}`,children:S.jsxs(As.ul,{className:ql.settingsContainer,...m(),style:{y:u},ref:r,children:[S.jsx("li",{className:ql.dragger,children:S.jsx("span",{})}),S.jsx(OR,{})]})})})}function jR(){const e=de.c(27);console.log("Chat Page rendered!");const{longPressed:t}=J.useContext(ri),i=At(HR),r=At(qR),o=At(zR),u=At(BR),f=At(UR),m=At(PR),p=At(kR);let g;e[0]!==t||e[1]!==m||e[2]!==p?(g=()=>{const Y=()=>{t.current===!1&&(m(!1),p(!1))};return document.addEventListener("click",Y),()=>{document.removeEventListener("click",Y)}},e[0]=t,e[1]=m,e[2]=p,e[3]=g):g=e[3];let _;e[4]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[4]=_):_=e[4],J.useLayoutEffect(g,_);let T;e[5]!==u?(T=u!=="hidden"?S.jsx(gR,{}):S.jsx(wR,{}),e[5]=u,e[6]=T):T=e[6];let b,A,D;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=S.jsx(MS,{}),A=S.jsx(EC,{}),D=S.jsx(lA,{}),e[7]=b,e[8]=A,e[9]=D):(b=e[7],A=e[8],D=e[9]);let k;e[10]!==i?(k=i&&S.jsx(wS,{}),e[10]=i,e[11]=k):k=e[11];let j;e[12]!==r?(j=r&&S.jsx(yS,{}),e[12]=r,e[13]=j):j=e[13];let B;e[14]!==o?(B=o&&S.jsx(AS,{imageSource:o.src,imageSent:o.sent}),e[14]=o,e[15]=B):B=e[15];let q;e[16]!==f?(q=f&&S.jsx(TA,{}),e[16]=f,e[17]=q):q=e[17];let F;e[18]!==k||e[19]!==j||e[20]!==B||e[21]!==q?(F=S.jsxs("div",{className:R_.chatContainer,children:[b,A,D,k,j,B,q]}),e[18]=k,e[19]=j,e[20]=B,e[21]=q,e[22]=F):F=e[22];let Z;e[23]===Symbol.for("react.memo_cache_sentinel")?(Z=S.jsx(LR,{}),e[23]=Z):Z=e[23];let W;return e[24]!==F||e[25]!==T?(W=S.jsxs("div",{className:R_.chatPage,children:[T,F,Z]}),e[24]=F,e[25]=T,e[26]=W):W=e[26],W}function kR(e){return e.setReactionsShown}function PR(e){return e.setActionsShown}function UR(e){return e.incomingCall}function BR(e){return e.videoCall}function zR(e){return e.imageDialog}function qR(e){return e.actionsShown}function HR(e){return e.reactionsShown}function GR(){const e=de.c(5),{connected:t,peerConnection:i}=J.useContext(hn);let r;e[0]!==i.current?(r=()=>{const f=QR;return document.addEventListener("contextmenu",f),document.addEventListener("touchstart",FR,{passive:!1}),()=>{var m;document.removeEventListener("contextmenu",f),document.removeEventListener("touchstart",f),(m=i.current)==null||m.close()}},e[0]=i.current,e[1]=r):r=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[],e[2]=o):o=e[2],J.useEffect(r,o);let u;return e[3]!==t?(u=S.jsx(j7,{children:t?S.jsx(Q7,{children:S.jsx(jR,{})}):S.jsx(fS,{})}),e[3]=t,e[4]=u):u=e[4],u}function FR(e){e.touches.length>1&&e.preventDefault()}function QR(e){return e.preventDefault()}Z6.createRoot(document.getElementById("root")).render(S.jsx(e5,{children:S.jsx(GR,{})}));
