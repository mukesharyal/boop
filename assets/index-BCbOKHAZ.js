(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function k6(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var a1={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function P6(){if(A2)return bl;A2=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=t,bl.jsx=n,bl.jsxs=n,bl}var b2;function j6(){return b2||(b2=1,a1.exports=P6()),a1.exports}var C=j6(),o1={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function U6(){if(S2)return Mt;S2=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function H(M,et,ht){this.props=M,this.context=et,this.refs=Q,this.updater=ht||V}H.prototype.isReactComponent={},H.prototype.setState=function(M,et){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,et,"setState")},H.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=H.prototype;function nt(M,et,ht){this.props=M,this.context=et,this.refs=Q,this.updater=ht||V}var J=nt.prototype=new $;J.constructor=nt,P(J,H.prototype),J.isPureReactComponent=!0;var ct=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function x(M,et,ht,ut,_t,At){return ht=At.ref,{$$typeof:s,type:M,key:et,ref:ht!==void 0?ht:null,props:At}}function w(M,et){return x(M.type,et,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function O(M){var et={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ht){return et[ht]})}var N=/\/+/g;function k(M,et){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):et.toString(36)}function I(){}function gt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(et){M.status==="pending"&&(M.status="fulfilled",M.value=et)},function(et){M.status==="pending"&&(M.status="rejected",M.reason=et)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Z(M,et,ht,ut,_t){var At=typeof M;(At==="undefined"||At==="boolean")&&(M=null);var Tt=!1;if(M===null)Tt=!0;else switch(At){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(M.$$typeof){case s:case t:Tt=!0;break;case E:return Tt=M._init,Z(Tt(M._payload),et,ht,ut,_t)}}if(Tt)return _t=_t(M),Tt=ut===""?"."+k(M,0):ut,ct(_t)?(ht="",Tt!=null&&(ht=Tt.replace(N,"$&/")+"/"),Z(_t,et,ht,"",function(fe){return fe})):_t!=null&&(R(_t)&&(_t=w(_t,ht+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+Tt)),et.push(_t)),1;Tt=0;var Yt=ut===""?".":ut+":";if(ct(M))for(var Ut=0;Ut<M.length;Ut++)ut=M[Ut],At=Yt+k(ut,Ut),Tt+=Z(ut,et,ht,At,_t);else if(Ut=S(M),typeof Ut=="function")for(M=Ut.call(M),Ut=0;!(ut=M.next()).done;)ut=ut.value,At=Yt+k(ut,Ut++),Tt+=Z(ut,et,ht,At,_t);else if(At==="object"){if(typeof M.then=="function")return Z(gt(M),et,ht,ut,_t);throw et=String(M),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function j(M,et,ht){if(M==null)return M;var ut=[],_t=0;return Z(M,ut,"","",function(At){return et.call(ht,At,_t++)}),ut}function z(M){if(M._status===-1){var et=M._result;et=et(),et.then(function(ht){(M._status===0||M._status===-1)&&(M._status=1,M._result=ht)},function(ht){(M._status===0||M._status===-1)&&(M._status=2,M._result=ht)}),M._status===-1&&(M._status=0,M._result=et)}if(M._status===1)return M._result.default;throw M._result}var st=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function mt(){}return Mt.Children={map:j,forEach:function(M,et,ht){j(M,function(){et.apply(this,arguments)},ht)},count:function(M){var et=0;return j(M,function(){et++}),et},toArray:function(M){return j(M,function(et){return et})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Mt.Component=H,Mt.Fragment=n,Mt.Profiler=o,Mt.PureComponent=nt,Mt.StrictMode=r,Mt.Suspense=y,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return at.H.useMemoCache(M)}},Mt.cache=function(M){return function(){return M.apply(null,arguments)}},Mt.cloneElement=function(M,et,ht){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=P({},M.props),_t=M.key,At=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(At=void 0),et.key!==void 0&&(_t=""+et.key),et)!ft.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(ut[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)ut.children=ht;else if(1<Tt){for(var Yt=Array(Tt),Ut=0;Ut<Tt;Ut++)Yt[Ut]=arguments[Ut+2];ut.children=Yt}return x(M.type,_t,void 0,void 0,At,ut)},Mt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Mt.createElement=function(M,et,ht){var ut,_t={},At=null;if(et!=null)for(ut in et.key!==void 0&&(At=""+et.key),et)ft.call(et,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=et[ut]);var Tt=arguments.length-2;if(Tt===1)_t.children=ht;else if(1<Tt){for(var Yt=Array(Tt),Ut=0;Ut<Tt;Ut++)Yt[Ut]=arguments[Ut+2];_t.children=Yt}if(M&&M.defaultProps)for(ut in Tt=M.defaultProps,Tt)_t[ut]===void 0&&(_t[ut]=Tt[ut]);return x(M,At,void 0,void 0,null,_t)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(M){return{$$typeof:m,render:M}},Mt.isValidElement=R,Mt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:z}},Mt.memo=function(M,et){return{$$typeof:p,type:M,compare:et===void 0?null:et}},Mt.startTransition=function(M){var et=at.T,ht={};at.T=ht;try{var ut=M(),_t=at.S;_t!==null&&_t(ht,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(mt,st)}catch(At){st(At)}finally{at.T=et}},Mt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Mt.use=function(M){return at.H.use(M)},Mt.useActionState=function(M,et,ht){return at.H.useActionState(M,et,ht)},Mt.useCallback=function(M,et){return at.H.useCallback(M,et)},Mt.useContext=function(M){return at.H.useContext(M)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(M,et){return at.H.useDeferredValue(M,et)},Mt.useEffect=function(M,et,ht){var ut=at.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(M,et)},Mt.useId=function(){return at.H.useId()},Mt.useImperativeHandle=function(M,et,ht){return at.H.useImperativeHandle(M,et,ht)},Mt.useInsertionEffect=function(M,et){return at.H.useInsertionEffect(M,et)},Mt.useLayoutEffect=function(M,et){return at.H.useLayoutEffect(M,et)},Mt.useMemo=function(M,et){return at.H.useMemo(M,et)},Mt.useOptimistic=function(M,et){return at.H.useOptimistic(M,et)},Mt.useReducer=function(M,et,ht){return at.H.useReducer(M,et,ht)},Mt.useRef=function(M){return at.H.useRef(M)},Mt.useState=function(M){return at.H.useState(M)},Mt.useSyncExternalStore=function(M,et,ht){return at.H.useSyncExternalStore(M,et,ht)},Mt.useTransition=function(){return at.H.useTransition()},Mt.version="19.1.0",Mt}var w2;function gm(){return w2||(w2=1,o1.exports=U6()),o1.exports}var B=gm();const $c=k6(B);var l1={exports:{}},Sl={},u1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function z6(){return C2||(C2=1,function(s){function t(j,z){var st=j.length;j.push(z);t:for(;0<st;){var mt=st-1>>>1,M=j[mt];if(0<o(M,z))j[mt]=z,j[st]=M,st=mt;else break t}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],st=j.pop();if(st!==z){j[0]=st;t:for(var mt=0,M=j.length,et=M>>>1;mt<et;){var ht=2*(mt+1)-1,ut=j[ht],_t=ht+1,At=j[_t];if(0>o(ut,st))_t<M&&0>o(At,ut)?(j[mt]=At,j[_t]=st,mt=_t):(j[mt]=ut,j[ht]=st,mt=ht);else if(_t<M&&0>o(At,st))j[mt]=At,j[_t]=st,mt=_t;else break t}}return z}function o(j,z){var st=j.sortIndex-z.sortIndex;return st!==0?st:j.id-z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],p=[],E=1,A=null,S=3,V=!1,P=!1,Q=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ct(j){for(var z=n(p);z!==null;){if(z.callback===null)r(p);else if(z.startTime<=j)r(p),z.sortIndex=z.expirationTime,t(y,z);else break;z=n(p)}}function at(j){if(Q=!1,ct(j),!P)if(n(y)!==null)P=!0,ft||(ft=!0,k());else{var z=n(p);z!==null&&Z(at,z.startTime-j)}}var ft=!1,x=-1,w=5,R=-1;function O(){return H?!0:!(s.unstable_now()-R<w)}function N(){if(H=!1,ft){var j=s.unstable_now();R=j;var z=!0;try{t:{P=!1,Q&&(Q=!1,nt(x),x=-1),V=!0;var st=S;try{e:{for(ct(j),A=n(y);A!==null&&!(A.expirationTime>j&&O());){var mt=A.callback;if(typeof mt=="function"){A.callback=null,S=A.priorityLevel;var M=mt(A.expirationTime<=j);if(j=s.unstable_now(),typeof M=="function"){A.callback=M,ct(j),z=!0;break e}A===n(y)&&r(y),ct(j)}else r(y);A=n(y)}if(A!==null)z=!0;else{var et=n(p);et!==null&&Z(at,et.startTime-j),z=!1}}break t}finally{A=null,S=st,V=!1}z=void 0}}finally{z?k():ft=!1}}}var k;if(typeof J=="function")k=function(){J(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,gt=I.port2;I.port1.onmessage=N,k=function(){gt.postMessage(null)}}else k=function(){$(N,0)};function Z(j,z){x=$(function(){j(s.unstable_now())},z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(j){switch(S){case 1:case 2:case 3:var z=3;break;default:z=S}var st=S;S=z;try{return j()}finally{S=st}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var st=S;S=j;try{return z()}finally{S=st}},s.unstable_scheduleCallback=function(j,z,st){var mt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?mt+st:mt):st=mt,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=st+M,j={id:E++,callback:z,priorityLevel:j,startTime:st,expirationTime:M,sortIndex:-1},st>mt?(j.sortIndex=st,t(p,j),n(y)===null&&j===n(p)&&(Q?(nt(x),x=-1):Q=!0,Z(at,st-mt))):(j.sortIndex=M,t(y,j),P||V||(P=!0,ft||(ft=!0,k()))),j},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(j){var z=S;return function(){var st=S;S=z;try{return j.apply(this,arguments)}finally{S=st}}}}(c1)),c1}var R2;function B6(){return R2||(R2=1,u1.exports=z6()),u1.exports}var h1={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function q6(){if(x2)return We;x2=1;var s=gm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:p,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,E)},We.flushSync=function(y){var p=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=p,r.p=E,r.d.f()}},We.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},We.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},We.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,V=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:V}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:S,fetchPriority:V,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},We.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},We.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},We.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},We.requestFormReset=function(y){r.d.r(y)},We.unstable_batchedUpdates=function(y,p){return y(p)},We.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},We.useFormStatus=function(){return f.H.useHostTransitionStatus()},We.version="19.1.0",We}var I2;function S_(){if(I2)return h1.exports;I2=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),h1.exports=q6(),h1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function H6(){if(D2)return Sl;D2=1;var s=B6(),t=gm(),n=S_();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case H:return"Profiler";case Q:return"StrictMode";case at:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case J:return(e.displayName||"Context")+".Provider";case nt:return(e._context.displayName||"Context")+".Consumer";case ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:gt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return gt(e(i))}catch{}}return null}var Z=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},mt=[],M=-1;function et(e){return{current:e}}function ht(e){0>M||(e.current=mt[M],mt[M]=null,M--)}function ut(e,i){M++,mt[M]=e.current,e.current=i}var _t=et(null),At=et(null),Tt=et(null),Yt=et(null);function Ut(e,i){switch(ut(Tt,i),ut(At,e),ut(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Zp(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Zp(i),e=$p(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ht(_t),ut(_t,e)}function fe(){ht(_t),ht(At),ht(Tt)}function qe(e){e.memoizedState!==null&&ut(Yt,e);var i=_t.current,a=$p(i,e.type);i!==a&&(ut(At,e),ut(_t,a))}function wi(e){At.current===e&&(ht(_t),ht(At)),Yt.current===e&&(ht(Yt),_l._currentValue=st)}var Js=Object.prototype.hasOwnProperty,Ws=s.unstable_scheduleCallback,tr=s.unstable_cancelCallback,go=s.unstable_shouldYield,yu=s.unstable_requestPaint,xn=s.unstable_now,af=s.unstable_getCurrentPriorityLevel,po=s.unstable_ImmediatePriority,Yr=s.unstable_UserBlockingPriority,er=s.unstable_NormalPriority,of=s.unstable_LowPriority,Kr=s.unstable_IdlePriority,yo=s.log,_u=s.unstable_setDisableYieldValue,de=null,Zt=null;function _n(e){if(typeof yo=="function"&&_u(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(de,e)}catch{}}var $e=Math.clz32?Math.clz32:nr,vu=Math.log,lf=Math.LN2;function nr(e){return e>>>=0,e===0?32:31-(vu(e)/lf|0)|0}var ir=256,sr=4194304;function Fn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xr(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Fn(l):(v&=T,v!==0?h=Fn(v):a||(a=T&~e,a!==0&&(h=Fn(a))))):(T=l&~d,T!==0?h=Fn(T):v!==0?h=Fn(v):a||(a=l&~e,a!==0&&(h=Fn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _o(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var e=ir;return ir<<=1,(ir&4194048)===0&&(ir=256),e}function Eo(){var e=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),e}function Ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ri(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-$e(a),it=1<<W;T[W]=0,D[W]=-1;var Y=F[W];if(Y!==null)for(F[W]=null,W=0;W<Y.length;W++){var K=Y[W];K!==null&&(K.lane&=-536870913)}a&=~it}l!==0&&ti(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function ti(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-$e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rs(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:p2(e.type))}function Eu(e,i){var a=z.p;try{return z.p=e,i()}finally{z.p=a}}var ae=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ae,Ee="__reactProps$"+ae,In="__reactContainer$"+ae,bo="__reactEvents$"+ae,uf="__reactListeners$"+ae,as="__reactHandles$"+ae,Tu="__reactResources$"+ae,ar="__reactMarker$"+ae;function os(e){delete e[Ce],delete e[Ee],delete e[bo],delete e[uf],delete e[as]}function xi(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[In]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=e2(e);e!==null;){if(a=e[Ce])return a;e=e2(e)}return i}e=a,a=e.parentNode}return null}function ei(e){if(e=e[Ce]||e[In]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ni(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function rn(e){var i=e[Tu];return i||(i=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pe(e){e[ar]=!0}var So=new Set,$r={};function Qn(e,i){Ii(e,i),Ii(e+"Capture",i)}function Ii(e,i){for($r[e]=i,e=0;e<i.length;e++)So.add(i[e])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},or={};function Su(e){return Js.call(or,e)?!0:Js.call(bu,e)?!1:Au.test(e)?or[e]=!0:(bu[e]=!0,!1)}function ls(e,i,a){if(Su(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ii(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function He(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var lr,wu;function Di(e){if(lr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);lr=i&&i[1]||"",wu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+e+wu}var Jr=!1;function Wr(e,i){if(!e||Jr)return"";Jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(K){var Y=K}Reflect.construct(e,[],it)}else{try{it.call()}catch(K){Y=K}e.call(it.prototype)}}else{try{throw Error()}catch(K){Y=K}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),F=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var W=`
`+D[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{Jr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function wo(e){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Wr(e.type,!1);case 11:return Wr(e.type.render,!1);case 1:return Wr(e.type,!0);case 31:return Di("Activity");default:return""}}function ta(e){try{var i="";do i+=wo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Co(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cf(e){var i=Co(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ea(e){e._valueTracker||(e._valueTracker=cf(e))}function Ro(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Co(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hf=/[\n"\\]/g;function Te(e){return e.replace(hf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?us(e,v,an(i)):a!=null?us(e,v,an(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+an(T):e.removeAttribute("name")}function cr(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function us(e,i,a){i==="number"&&ur(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Vi(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+an(a):""}function hr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Z(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||fr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function xo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Cu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Cu(e,d,i[d])}function Io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return df.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mi=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,Ni=null;function Do(e){var i=ei(e);if(i&&(e=i.stateNode)){var a=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(vn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ee]||null;if(!h)throw Error(r(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ro(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Vi(e,!!a.multiple,i,!1)}}}var si=!1;function Ru(e,i,a){if(si)return e(i,a);si=!0;try{var l=e(i);return l}finally{if(si=!1,(Oi!==null||Ni!==null)&&(Ec(),Oi&&(i=Oi,e=Ni,Ni=Oi=null,Do(i),e)))for(i=0;i<e.length;i++)Do(e[i])}}function dr(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Yn)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Mn=!1}var ri=null,cs=null,Li=null;function Vo(){if(Li)return Li;var e,i=cs,a=i.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Li=h.slice(e,1<l?1-l:void 0)}function ai(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function Mo(){return!1}function Ne(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Mo,this.isPropagationStopped=Mo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),i}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Ne(Kt),gr=E({},Kt,{view:0,detail:0}),xu=Ne(gr),sa,ra,li,pr=E({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(sa=e.screenX-li.screenX,ra=e.screenY-li.screenY):ra=sa=0,li=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),On=Ne(pr),Iu=E({},pr,{dataTransfer:0}),mf=Ne(Iu),yr=E({},gr,{relatedTarget:0}),aa=Ne(yr),Oo=E({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Ne(Oo),Du=E({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),la=Ne(Du),gf=E({},Kt,{data:0}),No=Ne(gf),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Mu[e])?!!i[e]:!1}function vr(){return Lo}var Ou=E({},gr,{key:function(e){if(e.key){var i=_r[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=Ne(Ou),Nu=E({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Ne(Nu),ki=E({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Lu=Ne(ki),ku=E({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Ne(ku),ju=E({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Ne(ju),on=E({},Kt,{newState:0,oldState:0}),Uu=Ne(on),zu=[9,13,27,32],ui=Yn&&"CompositionEvent"in window,c=null;Yn&&"documentMode"in document&&(c=document.documentMode);var g=Yn&&"TextEvent"in window&&!c,_=Yn&&(!ui||c&&8<c&&11>=c),b=" ",q=!1;function X(e,i){switch(e){case"keyup":return zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Re(e,i){switch(e){case"compositionend":return dt(i);case"keypress":return i.which!==32?null:(q=!0,b);case"textInput":return e=i.data,e===b&&q?null:e;default:return null}}function Bt(e,i){if(zt)return e==="compositionend"||!ui&&X(e,i)?(e=Vo(),Li=cs=ri=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Le[e.type]:i==="textarea"}function Pi(e,i,a,l){Oi?Ni?Ni.push(l):Ni=[l]:Oi=l,i=Cc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ge=null,ci=null;function Po(e){Fp(e,0)}function Bu(e){var i=ni(e);if(Ro(i))return e}function fg(e,i){if(e==="change")return i}var dg=!1;if(Yn){var pf;if(Yn){var yf="oninput"in document;if(!yf){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),yf=typeof mg.oninput=="function"}pf=yf}else pf=!1;dg=pf&&(!document.documentMode||9<document.documentMode)}function gg(){Ge&&(Ge.detachEvent("onpropertychange",pg),ci=Ge=null)}function pg(e){if(e.propertyName==="value"&&Bu(ci)){var i=[];Pi(i,ci,e,Vn(e)),Ru(Po,i)}}function f4(e,i,a){e==="focusin"?(gg(),Ge=i,ci=a,Ge.attachEvent("onpropertychange",pg)):e==="focusout"&&gg()}function d4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(ci)}function m4(e,i){if(e==="click")return Bu(i)}function g4(e,i){if(e==="input"||e==="change")return Bu(i)}function p4(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:p4;function jo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Js.call(i,h)||!En(e[h],i[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _g(e,i){var a=yg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=yg(a)}}function vg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?vg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ur(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ur(e.document)}return i}function _f(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var y4=Yn&&"documentMode"in document&&11>=document.documentMode,ha=null,vf=null,Uo=null,Ef=!1;function Tg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||ha==null||ha!==ur(l)||(l=ha,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&jo(Uo,l)||(Uo=l,l=Cc(vf,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ha)))}function Er(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Tf={},Ag={};Yn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Tr(e){if(Tf[e])return Tf[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ag)return Tf[e]=i[a];return e}var bg=Tr("animationend"),Sg=Tr("animationiteration"),wg=Tr("animationstart"),_4=Tr("transitionrun"),v4=Tr("transitionstart"),E4=Tr("transitioncancel"),Cg=Tr("transitionend"),Rg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Kn(e,i){Rg.set(e,i),Qn(i,[e])}var xg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=xg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ta(i)},xg.set(e,i),i)}return{value:e,source:i,stack:ta(i)}}var Ln=[],da=0,bf=0;function qu(){for(var e=da,i=bf=da=0;i<e;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ig(a,h,d)}}function Hu(e,i,a,l){Ln[da++]=e,Ln[da++]=i,Ln[da++]=a,Ln[da++]=l,bf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sf(e,i,a,l){return Hu(e,i,a,l),Gu(e)}function ma(e,i){return Hu(e,null,null,i),Gu(e)}function Ig(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-$e(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Gu(e){if(50<cl)throw cl=0,Dd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ga={};function T4(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new T4(e,i,a,l)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")wf(e)&&(v=1);else if(typeof e=="string")v=b6(e,a,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,a,i,h),e.elementType=R,e.lanes=d,e;case P:return Ar(a.children,h,d,i);case Q:v=8,h|=24;break;case H:return e=Tn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case at:return e=Tn(13,a,i,h),e.elementType=at,e.lanes=d,e;case ft:return e=Tn(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case J:v=10;break t;case nt:v=9;break t;case ct:v=11;break t;case x:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Tn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ar(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function Cf(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function Rf(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var pa=[],ya=0,Qu=null,Yu=0,kn=[],Pn=0,br=null,Ui=1,zi="";function Sr(e,i){pa[ya++]=Yu,pa[ya++]=Qu,Qu=e,Yu=i}function Vg(e,i,a){kn[Pn++]=Ui,kn[Pn++]=zi,kn[Pn++]=br,br=e;var l=Ui;e=zi;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-$e(i)+h|a<<h|l,zi=d+e}else Ui=1<<d|a<<h|l,zi=e}function xf(e){e.return!==null&&(Sr(e,1),Vg(e,1,0))}function If(e){for(;e===Qu;)Qu=pa[--ya],pa[ya]=null,Yu=pa[--ya],pa[ya]=null;for(;e===br;)br=kn[--Pn],kn[Pn]=null,zi=kn[--Pn],kn[Pn]=null,Ui=kn[--Pn],kn[Pn]=null}var ln=null,me=null,Qt=!1,wr=null,hi=!1,Df=Error(r(519));function Cr(e){var i=Error(r(418,""));throw qo(Nn(i,e)),Df}function Mg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ce]=e,i[Ee]=l,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Pt(fl[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),cr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(i);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),hr(i,l.value,l.defaultValue,l.children),ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Xp(i.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),l.onScroll!=null&&Pt("scroll",i),l.onScrollEnd!=null&&Pt("scrollend",i),l.onClick!=null&&(i.onclick=Rc),i=!0):i=!1,i||Cr(e)}function Og(e){for(ln=e.return;ln;)switch(ln.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function zo(e){if(e!==ln)return!1;if(!Qt)return Og(e),Qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qd(e.type,e.memoizedProps)),a=!a),a&&me&&Cr(e),Og(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){me=Zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}me=null}}else i===27?(i=me,Cs(e.type)?(e=Zd,Zd=null,me=e):me=i):me=ln?Zn(e.stateNode.nextSibling):null;return!0}function Bo(){me=ln=null,Qt=!1}function Ng(){var e=wr;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),wr=null),e}function qo(e){wr===null?wr=[e]:wr.push(e)}var Vf=et(null),Rr=null,Bi=null;function hs(e,i,a){ut(Vf,i._currentValue),i._currentValue=a}function qi(e){e._currentValue=Vf.current,ht(Vf)}function Mf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Of(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Mf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Mf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ho(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Yt.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&Of(i,e,a,l),i.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Rr=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return Lg(Rr,e)}function Xu(e,i){return Rr===null&&xr(e),Lg(e,i)}function Lg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(r(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var A4=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},b4=s.unstable_scheduleCallback,S4=s.unstable_NormalPriority,Ie={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new A4,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&b4(S4,function(){e.controller.abort()})}var Fo=null,Lf=0,_a=0,va=null;function w4(e,i){if(Fo===null){var a=Fo=[];Lf=0,_a=Pd(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,i.then(kg,kg),i}function kg(){if(--Lf===0&&Fo!==null){va!==null&&(va.status="fulfilled");var e=Fo;Fo=null,_a=0,va=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function C4(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=j.S;j.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&w4(e,i),Pg!==null&&Pg(e,i)};var Ir=et(null);function kf(){var e=Ir.current;return e!==null?e:se.pooledCache}function Zu(e,i){i===null?ut(Ir,Ir.current):ut(Ir,i.pool)}function jg(){var e=kf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Qo=Error(r(460)),Ug=Error(r(474)),$u=Error(r(542)),Pf={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ju(){}function Bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ju,Ju),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e;default:if(typeof i.status=="string")i.then(Ju,Ju);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e}throw Yo=i,Qo}}var Yo=null;function qg(){if(Yo===null)throw Error(r(459));var e=Yo;return Yo=null,e}function Hg(e){if(e===Qo||e===$u)throw Error(r(483))}var fs=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ms(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Gu(e),Ig(e,null,a),i}return Hu(e,l,i,a),Gu(e)}function Ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ao(e,a)}}function zf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Bf=!1;function Xo(){if(Bf){var e=va;if(e!==null)throw e}}function Zo(e,i,a,l){Bf=!1;var h=e.updateQueue;fs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,F=D.next;D.next=null,v===null?d=F:v.next=F,v=D;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=D))}if(d!==null){var it=h.baseState;v=0,W=F=D=null,T=d;do{var Y=T.lane&-536870913,K=Y!==T.lane;if(K?(qt&Y)===Y:(l&Y)===Y){Y!==0&&Y===_a&&(Bf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Rt=e,St=T;Y=i;var ne=a;switch(St.tag){case 1:if(Rt=St.payload,typeof Rt=="function"){it=Rt.call(ne,it,Y);break t}it=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=St.payload,Y=typeof Rt=="function"?Rt.call(ne,it,Y):Rt,Y==null)break t;it=E({},it,Y);break t;case 2:fs=!0}}Y=T.callback,Y!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=K,D=it):W=W.next=K,v|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);W===null&&(D=it),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),As|=v,e.lanes=v,e.memoizedState=it}}function Gg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Fg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gg(a[e],i)}var Ea=et(null),Wu=et(0);function Qg(e,i){e=Xi,ut(Wu,e),ut(Ea,i),Xi=e|i.baseLanes}function qf(){ut(Wu,Xi),ut(Ea,Ea.current)}function Hf(){Xi=Wu.current,ht(Ea),ht(Wu)}var gs=0,Ot=null,te=null,Ae=null,tc=!1,Ta=!1,Dr=!1,ec=0,$o=0,Aa=null,R4=0;function ye(){throw Error(r(321))}function Gf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function Ff(e,i,a,l,h,d){return gs=d,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=e===null||e.memoizedState===null?I0:D0,Dr=!1,d=a(l,h),Dr=!1,Ta&&(d=Kg(i,a,l,h)),Yg(e),d}function Yg(e){j.H=oc;var i=te!==null&&te.next!==null;if(gs=0,Ae=te=Ot=null,tc=!1,$o=0,Aa=null,i)throw Error(r(300));e===null||ke||(e=e.dependencies,e!==null&&Ku(e)&&(ke=!0))}function Kg(e,i,a,l){Ot=e;var h=0;do{if(Ta&&(Aa=null),$o=0,Ta=!1,25<=h)throw Error(r(301));if(h+=1,Ae=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=N4,d=i(a,l)}while(Ta);return d}function x4(){var e=j.H,i=e.useState()[0];return i=typeof i.then=="function"?Jo(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Ot.flags|=1024),i}function Qf(){var e=ec!==0;return ec=0,e}function Yf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Kf(e){if(tc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}tc=!1}gs=0,Ae=te=Ot=null,Ta=!1,$o=ec=0,Aa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ot.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function be(){if(te===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Ae===null?Ot.memoizedState:Ae.next;if(i!==null)Ae=i,te=e;else{if(e===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ae===null?Ot.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var i=$o;return $o+=1,Aa===null&&(Aa=[]),e=Bg(Aa,e,i),i=Ot,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?I0:D0),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===J)return Je(e)}throw Error(r(438,String(e)))}function Zf(e){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Xf(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function ic(e){var i=be();return $f(i,te,e)}function $f(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,D=null,F=i,W=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(qt&it)===it:(gs&it)===it){var Y=F.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===_a&&(W=!0);else if((gs&Y)===Y){F=F.next,Y===_a&&(W=!0);continue}else it={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=it,v=d):D=D.next=it,Ot.lanes|=Y,As|=Y;it=F.action,Dr&&a(d,it),d=F.hasEagerState?F.eagerState:a(d,it)}else Y={lane:it,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=Y,v=d):D=D.next=Y,Ot.lanes|=it,As|=it;F=F.next}while(F!==null&&F!==i);if(D===null?v=d:D.next=T,!En(d,e.memoizedState)&&(ke=!0,W&&(a=va,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jf(e){var i=be(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(ke=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Xg(e,i,a){var l=Ot,h=be(),d=Qt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!En((te||h).memoizedState,a);v&&(h.memoizedState=a,ke=!0),h=h.queue;var T=Jg.bind(null,l,h,e);if(Wo(2048,8,T,[e]),h.getSnapshot!==i||v||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,ba(9,sc(),$g.bind(null,l,h,a,i),null),se===null)throw Error(r(349));d||(gs&124)!==0||Zg(l,i,a)}return a}function Zg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=Xf(),Ot.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function $g(e,i,a,l){i.value=a,i.getSnapshot=l,Wg(i)&&t0(e)}function Jg(e,i,a){return a(function(){Wg(i)&&t0(e)})}function Wg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function t0(e){var i=ma(e,2);i!==null&&Cn(i,e,2)}function Wf(e){var i=cn();if(typeof e=="function"){var a=e;if(e=a(),Dr){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function e0(e,i,a,l){return e.baseState=a,$f(e,te,typeof l=="function"?l:Hi)}function I4(e,i,a,l,h){if(ac(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};j.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,n0(i,d)):(d.next=a.next,i.pending=a.next=d)}}function n0(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=j.T,v={};j.T=v;try{var T=a(h,l),D=j.S;D!==null&&D(v,T),i0(e,i,T)}catch(F){td(e,i,F)}finally{j.T=d}}else try{d=a(h,l),i0(e,i,d)}catch(F){td(e,i,F)}}function i0(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){s0(e,i,l)},function(l){return td(e,i,l)}):s0(e,i,a)}function s0(e,i,a){i.status="fulfilled",i.value=a,r0(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,n0(e,a)))}function td(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,r0(i),i=i.next;while(i!==l)}e.action=null}function r0(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function a0(e,i){return i}function o0(e,i){if(Qt){var a=se.formState;if(a!==null){t:{var l=Ot;if(Qt){if(me){e:{for(var h=me,d=hi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){me=Zn(h.nextSibling),l=h.data==="F!";break t}}Cr(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:i},a.queue=l,a=C0.bind(null,Ot,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Ot,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=I4.bind(null,Ot,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function l0(e){var i=be();return u0(i,te,e)}function u0(e,i,a){if(i=$f(e,i,a0)[0],e=ic(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jo(i)}catch(v){throw v===Qo?$u:v}else l=i;i=be();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ot.flags|=2048,ba(9,sc(),D4.bind(null,h,a),null)),[l,d,e]}function D4(e,i){e.action=i}function c0(e){var i=be(),a=te;if(a!==null)return u0(i,a,e);be(),i=i.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ba(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Xf(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function sc(){return{destroy:void 0,resource:void 0}}function h0(){return be().memoizedState}function rc(e,i,a,l){var h=cn();l=l===void 0?null:l,Ot.flags|=e,h.memoizedState=ba(1|i,sc(),a,l)}function Wo(e,i,a,l){var h=be();l=l===void 0?null:l;var d=h.memoizedState.inst;te!==null&&l!==null&&Gf(l,te.memoizedState.deps)?h.memoizedState=ba(i,d,a,l):(Ot.flags|=e,h.memoizedState=ba(1|i,d,a,l))}function f0(e,i){rc(8390656,8,e,i)}function d0(e,i){Wo(2048,8,e,i)}function m0(e,i){return Wo(4,2,e,i)}function g0(e,i){return Wo(4,4,e,i)}function p0(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function y0(e,i,a){a=a!=null?a.concat([e]):null,Wo(4,4,p0.bind(null,i,e),a)}function ed(){}function _0(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function v0(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=e(),Dr){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,i],l}function nd(e,i,a){return a===void 0||(gs&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Ap(),Ot.lanes|=e,As|=e,a)}function E0(e,i,a,l){return En(a,i)?a:Ea.current!==null?(e=nd(e,a,l),En(e,i)||(ke=!0),e):(gs&42)===0?(ke=!0,e.memoizedState=a):(e=Ap(),Ot.lanes|=e,As|=e,i)}function T0(e,i,a,l,h){var d=z.p;z.p=d!==0&&8>d?d:8;var v=j.T,T={};j.T=T,rd(e,!1,i,a);try{var D=h(),F=j.S;if(F!==null&&F(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=C4(D,l);tl(e,i,W,wn(e))}else tl(e,i,l,wn(e))}catch(it){tl(e,i,{then:function(){},status:"rejected",reason:it},wn())}finally{z.p=d,j.T=v}}function V4(){}function id(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=A0(e).queue;T0(e,h,i,st,a===null?V4:function(){return b0(e),a(l)})}function A0(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:st},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function b0(e){var i=A0(e).next.queue;tl(e,i,{},wn())}function sd(){return Je(_l)}function S0(){return be().memoizedState}function w0(){return be().memoizedState}function M4(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=ds(a);var l=ms(i,e,a);l!==null&&(Cn(l,i,a),Ko(l,i,a)),i={cache:Nf()},e.payload=i;return}i=i.return}}function O4(e,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?R0(i,a):(a=Sf(e,i,a,l),a!==null&&(Cn(a,e,l),x0(a,i,l)))}function C0(e,i,a){var l=wn();tl(e,i,a,l)}function tl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))R0(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return Hu(e,i,h,0),se===null&&qu(),!1}catch{}finally{}if(a=Sf(e,i,h,l),a!==null)return Cn(a,e,l),x0(a,i,l),!0}return!1}function rd(e,i,a,l){if(l={lane:2,revertLane:Pd(),action:l,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(i)throw Error(r(479))}else i=Sf(e,a,l,2),i!==null&&Cn(i,e,2)}function ac(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function R0(e,i){Ta=tc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function x0(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ao(e,a)}}var oc={readContext:Je,use:nc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},I0={readContext:Je,use:nc,useCallback:function(e,i){return cn().memoizedState=[e,i===void 0?null:i],e},useContext:Je,useEffect:f0,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,rc(4194308,4,p0.bind(null,i,e),a)},useLayoutEffect:function(e,i){return rc(4194308,4,e,i)},useInsertionEffect:function(e,i){rc(4,2,e,i)},useMemo:function(e,i){var a=cn();i=i===void 0?null:i;var l=e();if(Dr){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Dr){_n(!0);try{a(i)}finally{_n(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=O4.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var i=cn();return e={current:e},i.memoizedState=e},useState:function(e){e=Wf(e);var i=e.queue,a=C0.bind(null,Ot,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(e,i){var a=cn();return nd(a,e,i)},useTransition:function(){var e=Wf(!1);return e=T0.bind(null,Ot,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ot,h=cn();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),se===null)throw Error(r(349));(qt&124)!==0||Zg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,f0(Jg.bind(null,l,d,e),[e]),l.flags|=2048,ba(9,sc(),$g.bind(null,l,d,a,i),null),a},useId:function(){var e=cn(),i=se.identifierPrefix;if(Qt){var a=zi,l=Ui;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,i=""+i+"R"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=R4++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:sd,useFormState:o0,useActionState:o0,useOptimistic:function(e){var i=cn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,Ot,!0,a),a.dispatch=i,[e,i]},useMemoCache:Zf,useCacheRefresh:function(){return cn().memoizedState=M4.bind(null,Ot)}},D0={readContext:Je,use:nc,useCallback:_0,useContext:Je,useEffect:d0,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:v0,useReducer:ic,useRef:h0,useState:function(){return ic(Hi)},useDebugValue:ed,useDeferredValue:function(e,i){var a=be();return E0(a,te.memoizedState,e,i)},useTransition:function(){var e=ic(Hi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Xg,useId:S0,useHostTransitionStatus:sd,useFormState:l0,useActionState:l0,useOptimistic:function(e,i){var a=be();return e0(a,te,e,i)},useMemoCache:Zf,useCacheRefresh:w0},N4={readContext:Je,use:nc,useCallback:_0,useContext:Je,useEffect:d0,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:v0,useReducer:Jf,useRef:h0,useState:function(){return Jf(Hi)},useDebugValue:ed,useDeferredValue:function(e,i){var a=be();return te===null?nd(a,e,i):E0(a,te.memoizedState,e,i)},useTransition:function(){var e=Jf(Hi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Xg,useId:S0,useHostTransitionStatus:sd,useFormState:c0,useActionState:c0,useOptimistic:function(e,i){var a=be();return te!==null?e0(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:w0},Sa=null,el=0;function lc(e){var i=el;return el+=1,Sa===null&&(Sa=[]),Bg(Sa,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function uc(e,i){throw i.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function V0(e){var i=e._init;return i(e._payload)}function M0(e){function i(U,L){if(e){var G=U.deletions;G===null?(U.deletions=[L],U.flags|=16):G.push(L)}}function a(U,L){if(!e)return null;for(;L!==null;)i(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function h(U,L){return U=ji(U,L),U.index=0,U.sibling=null,U}function d(U,L,G){return U.index=G,e?(G=U.alternate,G!==null?(G=G.index,G<L?(U.flags|=67108866,L):G):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,L,G,tt){return L===null||L.tag!==6?(L=Cf(G,U.mode,tt),L.return=U,L):(L=h(L,G),L.return=U,L)}function D(U,L,G,tt){var yt=G.type;return yt===P?W(U,L,G.props.children,tt,G.key):L!==null&&(L.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&V0(yt)===L.type)?(L=h(L,G.props),nl(L,G),L.return=U,L):(L=Fu(G.type,G.key,G.props,null,U.mode,tt),nl(L,G),L.return=U,L)}function F(U,L,G,tt){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Rf(G,U.mode,tt),L.return=U,L):(L=h(L,G.children||[]),L.return=U,L)}function W(U,L,G,tt,yt){return L===null||L.tag!==7?(L=Ar(G,U.mode,tt,yt),L.return=U,L):(L=h(L,G),L.return=U,L)}function it(U,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Cf(""+L,U.mode,G),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return G=Fu(L.type,L.key,L.props,null,U.mode,G),nl(G,L),G.return=U,G;case V:return L=Rf(L,U.mode,G),L.return=U,L;case w:var tt=L._init;return L=tt(L._payload),it(U,L,G)}if(Z(L)||k(L))return L=Ar(L,U.mode,G,null),L.return=U,L;if(typeof L.then=="function")return it(U,lc(L),G);if(L.$$typeof===J)return it(U,Xu(U,L),G);uc(U,L)}return null}function Y(U,L,G,tt){var yt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return yt!==null?null:T(U,L,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===yt?D(U,L,G,tt):null;case V:return G.key===yt?F(U,L,G,tt):null;case w:return yt=G._init,G=yt(G._payload),Y(U,L,G,tt)}if(Z(G)||k(G))return yt!==null?null:W(U,L,G,tt,null);if(typeof G.then=="function")return Y(U,L,lc(G),tt);if(G.$$typeof===J)return Y(U,L,Xu(U,G),tt);uc(U,G)}return null}function K(U,L,G,tt,yt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(G)||null,T(L,U,""+tt,yt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return U=U.get(tt.key===null?G:tt.key)||null,D(L,U,tt,yt);case V:return U=U.get(tt.key===null?G:tt.key)||null,F(L,U,tt,yt);case w:var Lt=tt._init;return tt=Lt(tt._payload),K(U,L,G,tt,yt)}if(Z(tt)||k(tt))return U=U.get(G)||null,W(L,U,tt,yt,null);if(typeof tt.then=="function")return K(U,L,G,lc(tt),yt);if(tt.$$typeof===J)return K(U,L,G,Xu(L,tt),yt);uc(L,tt)}return null}function Rt(U,L,G,tt){for(var yt=null,Lt=null,vt=L,wt=L=0,je=null;vt!==null&&wt<G.length;wt++){vt.index>wt?(je=vt,vt=null):je=vt.sibling;var Ft=Y(U,vt,G[wt],tt);if(Ft===null){vt===null&&(vt=je);break}e&&vt&&Ft.alternate===null&&i(U,vt),L=d(Ft,L,wt),Lt===null?yt=Ft:Lt.sibling=Ft,Lt=Ft,vt=je}if(wt===G.length)return a(U,vt),Qt&&Sr(U,wt),yt;if(vt===null){for(;wt<G.length;wt++)vt=it(U,G[wt],tt),vt!==null&&(L=d(vt,L,wt),Lt===null?yt=vt:Lt.sibling=vt,Lt=vt);return Qt&&Sr(U,wt),yt}for(vt=l(vt);wt<G.length;wt++)je=K(vt,U,wt,G[wt],tt),je!==null&&(e&&je.alternate!==null&&vt.delete(je.key===null?wt:je.key),L=d(je,L,wt),Lt===null?yt=je:Lt.sibling=je,Lt=je);return e&&vt.forEach(function(Vs){return i(U,Vs)}),Qt&&Sr(U,wt),yt}function St(U,L,G,tt){if(G==null)throw Error(r(151));for(var yt=null,Lt=null,vt=L,wt=L=0,je=null,Ft=G.next();vt!==null&&!Ft.done;wt++,Ft=G.next()){vt.index>wt?(je=vt,vt=null):je=vt.sibling;var Vs=Y(U,vt,Ft.value,tt);if(Vs===null){vt===null&&(vt=je);break}e&&vt&&Vs.alternate===null&&i(U,vt),L=d(Vs,L,wt),Lt===null?yt=Vs:Lt.sibling=Vs,Lt=Vs,vt=je}if(Ft.done)return a(U,vt),Qt&&Sr(U,wt),yt;if(vt===null){for(;!Ft.done;wt++,Ft=G.next())Ft=it(U,Ft.value,tt),Ft!==null&&(L=d(Ft,L,wt),Lt===null?yt=Ft:Lt.sibling=Ft,Lt=Ft);return Qt&&Sr(U,wt),yt}for(vt=l(vt);!Ft.done;wt++,Ft=G.next())Ft=K(vt,U,wt,Ft.value,tt),Ft!==null&&(e&&Ft.alternate!==null&&vt.delete(Ft.key===null?wt:Ft.key),L=d(Ft,L,wt),Lt===null?yt=Ft:Lt.sibling=Ft,Lt=Ft);return e&&vt.forEach(function(L6){return i(U,L6)}),Qt&&Sr(U,wt),yt}function ne(U,L,G,tt){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var yt=G.key;L!==null;){if(L.key===yt){if(yt=G.type,yt===P){if(L.tag===7){a(U,L.sibling),tt=h(L,G.props.children),tt.return=U,U=tt;break t}}else if(L.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&V0(yt)===L.type){a(U,L.sibling),tt=h(L,G.props),nl(tt,G),tt.return=U,U=tt;break t}a(U,L);break}else i(U,L);L=L.sibling}G.type===P?(tt=Ar(G.props.children,U.mode,tt,G.key),tt.return=U,U=tt):(tt=Fu(G.type,G.key,G.props,null,U.mode,tt),nl(tt,G),tt.return=U,U=tt)}return v(U);case V:t:{for(yt=G.key;L!==null;){if(L.key===yt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(U,L.sibling),tt=h(L,G.children||[]),tt.return=U,U=tt;break t}else{a(U,L);break}else i(U,L);L=L.sibling}tt=Rf(G,U.mode,tt),tt.return=U,U=tt}return v(U);case w:return yt=G._init,G=yt(G._payload),ne(U,L,G,tt)}if(Z(G))return Rt(U,L,G,tt);if(k(G)){if(yt=k(G),typeof yt!="function")throw Error(r(150));return G=yt.call(G),St(U,L,G,tt)}if(typeof G.then=="function")return ne(U,L,lc(G),tt);if(G.$$typeof===J)return ne(U,L,Xu(U,G),tt);uc(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(U,L.sibling),tt=h(L,G),tt.return=U,U=tt):(a(U,L),tt=Cf(G,U.mode,tt),tt.return=U,U=tt),v(U)):a(U,L)}return function(U,L,G,tt){try{el=0;var yt=ne(U,L,G,tt);return Sa=null,yt}catch(vt){if(vt===Qo||vt===$u)throw vt;var Lt=Tn(29,vt,null,U.mode);return Lt.lanes=tt,Lt.return=U,Lt}finally{}}}var wa=M0(!0),O0=M0(!1),jn=et(null),fi=null;function ps(e){var i=e.alternate;ut(De,De.current&1),ut(jn,e),fi===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(fi=e)}function N0(e){if(e.tag===22){if(ut(De,De.current),ut(jn,e),fi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(fi=e)}}else ys()}function ys(){ut(De,De.current),ut(jn,jn.current)}function Gi(e){ht(jn),fi===e&&(fi=null),ht(De)}var De=et(0);function cc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ad(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var od={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=wn(),h=ds(l);h.payload=i,a!=null&&(h.callback=a),i=ms(e,h,l),i!==null&&(Cn(i,e,l),Ko(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=wn(),h=ds(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ms(e,h,l),i!==null&&(Cn(i,e,l),Ko(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),l=ds(a);l.tag=2,i!=null&&(l.callback=i),i=ms(e,l,a),i!==null&&(Cn(i,e,a),Ko(i,e,a))}};function L0(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function k0(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&od.enqueueReplaceState(i,i.state,null)}function Vr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var hc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function P0(e){hc(e)}function j0(e){console.error(e)}function U0(e){hc(e)}function fc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function z0(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(e,i,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(e,i)},a}function B0(e){return e=ds(e),e.tag=3,e}function q0(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){z0(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){z0(i,a,l),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function L4(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return fi===null?Md():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(e,l,h)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(e,l,h)),!1}throw Error(r(435,a.tag))}return Nd(e,l,h),Md(),!1}if(Qt)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Df&&(e=Error(r(422),{cause:l}),qo(Nn(e,a)))):(l!==Df&&(i=Error(r(423),{cause:l}),qo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=ld(e.stateNode,l,h),zf(e,h),ge!==4&&(ge=2)),!1;var d=Error(r(520),{cause:l});if(d=Nn(d,a),ul===null?ul=[d]:ul.push(d),ge!==4&&(ge=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ld(a.stateNode,l,e),zf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bs===null||!bs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=B0(h),q0(h,e,a,l),zf(a,h),!1}a=a.return}while(a!==null);return!1}var H0=Error(r(461)),ke=!1;function Fe(e,i,a,l){i.child=e===null?O0(i,null,a,l):wa(i,e.child,a,l)}function G0(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return xr(i),l=Ff(e,i,a,v,d,h),T=Qf(),e!==null&&!ke?(Yf(e,i,h),Fi(e,i,h)):(Qt&&T&&xf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function F0(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Q0(e,i,d,l,h)):(e=Fu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!pd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(v,l)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=ji(d,l),e.ref=i.ref,e.return=i,i.child=e}function Q0(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(jo(d,l)&&e.ref===i.ref)if(ke=!1,i.pendingProps=l=d,pd(e,h))(e.flags&131072)!==0&&(ke=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return ud(e,i,a,l,h)}function Y0(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return K0(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):qf(),N0(i);else return i.lanes=i.childLanes=536870912,K0(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(i,d.cachePool),Qg(i,d),ys(),i.memoizedState=null):(e!==null&&Zu(i,null),qf(),ys());return Fe(e,i,h,a),i.child}function K0(e,i,a,l){var h=kf();return h=h===null?null:{parent:Ie._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Zu(i,null),qf(),N0(i),e!==null&&Ho(e,i,l,!0),null}function dc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ud(e,i,a,l,h){return xr(i),a=Ff(e,i,a,l,void 0,h),l=Qf(),e!==null&&!ke?(Yf(e,i,h),Fi(e,i,h)):(Qt&&l&&xf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function X0(e,i,a,l,h,d){return xr(i),i.updateQueue=null,a=Kg(i,l,a,h),Yg(e),l=Qf(),e!==null&&!ke?(Yf(e,i,d),Fi(e,i,d)):(Qt&&l&&xf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Z0(e,i,a,l,h){if(xr(i),i.stateNode===null){var d=ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=Je(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Je(v):ga,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ad(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&od.enqueueReplaceState(d,d.state,null),Zo(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=Vr(a,T);d.props=D;var F=d.context,W=a.contextType;v=ga,typeof W=="object"&&W!==null&&(v=Je(W));var it=a.getDerivedStateFromProps;W=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==v)&&k0(i,d,l,v),fs=!1;var Y=i.memoizedState;d.state=Y,Zo(i,l,d,h),Xo(),F=i.memoizedState,T||Y!==F||fs?(typeof it=="function"&&(ad(i,a,it,l),F=i.memoizedState),(D=fs||L0(i,a,D,l,Y,F,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(e,i),v=i.memoizedProps,W=Vr(a,v),d.props=W,it=i.pendingProps,Y=d.context,F=a.contextType,D=ga,typeof F=="object"&&F!==null&&(D=Je(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==it||Y!==D)&&k0(i,d,l,D),fs=!1,Y=i.memoizedState,d.state=Y,Zo(i,l,d,h),Xo();var K=i.memoizedState;v!==it||Y!==K||fs||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof T=="function"&&(ad(i,a,T,l),K=i.memoizedState),(W=fs||L0(i,a,W,l,Y,K,D)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,dc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=wa(i,e.child,null,h),i.child=wa(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Fi(e,i,h),e}function $0(e,i,a,l){return Bo(),i.flags|=256,Fe(e,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(e){return{baseLanes:e,cachePool:jg()}}function fd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Un),e}function J0(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Qt){if(h?ps(i):ys(),Qt){var T=me,D;if(D=T){t:{for(D=T,T=hi;D.nodeType!==8;){if(!T){T=null;break t}if(D=Zn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:br!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},D=Tn(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,ln=i,me=null,D=!0):D=!1}D||Cr(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Xd(T)?i.lanes=32:i.lanes=536870912,null;Gi(i)}return T=l.children,l=l.fallback,h?(ys(),h=i.mode,T=mc({mode:"hidden",children:T},h),l=Ar(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=hd(a),h.childLanes=fd(e,v,a),i.memoizedState=cd,l):(ps(i),dd(i,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(ps(i),i.flags&=-257,i=md(e,i,a)):i.memoizedState!==null?(ys(),i.child=e.child,i.flags|=128,i=null):(ys(),h=l.fallback,T=i.mode,l=mc({mode:"visible",children:l.children},T),h=Ar(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wa(i,e.child,null,a),l=i.child,l.memoizedState=hd(a),l.childLanes=fd(e,v,a),i.memoizedState=cd,i=h);else if(ps(i),Xd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(r(419)),l.stack="",l.digest=v,qo({value:l,source:null,stack:null}),i=md(e,i,a)}else if(ke||Ho(e,i,a,!1),v=(a&e.childLanes)!==0,ke||v){if(v=se,v!==null&&(l=a&-a,l=(l&42)!==0?1:ss(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ma(e,l),Cn(v,e,l),H0;T.data==="$?"||Md(),i=md(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,me=Zn(T.nextSibling),ln=i,Qt=!0,wr=null,hi=!1,e!==null&&(kn[Pn++]=Ui,kn[Pn++]=zi,kn[Pn++]=br,Ui=e.id,zi=e.overflow,br=i),i=dd(i,l.children),i.flags|=4096);return i}return h?(ys(),h=l.fallback,T=i.mode,D=e.child,F=D.sibling,l=ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=ji(F,h):(h=Ar(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=hd(a):(D=T.cachePool,D!==null?(F=Ie._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=jg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=fd(e,v,a),i.memoizedState=cd,l):(ps(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function dd(e,i){return i=mc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function mc(e,i){return e=Tn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function md(e,i,a){return wa(i,e.child,null,a),e=dd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function W0(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Mf(e.return,i,a)}function gd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function tp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Fe(e,i,l.children,a),l=De.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W0(e,a,i);else if(e.tag===19)W0(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ut(De,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&cc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}gd(i,!0,a,null,d);break;case"together":gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),As|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ho(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function k4(e,i,a){switch(i.tag){case 3:Ut(i,i.stateNode.containerInfo),hs(i,Ie,e.memoizedState.cache),Bo();break;case 27:case 5:qe(i);break;case 4:Ut(i,i.stateNode.containerInfo);break;case 10:hs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(i),i.flags|=128,null):(a&i.child.childLanes)!==0?J0(e,i,a):(ps(i),e=Fi(e,i,a),e!==null?e.sibling:null);ps(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ho(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return tp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ut(De,De.current),l)break;return null;case 22:case 23:return i.lanes=0,Y0(e,i,a);case 24:hs(i,Ie,e.memoizedState.cache)}return Fi(e,i,a)}function ep(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ke=!0;else{if(!pd(e,a)&&(i.flags&128)===0)return ke=!1,k4(e,i,a);ke=(e.flags&131072)!==0}else ke=!1,Qt&&(i.flags&1048576)!==0&&Vg(i,Yu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")wf(l)?(e=Vr(l,e),i.tag=1,i=Z0(null,i,l,e,a)):(i.tag=0,i=ud(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ct){i.tag=11,i=G0(null,i,l,e,a);break t}else if(h===x){i.tag=14,i=F0(null,i,l,e,a);break t}}throw i=gt(l)||l,Error(r(306,i,""))}}return i;case 0:return ud(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Vr(l,i.pendingProps),Z0(e,i,l,h,a);case 3:t:{if(Ut(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(e,i),Zo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,hs(i,Ie,l),l!==d.cache&&Of(i,[Ie],a,!0),Xo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$0(e,i,l,a);break t}else if(l!==h){h=Nn(Error(r(424)),i),qo(h),i=$0(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Zn(e.firstChild),ln=i,Qt=!0,wr=null,hi=!0,a=O0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),l===h){i=Fi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return dc(e,i),e===null?(a=r2(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qt||(a=i.type,e=i.pendingProps,l=xc(Tt.current).createElement(a),l[Ce]=i,l[Ee]=e,Ye(l,a,e),pe(l),i.stateNode=l):i.memoizedState=r2(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return qe(i),e===null&&Qt&&(l=i.stateNode=n2(i.type,i.pendingProps,Tt.current),ln=i,hi=!0,h=me,Cs(i.type)?(Zd=h,me=Zn(l.firstChild)):me=h),Fe(e,i,i.pendingProps.children,a),dc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Qt&&((h=l=me)&&(l=c6(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,ln=i,me=Zn(l.firstChild),hi=!1,h=!0):h=!1),h||Cr(i)),qe(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Qd(h,d)?l=null:v!==null&&Qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(e,i,x4,null,null,a),_l._currentValue=h),dc(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&Qt&&((e=a=me)&&(a=h6(a,i.pendingProps,hi),a!==null?(i.stateNode=a,ln=i,me=null,e=!0):e=!1),e||Cr(i)),null;case 13:return J0(e,i,a);case 4:return Ut(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=wa(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return G0(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,hs(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xr(i),h=Je(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return F0(e,i,i.type,i.pendingProps,a);case 15:return Q0(e,i,i.type,i.pendingProps,a);case 19:return tp(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=mc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ji(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Y0(e,i,a);case 24:return xr(i),l=Je(Ie),e===null?(h=kf(),h===null&&(h=se,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),hs(i,Ie,h)):((e.lanes&a)!==0&&(Uf(e,i),Zo(i,null,null,a),Xo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hs(i,Ie,l)):(l=d.cache,hs(i,Ie,l),l!==h.cache&&Of(i,[Ie],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qi(e){e.flags|=4}function np(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c2(i)){if(i=jn.current,i!==null&&((qt&4194048)===qt?fi!==null:(qt&62914560)!==qt&&(qt&536870912)===0||i!==fi))throw Yo=Pf,Ug;e.flags|=8192}}function gc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Eo():536870912,e.lanes|=i,Ia|=i)}function il(e,i){if(!Qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function P4(e,i,a){var l=i.pendingProps;switch(If(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(i),null;case 1:return ue(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(Ie),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zo(i)?Qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ng())),ue(i),null;case 26:return a=i.memoizedState,e===null?(Qi(i),a!==null?(ue(i),np(i,a)):(ue(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Qi(i),ue(i),np(i,a)):(ue(i),i.flags&=-16777217):(e.memoizedProps!==l&&Qi(i),ue(i),i.flags&=-16777217),null;case 27:wi(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ue(i),null}e=_t.current,zo(i)?Mg(i):(e=n2(h,l,a),i.stateNode=e,Qi(i))}return ue(i),null;case 5:if(wi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ue(i),null}if(e=_t.current,zo(i))Mg(i);else{switch(h=xc(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ce]=i,e[Ee]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ye(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Qi(i)}}return ue(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Tt.current,zo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xp(e.nodeValue,a)),e||Cr(i)}else e=xc(e).createTextNode(l),e[Ce]=i,i.stateNode=e}return ue(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=zo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ce]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ue(i),h=!1}else h=Ng(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Gi(i),i):(Gi(i),null)}if(Gi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),gc(i,i.updateQueue),ue(i),null;case 4:return fe(),e===null&&Bd(i.stateNode.containerInfo),ue(i),null;case 10:return qi(i.type),ue(i),null;case 19:if(ht(De),h=i.memoizedState,h===null)return ue(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)il(h,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=cc(e),d!==null){for(i.flags|=128,il(h,!1),e=d.updateQueue,i.updateQueue=e,gc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Dg(a,e),a=a.sibling;return ut(De,De.current&1|2),i.child}e=e.sibling}h.tail!==null&&xn()>_c&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304)}else{if(!l)if(e=cc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,gc(i,e),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qt)return ue(i),null}else 2*xn()-h.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=xn(),i.sibling=null,e=De.current,ut(De,l?e&1|2:e&1),i):(ue(i),null);case 22:case 23:return Gi(i),Hf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ue(i),i.subtreeFlags&6&&(i.flags|=8192)):ue(i),a=i.updateQueue,a!==null&&gc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ht(Ir),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(Ie),ue(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function j4(e,i){switch(If(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return qi(Ie),fe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return wi(i),null;case 13:if(Gi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Bo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ht(De),null;case 4:return fe(),null;case 10:return qi(i.type),null;case 22:case 23:return Gi(i),Hf(),e!==null&&ht(Ir),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return qi(Ie),null;case 25:return null;default:return null}}function ip(e,i){switch(If(i),i.tag){case 3:qi(Ie),fe();break;case 26:case 27:case 5:wi(i);break;case 4:fe();break;case 13:Gi(i);break;case 19:ht(De);break;case 10:qi(i.type);break;case 22:case 23:Gi(i),Hf(),e!==null&&ht(Ir);break;case 24:qi(Ie)}}function sl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ie(i,i.return,T)}}function _s(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var D=a,F=T;try{F()}catch(W){ie(h,D,W)}}}l=l.next}while(l!==d)}}catch(W){ie(i,i.return,W)}}function sp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Fg(i,a)}catch(l){ie(e,e.return,l)}}}function rp(e,i,a){a.props=Vr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,i,l)}}function rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ie(e,i,h)}}function di(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(e,i,h)}else a.current=null}function ap(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ie(e,e.return,h)}}function yd(e,i,a){try{var l=e.stateNode;r6(l,e.type,a,i),l[Ee]=i}catch(h){ie(e,e.return,h)}}function op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cs(e.type)||e.tag===4}function _d(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rc));else if(l!==4&&(l===27&&Cs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(vd(e,i,a),e=e.sibling;e!==null;)vd(e,i,a),e=e.sibling}function pc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Cs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pc(e,i,a),e=e.sibling;e!==null;)pc(e,i,a),e=e.sibling}function lp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,l,a),i[Ce]=e,i[Ee]=a}catch(d){ie(e,e.return,d)}}var Yi=!1,_e=!1,Ed=!1,up=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function U4(e,i){if(e=e.containerInfo,Gd=Nc,e=Eg(e),_f(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,F=0,W=0,it=e,Y=null;e:for(;;){for(var K;it!==a||h!==0&&it.nodeType!==3||(T=v+h),it!==d||l!==0&&it.nodeType!==3||(D=v+l),it.nodeType===3&&(v+=it.nodeValue.length),(K=it.firstChild)!==null;)Y=it,it=K;for(;;){if(it===e)break e;if(Y===a&&++F===h&&(T=v),Y===d&&++W===l&&(D=v),(K=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:e,selectionRange:a},Nc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Rt=Vr(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Rt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){ie(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function cp(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(e,a),l&4&&sl(5,a);break;case 1:if(vs(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ie(a,a.return,v)}else{var h=Vr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ie(a,a.return,v)}}l&64&&sp(a),l&512&&rl(a,a.return);break;case 3:if(vs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fg(e,i)}catch(v){ie(a,a.return,v)}}break;case 27:i===null&&l&4&&lp(a);case 26:case 5:vs(e,a),i===null&&l&4&&ap(a),l&512&&rl(a,a.return);break;case 12:vs(e,a);break;case 13:vs(e,a),l&4&&dp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=K4.bind(null,a),f6(e,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||_e,h=Yi;var d=_e;Yi=l,(_e=i)&&!d?Es(e,a,(a.subtreeFlags&8772)!==0):vs(e,a),Yi=h,_e=d}break;case 30:break;default:vs(e,a)}}function hp(e){var i=e.alternate;i!==null&&(e.alternate=null,hp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&os(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,hn=!1;function Ki(e,i,a){for(a=a.child;a!==null;)fp(e,i,a),a=a.sibling}function fp(e,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(de,a)}catch{}switch(a.tag){case 26:_e||di(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||di(a,i);var l=oe,h=hn;Cs(a.type)&&(oe=a.stateNode,hn=!1),Ki(e,i,a),ml(a.stateNode),oe=l,hn=h;break;case 5:_e||di(a,i);case 6:if(l=oe,h=hn,oe=null,Ki(e,i,a),oe=l,hn=h,oe!==null)if(hn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){ie(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){ie(a,i,d)}break;case 18:oe!==null&&(hn?(e=oe,t2(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Al(e)):t2(oe,a.stateNode));break;case 4:l=oe,h=hn,oe=a.stateNode.containerInfo,hn=!0,Ki(e,i,a),oe=l,hn=h;break;case 0:case 11:case 14:case 15:_e||_s(2,a,i),_e||_s(4,a,i),Ki(e,i,a);break;case 1:_e||(di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rp(a,i,l)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,Ki(e,i,a),_e=l;break;default:Ki(e,i,a)}}function dp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(a){ie(i,i.return,a)}}function z4(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new up),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new up),i;default:throw Error(r(435,e.tag))}}function Td(e,i){var a=z4(e);i.forEach(function(l){var h=X4.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Cs(T.type)){oe=T.stateNode,hn=!1;break t}break;case 5:oe=T.stateNode,hn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(oe===null)throw Error(r(160));fp(d,v,h),oe=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)mp(i,e),i=i.sibling}var Xn=null;function mp(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),bn(e),l&4&&(_s(3,e,e.return),sl(3,e),_s(5,e,e.return));break;case 1:An(i,e),bn(e),l&512&&(_e||a===null||di(a,a.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(An(i,e),bn(e),l&512&&(_e||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ar]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ye(d,l,a),d[Ce]=e,pe(d),l=d;break t;case"link":var v=l2("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Ye(d,l,a),h.head.appendChild(d);break;case"meta":if(v=l2("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Ye(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ce]=e,pe(d),l=d}e.stateNode=l}else u2(h,e.type,e.stateNode);else e.stateNode=o2(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?u2(h,e.type,e.stateNode):o2(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yd(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(i,e),bn(e),l&512&&(_e||a===null||di(a,a.return)),a!==null&&l&4&&yd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(i,e),bn(e),l&512&&(_e||a===null||di(a,a.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(K){ie(e,e.return,K)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,yd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(An(i,e),bn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){ie(e,e.return,K)}}break;case 3:if(Vc=null,h=Xn,Xn=Ic(i.containerInfo),An(i,e),Xn=h,bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(i.containerInfo)}catch(K){ie(e,e.return,K)}Ed&&(Ed=!1,gp(e));break;case 4:l=Xn,Xn=Ic(e.stateNode.containerInfo),An(i,e),bn(e),Xn=l;break;case 12:An(i,e),bn(e);break;case 13:An(i,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=xn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Td(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Yi,W=_e;if(Yi=F||h,_e=W||D,An(i,e),_e=W,Yi=F,bn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Yi||_e||Mr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var it=D.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){ie(D,D.return,K)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(K){ie(D,D.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(e,a))));break;case 19:An(i,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Td(e,l)));break;case 30:break;case 21:break;default:An(i,e),bn(e)}}function bn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(op(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(e);pc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Dn(v,""),a.flags&=-33);var T=_d(e);pc(e,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,F=_d(e);vd(e,F,D);break;default:throw Error(r(161))}}catch(W){ie(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;gp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vs(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cp(e,i.alternate,i),i=i.sibling}function Mr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:_s(4,i,i.return),Mr(i);break;case 1:di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&rp(i,i.return,a),Mr(i);break;case 27:ml(i.stateNode);case 26:case 5:di(i,i.return),Mr(i);break;case 22:i.memoizedState===null&&Mr(i);break;case 30:Mr(i);break;default:Mr(i)}e=e.sibling}}function Es(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Es(h,d,a),sl(4,d);break;case 1:if(Es(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ie(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Gg(D[h],T)}catch(F){ie(l,l.return,F)}}a&&v&64&&sp(d),rl(d,d.return);break;case 27:lp(d);case 26:case 5:Es(h,d,a),a&&l===null&&v&4&&ap(d),rl(d,d.return);break;case 12:Es(h,d,a);break;case 13:Es(h,d,a),a&&v&4&&dp(h,d);break;case 22:d.memoizedState===null&&Es(h,d,a),rl(d,d.return);break;case 30:break;default:Es(h,d,a)}i=i.sibling}}function Ad(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function bd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function mi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pp(e,i,a,l),i=i.sibling}function pp(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(e,i,a,l),h&2048&&sl(9,i);break;case 1:mi(e,i,a,l);break;case 3:mi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){mi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ie(i,i.return,D)}}else mi(e,i,a,l);break;case 13:mi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?mi(e,i,a,l):al(e,i):d._visibility&2?mi(e,i,a,l):(d._visibility|=2,Ca(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ad(v,i);break;case 24:mi(e,i,a,l),h&2048&&bd(i.alternate,i);break;default:mi(e,i,a,l)}}function Ca(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,D=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Ca(d,v,T,D,h),sl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ca(d,v,T,D,h):al(d,v):(W._visibility|=2,Ca(d,v,T,D,h)),h&&F&2048&&Ad(v.alternate,v);break;case 24:Ca(d,v,T,D,h),h&&F&2048&&bd(v.alternate,v);break;default:Ca(d,v,T,D,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&Ad(l.alternate,l);break;case 24:al(a,l),h&2048&&bd(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function Ra(e){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 26:Ra(e),e.flags&ol&&e.memoizedState!==null&&w6(Xn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e);break;case 3:case 4:var i=Xn;Xn=Ic(e.stateNode.containerInfo),Ra(e),Xn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,Ra(e),ol=i):Ra(e));break;default:Ra(e)}}function _p(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Ep(l,e)}_p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vp(e),e=e.sibling}function vp(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&_s(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,yc(e)):ll(e);break;default:ll(e)}}function yc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Ep(l,e)}_p(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:_s(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}e=e.sibling}}function Ep(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:_s(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(hp(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var B4={getCacheForType:function(e){var i=Je(Ie),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},q4=typeof WeakMap=="function"?WeakMap:Map,$t=0,se=null,kt=null,qt=0,Jt=0,Sn=null,Ts=!1,xa=!1,Sd=!1,Xi=0,ge=0,As=0,Or=0,wd=0,Un=0,Ia=0,ul=null,fn=null,Cd=!1,Rd=0,_c=1/0,vc=null,bs=null,Qe=0,Ss=null,Da=null,Va=0,xd=0,Id=null,Tp=null,cl=0,Dd=null;function wn(){if(($t&2)!==0&&qt!==0)return qt&-qt;if(j.T!==null){var e=_a;return e!==0?e:Pd()}return rs()}function Ap(){Un===0&&(Un=(qt&536870912)===0||Qt?vo():536870912);var e=jn.current;return e!==null&&(e.flags|=32),Un}function Cn(e,i,a){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),ws(e,qt,Un,!1)),Ri(e,a),(($t&2)===0||e!==se)&&(e===se&&(($t&2)===0&&(Or|=a),ge===4&&ws(e,qt,Un,!1)),gi(e))}function bp(e,i,a){if(($t&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||rr(e,i),h=l?F4(e,i):Od(e,i,!0),d=l;do{if(h===0){xa&&!l&&ws(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!H4(a)){h=Od(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=ul;var D=T.current.memoizedState.isDehydrated;if(D&&(Ma(T,v).flags|=256),v=Od(T,v,!1),v!==2){if(Sd&&!D){T.errorRecoveryDisabledLanes|=d,Or|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(e,0),ws(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ws(l,i,Un,!Ts);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Rd+300-xn(),10<h)){if(ws(l,i,Un,!Ts),Xr(l,0,!0)!==0)break t;l.timeoutHandle=Jp(Sp.bind(null,l,a,fn,vc,Cd,i,Un,Or,Ia,Ts,d,2,-0,0),h);break t}Sp(l,a,fn,vc,Cd,i,Un,Or,Ia,Ts,d,0,-0,0)}}break}while(!0);gi(e)}function Sp(e,i,a,l,h,d,v,T,D,F,W,it,Y,K){if(e.timeoutHandle=-1,it=i.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:S6},yp(i),it=C6(),it!==null)){e.cancelPendingCommit=it(Vp.bind(null,e,i,d,a,l,h,v,T,D,W,1,Y,K)),ws(e,d,v,!F);return}Vp(e,i,d,a,l,h,v,T,D)}function H4(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ws(e,i,a,l){i&=~wd,i&=~Or,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ti(e,a,i)}function Ec(){return($t&6)===0?(hl(0),!1):!0}function Vd(){if(kt!==null){if(Jt===0)var e=kt.return;else e=kt,Bi=Rr=null,Kf(e),Sa=null,el=0,e=kt;for(;e!==null;)ip(e.alternate,e),e=e.return;kt=null}}function Ma(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,o6(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vd(),se=e,kt=a=ji(e.current,null),qt=i,Jt=0,Sn=null,Ts=!1,xa=rr(e,i),Sd=!1,Ia=Un=wd=Or=As=ge=0,fn=ul=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-$e(l),d=1<<h;i|=e[h],l&=~d}return Xi=i,qu(),a}function wp(e,i){Ot=null,j.H=oc,i===Qo||i===$u?(i=qg(),Jt=3):i===Ug?(i=qg(),Jt=4):Jt=i===H0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,kt===null&&(ge=1,fc(e,Nn(i,e.current)))}function Cp(){var e=j.H;return j.H=oc,e===null?oc:e}function Rp(){var e=j.A;return j.A=B4,e}function Md(){ge=4,Ts||(qt&4194048)!==qt&&jn.current!==null||(xa=!0),(As&134217727)===0&&(Or&134217727)===0||se===null||ws(se,qt,Un,!1)}function Od(e,i,a){var l=$t;$t|=2;var h=Cp(),d=Rp();(se!==e||qt!==i)&&(vc=null,Ma(e,i)),i=!1;var v=ge;t:do try{if(Jt!==0&&kt!==null){var T=kt,D=Sn;switch(Jt){case 8:Vd(),v=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var F=Jt;if(Jt=0,Sn=null,Oa(e,T,D,F),a&&xa){v=0;break t}break;default:F=Jt,Jt=0,Sn=null,Oa(e,T,D,F)}}G4(),v=ge;break}catch(W){wp(e,W)}while(!0);return i&&e.shellSuspendCounter++,Bi=Rr=null,$t=l,j.H=h,j.A=d,kt===null&&(se=null,qt=0,qu()),v}function G4(){for(;kt!==null;)xp(kt)}function F4(e,i){var a=$t;$t|=2;var l=Cp(),h=Rp();se!==e||qt!==i?(vc=null,_c=xn()+500,Ma(e,i)):xa=rr(e,i);t:do try{if(Jt!==0&&kt!==null){i=kt;var d=Sn;e:switch(Jt){case 1:Jt=0,Sn=null,Oa(e,i,d,1);break;case 2:case 9:if(zg(d)){Jt=0,Sn=null,Ip(i);break}i=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),gi(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:zg(d)?(Jt=0,Sn=null,Ip(i)):(Jt=0,Sn=null,Oa(e,i,d,7));break;case 5:var v=null;switch(kt.tag){case 26:v=kt.memoizedState;case 5:case 27:var T=kt;if(!v||c2(v)){Jt=0,Sn=null;var D=T.sibling;if(D!==null)kt=D;else{var F=T.return;F!==null?(kt=F,Tc(F)):kt=null}break e}}Jt=0,Sn=null,Oa(e,i,d,5);break;case 6:Jt=0,Sn=null,Oa(e,i,d,6);break;case 8:Vd(),ge=6;break t;default:throw Error(r(462))}}Q4();break}catch(W){wp(e,W)}while(!0);return Bi=Rr=null,j.H=l,j.A=h,$t=a,kt!==null?0:(se=null,qt=0,qu(),ge)}function Q4(){for(;kt!==null&&!go();)xp(kt)}function xp(e){var i=ep(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,i===null?Tc(e):kt=i}function Ip(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=X0(a,i,i.pendingProps,i.type,void 0,qt);break;case 11:i=X0(a,i,i.pendingProps,i.type.render,i.ref,qt);break;case 5:Kf(i);default:ip(a,i),i=kt=Dg(i,Xi),i=ep(a,i,Xi)}e.memoizedProps=e.pendingProps,i===null?Tc(e):kt=i}function Oa(e,i,a,l){Bi=Rr=null,Kf(i),Sa=null,el=0;var h=i.return;try{if(L4(e,h,i,a,qt)){ge=1,fc(e,Nn(a,e.current)),kt=null;return}}catch(d){if(h!==null)throw kt=h,d;ge=1,fc(e,Nn(a,e.current)),kt=null;return}i.flags&32768?(Qt||l===1?e=!0:xa||(qt&536870912)!==0?e=!1:(Ts=e=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dp(i,e)):Tc(i)}function Tc(e){var i=e;do{if((i.flags&32768)!==0){Dp(i,Ts);return}e=i.return;var a=P4(i.alternate,i,Xi);if(a!==null){kt=a;return}if(i=i.sibling,i!==null){kt=i;return}kt=i=e}while(i!==null);ge===0&&(ge=5)}function Dp(e,i){do{var a=j4(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);ge=6,kt=null}function Vp(e,i,a,l,h,d,v,T,D){e.cancelPendingCommit=null;do Ac();while(Qe!==0);if(($t&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=bf,To(e,a,d,v,T,D),e===se&&(kt=se=null,qt=0),Da=i,Ss=e,Va=a,xd=d,Id=h,Tp=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Z4(er,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,h=z.p,z.p=2,v=$t,$t|=4;try{U4(e,i,a)}finally{$t=v,z.p=h,j.T=l}}Qe=1,Mp(),Op(),Np()}}function Mp(){if(Qe===1){Qe=0;var e=Ss,i=Da,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=z.p;z.p=2;var h=$t;$t|=4;try{mp(i,e);var d=Fd,v=Eg(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&vg(T.ownerDocument.documentElement,T)){if(D!==null&&_f(T)){var F=D.start,W=D.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var it=T.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Rt=T.textContent.length,St=Math.min(D.start,Rt),ne=D.end===void 0?St:Math.min(D.end,Rt);!K.extend&&St>ne&&(v=ne,ne=St,St=v);var U=_g(T,St),L=_g(T,ne);if(U&&L&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var G=it.createRange();G.setStart(U.node,U.offset),K.removeAllRanges(),St>ne?(K.addRange(G),K.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),K.addRange(G))}}}}for(it=[],K=T;K=K.parentNode;)K.nodeType===1&&it.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<it.length;T++){var tt=it[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Nc=!!Gd,Fd=Gd=null}finally{$t=h,z.p=l,j.T=a}}e.current=i,Qe=2}}function Op(){if(Qe===2){Qe=0;var e=Ss,i=Da,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=z.p;z.p=2;var h=$t;$t|=4;try{cp(e,i.alternate,i)}finally{$t=h,z.p=l,j.T=a}}Qe=3}}function Np(){if(Qe===4||Qe===3){Qe=0,yu();var e=Ss,i=Da,a=Va,l=Tp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qe=5:(Qe=0,Da=Ss=null,Lp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(bs=null),Zr(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(de,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=j.T,h=z.p,z.p=2,j.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{j.T=i,z.p=h}}(Va&3)!==0&&Ac(),gi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Dd?cl++:(cl=0,Dd=e):cl=0,hl(0)}}function Lp(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function Ac(e){return Mp(),Op(),Np(),kp()}function kp(){if(Qe!==5)return!1;var e=Ss,i=xd;xd=0;var a=Zr(Va),l=j.T,h=z.p;try{z.p=32>a?32:a,j.T=null,a=Id,Id=null;var d=Ss,v=Va;if(Qe=0,Da=Ss=null,Va=0,($t&6)!==0)throw Error(r(331));var T=$t;if($t|=4,vp(d.current),pp(d,d.current,v,a),$t=T,hl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(de,d)}catch{}return!0}finally{z.p=h,j.T=l,Lp(e,i)}}function Pp(e,i,a){i=Nn(a,i),i=ld(e.stateNode,i,2),e=ms(e,i,2),e!==null&&(Ri(e,2),gi(e))}function ie(e,i,a){if(e.tag===3)Pp(e,e,a);else for(;i!==null;){if(i.tag===3){Pp(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bs===null||!bs.has(l))){e=Nn(a,e),a=B0(2),l=ms(i,a,2),l!==null&&(q0(a,l,i,e),Ri(l,2),gi(l));break}}i=i.return}}function Nd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new q4;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),e=Y4.bind(null,e,i,a),i.then(e,e))}function Y4(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(qt&a)===a&&(ge===4||ge===3&&(qt&62914560)===qt&&300>xn()-Rd?($t&2)===0&&Ma(e,0):wd|=a,Ia===qt&&(Ia=0)),gi(e)}function jp(e,i){i===0&&(i=Eo()),e=ma(e,i),e!==null&&(Ri(e,i),gi(e))}function K4(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),jp(e,a)}function X4(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),jp(e,a)}function Z4(e,i){return Ws(e,i)}var bc=null,Na=null,Ld=!1,Sc=!1,kd=!1,Nr=0;function gi(e){e!==Na&&e.next===null&&(Na===null?bc=Na=e:Na=Na.next=e),Sc=!0,Ld||(Ld=!0,J4())}function hl(e,i){if(!kd&&Sc){kd=!0;do for(var a=!1,l=bc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,qp(l,d))}else d=qt,d=Xr(l,l===se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(a=!0,qp(l,d));l=l.next}while(a);kd=!1}}function $4(){Up()}function Up(){Sc=Ld=!1;var e=0;Nr!==0&&(a6()&&(e=Nr),Nr=0);for(var i=xn(),a=null,l=bc;l!==null;){var h=l.next,d=zp(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Na=a)):(a=l,(e!==0||(d&3)!==0)&&(Sc=!0)),l=h}hl(e)}function zp(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=_o(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=se,a=qt,a=Xr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&tr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||rr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&tr(l),Zr(a)){case 2:case 8:a=Yr;break;case 32:a=er;break;case 268435456:a=Kr;break;default:a=er}return l=Bp.bind(null,e),a=Ws(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&tr(l),e.callbackPriority=2,e.callbackNode=null,2}function Bp(e,i){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var l=qt;return l=Xr(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(bp(e,l,i),zp(e,xn()),e.callbackNode!=null&&e.callbackNode===a?Bp.bind(null,e):null)}function qp(e,i){if(Ac())return null;bp(e,i,!0)}function J4(){l6(function(){($t&6)!==0?Ws(po,$4):Up()})}function Pd(){return Nr===0&&(Nr=vo()),Nr}function Hp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Gp(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function W4(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Hp((h[Ee]||null).action),v=l.submitter;v&&(i=(i=v[Ee]||null)?Hp(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ia("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Nr!==0){var D=v?Gp(h,v):new FormData(h);id(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?Gp(h,v):new FormData(h),id(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var jd=0;jd<Af.length;jd++){var Ud=Af[jd],t6=Ud.toLowerCase(),e6=Ud[0].toUpperCase()+Ud.slice(1);Kn(t6,"on"+e6)}Kn(bg,"onAnimationEnd"),Kn(Sg,"onAnimationIteration"),Kn(wg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(_4,"onTransitionRun"),Kn(v4,"onTransitionStart"),Kn(E4,"onTransitionCancel"),Kn(Cg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Fp(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,F=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=F;try{d(h)}catch(W){hc(W)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,F=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=F;try{d(h)}catch(W){hc(W)}h.currentTarget=null,d=D}}}}function Pt(e,i){var a=i[bo];a===void 0&&(a=i[bo]=new Set);var l=e+"__bubble";a.has(l)||(Qp(i,e,2,!1),a.add(l))}function zd(e,i,a){var l=0;i&&(l|=4),Qp(a,e,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[wc]){e[wc]=!0,So.forEach(function(a){a!=="selectionchange"&&(n6.has(a)||zd(a,!1,e),zd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wc]||(i[wc]=!0,zd("selectionchange",!1,i))}}function Qp(e,i,a,l){switch(p2(i)){case 2:var h=I6;break;case 8:h=D6;break;default:h=e1}a=h.bind(null,i,a,e),h=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function qd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=xi(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Ru(function(){var F=d,W=Vn(a),it=[];t:{var Y=Rg.get(e);if(Y!==void 0){var K=ia,Rt=e;switch(e){case"keypress":if(ai(a)===0)break t;case"keydown":case"keyup":K=ua;break;case"focusin":Rt="focus",K=aa;break;case"focusout":Rt="blur",K=aa;break;case"beforeblur":case"afterblur":K=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Lu;break;case bg:case Sg:case wg:K=oa;break;case Cg:K=Pu;break;case"scroll":case"scrollend":K=xu;break;case"wheel":K=ca;break;case"copy":case"cut":case"paste":K=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ko;break;case"toggle":case"beforetoggle":K=Uu}var St=(i&4)!==0,ne=!St&&(e==="scroll"||e==="scrollend"),U=St?Y!==null?Y+"Capture":null:Y;St=[];for(var L=F,G;L!==null;){var tt=L;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||U===null||(tt=dr(L,U),tt!=null&&St.push(dl(L,tt,G))),ne)break;L=L.return}0<St.length&&(Y=new K(Y,Rt,null,a,W),it.push({event:Y,listeners:St}))}}if((i&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",Y&&a!==Mi&&(Rt=a.relatedTarget||a.fromElement)&&(xi(Rt)||Rt[In]))break t;if((K||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Rt=a.relatedTarget||a.toElement,K=F,Rt=Rt?xi(Rt):null,Rt!==null&&(ne=u(Rt),St=Rt.tag,Rt!==ne||St!==5&&St!==27&&St!==6)&&(Rt=null)):(K=null,Rt=F),K!==Rt)){if(St=On,tt="onMouseLeave",U="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(St=ko,tt="onPointerLeave",U="onPointerEnter",L="pointer"),ne=K==null?Y:ni(K),G=Rt==null?Y:ni(Rt),Y=new St(tt,L+"leave",K,a,W),Y.target=ne,Y.relatedTarget=G,tt=null,xi(W)===F&&(St=new St(U,L+"enter",Rt,a,W),St.target=G,St.relatedTarget=ne,tt=St),ne=tt,K&&Rt)e:{for(St=K,U=Rt,L=0,G=St;G;G=La(G))L++;for(G=0,tt=U;tt;tt=La(tt))G++;for(;0<L-G;)St=La(St),L--;for(;0<G-L;)U=La(U),G--;for(;L--;){if(St===U||U!==null&&St===U.alternate)break e;St=La(St),U=La(U)}St=null}else St=null;K!==null&&Yp(it,Y,K,St,!1),Rt!==null&&ne!==null&&Yp(it,ne,Rt,St,!0)}}t:{if(Y=F?ni(F):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var yt=fg;else if(xe(Y))if(dg)yt=g4;else{yt=d4;var Lt=f4}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&Io(F.elementType)&&(yt=fg):yt=m4;if(yt&&(yt=yt(e,F))){Pi(it,yt,a,W);break t}Lt&&Lt(e,Y,F),e==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&us(Y,"number",Y.value)}switch(Lt=F?ni(F):window,e){case"focusin":(xe(Lt)||Lt.contentEditable==="true")&&(ha=Lt,vf=F,Uo=null);break;case"focusout":Uo=vf=ha=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,Tg(it,a,W);break;case"selectionchange":if(y4)break;case"keydown":case"keyup":Tg(it,a,W)}var vt;if(ui)t:{switch(e){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else zt?X(e,a)&&(wt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(_&&a.locale!=="ko"&&(zt||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&zt&&(vt=Vo()):(ri=W,cs="value"in ri?ri.value:ri.textContent,zt=!0)),Lt=Cc(F,wt),0<Lt.length&&(wt=new No(wt,e,null,a,W),it.push({event:wt,listeners:Lt}),vt?wt.data=vt:(vt=dt(a),vt!==null&&(wt.data=vt)))),(vt=g?Re(e,a):Bt(e,a))&&(wt=Cc(F,"onBeforeInput"),0<wt.length&&(Lt=new No("onBeforeInput","beforeinput",null,a,W),it.push({event:Lt,listeners:wt}),Lt.data=vt)),W4(it,e,F,a,W)}Fp(it,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Cc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=dr(e,a),h!=null&&l.unshift(dl(e,h,d)),h=dr(e,i),h!=null&&l.push(dl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yp(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,F=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||F===null||(D=F,h?(F=dr(a,d),F!=null&&v.unshift(dl(a,F,D))):h||(F=dr(a,d),F!=null&&v.push(dl(a,F,D)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var i6=/\r\n?/g,s6=/\u0000|\uFFFD/g;function Kp(e){return(typeof e=="string"?e:""+e).replace(i6,`
`).replace(s6,"")}function Xp(e,i){return i=Kp(i),Kp(e)===i}function Rc(){}function ee(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(e,""+l);break;case"className":ii(e,"class",l);break;case"tabIndex":ii(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(e,a,l);break;case"style":xo(e,l,d);break;case"data":if(i!=="object"){ii(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Rc);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),ls(e,"popover",l);break;case"xlinkActuate":He(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":He(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":He(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":He(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":He(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":He(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":He(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":He(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":He(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,ls(e,a,l))}}function Hd(e,i,a,l,h,d){switch(a){case"style":xo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&Dn(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ee]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ls(e,a,l)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ee(e,i,d,v,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Pt("invalid",e);var T=d=v=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":D=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:ee(e,i,l,W,a,null)}}cr(e,d,T,D,F,v,h,!1),ea(e);return;case"select":Pt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ee(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Vi(e,!!l,i,!1):a!=null&&Vi(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ee(e,i,v,T,a,null)}hr(e,l,h,d),ea(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(e,i,D,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<fl.length;l++)Pt(fl[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ee(e,i,F,l,a,null)}return;default:if(Io(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Hd(e,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ee(e,i,T,l,a,null))}function r6(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,F=null,W=null;for(K in a){var it=a[K];if(a.hasOwnProperty(K)&&it!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(K)||ee(e,i,K,null,l,it)}}for(var Y in l){var K=l[Y];if(it=a[Y],l.hasOwnProperty(Y)&&(K!=null||it!=null))switch(Y){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:K!==it&&ee(e,i,Y,K,l,it)}}vn(e,v,T,D,F,W,d,h);return;case"select":K=v=T=Y=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&ee(e,i,h,d,l,D)}i=T,a=v,l=K,Y!=null?Vi(e,!!a,Y,!1):!!l!=!!a&&(i!=null?Vi(e,!!a,i,!0):Vi(e,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Y=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ee(e,i,v,h,l,d)}Wt(e,Y,K);return;case"option":for(var Rt in a)if(Y=a[Rt],a.hasOwnProperty(Rt)&&Y!=null&&!l.hasOwnProperty(Rt))switch(Rt){case"selected":e.selected=!1;break;default:ee(e,i,Rt,null,l,Y)}for(D in l)if(Y=l[D],K=a[D],l.hasOwnProperty(D)&&Y!==K&&(Y!=null||K!=null))switch(D){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ee(e,i,D,Y,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)Y=a[St],a.hasOwnProperty(St)&&Y!=null&&!l.hasOwnProperty(St)&&ee(e,i,St,null,l,Y);for(F in l)if(Y=l[F],K=a[F],l.hasOwnProperty(F)&&Y!==K&&(Y!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:ee(e,i,F,Y,l,K)}return;default:if(Io(i)){for(var ne in a)Y=a[ne],a.hasOwnProperty(ne)&&Y!==void 0&&!l.hasOwnProperty(ne)&&Hd(e,i,ne,void 0,l,Y);for(W in l)Y=l[W],K=a[W],!l.hasOwnProperty(W)||Y===K||Y===void 0&&K===void 0||Hd(e,i,W,Y,l,K);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,Y);for(it in l)Y=l[it],K=a[it],!l.hasOwnProperty(it)||Y===K||Y==null&&K==null||ee(e,i,it,Y,l,K)}var Gd=null,Fd=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function Zp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Qd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function a6(){var e=window.event;return e&&e.type==="popstate"?e===Yd?!1:(Yd=e,!0):(Yd=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,o6=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,l6=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(e){return Wp.resolve(null).then(e).catch(u6)}:Jp;function u6(e){setTimeout(function(){throw e})}function Cs(e){return e==="head"}function t2(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&ml(v.documentElement),a&2&&ml(v.body),a&4)for(a=v.head,ml(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[ar]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Al(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Al(i)}function Kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function c6(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ar])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function h6(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zn(e.nextSibling),e===null))return null;return e}function Xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function f6(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Zd=null;function e2(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function n2(e,i,a){switch(i=xc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);os(e)}var zn=new Map,i2=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=z.d;z.d={f:d6,r:m6,D:g6,C:p6,L:y6,m:_6,X:E6,S:v6,M:T6};function d6(){var e=Zi.f(),i=Ec();return e||i}function m6(e){var i=ei(e);i!==null&&i.tag===5&&i.type==="form"?b0(i):Zi.r(e)}var ka=typeof document>"u"?null:document;function s2(e,i,a){var l=ka;if(l&&typeof i=="string"&&i){var h=Te(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),i2.has(h)||(i2.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ye(i,"link",e),pe(i),l.head.appendChild(i)))}}function g6(e){Zi.D(e),s2("dns-prefetch",e,null)}function p6(e,i){Zi.C(e,i),s2("preconnect",e,i)}function y6(e,i,a){Zi.L(e,i,a);var l=ka;if(l&&e&&i){var h='link[rel="preload"][as="'+Te(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Te(a.imageSizes)+'"]')):h+='[href="'+Te(e)+'"]';var d=h;switch(i){case"style":d=Pa(e);break;case"script":d=ja(e)}zn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),zn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(gl(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),Ye(i,"link",e),pe(i),l.head.appendChild(i)))}}function _6(e,i){Zi.m(e,i);var a=ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(e)}if(!zn.has(d)&&(e=E({rel:"modulepreload",href:e},i),zn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),Ye(l,"link",e),pe(l),a.head.appendChild(l)}}}function v6(e,i,a){Zi.S(e,i,a);var l=ka;if(l&&e){var h=rn(l).hoistableStyles,d=Pa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(gl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=zn.get(d))&&$d(e,a);var D=v=l.createElement("link");pe(D),Ye(D,"link",e),D._p=new Promise(function(F,W){D.onload=F,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function E6(e,i){Zi.X(e,i);var a=ka;if(a&&e){var l=rn(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(e=E({src:e,async:!0},i),(i=zn.get(h))&&Jd(e,i),d=a.createElement("script"),pe(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function T6(e,i){Zi.M(e,i);var a=ka;if(a&&e){var l=rn(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&Jd(e,i),d=a.createElement("script"),pe(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function r2(e,i,a,l){var h=(h=Tt.current)?Ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=rn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var d=rn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(gl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||A6(h,e,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=rn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pa(e){return'href="'+Te(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function a2(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function A6(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ye(i,"link",a),pe(i),e.head.appendChild(i))}function ja(e){return'[src="'+Te(e)+'"]'}function pl(e){return"script[async]"+e}function o2(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Te(a.href)+'"]');if(l)return i.instance=l,pe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pe(l),Ye(l,"style",h),Dc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Pa(a.href);var d=e.querySelector(gl(h));if(d)return i.state.loading|=4,i.instance=d,pe(d),d;l=a2(a),(h=zn.get(h))&&$d(l,h),d=(e.ownerDocument||e).createElement("link"),pe(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Ye(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,e),i.instance=d;case"script":return d=ja(a.src),(h=e.querySelector(pl(d)))?(i.instance=h,pe(h),h):(l=a,(h=zn.get(d))&&(l=E({},a),Jd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),Ye(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,e));return i.instance}function Dc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function $d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Vc=null;function l2(e,i,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ar]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function u2(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function b6(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c2(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yl=null;function S6(){}function w6(e,i,a){if(yl===null)throw Error(r(475));var l=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Pa(a.href),d=e.querySelector(gl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Mc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,pe(d);return}d=e.ownerDocument||e,a=a2(a),(h=zn.get(h))&&$d(a,h),d=d.createElement("link"),pe(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Ye(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Mc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function C6(){if(yl===null)throw Error(r(475));var e=yl;return e.stylesheets&&e.count===0&&Wd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Wd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,i.forEach(R6,e),Oc=null,Mc.call(e))}function R6(e,i){if(!(i.state.loading&4)){var a=Oc.get(e);if(a)var l=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var _l={$$typeof:J,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function x6(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function h2(e,i,a,l,h,d,v,T,D,F,W,it){return e=new x6(e,i,a,v,T,D,F,it),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=Nf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),e}function f2(e){return e?(e=ga,e):ga}function d2(e,i,a,l,h,d){h=f2(h),l.context===null?l.context=h:l.pendingContext=h,l=ds(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ms(e,l,i),a!==null&&(Cn(a,e,i),Ko(a,e,i))}function m2(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function t1(e,i){m2(e,i),(e=e.alternate)&&m2(e,i)}function g2(e){if(e.tag===13){var i=ma(e,67108864);i!==null&&Cn(i,e,67108864),t1(e,67108864)}}var Nc=!0;function I6(e,i,a,l){var h=j.T;j.T=null;var d=z.p;try{z.p=2,e1(e,i,a,l)}finally{z.p=d,j.T=h}}function D6(e,i,a,l){var h=j.T;j.T=null;var d=z.p;try{z.p=8,e1(e,i,a,l)}finally{z.p=d,j.T=h}}function e1(e,i,a,l){if(Nc){var h=n1(l);if(h===null)qd(e,i,l,Lc,a),y2(e,l);else if(M6(h,e,i,a,l))l.stopPropagation();else if(y2(e,l),i&4&&-1<V6.indexOf(e)){for(;h!==null;){var d=ei(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Fn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-$e(v);T.entanglements[1]|=D,v&=~D}gi(d),($t&6)===0&&(_c=xn()+500,hl(0))}}break;case 13:T=ma(d,2),T!==null&&Cn(T,d,2),Ec(),t1(d,2)}if(d=n1(l),d===null&&qd(e,i,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(e,i,l,null,a)}}function n1(e){return e=Vn(e),i1(e)}var Lc=null;function i1(e){if(Lc=null,e=xi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Lc=e,null}function p2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(af()){case po:return 2;case Yr:return 8;case er:case of:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var s1=!1,Rs=null,xs=null,Is=null,vl=new Map,El=new Map,Ds=[],V6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y2(e,i){switch(e){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ei(i),i!==null&&g2(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function M6(e,i,a,l,h){switch(i){case"focusin":return Rs=Tl(Rs,e,i,a,l,h),!0;case"dragenter":return xs=Tl(xs,e,i,a,l,h),!0;case"mouseover":return Is=Tl(Is,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,e,i,a,l,h)),!0}return!1}function _2(e){var i=xi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Eu(e.priority,function(){if(a.tag===13){var l=wn();l=ss(l);var h=ma(a,l);h!==null&&Cn(h,a,l),t1(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=n1(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return i=ei(a),i!==null&&g2(i),e.blockedOn=a,!1;i.shift()}return!0}function v2(e,i,a){kc(e)&&a.delete(i)}function O6(){s1=!1,Rs!==null&&kc(Rs)&&(Rs=null),xs!==null&&kc(xs)&&(xs=null),Is!==null&&kc(Is)&&(Is=null),vl.forEach(v2),El.forEach(v2)}function Pc(e,i){e.blockedOn===i&&(e.blockedOn=null,s1||(s1=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,O6)))}var jc=null;function E2(e){jc!==e&&(jc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(i1(l||a)===null)continue;break}var d=ei(a);d!==null&&(e.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Al(e){function i(D){return Pc(D,e)}Rs!==null&&Pc(Rs,e),xs!==null&&Pc(xs,e),Is!==null&&Pc(Is,e),vl.forEach(i),El.forEach(i);for(var a=0;a<Ds.length;a++){var l=Ds[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ds.length&&(a=Ds[0],a.blockedOn===null);)_2(a),a.blockedOn===null&&Ds.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ee]||null;if(typeof d=="function")v||E2(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ee]||null)T=v.formAction;else if(i1(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),E2(a)}}}function r1(e){this._internalRoot=e}Uc.prototype.render=r1.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=wn();d2(a,l,e,i,null,null)},Uc.prototype.unmount=r1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;d2(e.current,2,null,e,null,null),Ec(),i[In]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=rs();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ds.length&&i!==0&&i<Ds[a].priority;a++);Ds.splice(a,0,e),a===0&&_2(e)}};var T2=t.version;if(T2!=="19.1.0")throw Error(r(527,T2,"19.1.0"));z.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var N6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{de=zc.inject(N6),Zt=zc}catch{}}return Sl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=P0,d=j0,v=U0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=h2(e,1,!1,null,null,a,l,h,d,v,T,null),e[In]=i.current,Bd(e),new r1(i)},Sl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=P0,v=j0,T=U0,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=h2(e,1,!0,i,a??null,l,h,d,v,T,D,F),i.context=f2(null),a=i.current,l=wn(),l=ss(l),h=ds(l),h.callback=null,ms(a,h,l),a=l,i.current.lanes=a,Ri(i,a),gi(i),e[In]=i.current,Bd(e),new Uc(i)},Sl.version="19.1.0",Sl}var V2;function G6(){if(V2)return l1.exports;V2=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),l1.exports=H6(),l1.exports}var F6=G6();const Q6=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302"]}],ze=B.createContext(null),Y6=({children:s})=>{const[t,n]=B.useState(!0),r=B.useRef("prod"),[o,u]=B.useState(!1),f=B.useRef(null),m=B.useRef([]),y=B.useRef(null),p=B.useRef(null),E=B.useRef(null),A=B.useRef(null),S=B.useRef("");return B.useEffect(()=>(r.current==="testing"?(f.current||(console.log("Creating a peer connection!"),f.current=new RTCPeerConnection({iceServers:Q6})),A.current||(A.current=new MediaStream),f.current.ontrack=V=>{A.current.addTrack(V.track)},n(!1)):(async()=>{let P=await(await fetch("https://boop-messenger.metered.live/api/v1/turn/credentials?apiKey=f20a0ef134ca1708feba4abdf392c90361ec")).json();console.log("Peer connection set up!"),f.current=new RTCPeerConnection({iceServers:P}),A.current||(A.current=new MediaStream),f.current.ontrack=Q=>{A.current.addTrack(Q.track)},n(!1)})(),()=>{f.current&&(f.current.close(),f.current=null)}),[]),t?C.jsx("div",{children:" Loading .. "}):C.jsx(ze.Provider,{value:{peerConnection:f,iceCandidates:m,dataChannel:y,imageChannel:p,videoChannel:E,remoteStream:A,peerName:S,connected:o,setConnected:u},children:s})};var pm=lu(),Vt=s=>ou(s,pm),ym=lu();Vt.write=s=>ou(s,ym);var xh=lu();Vt.onStart=s=>ou(s,xh);var _m=lu();Vt.onFrame=s=>ou(s,_m);var vm=lu();Vt.onFinish=s=>ou(s,vm);var Ya=[];Vt.setTimeout=(s,t)=>{const n=Vt.now()+t,r=()=>{const u=Ya.findIndex(f=>f.cancel==r);~u&&Ya.splice(u,1),ks-=~u?1:0},o={time:n,handler:s,cancel:r};return Ya.splice(w_(n),0,o),ks+=1,C_(),o};var w_=s=>~(~Ya.findIndex(t=>t.time>s)||~Ya.length);Vt.cancel=s=>{xh.delete(s),_m.delete(s),vm.delete(s),pm.delete(s),ym.delete(s)};Vt.sync=s=>{V1=!0,Vt.batchedUpdates(s),V1=!1};Vt.throttle=s=>{let t;function n(){try{s(...t)}finally{t=null}}function r(...o){t=o,Vt.onStart(n)}return r.handler=s,r.cancel=()=>{xh.delete(n),t=null},r};var Em=typeof window<"u"?window.requestAnimationFrame:()=>{};Vt.use=s=>Em=s;Vt.now=typeof performance<"u"?()=>performance.now():Date.now;Vt.batchedUpdates=s=>s();Vt.catch=console.error;Vt.frameLoop="always";Vt.advance=()=>{Vt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x_()};var Ls=-1,ks=0,V1=!1;function ou(s,t){V1?(t.delete(s),s(0)):(t.add(s),C_())}function C_(){Ls<0&&(Ls=0,Vt.frameLoop!=="demand"&&Em(R_))}function K6(){Ls=-1}function R_(){~Ls&&(Em(R_),Vt.batchedUpdates(x_))}function x_(){const s=Ls;Ls=Vt.now();const t=w_(Ls);if(t&&(I_(Ya.splice(0,t),n=>n.handler()),ks-=t),!ks){K6();return}xh.flush(),pm.flush(s?Math.min(64,Ls-s):16.667),_m.flush(),ym.flush(),vm.flush()}function lu(){let s=new Set,t=s;return{add(n){ks+=t==s&&!s.has(n)?1:0,s.add(n)},delete(n){return ks-=t==s&&s.has(n)?1:0,s.delete(n)},flush(n){t.size&&(s=new Set,ks-=t.size,I_(t,r=>r(n)&&s.add(r)),ks+=s.size,t=s)}}}function I_(s,t){s.forEach(n=>{try{t(n)}catch(r){Vt.catch(r)}})}var X6=Object.defineProperty,Z6=(s,t)=>{for(var n in t)X6(s,n,{get:t[n],enumerable:!0})},Wn={};Z6(Wn,{assign:()=>J6,colors:()=>js,createStringInterpolator:()=>Am,skipAnimation:()=>V_,to:()=>D_,willAdvance:()=>bm});function M1(){}var $6=(s,t,n)=>Object.defineProperty(s,t,{value:n,writable:!0,configurable:!0}),lt={arr:Array.isArray,obj:s=>!!s&&s.constructor.name==="Object",fun:s=>typeof s=="function",str:s=>typeof s=="string",num:s=>typeof s=="number",und:s=>s===void 0};function Ji(s,t){if(lt.arr(s)){if(!lt.arr(t)||s.length!==t.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!==t[n])return!1;return!0}return s===t}var xt=(s,t)=>s.forEach(t);function Ai(s,t,n){if(lt.arr(s)){for(let r=0;r<s.length;r++)t.call(n,s[r],`${r}`);return}for(const r in s)s.hasOwnProperty(r)&&t.call(n,s[r],r)}var un=s=>lt.und(s)?[]:lt.arr(s)?s:[s];function Nl(s,t){if(s.size){const n=Array.from(s);s.clear(),xt(n,t)}}var Il=(s,...t)=>Nl(s,n=>n(...t)),Tm=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Am,D_,js=null,V_=!1,bm=M1,J6=s=>{s.to&&(D_=s.to),s.now&&(Vt.now=s.now),s.colors!==void 0&&(js=s.colors),s.skipAnimation!=null&&(V_=s.skipAnimation),s.createStringInterpolator&&(Am=s.createStringInterpolator),s.requestAnimationFrame&&Vt.use(s.requestAnimationFrame),s.batchedUpdates&&(Vt.batchedUpdates=s.batchedUpdates),s.willAdvance&&(bm=s.willAdvance),s.frameLoop&&(Vt.frameLoop=s.frameLoop)},Ll=new Set,Gn=[],f1=[],oh=0,Ih={get idle(){return!Ll.size&&!Gn.length},start(s){oh>s.priority?(Ll.add(s),Vt.onStart(W6)):(M_(s),Vt(O1))},advance:O1,sort(s){if(oh)Vt.onFrame(()=>Ih.sort(s));else{const t=Gn.indexOf(s);~t&&(Gn.splice(t,1),O_(s))}},clear(){Gn=[],Ll.clear()}};function W6(){Ll.forEach(M_),Ll.clear(),Vt(O1)}function M_(s){Gn.includes(s)||O_(s)}function O_(s){Gn.splice(t9(Gn,t=>t.priority>s.priority),0,s)}function O1(s){const t=f1;for(let n=0;n<Gn.length;n++){const r=Gn[n];oh=r.priority,r.idle||(bm(r),r.advance(s),r.idle||t.push(r))}return oh=0,f1=Gn,f1.length=0,Gn=t,Gn.length>0}function t9(s,t){const n=s.findIndex(t);return n<0?s.length:n}var e9={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Jn="[-+]?\\d*\\.?\\d+",lh=Jn+"%";function Dh(...s){return"\\(\\s*("+s.join(")\\s*,\\s*(")+")\\s*\\)"}var n9=new RegExp("rgb"+Dh(Jn,Jn,Jn)),i9=new RegExp("rgba"+Dh(Jn,Jn,Jn,Jn)),s9=new RegExp("hsl"+Dh(Jn,lh,lh)),r9=new RegExp("hsla"+Dh(Jn,lh,lh,Jn)),a9=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,o9=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,l9=/^#([0-9a-fA-F]{6})$/,u9=/^#([0-9a-fA-F]{8})$/;function c9(s){let t;return typeof s=="number"?s>>>0===s&&s>=0&&s<=4294967295?s:null:(t=l9.exec(s))?parseInt(t[1]+"ff",16)>>>0:js&&js[s]!==void 0?js[s]:(t=n9.exec(s))?(Ua(t[1])<<24|Ua(t[2])<<16|Ua(t[3])<<8|255)>>>0:(t=i9.exec(s))?(Ua(t[1])<<24|Ua(t[2])<<16|Ua(t[3])<<8|N2(t[4]))>>>0:(t=a9.exec(s))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=u9.exec(s))?parseInt(t[1],16)>>>0:(t=o9.exec(s))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=s9.exec(s))?(M2(O2(t[1]),Bc(t[2]),Bc(t[3]))|255)>>>0:(t=r9.exec(s))?(M2(O2(t[1]),Bc(t[2]),Bc(t[3]))|N2(t[4]))>>>0:null}function d1(s,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(t-s)*6*n:n<1/2?t:n<2/3?s+(t-s)*(2/3-n)*6:s}function M2(s,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,u=d1(o,r,s+1/3),f=d1(o,r,s),m=d1(o,r,s-1/3);return Math.round(u*255)<<24|Math.round(f*255)<<16|Math.round(m*255)<<8}function Ua(s){const t=parseInt(s,10);return t<0?0:t>255?255:t}function O2(s){return(parseFloat(s)%360+360)%360/360}function N2(s){const t=parseFloat(s);return t<0?0:t>1?255:Math.round(t*255)}function Bc(s){const t=parseFloat(s);return t<0?0:t>100?1:t/100}function L2(s){let t=c9(s);if(t===null)return s;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,o=(t&65280)>>>8,u=(t&255)/255;return`rgba(${n}, ${r}, ${o}, ${u})`}var Gl=(s,t,n)=>{if(lt.fun(s))return s;if(lt.arr(s))return Gl({range:s,output:t,extrapolate:n});if(lt.str(s.output[0]))return Am(s);const r=s,o=r.output,u=r.range||[0,1],f=r.extrapolateLeft||r.extrapolate||"extend",m=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(p=>p);return p=>{const E=f9(p,u);return h9(p,u[E],u[E+1],o[E],o[E+1],y,f,m,r.map)}};function h9(s,t,n,r,o,u,f,m,y){let p=y?y(s):s;if(p<t){if(f==="identity")return p;f==="clamp"&&(p=t)}if(p>n){if(m==="identity")return p;m==="clamp"&&(p=n)}return r===o?r:t===n?s<=t?r:o:(t===-1/0?p=-p:n===1/0?p=p-t:p=(p-t)/(n-t),p=u(p),r===-1/0?p=-p:o===1/0?p=p+r:p=p*(o-r)+r,p)}function f9(s,t){for(var n=1;n<t.length-1&&!(t[n]>=s);++n);return n-1}var d9={linear:s=>s},Fl=Symbol.for("FluidValue.get"),$a=Symbol.for("FluidValue.observers"),qn=s=>!!(s&&s[Fl]),mn=s=>s&&s[Fl]?s[Fl]():s,k2=s=>s[$a]||null;function m9(s,t){s.eventObserved?s.eventObserved(t):s(t)}function Ql(s,t){const n=s[$a];n&&n.forEach(r=>{m9(r,t)})}var N_=class{constructor(s){if(!s&&!(s=this.get))throw Error("Unknown getter");g9(this,s)}},g9=(s,t)=>L_(s,Fl,t);function lo(s,t){if(s[Fl]){let n=s[$a];n||L_(s,$a,n=new Set),n.has(t)||(n.add(t),s.observerAdded&&s.observerAdded(n.size,t))}return t}function Yl(s,t){const n=s[$a];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):s[$a]=null,s.observerRemoved&&s.observerRemoved(r,t)}}var L_=(s,t,n)=>Object.defineProperty(s,t,{value:n,writable:!0,configurable:!0}),Jc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p9=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,P2=new RegExp(`(${Jc.source})(%|[a-z]+)`,"i"),y9=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Vh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,k_=s=>{const[t,n]=_9(s);if(!t||Tm())return s;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(n);return o||s}else{if(n&&Vh.test(n))return k_(n);if(n)return n}return s},_9=s=>{const t=Vh.exec(s);if(!t)return[,];const[,n,r]=t;return[n,r]},m1,v9=(s,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`,P_=s=>{m1||(m1=js?new RegExp(`(${Object.keys(js).join("|")})(?!\\w)`,"g"):/^\b$/);const t=s.output.map(u=>mn(u).replace(Vh,k_).replace(p9,L2).replace(m1,L2)),n=t.map(u=>u.match(Jc).map(Number)),o=n[0].map((u,f)=>n.map(m=>{if(!(f in m))throw Error('The arity of each "output" value must be equal');return m[f]})).map(u=>Gl({...s,output:u}));return u=>{var y;const f=!P2.test(t[0])&&((y=t.find(p=>P2.test(p)))==null?void 0:y.replace(Jc,""));let m=0;return t[0].replace(Jc,()=>`${o[m++](u)}${f||""}`).replace(y9,v9)}},Sm="react-spring: ",j_=s=>{const t=s;let n=!1;if(typeof t!="function")throw new TypeError(`${Sm}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},E9=j_(console.warn);function T9(){E9(`${Sm}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var A9=j_(console.warn);function b9(){A9(`${Sm}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Mh(s){return lt.str(s)&&(s[0]=="#"||/\d/.test(s)||!Tm()&&Vh.test(s)||s in(js||{}))}var jr=Tm()?B.useEffect:B.useLayoutEffect,S9=()=>{const s=B.useRef(!1);return jr(()=>(s.current=!0,()=>{s.current=!1}),[]),s};function wm(){const s=B.useState()[1],t=S9();return()=>{t.current&&s(Math.random())}}var Cm=s=>B.useEffect(s,w9),w9=[];function N1(s){const t=B.useRef(void 0);return B.useEffect(()=>{t.current=s}),t.current}var Kl=Symbol.for("Animated:node"),C9=s=>!!s&&s[Kl]===s,yi=s=>s&&s[Kl],Rm=(s,t)=>$6(s,Kl,t),Oh=s=>s&&s[Kl]&&s[Kl].getPayload(),U_=class{constructor(){Rm(this,this)}getPayload(){return this.payload||[]}},Nh=class z_ extends U_{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,lt.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new z_(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return lt.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,lt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},uh=class B_ extends Nh{constructor(t){super(0),this._string=null,this._toString=Gl({output:[t,t]})}static create(t){return new B_(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(lt.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Gl({output:[this.getValue(),t]})),this._value=0,super.reset()}},ch={dependencies:null},Lh=class extends U_{constructor(s){super(),this.source=s,this.setValue(s)}getValue(s){const t={};return Ai(this.source,(n,r)=>{C9(n)?t[r]=n.getValue(s):qn(n)?t[r]=mn(n):s||(t[r]=n)}),t}setValue(s){this.source=s,this.payload=this._makePayload(s)}reset(){this.payload&&xt(this.payload,s=>s.reset())}_makePayload(s){if(s){const t=new Set;return Ai(s,this._addToPayload,t),Array.from(t)}}_addToPayload(s){ch.dependencies&&qn(s)&&ch.dependencies.add(s);const t=Oh(s);t&&xt(t,n=>this.add(n))}},R9=class q_ extends Lh{constructor(t){super(t)}static create(t){return new q_(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,o)=>r.setValue(t[o])).some(Boolean):(super.setValue(t.map(x9)),!0)}};function x9(s){return(Mh(s)?uh:Nh).create(s)}function L1(s){const t=yi(s);return t?t.constructor:lt.arr(s)?R9:Mh(s)?uh:Nh}var j2=(s,t)=>{const n=!lt.fun(s)||s.prototype&&s.prototype.isReactComponent;return B.forwardRef((r,o)=>{const u=B.useRef(null),f=n&&B.useCallback(P=>{u.current=V9(o,P)},[o]),[m,y]=D9(r,t),p=wm(),E=()=>{const P=u.current;if(n&&!P)return;(P?t.applyAnimatedValues(P,m.getValue(!0)):!1)===!1&&p()},A=new I9(E,y),S=B.useRef(void 0);jr(()=>(S.current=A,xt(y,P=>lo(P,A)),()=>{S.current&&(xt(S.current.deps,P=>Yl(P,S.current)),Vt.cancel(S.current.update))})),B.useEffect(E,[]),Cm(()=>()=>{const P=S.current;xt(P.deps,Q=>Yl(Q,P))});const V=t.getComponentProps(m.getValue());return B.createElement(s,{...V,ref:f})})},I9=class{constructor(s,t){this.update=s,this.deps=t}eventObserved(s){s.type=="change"&&Vt.write(this.update)}};function D9(s,t){const n=new Set;return ch.dependencies=n,s.style&&(s={...s,style:t.createAnimatedStyle(s.style)}),s=new Lh(s),ch.dependencies=null,[s,n]}function V9(s,t){return s&&(lt.fun(s)?s(t):s.current=t),t}var U2=Symbol.for("AnimatedComponent"),M9=(s,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=o=>new Lh(o),getComponentProps:r=o=>o}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},u=f=>{const m=z2(f)||"Anonymous";return lt.str(f)?f=u[f]||(u[f]=j2(f,o)):f=f[U2]||(f[U2]=j2(f,o)),f.displayName=`Animated(${m})`,f};return Ai(s,(f,m)=>{lt.arr(s)&&(m=z2(f)),u[m]=u(f)}),{animated:u}},z2=s=>lt.str(s)?s:s&&lt.str(s.displayName)?s.displayName:lt.fun(s)&&s.name||null;function gn(s,...t){return lt.fun(s)?s(...t):s}var kl=(s,t)=>s===!0||!!(t&&s&&(lt.fun(s)?s(t):un(s).includes(t))),H_=(s,t)=>lt.obj(s)?t&&s[t]:s,G_=(s,t)=>s.default===!0?s[t]:s.default?s.default[t]:void 0,O9=s=>s,kh=(s,t=O9)=>{let n=N9;s.default&&s.default!==!0&&(s=s.default,n=Object.keys(s));const r={};for(const o of n){const u=t(s[o],o);lt.und(u)||(r[o]=u)}return r},N9=["config","onProps","onStart","onChange","onPause","onResume","onRest"],L9={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function k9(s){const t={};let n=0;if(Ai(s,(r,o)=>{L9[o]||(t[o]=r,n++)}),n)return t}function xm(s){const t=k9(s);if(t){const n={to:t};return Ai(s,(r,o)=>o in t||(n[o]=r)),n}return{...s}}function Xl(s){return s=mn(s),lt.arr(s)?s.map(Xl):Mh(s)?Wn.createStringInterpolator({range:[0,1],output:[s,s]})(1):s}function F_(s){for(const t in s)return!0;return!1}function k1(s){return lt.fun(s)||lt.arr(s)&&lt.obj(s[0])}function P1(s,t){var n;(n=s.ref)==null||n.delete(s),t==null||t.delete(s)}function Q_(s,t){var n;t&&s.ref!==t&&((n=s.ref)==null||n.delete(s),t.add(s),s.ref=t)}var Zl={default:{tension:170,friction:26},stiff:{tension:210,friction:20}},j1={...Zl.default,mass:1,damping:1,easing:d9.linear,clamp:!1},P9=class{constructor(){this.velocity=0,Object.assign(this,j1)}};function j9(s,t,n){n&&(n={...n},B2(n,t),t={...n,...t}),B2(s,t),Object.assign(s,t);for(const f in j1)s[f]==null&&(s[f]=j1[f]);let{frequency:r,damping:o}=s;const{mass:u}=s;return lt.und(r)||(r<.01&&(r=.01),o<0&&(o=0),s.tension=Math.pow(2*Math.PI/r,2)*u,s.friction=4*Math.PI*o*u/r),s}function B2(s,t){if(!lt.und(t.decay))s.duration=void 0;else{const n=!lt.und(t.tension)||!lt.und(t.friction);(n||!lt.und(t.frequency)||!lt.und(t.damping)||!lt.und(t.mass))&&(s.duration=void 0,s.decay=void 0),n&&(s.frequency=void 0)}}var q2=[],U9=class{constructor(){this.changed=!1,this.values=q2,this.toValues=null,this.fromValues=q2,this.config=new P9,this.immediate=!1}};function Y_(s,{key:t,props:n,defaultProps:r,state:o,actions:u}){return new Promise((f,m)=>{let y,p,E=kl(n.cancel??(r==null?void 0:r.cancel),t);if(E)V();else{lt.und(n.pause)||(o.paused=kl(n.pause,t));let P=r==null?void 0:r.pause;P!==!0&&(P=o.paused||kl(P,t)),y=gn(n.delay||0,t),P?(o.resumeQueue.add(S),u.pause()):(u.resume(),S())}function A(){o.resumeQueue.add(S),o.timeouts.delete(p),p.cancel(),y=p.time-Vt.now()}function S(){y>0&&!Wn.skipAnimation?(o.delayed=!0,p=Vt.setTimeout(V,y),o.pauseQueue.add(A),o.timeouts.add(p)):V()}function V(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(A),o.timeouts.delete(p),s<=(o.cancelId||0)&&(E=!0);try{u.start({...n,callId:s,cancel:E},f)}catch(P){m(P)}}})}var Im=(s,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Ka(s.get()):t.every(n=>n.noop)?K_(s.get()):$n(s.get(),t.every(n=>n.finished)),K_=s=>({value:s,noop:!0,finished:!0,cancelled:!1}),$n=(s,t,n=!1)=>({value:s,finished:t,cancelled:n}),Ka=s=>({value:s,cancelled:!0,finished:!1});function X_(s,t,n,r){const{callId:o,parentId:u,onRest:f}=t,{asyncTo:m,promise:y}=n;return!u&&s===m&&!t.reset?y:n.promise=(async()=>{n.asyncId=o,n.asyncTo=s;const p=kh(t,(H,$)=>$==="onRest"?void 0:H);let E,A;const S=new Promise((H,$)=>(E=H,A=$)),V=H=>{const $=o<=(n.cancelId||0)&&Ka(r)||o!==n.asyncId&&$n(r,!1);if($)throw H.result=$,A(H),H},P=(H,$)=>{const nt=new H2,J=new G2;return(async()=>{if(Wn.skipAnimation)throw $l(n),J.result=$n(r,!1),A(J),J;V(nt);const ct=lt.obj(H)?{...H}:{...$,to:H};ct.parentId=o,Ai(p,(ft,x)=>{lt.und(ct[x])&&(ct[x]=ft)});const at=await r.start(ct);return V(nt),n.paused&&await new Promise(ft=>{n.resumeQueue.add(ft)}),at})()};let Q;if(Wn.skipAnimation)return $l(n),$n(r,!1);try{let H;lt.arr(s)?H=(async $=>{for(const nt of $)await P(nt)})(s):H=Promise.resolve(s(P,r.stop.bind(r))),await Promise.all([H.then(E),S]),Q=$n(r.get(),!0,!1)}catch(H){if(H instanceof H2)Q=H.result;else if(H instanceof G2)Q=H.result;else throw H}finally{o==n.asyncId&&(n.asyncId=u,n.asyncTo=u?m:void 0,n.promise=u?y:void 0)}return lt.fun(f)&&Vt.batchedUpdates(()=>{f(Q,r,r.item)}),Q})()}function $l(s,t){Nl(s.timeouts,n=>n.cancel()),s.pauseQueue.clear(),s.resumeQueue.clear(),s.asyncId=s.asyncTo=s.promise=void 0,t&&(s.cancelId=t)}var H2=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},G2=class extends Error{constructor(){super("SkipAnimationSignal")}},U1=s=>s instanceof Dm,z9=1,Dm=class extends N_{constructor(){super(...arguments),this.id=z9++,this._priority=0}get priority(){return this._priority}set priority(s){this._priority!=s&&(this._priority=s,this._onPriorityChange(s))}get(){const s=yi(this);return s&&s.getValue()}to(...s){return Wn.to(this,s)}interpolate(...s){return T9(),Wn.to(this,s)}toJSON(){return this.get()}observerAdded(s){s==1&&this._attach()}observerRemoved(s){s==0&&this._detach()}_attach(){}_detach(){}_onChange(s,t=!1){Ql(this,{type:"change",parent:this,value:s,idle:t})}_onPriorityChange(s){this.idle||Ih.sort(this),Ql(this,{type:"priority",parent:this,priority:s})}},zr=Symbol.for("SpringPhase"),Z_=1,z1=2,B1=4,g1=s=>(s[zr]&Z_)>0,Ms=s=>(s[zr]&z1)>0,wl=s=>(s[zr]&B1)>0,F2=(s,t)=>t?s[zr]|=z1|Z_:s[zr]&=~z1,Q2=(s,t)=>t?s[zr]|=B1:s[zr]&=~B1,B9=class extends Dm{constructor(s,t){if(super(),this.animation=new U9,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!lt.und(s)||!lt.und(t)){const n=lt.obj(s)?{...s}:{...t,from:s};lt.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ms(this)||this._state.asyncTo)||wl(this)}get goal(){return mn(this.animation.to)}get velocity(){const s=yi(this);return s instanceof Nh?s.lastVelocity||0:s.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return g1(this)}get isAnimating(){return Ms(this)}get isPaused(){return wl(this)}get isDelayed(){return this._state.delayed}advance(s){let t=!0,n=!1;const r=this.animation;let{toValues:o}=r;const{config:u}=r,f=Oh(r.to);!f&&qn(r.to)&&(o=un(mn(r.to))),r.values.forEach((p,E)=>{if(p.done)return;const A=p.constructor==uh?1:f?f[E].lastPosition:o[E];let S=r.immediate,V=A;if(!S){if(V=p.lastPosition,u.tension<=0){p.done=!0;return}let P=p.elapsedTime+=s;const Q=r.fromValues[E],H=p.v0!=null?p.v0:p.v0=lt.arr(u.velocity)?u.velocity[E]:u.velocity;let $;const nt=u.precision||(Q==A?.005:Math.min(1,Math.abs(A-Q)*.001));if(lt.und(u.duration))if(u.decay){const J=u.decay===!0?.998:u.decay,ct=Math.exp(-(1-J)*P);V=Q+H/(1-J)*(1-ct),S=Math.abs(p.lastPosition-V)<=nt,$=H*ct}else{$=p.lastVelocity==null?H:p.lastVelocity;const J=u.restVelocity||nt/10,ct=u.clamp?0:u.bounce,at=!lt.und(ct),ft=Q==A?p.v0>0:Q<A;let x,w=!1;const R=1,O=Math.ceil(s/R);for(let N=0;N<O&&(x=Math.abs($)>J,!(!x&&(S=Math.abs(A-V)<=nt,S)));++N){at&&(w=V==A||V>A==ft,w&&($=-$*ct,V=A));const k=-u.tension*1e-6*(V-A),I=-u.friction*.001*$,gt=(k+I)/u.mass;$=$+gt*R,V=V+$*R}}else{let J=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,p.durationProgress>0&&(p.elapsedTime=u.duration*p.durationProgress,P=p.elapsedTime+=s)),J=(u.progress||0)+P/this._memoizedDuration,J=J>1?1:J<0?0:J,p.durationProgress=J),V=Q+u.easing(J)*(A-Q),$=(V-p.lastPosition)/s,S=J==1}p.lastVelocity=$,Number.isNaN(V)&&(console.warn("Got NaN while animating:",this),S=!0)}f&&!f[E].done&&(S=!1),S?p.done=!0:t=!1,p.setValue(V,u.round)&&(n=!0)});const m=yi(this),y=m.getValue();if(t){const p=mn(r.to);(y!==p||n)&&!u.decay?(m.setValue(p),this._onChange(p)):n&&u.decay&&this._onChange(y),this._stop()}else n&&this._onChange(y)}set(s){return Vt.batchedUpdates(()=>{this._stop(),this._focus(s),this._set(s)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ms(this)){const{to:s,config:t}=this.animation;Vt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(s,!1),this._stop()})}return this}update(s){return(this.queue||(this.queue=[])).push(s),this}start(s,t){let n;return lt.und(s)?(n=this.queue||[],this.queue=[]):n=[lt.obj(s)?s:{...t,to:s}],Promise.all(n.map(r=>this._update(r))).then(r=>Im(this,r))}stop(s){const{to:t}=this.animation;return this._focus(this.get()),$l(this._state,s&&this._lastCallId),Vt.batchedUpdates(()=>this._stop(t,s)),this}reset(){this._update({reset:!0})}eventObserved(s){s.type=="change"?this._start():s.type=="priority"&&(this.priority=s.priority+1)}_prepareNode(s){const t=this.key||"";let{to:n,from:r}=s;n=lt.obj(n)?n[t]:n,(n==null||k1(n))&&(n=void 0),r=lt.obj(r)?r[t]:r,r==null&&(r=void 0);const o={to:n,from:r};return g1(this)||(s.reverse&&([n,r]=[r,n]),r=mn(r),lt.und(r)?yi(this)||this._set(n):this._set(r)),o}_update({...s},t){const{key:n,defaultProps:r}=this;s.default&&Object.assign(r,kh(s,(f,m)=>/^on/.test(m)?H_(f,n):f)),K2(this,s,"onProps"),Rl(this,"onProps",s,this);const o=this._prepareNode(s);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return Y_(++this._lastCallId,{key:n,props:s,defaultProps:r,state:u,actions:{pause:()=>{wl(this)||(Q2(this,!0),Il(u.pauseQueue),Rl(this,"onPause",$n(this,Cl(this,this.animation.to)),this))},resume:()=>{wl(this)&&(Q2(this,!1),Ms(this)&&this._resume(),Il(u.resumeQueue),Rl(this,"onResume",$n(this,Cl(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(f=>{if(s.loop&&f.finished&&!(t&&f.noop)){const m=$_(s);if(m)return this._update(m,!0)}return f})}_merge(s,t,n){if(t.cancel)return this.stop(!0),n(Ka(this));const r=!lt.und(s.to),o=!lt.und(s.from);if(r||o)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Ka(this));const{key:u,defaultProps:f,animation:m}=this,{to:y,from:p}=m;let{to:E=y,from:A=p}=s;o&&!r&&(!t.default||lt.und(E))&&(E=A),t.reverse&&([E,A]=[A,E]);const S=!Ji(A,p);S&&(m.from=A),A=mn(A);const V=!Ji(E,y);V&&this._focus(E);const P=k1(t.to),{config:Q}=m,{decay:H,velocity:$}=Q;(r||o)&&(Q.velocity=0),t.config&&!P&&j9(Q,gn(t.config,u),t.config!==f.config?gn(f.config,u):void 0);let nt=yi(this);if(!nt||lt.und(E))return n($n(this,!0));const J=lt.und(t.reset)?o&&!t.default:!lt.und(A)&&kl(t.reset,u),ct=J?A:this.get(),at=Xl(E),ft=lt.num(at)||lt.arr(at)||Mh(at),x=!P&&(!ft||kl(f.immediate||t.immediate,u));if(V){const N=L1(E);if(N!==nt.constructor)if(x)nt=this._set(at);else throw Error(`Cannot animate between ${nt.constructor.name} and ${N.name}, as the "to" prop suggests`)}const w=nt.constructor;let R=qn(E),O=!1;if(!R){const N=J||!g1(this)&&S;(V||N)&&(O=Ji(Xl(ct),at),R=!O),(!Ji(m.immediate,x)&&!x||!Ji(Q.decay,H)||!Ji(Q.velocity,$))&&(R=!0)}if(O&&Ms(this)&&(m.changed&&!J?R=!0:R||this._stop(y)),!P&&((R||qn(y))&&(m.values=nt.getPayload(),m.toValues=qn(E)?null:w==uh?[1]:un(at)),m.immediate!=x&&(m.immediate=x,!x&&!J&&this._set(y)),R)){const{onRest:N}=m;xt(H9,I=>K2(this,t,I));const k=$n(this,Cl(this,y));Il(this._pendingCalls,k),this._pendingCalls.add(n),m.changed&&Vt.batchedUpdates(()=>{var I;m.changed=!J,N==null||N(k,this),J?gn(f.onRest,k):(I=m.onStart)==null||I.call(m,k,this)})}J&&this._set(ct),P?n(X_(t.to,t,this._state,this)):R?this._start():Ms(this)&&!V?this._pendingCalls.add(n):n(K_(ct))}_focus(s){const t=this.animation;s!==t.to&&(k2(this)&&this._detach(),t.to=s,k2(this)&&this._attach())}_attach(){let s=0;const{to:t}=this.animation;qn(t)&&(lo(t,this),U1(t)&&(s=t.priority+1)),this.priority=s}_detach(){const{to:s}=this.animation;qn(s)&&Yl(s,this)}_set(s,t=!0){const n=mn(s);if(!lt.und(n)){const r=yi(this);if(!r||!Ji(n,r.getValue())){const o=L1(n);!r||r.constructor!=o?Rm(this,o.create(n)):r.setValue(n),r&&Vt.batchedUpdates(()=>{this._onChange(n,t)})}}return yi(this)}_onStart(){const s=this.animation;s.changed||(s.changed=!0,Rl(this,"onStart",$n(this,Cl(this,s.to)),this))}_onChange(s,t){t||(this._onStart(),gn(this.animation.onChange,s,this)),gn(this.defaultProps.onChange,s,this),super._onChange(s,t)}_start(){const s=this.animation;yi(this).reset(mn(s.to)),s.immediate||(s.fromValues=s.values.map(t=>t.lastPosition)),Ms(this)||(F2(this,!0),wl(this)||this._resume())}_resume(){Wn.skipAnimation?this.finish():Ih.start(this)}_stop(s,t){if(Ms(this)){F2(this,!1);const n=this.animation;xt(n.values,o=>{o.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ql(this,{type:"idle",parent:this});const r=t?Ka(this.get()):$n(this.get(),Cl(this,s??n.to));Il(this._pendingCalls,r),n.changed&&(n.changed=!1,Rl(this,"onRest",r,this))}}};function Cl(s,t){const n=Xl(t),r=Xl(s.get());return Ji(r,n)}function $_(s,t=s.loop,n=s.to){const r=gn(t);if(r){const o=r!==!0&&xm(r),u=(o||s).reverse,f=!o||o.reset;return Jl({...s,loop:t,default:!1,pause:void 0,to:!u||k1(n)?n:void 0,from:f?s.from:void 0,reset:f,...o})}}function Jl(s){const{to:t,from:n}=s=xm(s),r=new Set;return lt.obj(t)&&Y2(t,r),lt.obj(n)&&Y2(n,r),s.keys=r.size?Array.from(r):null,s}function q9(s){const t=Jl(s);return lt.und(t.default)&&(t.default=kh(t)),t}function Y2(s,t){Ai(s,(n,r)=>n!=null&&t.add(r))}var H9=["onStart","onRest","onChange","onPause","onResume"];function K2(s,t,n){s.animation[n]=t[n]!==G_(t,n)?H_(t[n],s.key):void 0}function Rl(s,t,...n){var r,o,u,f;(o=(r=s.animation)[t])==null||o.call(r,...n),(f=(u=s.defaultProps)[t])==null||f.call(u,...n)}var G9=["onStart","onChange","onRest"],F9=1,J_=class{constructor(t,n){this.id=F9++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];lt.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(Jl(t)),this}start(t){let{queue:n}=this;return t?n=un(t).map(Jl):this.queue=[],this._flush?this._flush(this,n):(iv(this,n),q1(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;xt(un(n),o=>r[o].stop(!!t))}else $l(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(lt.und(t))this.start({pause:!0});else{const n=this.springs;xt(un(t),r=>n[r].pause())}return this}resume(t){if(lt.und(t))this.start({pause:!1});else{const n=this.springs;xt(un(t),r=>n[r].resume())}return this}each(t){Ai(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,o=this._active.size>0,u=this._changed.size>0;(o&&!this._started||u&&!this._started)&&(this._started=!0,Nl(t,([y,p])=>{p.value=this.get(),y(p,this,this._item)}));const f=!o&&this._started,m=u||f&&r.size?this.get():null;u&&n.size&&Nl(n,([y,p])=>{p.value=m,y(p,this,this._item)}),f&&(this._started=!1,Nl(r,([y,p])=>{p.value=m,y(p,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Vt.onFrame(this._onFrame)}};function q1(s,t){return Promise.all(t.map(n=>W_(s,n))).then(n=>Im(s,n))}async function W_(s,t,n){const{keys:r,to:o,from:u,loop:f,onRest:m,onResolve:y}=t,p=lt.obj(t.default)&&t.default;f&&(t.loop=!1),o===!1&&(t.to=null),u===!1&&(t.from=null);const E=lt.arr(o)||lt.fun(o)?o:void 0;E?(t.to=void 0,t.onRest=void 0,p&&(p.onRest=void 0)):xt(G9,Q=>{const H=t[Q];if(lt.fun(H)){const $=s._events[Q];t[Q]=({finished:nt,cancelled:J})=>{const ct=$.get(H);ct?(nt||(ct.finished=!1),J&&(ct.cancelled=!0)):$.set(H,{value:null,finished:nt||!1,cancelled:J||!1})},p&&(p[Q]=t[Q])}});const A=s._state;t.pause===!A.paused?(A.paused=t.pause,Il(t.pause?A.pauseQueue:A.resumeQueue)):A.paused&&(t.pause=!0);const S=(r||Object.keys(s.springs)).map(Q=>s.springs[Q].start(t)),V=t.cancel===!0||G_(t,"cancel")===!0;(E||V&&A.asyncId)&&S.push(Y_(++s._lastAsyncId,{props:t,state:A,actions:{pause:M1,resume:M1,start(Q,H){V?($l(A,s._lastAsyncId),H(Ka(s))):(Q.onRest=m,H(X_(E,Q,A,s)))}}})),A.paused&&await new Promise(Q=>{A.resumeQueue.add(Q)});const P=Im(s,await Promise.all(S));if(f&&P.finished&&!(n&&P.noop)){const Q=$_(t,f,o);if(Q)return iv(s,[Q]),W_(s,Q,!0)}return y&&Vt.batchedUpdates(()=>y(P,s,s.item)),P}function H1(s,t){const n={...s.springs};return t&&xt(un(t),r=>{lt.und(r.keys)&&(r=Jl(r)),lt.obj(r.to)||(r={...r,to:void 0}),nv(n,r,o=>ev(o))}),tv(s,n),n}function tv(s,t){Ai(t,(n,r)=>{s.springs[r]||(s.springs[r]=n,lo(n,s))})}function ev(s,t){const n=new B9;return n.key=s,t&&lo(n,t),n}function nv(s,t,n){t.keys&&xt(t.keys,r=>{(s[r]||(s[r]=n(r)))._prepareNode(t)})}function iv(s,t){xt(t,n=>{nv(s.springs,n,r=>ev(r,s))})}var sv=B.createContext({pause:!1,immediate:!1}),rv=()=>{const s=[],t=function(r){b9();const o=[];return xt(s,(u,f)=>{if(lt.und(r))o.push(u.start());else{const m=n(r,u,f);m&&o.push(u.start(m))}}),o};t.current=s,t.add=function(r){s.includes(r)||s.push(r)},t.delete=function(r){const o=s.indexOf(r);~o&&s.splice(o,1)},t.pause=function(){return xt(s,r=>r.pause(...arguments)),this},t.resume=function(){return xt(s,r=>r.resume(...arguments)),this},t.set=function(r){xt(s,(o,u)=>{const f=lt.fun(r)?r(u,o):r;f&&o.set(f)})},t.start=function(r){const o=[];return xt(s,(u,f)=>{if(lt.und(r))o.push(u.start());else{const m=this._getProps(r,u,f);m&&o.push(u.start(m))}}),o},t.stop=function(){return xt(s,r=>r.stop(...arguments)),this},t.update=function(r){return xt(s,(o,u)=>o.update(this._getProps(r,o,u))),this};const n=function(r,o,u){return lt.fun(r)?r(u,o):r};return t._getProps=n,t};function Q9(s,t,n){const r=lt.fun(t)&&t;r&&!n&&(n=[]);const o=B.useMemo(()=>r||arguments.length==3?rv():void 0,[]),u=B.useRef(0),f=wm(),m=B.useMemo(()=>({ctrls:[],queue:[],flush($,nt){const J=H1($,nt);return u.current>0&&!m.queue.length&&!Object.keys(J).some(at=>!$.springs[at])?q1($,nt):new Promise(at=>{tv($,J),m.queue.push(()=>{at(q1($,nt))}),f()})}}),[]),y=B.useRef([...m.ctrls]),p=B.useRef([]),E=N1(s)||0;B.useMemo(()=>{xt(y.current.slice(s,E),$=>{P1($,o),$.stop(!0)}),y.current.length=s,A(E,s)},[s]),B.useMemo(()=>{A(0,Math.min(E,s))},n);function A($,nt){for(let J=$;J<nt;J++){const ct=y.current[J]||(y.current[J]=new J_(null,m.flush)),at=r?r(J,ct):t[J];at&&(p.current[J]=q9(at))}}const S=y.current.map(($,nt)=>H1($,p.current[nt])),V=B.useContext(sv),P=N1(V),Q=V!==P&&F_(V);jr(()=>{u.current++,m.ctrls=y.current;const{queue:$}=m;$.length&&(m.queue=[],xt($,nt=>nt())),xt(y.current,(nt,J)=>{o==null||o.add(nt),Q&&nt.start({default:V});const ct=p.current[J];ct&&(Q_(nt,ct.ref),nt.ref?nt.queue.push(ct):nt.start(ct))})}),Cm(()=>()=>{xt(m.ctrls,$=>$.stop(!0))});const H=S.map($=>({...$}));return o?[H,o]:H}function Hr(s,t){const n=lt.fun(s),[[r],o]=Q9(1,n?s:[s],n?[]:t);return n||arguments.length==2?[r,o]:r}function Ja(s,t,n){const r=lt.fun(t)&&t,{reset:o,sort:u,trail:f=0,expires:m=!0,exitBeforeEnter:y=!1,onDestroyed:p,ref:E,config:A}=r?r():t,S=B.useMemo(()=>r||arguments.length==3?rv():void 0,[]),V=un(s),P=[],Q=B.useRef(null),H=o?null:Q.current;jr(()=>{Q.current=P}),Cm(()=>(xt(P,gt=>{S==null||S.add(gt.ctrl),gt.ctrl.ref=S}),()=>{xt(Q.current,gt=>{gt.expired&&clearTimeout(gt.expirationId),P1(gt.ctrl,S),gt.ctrl.stop(!0)})}));const $=K9(V,r?r():t,H),nt=o&&Q.current||[];jr(()=>xt(nt,({ctrl:gt,item:Z,key:j})=>{P1(gt,S),gn(p,Z,j)}));const J=[];if(H&&xt(H,(gt,Z)=>{gt.expired?(clearTimeout(gt.expirationId),nt.push(gt)):(Z=J[Z]=$.indexOf(gt.key),~Z&&(P[Z]=gt))}),xt(V,(gt,Z)=>{P[Z]||(P[Z]={key:$[Z],item:gt,phase:"mount",ctrl:new J_},P[Z].ctrl.item=gt)}),J.length){let gt=-1;const{leave:Z}=r?r():t;xt(J,(j,z)=>{const st=H[z];~j?(gt=P.indexOf(st),P[gt]={...st,item:V[j]}):Z&&P.splice(++gt,0,st)})}lt.fun(u)&&P.sort((gt,Z)=>u(gt.item,Z.item));let ct=-f;const at=wm(),ft=kh(t),x=new Map,w=B.useRef(new Map),R=B.useRef(!1);xt(P,(gt,Z)=>{const j=gt.key,z=gt.phase,st=r?r():t;let mt,M;const et=gn(st.delay||0,j);if(z=="mount")mt=st.enter,M="enter";else{const At=$.indexOf(j)<0;if(z!="leave")if(At)mt=st.leave,M="leave";else if(mt=st.update)M="update";else return;else if(!At)mt=st.enter,M="enter";else return}if(mt=gn(mt,gt.item,Z),mt=lt.obj(mt)?xm(mt):{to:mt},!mt.config){const At=A||ft.config;mt.config=gn(At,gt.item,Z,M)}ct+=f;const ht={...ft,delay:et+ct,ref:E,immediate:st.immediate,reset:!1,...mt};if(M=="enter"&&lt.und(ht.from)){const At=r?r():t,Tt=lt.und(At.initial)||H?At.from:At.initial;ht.from=gn(Tt,gt.item,Z)}const{onResolve:ut}=ht;ht.onResolve=At=>{gn(ut,At);const Tt=Q.current,Yt=Tt.find(Ut=>Ut.key===j);if(Yt&&!(At.cancelled&&Yt.phase!="update")&&Yt.ctrl.idle){const Ut=Tt.every(fe=>fe.ctrl.idle);if(Yt.phase=="leave"){const fe=gn(m,Yt.item);if(fe!==!1){const qe=fe===!0?0:fe;if(Yt.expired=!0,!Ut&&qe>0){qe<=2147483647&&(Yt.expirationId=setTimeout(at,qe));return}}}Ut&&Tt.some(fe=>fe.expired)&&(w.current.delete(Yt),y&&(R.current=!0),at())}};const _t=H1(gt.ctrl,ht);M==="leave"&&y?w.current.set(gt,{phase:M,springs:_t,payload:ht}):x.set(gt,{phase:M,springs:_t,payload:ht})});const O=B.useContext(sv),N=N1(O),k=O!==N&&F_(O);jr(()=>{k&&xt(P,gt=>{gt.ctrl.start({default:O})})},[O]),xt(x,(gt,Z)=>{if(w.current.size){const j=P.findIndex(z=>z.key===Z.key);P.splice(j,1)}}),jr(()=>{xt(w.current.size?w.current:x,({phase:gt,payload:Z},j)=>{const{ctrl:z}=j;j.phase=gt,S==null||S.add(z),k&&gt=="enter"&&z.start({default:O}),Z&&(Q_(z,Z.ref),(z.ref||S)&&!R.current?z.update(Z):(z.start(Z),R.current&&(R.current=!1)))})},o?void 0:n);const I=gt=>B.createElement(B.Fragment,null,P.map((Z,j)=>{const{springs:z}=x.get(Z)||Z.ctrl,st=gt({...z},Z.item,Z,j),mt=lt.str(Z.key)||lt.num(Z.key)?Z.key:Z.ctrl.id,M=B.version<"19.0.0",et=(st==null?void 0:st.props)??{};return M&&(et.ref=st.ref),st&&st.type?B.createElement(st.type,{key:mt,...et}):st}));return S?[I,S]:I}var Y9=1;function K9(s,{key:t,keys:n=t},r){if(n===null){const o=new Set;return s.map(u=>{const f=r&&r.find(m=>m.item===u&&m.phase!=="leave"&&!o.has(m));return f?(o.add(f),f.key):Y9++})}return lt.und(n)?s:lt.fun(n)?s.map(n):un(n)}var X9=class extends Dm{constructor(s,t){super(),this.source=s,this.idle=!0,this._active=new Set,this.calc=Gl(...t);const n=this._get(),r=L1(n);Rm(this,r.create(n))}advance(s){const t=this._get(),n=this.get();Ji(t,n)||(yi(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&X2(this._active)&&p1(this)}_get(){const s=lt.arr(this.source)?this.source.map(mn):un(mn(this.source));return this.calc(...s)}_start(){this.idle&&!X2(this._active)&&(this.idle=!1,xt(Oh(this),s=>{s.done=!1}),Wn.skipAnimation?(Vt.batchedUpdates(()=>this.advance()),p1(this)):Ih.start(this))}_attach(){let s=1;xt(un(this.source),t=>{qn(t)&&lo(t,this),U1(t)&&(t.idle||this._active.add(t),s=Math.max(s,t.priority+1))}),this.priority=s,this._start()}_detach(){xt(un(this.source),s=>{qn(s)&&Yl(s,this)}),this._active.clear(),p1(this)}eventObserved(s){s.type=="change"?s.idle?this.advance():(this._active.add(s.parent),this._start()):s.type=="idle"?this._active.delete(s.parent):s.type=="priority"&&(this.priority=un(this.source).reduce((t,n)=>Math.max(t,(U1(n)?n.priority:0)+1),0))}};function Z9(s){return s.idle!==!1}function X2(s){return!s.size||Array.from(s).every(Z9)}function p1(s){s.idle||(s.idle=!0,xt(Oh(s),t=>{t.done=!0}),Ql(s,{type:"idle",parent:s}))}Wn.assign({createStringInterpolator:P_,to:(s,t)=>new X9(s,t)});var $9=S_(),av=/^--/;function J9(s,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!av.test(s)&&!(Pl.hasOwnProperty(s)&&Pl[s])?t+"px":(""+t).trim()}var Z2={};function W9(s,t){if(!s.nodeType||!s.setAttribute)return!1;const n=s.nodeName==="filter"||s.parentNode&&s.parentNode.nodeName==="filter",{className:r,style:o,children:u,scrollTop:f,scrollLeft:m,viewBox:y,...p}=t,E=Object.values(p),A=Object.keys(p).map(S=>n||s.hasAttribute(S)?S:Z2[S]||(Z2[S]=S.replace(/([A-Z])/g,V=>"-"+V.toLowerCase())));u!==void 0&&(s.textContent=u);for(const S in o)if(o.hasOwnProperty(S)){const V=J9(S,o[S]);av.test(S)?s.style.setProperty(S,V):s.style[S]=V}A.forEach((S,V)=>{s.setAttribute(S,E[V])}),r!==void 0&&(s.className=r),f!==void 0&&(s.scrollTop=f),m!==void 0&&(s.scrollLeft=m),y!==void 0&&s.setAttribute("viewBox",y)}var Pl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t5=(s,t)=>s+t.charAt(0).toUpperCase()+t.substring(1),e5=["Webkit","Ms","Moz","O"];Pl=Object.keys(Pl).reduce((s,t)=>(e5.forEach(n=>s[t5(n,t)]=s[t]),s),Pl);var n5=/^(matrix|translate|scale|rotate|skew)/,i5=/^(translate)/,s5=/^(rotate|skew)/,y1=(s,t)=>lt.num(s)&&s!==0?s+t:s,Wc=(s,t)=>lt.arr(s)?s.every(n=>Wc(n,t)):lt.num(s)?s===t:parseFloat(s)===t,r5=class extends Lh{constructor({x:s,y:t,z:n,...r}){const o=[],u=[];(s||t||n)&&(o.push([s||0,t||0,n||0]),u.push(f=>[`translate3d(${f.map(m=>y1(m,"px")).join(",")})`,Wc(f,0)])),Ai(r,(f,m)=>{if(m==="transform")o.push([f||""]),u.push(y=>[y,y===""]);else if(n5.test(m)){if(delete r[m],lt.und(f))return;const y=i5.test(m)?"px":s5.test(m)?"deg":"";o.push(un(f)),u.push(m==="rotate3d"?([p,E,A,S])=>[`rotate3d(${p},${E},${A},${y1(S,y)})`,Wc(S,0)]:p=>[`${m}(${p.map(E=>y1(E,y)).join(",")})`,Wc(p,m.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new a5(o,u)),super(r)}},a5=class extends N_{constructor(s,t){super(),this.inputs=s,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let s="",t=!0;return xt(this.inputs,(n,r)=>{const o=mn(n[0]),[u,f]=this.transforms[r](lt.arr(o)?o:n.map(mn));s+=" "+u,t=t&&f}),t?"none":s}observerAdded(s){s==1&&xt(this.inputs,t=>xt(t,n=>qn(n)&&lo(n,this)))}observerRemoved(s){s==0&&xt(this.inputs,t=>xt(t,n=>qn(n)&&Yl(n,this)))}eventObserved(s){s.type=="change"&&(this._value=null),Ql(this,s)}},o5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Wn.assign({batchedUpdates:$9.unstable_batchedUpdates,createStringInterpolator:P_,colors:e9});var l5=M9(o5,{applyAnimatedValues:W9,createAnimatedStyle:s=>new r5(s),getComponentProps:({scrollTop:s,scrollLeft:t,...n})=>n}),nn=l5.animated;function u5(s,t,n){return Math.max(t,Math.min(s,n))}const re={toVector(s,t){return s===void 0&&(s=t),Array.isArray(s)?s:[s,s]},add(s,t){return[s[0]+t[0],s[1]+t[1]]},sub(s,t){return[s[0]-t[0],s[1]-t[1]]},addTo(s,t){s[0]+=t[0],s[1]+=t[1]},subTo(s,t){s[0]-=t[0],s[1]-=t[1]}};function $2(s,t,n){return t===0||Math.abs(t)===1/0?Math.pow(s,n*5):s*t*n/(t+n*s)}function J2(s,t,n,r=.15){return r===0?u5(s,t,n):s<t?-$2(t-s,n-t,r)+t:s>n?+$2(s-n,n-t,r)+n:s}function c5(s,[t,n],[r,o]){const[[u,f],[m,y]]=s;return[J2(t,u,f,r),J2(n,m,y,o)]}function h5(s,t){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function f5(s){var t=h5(s,"string");return typeof t=="symbol"?t:String(t)}function we(s,t,n){return t=f5(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function W2(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function ce(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){we(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}const ov={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ty(s){return s?s[0].toUpperCase()+s.slice(1):""}const d5=["enter","leave"];function m5(s=!1,t){return s&&!d5.includes(t)}function g5(s,t="",n=!1){const r=ov[s],o=r&&r[t]||t;return"on"+ty(s)+ty(o)+(m5(n,o)?"Capture":"")}const p5=["gotpointercapture","lostpointercapture"];function y5(s){let t=s.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=p5.includes(t)?"capturecapture":"capture",o=!!~t.indexOf(r);return o&&(t=t.replace("capture","")),{device:t,capture:o,passive:n}}function _5(s,t=""){const n=ov[s],r=n&&n[t]||t;return s+r}function Ph(s){return"touches"in s}function lv(s){return Ph(s)?"touch":"pointerType"in s?s.pointerType:"mouse"}function v5(s){return Array.from(s.touches).filter(t=>{var n,r;return t.target===s.currentTarget||((n=s.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function E5(s){return s.type==="touchend"||s.type==="touchcancel"?s.changedTouches:s.targetTouches}function uv(s){return Ph(s)?E5(s)[0]:s}function G1(s,t){try{const n=t.clientX-s.clientX,r=t.clientY-s.clientY,o=(t.clientX+s.clientX)/2,u=(t.clientY+s.clientY)/2,f=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:f,origin:[o,u]}}catch{}return null}function T5(s){return v5(s).map(t=>t.identifier)}function ey(s,t){const[n,r]=Array.from(s.touches).filter(o=>t.includes(o.identifier));return G1(n,r)}function _1(s){const t=uv(s);return Ph(s)?t.identifier:t.pointerId}function Wa(s){const t=uv(s);return[t.clientX,t.clientY]}const ny=40,iy=800;function cv(s){let{deltaX:t,deltaY:n,deltaMode:r}=s;return r===1?(t*=ny,n*=ny):r===2&&(t*=iy,n*=iy),[t,n]}function A5(s){var t,n;const{scrollX:r,scrollY:o,scrollLeft:u,scrollTop:f}=s.currentTarget;return[(t=r??u)!==null&&t!==void 0?t:0,(n=o??f)!==null&&n!==void 0?n:0]}function b5(s){const t={};if("buttons"in s&&(t.buttons=s.buttons),"shiftKey"in s){const{shiftKey:n,altKey:r,metaKey:o,ctrlKey:u}=s;Object.assign(t,{shiftKey:n,altKey:r,metaKey:o,ctrlKey:u})}return t}function hh(s,...t){return typeof s=="function"?s(...t):s}function S5(){}function w5(...s){return s.length===0?S5:s.length===1?s[0]:function(){let t;for(const n of s)t=n.apply(this,arguments)||t;return t}}function sy(s,t){return Object.assign({},t,s||{})}const C5=32;class hv{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:o}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=o,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?hh(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:o}=this;n.args=this.args;let u=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,b5(t)),o.down=o.pressed=o.buttons%2===1||o.touches>0,u=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const ft=n._delta.map(Math.abs);re.addTo(n._distance,ft)}this.axisIntent&&this.axisIntent(t);const[f,m]=n._movement,[y,p]=r.threshold,{_step:E,values:A}=n;if(r.hasCustomTransform?(E[0]===!1&&(E[0]=Math.abs(f)>=y&&A[0]),E[1]===!1&&(E[1]=Math.abs(m)>=p&&A[1])):(E[0]===!1&&(E[0]=Math.abs(f)>=y&&Math.sign(f)*y),E[1]===!1&&(E[1]=Math.abs(m)>=p&&Math.sign(m)*p)),n.intentional=E[0]!==!1||E[1]!==!1,!n.intentional)return;const S=[0,0];if(r.hasCustomTransform){const[ft,x]=A;S[0]=E[0]!==!1?ft-E[0]:0,S[1]=E[1]!==!1?x-E[1]:0}else S[0]=E[0]!==!1?f-E[0]:0,S[1]=E[1]!==!1?m-E[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(S);const V=n.offset,P=n._active&&!n._blocked||n.active;P&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=o[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=hh(r.bounds,n)),this.setup&&this.setup()),n.movement=S,this.computeOffset()));const[Q,H]=n.offset,[[$,nt],[J,ct]]=n._bounds;n.overflow=[Q<$?-1:Q>nt?1:0,H<J?-1:H>ct?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const at=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=c5(n._bounds,n.offset,at),n.delta=re.sub(n.offset,V),this.computeMovement(),P&&(!n.last||u>C5)){n.delta=re.sub(n.offset,V);const ft=n.delta.map(Math.abs);re.addTo(n.distance,ft),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&u>0&&(n.velocity=[ft[0]/u,ft[1]/u],n.timeDelta=u)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const o=this.handler(ce(ce(ce({},n),t),{},{[this.aliasKey]:t.values}));o!==void 0&&(t.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function R5([s,t],n){const r=Math.abs(s),o=Math.abs(t);if(r>o&&r>n)return"x";if(o>r&&o>n)return"y"}class uu extends hv{constructor(...t){super(...t),we(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=re.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=re.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const o=typeof r.axisThreshold=="object"?r.axisThreshold[lv(t)]:r.axisThreshold;n.axis=R5(n._movement,o)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const x5=s=>s,ry=.15,fv={enabled(s=!0){return s},eventOptions(s,t,n){return ce(ce({},n.shared.eventOptions),s)},preventDefault(s=!1){return s},triggerAllEvents(s=!1){return s},rubberband(s=0){switch(s){case!0:return[ry,ry];case!1:return[0,0];default:return re.toVector(s)}},from(s){if(typeof s=="function")return s;if(s!=null)return re.toVector(s)},transform(s,t,n){const r=s||n.shared.transform;return this.hasCustomTransform=!!r,r||x5},threshold(s){return re.toVector(s,0)}},I5=0,Gr=ce(ce({},fv),{},{axis(s,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(s=I5){return s},bounds(s={}){if(typeof s=="function")return u=>Gr.bounds(s(u));if("current"in s)return()=>s.current;if(typeof HTMLElement=="function"&&s instanceof HTMLElement)return s;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:o=1/0}=s;return[[t,n],[r,o]]}}),ay={ArrowRight:(s,t=1)=>[s*t,0],ArrowLeft:(s,t=1)=>[-1*s*t,0],ArrowUp:(s,t=1)=>[0,-1*s*t],ArrowDown:(s,t=1)=>[0,s*t]};class D5 extends uu{constructor(...t){super(...t),we(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),o={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Gr.bounds(o)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const o=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(o&&o.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=_1(t),r._pointerActive=!0,this.computeValues(Wa(t)),this.computeInitial(),n.preventScrollAxis&&lv(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const o=_1(t);if(n._pointerId!==void 0&&o!==n._pointerId)return;const u=Wa(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=re.sub(u,n._values),this.computeValues(u)),re.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const o=_1(t);if(n._pointerId!==void 0&&o!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[u,f]=n._distance;if(n.tap=u<=r.tapsThreshold&&f<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[m,y]=n._delta,[p,E]=n._movement,[A,S]=r.swipe.velocity,[V,P]=r.swipe.distance,Q=r.swipe.duration;if(n.elapsedTime<Q){const H=Math.abs(m/n.timeDelta),$=Math.abs(y/n.timeDelta);H>A&&Math.abs(p)>V&&(n.swipe[0]=Math.sign(m)),$>S&&Math.abs(E)>P&&(n.swipe[1]=Math.sign(y))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,V5(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=ay[t.key];if(n){const r=this.state,o=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,o),r._keyboardActive=!0,re.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in ay&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function V5(s){"persist"in s&&typeof s.persist=="function"&&s.persist()}const cu=typeof window<"u"&&window.document&&window.document.createElement;function dv(){return cu&&"ontouchstart"in window}function M5(){return dv()||cu&&window.navigator.maxTouchPoints>1}function O5(){return cu&&"onpointerdown"in window}function N5(){return cu&&"exitPointerLock"in window.document}function L5(){try{return"constructor"in GestureEvent}catch{return!1}}const Hn={isBrowser:cu,gesture:L5(),touch:dv(),touchscreen:M5(),pointer:O5(),pointerLock:N5()},k5=250,P5=180,j5=.5,U5=50,z5=250,B5=10,oy={mouse:0,touch:0,pen:8},q5=ce(ce({},Gr),{},{device(s,t,{pointer:{touch:n=!1,lock:r=!1,mouse:o=!1}={}}){return this.pointerLock=r&&Hn.pointerLock,Hn.touch&&n?"touch":this.pointerLock?"mouse":Hn.pointer&&!o?"pointer":Hn.touch?"touch":"mouse"},preventScrollAxis(s,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&s?k5:void 0,!(!Hn.touchscreen||n===!1))return s||(n!==void 0?"y":void 0)},pointerCapture(s,t,{pointer:{capture:n=!0,buttons:r=1,keys:o=!0}={}}){return this.pointerButtons=r,this.keys=o,!this.pointerLock&&this.device==="pointer"&&n},threshold(s,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:o=void 0}){const u=re.toVector(s,n?r:o?1:0);return this.filterTaps=n,this.tapsThreshold=r,u},swipe({velocity:s=j5,distance:t=U5,duration:n=z5}={}){return{velocity:this.transform(re.toVector(s)),distance:this.transform(re.toVector(t)),duration:n}},delay(s=0){switch(s){case!0:return P5;case!1:return 0;default:return s}},axisThreshold(s){return s?ce(ce({},oy),s):oy},keyboardDisplacement(s=B5){return s}});function mv(s){const[t,n]=s.overflow,[r,o]=s._delta,[u,f]=s._direction;(t<0&&r>0&&u<0||t>0&&r<0&&u>0)&&(s._movement[0]=s._movementBound[0]),(n<0&&o>0&&f<0||n>0&&o<0&&f>0)&&(s._movement[1]=s._movementBound[1])}const H5=30,G5=100;class F5 extends hv{constructor(...t){super(...t),we(this,"ingKey","pinching"),we(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=re.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const o=Math.abs(n)*H5-Math.abs(r);o<0?t.axis="angle":o>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(u=>r.has(u))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const o=ey(t,n._touchIds);o&&this.pinchStart(t,o)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,o=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(f=>o.has(f))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const u=G1(...Array.from(r.values()));u&&this.pinchStart(t,u)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=ey(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=G1(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,o=r._values[1],u=n.angle-o;let f=0;Math.abs(u)>270&&(f+=Math.sign(u)),this.computeValues([n.distance,n.angle-360*f]),r.origin=n.origin,r.turns=f,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=re.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-cv(t)[1]/G5*r.offset[0],0],re.addTo(r._movement,r._delta),mv(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const Q5=ce(ce({},fv),{},{device(s,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Hn.touch&&Hn.gesture)return"gesture";if(Hn.touch&&r)return"touch";if(Hn.touchscreen){if(Hn.pointer)return"pointer";if(Hn.touch)return"touch"}},bounds(s,t,{scaleBounds:n={},angleBounds:r={}}){const o=f=>{const m=sy(hh(n,f),{min:-1/0,max:1/0});return[m.min,m.max]},u=f=>{const m=sy(hh(r,f),{min:-1/0,max:1/0});return[m.min,m.max]};return typeof n!="function"&&typeof r!="function"?[o(),u()]:f=>[o(f),u(f)]},threshold(s,t,n){return this.lockDirection=n.axis==="lock",re.toVector(s,this.lockDirection?[.1,3]:0)},modifierKey(s){return s===void 0?"ctrlKey":s},pinchOnWheel(s=!0){return s}});class Y5 extends uu{constructor(...t){super(...t),we(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Wa(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=Wa(t),r=this.state;r._delta=re.sub(n,r._values),re.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const K5=ce(ce({},Gr),{},{mouseOnly:(s=!0)=>s});class X5 extends uu{constructor(...t){super(...t),we(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=A5(t);n._delta=re.sub(r,n._values),re.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const Z5=Gr;class $5 extends uu{constructor(...t){super(...t),we(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=cv(t),re.addTo(n._movement,n._delta),mv(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const J5=Gr;class W5 extends uu{constructor(...t){super(...t),we(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Wa(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Wa(t);n._movement=n._delta=re.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const tE=ce(ce({},Gr),{},{mouseOnly:(s=!0)=>s}),Vm=new Map,F1=new Map;function gv(s){Vm.set(s.key,s.engine),F1.set(s.key,s.resolver)}const pv={key:"drag",engine:D5,resolver:q5},eE={key:"hover",engine:W5,resolver:tE},nE={key:"move",engine:Y5,resolver:K5},iE={key:"pinch",engine:F5,resolver:Q5},sE={key:"scroll",engine:X5,resolver:Z5},rE={key:"wheel",engine:$5,resolver:J5};function aE(s,t){if(s==null)return{};var n={},r=Object.keys(s),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(n[o]=s[o]);return n}function oE(s,t){if(s==null)return{};var n=aE(s,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}const lE={target(s){if(s)return()=>"current"in s?s.current:s},enabled(s=!0){return s},window(s=Hn.isBrowser?window:void 0){return s},eventOptions({passive:s=!0,capture:t=!1}={}){return{passive:s,capture:t}},transform(s){return s}},uE=["target","eventOptions","window","enabled","transform"];function th(s={},t){const n={};for(const[r,o]of Object.entries(t))switch(typeof o){case"function":n[r]=o.call(n,s[r],r,s);break;case"object":n[r]=th(s[r],o);break;case"boolean":o&&(n[r]=s[r]);break}return n}function cE(s,t,n={}){const r=s,{target:o,eventOptions:u,window:f,enabled:m,transform:y}=r,p=oE(r,uE);if(n.shared=th({target:o,eventOptions:u,window:f,enabled:m,transform:y},lE),t){const E=F1.get(t);n[t]=th(ce({shared:n.shared},p),E)}else for(const E in p){const A=F1.get(E);A&&(n[E]=th(ce({shared:n.shared},p[E]),A))}return n}class yv{constructor(t,n){we(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,o,u){const f=this._listeners,m=_5(n,r),y=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},p=ce(ce({},y),u);t.addEventListener(m,o,p);const E=()=>{t.removeEventListener(m,o,p),f.delete(E)};return f.add(E),E}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class hE{constructor(){we(this,"_timeouts",new Map)}add(t,n,r=140,...o){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...o))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class fE{constructor(t){we(this,"gestures",new Set),we(this,"_targetEventStore",new yv(this)),we(this,"gestureEventStores",{}),we(this,"gestureTimeoutStores",{}),we(this,"handlers",{}),we(this,"config",{}),we(this,"pointerIds",new Set),we(this,"touchIds",new Set),we(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),dE(this,t)}setEventIds(t){if(Ph(t))return this.touchIds=new Set(T5(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=cE(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let o;if(!(n.target&&(o=n.target(),!o))){if(n.enabled){for(const f of this.gestures){const m=this.config[f],y=ly(r,m.eventOptions,!!o);if(m.enabled){const p=Vm.get(f);new p(this,t,f).bind(y)}}const u=ly(r,n.eventOptions,!!o);for(const f in this.nativeHandlers)u(f,"",m=>this.nativeHandlers[f](ce(ce({},this.state.shared),{},{event:m,args:t})),void 0,!0)}for(const u in r)r[u]=w5(...r[u]);if(!o)return r;for(const u in r){const{device:f,capture:m,passive:y}=y5(u);this._targetEventStore.add(o,f,"",r[u],{capture:m,passive:y})}}}}function za(s,t){s.gestures.add(t),s.gestureEventStores[t]=new yv(s,t),s.gestureTimeoutStores[t]=new hE}function dE(s,t){t.drag&&za(s,"drag"),t.wheel&&za(s,"wheel"),t.scroll&&za(s,"scroll"),t.move&&za(s,"move"),t.pinch&&za(s,"pinch"),t.hover&&za(s,"hover")}const ly=(s,t,n)=>(r,o,u,f={},m=!1)=>{var y,p;const E=(y=f.capture)!==null&&y!==void 0?y:t.capture,A=(p=f.passive)!==null&&p!==void 0?p:t.passive;let S=m?r:g5(r,o,E);n&&A&&(S+="Passive"),s[S]=s[S]||[],s[S].push(u)},mE=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function gE(s){const t={},n={},r=new Set;for(let o in s)mE.test(o)?(r.add(RegExp.lastMatch),n[o]=s[o]):t[o]=s[o];return[n,t,r]}function Ba(s,t,n,r,o,u){if(!s.has(n)||!Vm.has(r))return;const f=n+"Start",m=n+"End",y=p=>{let E;return p.first&&f in t&&t[f](p),n in t&&(E=t[n](p)),p.last&&m in t&&t[m](p),E};o[r]=y,u[r]=u[r]||{}}function pE(s,t){const[n,r,o]=gE(s),u={};return Ba(o,n,"onDrag","drag",u,t),Ba(o,n,"onWheel","wheel",u,t),Ba(o,n,"onScroll","scroll",u,t),Ba(o,n,"onPinch","pinch",u,t),Ba(o,n,"onMove","move",u,t),Ba(o,n,"onHover","hover",u,t),{handlers:u,config:t,nativeHandlers:r}}function _v(s,t={},n,r){const o=$c.useMemo(()=>new fE(s),[]);if(o.applyHandlers(s,r),o.applyConfig(t,n),$c.useEffect(o.effect.bind(o)),$c.useEffect(()=>o.clean.bind(o),[]),t.target===void 0)return o.bind.bind(o)}function hu(s,t){return gv(pv),_v({drag:s},t||{},"drag")}function yE(s){return s.forEach(gv),function(n,r){const{handlers:o,nativeHandlers:u,config:f}=pE(n,r||{});return _v(o,f,void 0,u)}}function _E(s,t){return yE([pv,iE,sE,rE,nE,eE])(s,t||{})}const vE="_popup_tu52t_1",EE={popup:vE},TE=({message:s,onClose:t})=>{const[n,r]=B.useState(!1),[{x:o,y:u,opacity:f},m]=Hr(()=>({from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}})),y=hu(({down:p,movement:[E],direction:[A]})=>{if(!p&&Math.abs(E)>100){r(!0),m.start({x:A>0?500:-500,opacity:0,onRest:t});return}m.start({x:p?E:0,opacity:1})});return n?null:C.jsx(nn.div,{...y(),className:EE.popup,style:{x:o,y:u,opacity:f},children:s})},vv=B.createContext(),fu=()=>B.useContext(vv),AE=({children:s})=>{const[t,n]=B.useState([]),r=(u,f={})=>{const m=Date.now();n(y=>[...y,{id:m,message:u,...f}]),f.persistent||setTimeout(()=>o(m),f.duration||3e3)},o=u=>{n(f=>f.filter(m=>m.id!==u))};return C.jsxs(vv.Provider,{value:{showNotification:r,removeNotification:o},children:[s,C.jsx("div",{style:{position:"fixed",top:20,right:0,left:0,display:"flex",flexDirection:"column",padding:20,gap:10,zIndex:10,pointerEvents:"none"},children:t.map(u=>C.jsx(TE,{...u,onClose:()=>o(u.id)},u.id))})]})};function jl(s){const t=s.current.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function bE(s,t){let n=0;return function(...r){const o=Date.now();o-n>=t&&(n=o,s.apply(this,r))}}function SE(s,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>s(...r),t)}}async function wE(s,t=32*1024){const n=[];let r=0;const o=await s.arrayBuffer();for(;r<o.byteLength;){const u=o.slice(r,r+t);n.push(u),r+=t,await new Promise(f=>setTimeout(f,0))}return n}async function CE(s,t){t.send(JSON.stringify({type:"imageStart",sentId:s.sentId,receivedId:s.receivedId}));for(const n of s.chunks)t.send(n),await new Promise(r=>setTimeout(r,0));t.send(JSON.stringify({type:"imageEnd",imageType:s.fileType}))}const Be=B.createContext(null),RE=({children:s})=>{const{dataChannel:t,imageChannel:n}=B.useContext(ze),{showNotification:r}=fu(),o=B.useRef([]),u=B.useRef(0),f=B.useRef(null),m=B.useRef({x:0,y:0}),y=B.useRef(!1),p=B.useRef(null),E=B.useRef(!1),A=B.useRef(null),[S,V]=B.useState([]),[P,Q]=B.useState(null),[H,$]=B.useState(!1),[nt,J]=B.useState(!1),[ct,at]=B.useState(!1),[ft,x]=B.useState(!1),[w,R]=B.useState(!1),[O,N]=B.useState({src:null,sent:null}),[k,I]=B.useState("hidden");return B.useEffect(()=>(t.current.onmessage=gt=>{let Z=JSON.parse(gt.data);if(Z.type==="typing")clearTimeout(p.current),R(!0),p.current=setTimeout(()=>{R(!1)},1400);else if(Z.type==="text"){let j={receivedId:Z.sentId,sentId:Z.receivedId,type:Z.type,reaction:-1,content:Z.content,deleted:0,hightlight:!1};"replyTo"in Z&&(j.replyTo={sentId:Z.replyTo.receivedId,receivedId:Z.replyTo.sentId}),jl(f)?E.current=!0:x(!0);let z={type:"ack",sentId:Z.sentId,receivedId:Z.receivedId};t.current.send(JSON.stringify(z)),V(st=>[...st,j])}else if(Z.type==="ack")V(j=>j.map(z=>z.sentId===Z.sentId?{...z,status:"sent"}:z));else if(Z.type==="reaction"){let j={type:"ackReaction",sentId:Z.id,reaction:Z.reaction};t.current.send(JSON.stringify(j)),V(z=>z.map(st=>st.sentId==Z.id?{...st,reaction:Z.reaction}:st))}else if(Z.type==="ackReaction")console.log("I have received an ackReaction message: ",Z),V(j=>j.map(z=>z.receivedId==Z.sentId?{...z,reaction:Z.reaction}:z));else if(Z.type==="gif"){let j={receivedId:Z.sentId,sentId:Z.receivedId,type:"image",reaction:-1,content:Z.content,deleted:0,hightlight:!1};"replyTo"in Z&&(j.replyTo={sentId:Z.replyTo.receivedId,receivedId:Z.replyTo.sentId}),jl(f)?E.current=!0:x(!0);let z={type:"gifAck",sentId:Z.sentId,receivedId:Z.receivedId};t.current.send(JSON.stringify(z)),V(st=>[...st,j])}else if(Z.type==="gifAck")V(j=>j.map(z=>z.receivedId===Z.receivedId&&z.sentId===Z.sentId?{...z,status:"sent"}:z));else if(Z.type==="imageRequest"){let j={receivedId:Z.sentId,sentId:Z.receivedId,type:Z.type,reaction:-1,deleted:0,hightlight:!1};"replyTo"in Z&&(j.replyTo={sentId:Z.replyTo.receivedId,receivedId:Z.replyTo.sentId}),jl(f)?E.current=!0:x(!0),V(z=>[...z,j])}else if(Z.type==="imageAccept"){const j=o.current.find(z=>z.sentId===Z.sentId&&z.receivedId===Z.receivedId);console.log(j),(async()=>await CE(j,n.current))()}else if(Z.type==="imageReject")V(j=>{const z=S.findIndex(mt=>mt.sentId===Z.receivedId&&mt.receivedId===Z.sentId),st=[...j];return st.splice(z,1),st});else if(Z.type==="imageReceived")V(j=>j.map(z=>z.receivedId===Z.receivedId&&z.sentId===Z.sentId?{...z,status:"sent"}:z));else if(Z.type==="delete"){let j={type:"ackDeletion",sentId:Z.sentId};t.current.send(JSON.stringify(j)),V(z=>z.map(st=>st.receivedId==Z.sentId?{...st,type:"text",content:"This message has been deleted",deleted:2}:st))}else Z.type==="ackDeletion"?V(j=>j.map(z=>z.sentId==Z.sentId?{...z,type:"text",content:"This message has been deleted",deleted:2}:z)):Z.type==="callRequest"?(console.log("The other peer is trying to call me!"),I("incoming")):Z.type==="callReject"?(r("Your call was rejected!"),I("hidden")):Z.type==="callAccept"?I("call"):Z.type==="callEnd"&&I("hidden")},n.current.onmessage=gt=>{if(typeof gt.data=="string"){const Z=JSON.parse(gt.data);if(Z.type==="imageStart")A.current={sentId:Z.receivedId,receivedId:Z.sentId,chunks:[]};else if(Z.type==="imageEnd"){const j=new Blob(A.current.chunks,{type:Z.imageType}),z=URL.createObjectURL(j);V(st=>st.map(mt=>mt.receivedId===A.current.receivedId&&mt.sentId===A.current.sentId?{...mt,type:"image",content:z,status:"received"}:mt)),t.current.send(JSON.stringify({type:"imageReceived",sentId:A.current.receivedId,receivedId:A.current.sentId})),A.current=null}}else(async()=>(A.current.chunks.push(gt.data),await new Promise(Z=>setTimeout(Z,0))))()},()=>{t.current.onmessage=null,n.current.onmessage=null}),[]),C.jsx(Be.Provider,{value:{chatBottom:f,messages:S,setMessages:V,sentId:u,selectedMessageId:P,setSelectedMessageId:Q,replying:H,setReplying:$,newMessage:ft,setNewMessage:x,pointerPosition:m,actionsShown:nt,setActionsShown:J,reactionsShown:ct,setReactionsShown:at,longPressed:y,typing:w,setTyping:R,atBottomRef:E,images:o,receivingImage:A,imageDialog:O,setImageDialog:N,videoCall:k,setVideoCall:I},children:s})},xE="_navContainer_2izlb_1",IE="_logo_2izlb_10",DE="_navList_2izlb_15",VE="_hamburger_2izlb_30",pi={navContainer:xE,logo:IE,navList:DE,hamburger:VE};function ME(){return C.jsxs("nav",{"aria-label":"Main Navigation",className:pi.navContainer,children:[C.jsx("a",{href:"/",className:pi.logo,"aria-label":"Homepage",children:"boop"}),C.jsx("a",{className:pi.hamburger,"aria-label":"Expand for menu",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[C.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),C.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),C.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),C.jsxs("ul",{className:pi.navList,children:[C.jsx("li",{className:pi.navItem,children:C.jsx("a",{href:"#about",className:pi.navLink,children:"About"})}),C.jsx("li",{className:pi.navItem,children:C.jsx("a",{href:"#projects",className:pi.navLink,children:"Policy"})}),C.jsx("li",{className:pi.navItem,children:C.jsx("a",{href:"#contact",className:pi.navLink,children:"Contact"})})]})]})}const OE="_mainContainer_15mr1_1",NE="_inputCard_15mr1_13",LE="_linkInput_15mr1_41",kE="_loaderWrapper_15mr1_71",PE="_loader_15mr1_71",xl={mainContainer:OE,inputCard:NE,linkInput:LE,loaderWrapper:kE,loader:PE},jE=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},UE=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,p=y?s[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,V=p&63;y||(V=64,f||(S=64)),r.push(n[E],n[A],n[S],n[V])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Ev(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):UE(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new zE;const S=u<<2|m>>4;if(r.push(S),p!==64){const V=m<<4&240|p>>2;if(r.push(V),A!==64){const P=p<<6&192|A;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class zE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BE=function(s){const t=Ev(s);return Tv.encodeByteArray(t,!0)},fh=function(s){return BE(s).replace(/\./g,"")},qE=function(s){try{return Tv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=()=>HE().__FIREBASE_DEFAULTS__,FE=()=>{if(typeof process>"u"||typeof uy>"u")return;const s=uy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},QE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&qE(s[1]);return t&&JSON.parse(t)},Mm=()=>{try{return jE()||GE()||FE()||QE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},YE=s=>{var t,n;return(n=(t=Mm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[s]},KE=s=>{const t=YE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Av=()=>{var s;return(s=Mm())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(s){return s.endsWith(".cloudworkstations.dev")}async function ZE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const Ul={};function JE(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function WE(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let cy=!1;function tT(s,t){if(typeof window>"u"||typeof document>"u"||!Om(window.location.host)||Ul[s]===t||Ul[s]||cy)return;Ul[s]=t;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=JE().prod.length>0;function f(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{cy=!0,f()},S}function E(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=WE(r),V=n("text"),P=document.getElementById(V)||document.createElement("span"),Q=n("learnmore"),H=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),nt=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),E(H,Q);const ct=p();y(nt,$),J.append(nt,P,H,ct),document.body.appendChild(J)}u?(P.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){var s;const t=(s=Mm())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return!nT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="FirebaseError";class uo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=aT,Object.setPrototypeOf(this,uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bv.prototype.create)}}class bv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?oT(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new uo(o,m,r)}}function oT(s,t){return s.replace(lT,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const lT=/\{\$([^}]+)}/g;function dh(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(hy(u)&&hy(f)){if(!dh(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function hy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s){return s&&s._delegate?s._delegate:s}class Wl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new XE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hT(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cT(s){return s===Pr?void 0:s}function hT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new uT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Gt||(Gt={}));const dT={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},mT=Gt.INFO,gT={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},pT=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=gT[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sv{constructor(t){this.name=t,this._logLevel=mT,this._logHandler=pT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const yT=(s,t)=>t.some(n=>s instanceof n);let fy,dy;function _T(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vT(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Q1=new WeakMap,Cv=new WeakMap,v1=new WeakMap,Nm=new WeakMap;function ET(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Us(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&wv.set(n,s)}).catch(()=>{}),Nm.set(t,s),t}function TT(s){if(Q1.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Q1.set(s,t)}let Y1={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Q1.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Cv.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function AT(s){Y1=s(Y1)}function bT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(E1(this),t,...n);return Cv.set(r,t.sort?t.sort():[t]),Us(r)}:vT().includes(s)?function(...t){return s.apply(E1(this),t),Us(wv.get(this))}:function(...t){return Us(s.apply(E1(this),t))}}function ST(s){return typeof s=="function"?bT(s):(s instanceof IDBTransaction&&TT(s),yT(s,_T())?new Proxy(s,Y1):s)}function Us(s){if(s instanceof IDBRequest)return ET(s);if(v1.has(s))return v1.get(s);const t=ST(s);return t!==s&&(v1.set(s,t),Nm.set(t,s)),t}const E1=s=>Nm.get(s);function wT(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=Us(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Us(f.result),y.oldVersion,y.newVersion,Us(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const CT=["get","getKey","getAll","getAllKeys","count"],RT=["put","add","delete","clear"],T1=new Map;function my(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(T1.get(t))return T1.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=RT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||CT.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return T1.set(t,u),u}AT(s=>({...s,get:(t,n,r)=>my(t,n)||s.get(t,n,r),has:(t,n)=>!!my(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IT(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const K1="@firebase/app",gy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Sv("@firebase/app"),DT="@firebase/app-compat",VT="@firebase/analytics-compat",MT="@firebase/analytics",OT="@firebase/app-check-compat",NT="@firebase/app-check",LT="@firebase/auth",kT="@firebase/auth-compat",PT="@firebase/database",jT="@firebase/data-connect",UT="@firebase/database-compat",zT="@firebase/functions",BT="@firebase/functions-compat",qT="@firebase/installations",HT="@firebase/installations-compat",GT="@firebase/messaging",FT="@firebase/messaging-compat",QT="@firebase/performance",YT="@firebase/performance-compat",KT="@firebase/remote-config",XT="@firebase/remote-config-compat",ZT="@firebase/storage",$T="@firebase/storage-compat",JT="@firebase/firestore",WT="@firebase/ai",t7="@firebase/firestore-compat",e7="firebase",n7="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="[DEFAULT]",i7={[K1]:"fire-core",[DT]:"fire-core-compat",[MT]:"fire-analytics",[VT]:"fire-analytics-compat",[NT]:"fire-app-check",[OT]:"fire-app-check-compat",[LT]:"fire-auth",[kT]:"fire-auth-compat",[PT]:"fire-rtdb",[jT]:"fire-data-connect",[UT]:"fire-rtdb-compat",[zT]:"fire-fn",[BT]:"fire-fn-compat",[qT]:"fire-iid",[HT]:"fire-iid-compat",[GT]:"fire-fcm",[FT]:"fire-fcm-compat",[QT]:"fire-perf",[YT]:"fire-perf-compat",[KT]:"fire-rc",[XT]:"fire-rc-compat",[ZT]:"fire-gcs",[$T]:"fire-gcs-compat",[JT]:"fire-fst",[t7]:"fire-fst-compat",[WT]:"fire-vertex","fire-js":"fire-js",[e7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,s7=new Map,Z1=new Map;function py(s,t){try{s.container.addComponent(t)}catch(n){es.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function gh(s){const t=s.name;if(Z1.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Z1.set(t,s);for(const n of mh.values())py(n,s);for(const n of s7.values())py(n,s);return!0}function r7(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function a7(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new bv("app","Firebase",o7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=n7;function Rv(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:X1,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(n||(n=Av()),!n)throw zs.create("no-options");const u=mh.get(o);if(u){if(dh(n,u.options)&&dh(r,u.config))return u;throw zs.create("duplicate-app",{appName:o})}const f=new fT(o);for(const y of Z1.values())f.addComponent(y);const m=new l7(n,r,f);return mh.set(o,m),m}function c7(s=X1){const t=mh.get(s);if(!t&&s===X1&&Av())return Rv();if(!t)throw zs.create("no-app",{appName:s});return t}function Xa(s,t,n){var r;let o=(r=i7[s])!==null&&r!==void 0?r:s;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(m.join(" "));return}gh(new Wl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="firebase-heartbeat-database",f7=1,tu="firebase-heartbeat-store";let A1=null;function xv(){return A1||(A1=wT(h7,f7,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(s=>{throw zs.create("idb-open",{originalErrorMessage:s.message})})),A1}async function d7(s){try{const n=(await xv()).transaction(tu),r=await n.objectStore(tu).get(Iv(s));return await n.done,r}catch(t){if(t instanceof uo)es.warn(t.message);else{const n=zs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});es.warn(n.message)}}}async function yy(s,t){try{const r=(await xv()).transaction(tu,"readwrite");await r.objectStore(tu).put(t,Iv(s)),await r.done}catch(n){if(n instanceof uo)es.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function Iv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=1024,g7=30;class p7{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=_y();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>g7){const f=v7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_y(),{heartbeatsToSend:r,unsentEntries:o}=y7(this._heartbeatsCache.heartbeats),u=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return es.warn(n),""}}}function _y(){return new Date().toISOString().substring(0,10)}function y7(s,t=m7){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vy(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return yy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return yy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function vy(s){return fh(JSON.stringify({version:2,heartbeats:s})).length}function v7(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(s){gh(new Wl("platform-logger",t=>new xT(t),"PRIVATE")),gh(new Wl("heartbeat",t=>new p7(t),"PRIVATE")),Xa(K1,gy,s),Xa(K1,gy,"esm2017"),Xa("fire-js","")}E7("");var T7="firebase",A7="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(T7,A7,"app");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,Dv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function R(){}R.prototype=w.prototype,x.D=w.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(O,N,k){for(var I=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)I[gt-2]=arguments[gt];return w.prototype[N].apply(O,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)O[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;16>N;++N)O[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=x.g[0],R=x.g[1],N=x.g[2];var k=x.g[3],I=w+(k^R&(N^k))+O[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=k+(N^w&(R^N))+O[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=N+(R^k&(w^R))+O[2]+606105819&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(w^N&(k^w))+O[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(k^R&(N^k))+O[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(N^w&(R^N))+O[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=N+(R^k&(w^R))+O[6]+2821735955&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(w^N&(k^w))+O[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(k^R&(N^k))+O[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(N^w&(R^N))+O[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=N+(R^k&(w^R))+O[10]+4294925233&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(w^N&(k^w))+O[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(k^R&(N^k))+O[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(N^w&(R^N))+O[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=N+(R^k&(w^R))+O[14]+2792965006&4294967295,N=k+(I<<17&4294967295|I>>>15),I=R+(w^N&(k^w))+O[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(N^k&(R^N))+O[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(w^R))+O[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(k^w))+O[11]+643717713&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(N^k))+O[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(N^k&(R^N))+O[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(w^R))+O[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(k^w))+O[15]+3634488961&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(N^k))+O[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(N^k&(R^N))+O[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(w^R))+O[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(k^w))+O[3]+4107603335&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(N^k))+O[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(N^k&(R^N))+O[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^N&(w^R))+O[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(k^w))+O[7]+1735328473&4294967295,N=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(N^k))+O[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(R^N^k)+O[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^N)+O[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=N+(k^w^R)+O[11]+1839030562&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^w)+O[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(R^N^k)+O[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^N)+O[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=N+(k^w^R)+O[7]+4139469664&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^w)+O[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(R^N^k)+O[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^N)+O[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=N+(k^w^R)+O[3]+3572445317&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^w)+O[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(R^N^k)+O[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^N)+O[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=N+(k^w^R)+O[15]+530742520&4294967295,N=k+(I<<16&4294967295|I>>>16),I=R+(N^k^w)+O[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(N^(R|~k))+O[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~N))+O[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=N+(w^(k|~R))+O[14]+2878612391&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~w))+O[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=w+(N^(R|~k))+O[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~N))+O[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=N+(w^(k|~R))+O[10]+4293915773&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~w))+O[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=w+(N^(R|~k))+O[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~N))+O[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=N+(w^(k|~R))+O[6]+2734768916&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~w))+O[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=w+(N^(R|~k))+O[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~N))+O[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=N+(w^(k|~R))+O[2]+718787259&4294967295,N=k+(I<<15&4294967295|I>>>17),I=R+(k^(N|~w))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var R=w-this.blockSize,O=this.B,N=this.h,k=0;k<w;){if(N==0)for(;k<=R;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(O[N++]=x.charCodeAt(k++),N==this.blockSize){o(this,O),N=0;break}}else for(;k<w;)if(O[N++]=x[k++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var R=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=R&255,R/=256;for(this.u(x),x=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)x[R++]=this.g[w]>>>O&255;return x};function u(x,w){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=w(x)}function f(x,w){this.h=w;for(var R=[],O=!0,N=x.length-1;0<=N;N--){var k=x[N]|0;O&&k==w||(R[N]=k,O=!1)}this.g=R}var m={};function y(x){return-128<=x&&128>x?u(x,function(w){return new f([w|0],0>w?-1:0)}):new f([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return H(p(-x));for(var w=[],R=1,O=0;x>=R;O++)w[O]=x/R|0,R*=4294967296;return new f(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return H(E(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),O=A,N=0;N<x.length;N+=8){var k=Math.min(8,x.length-N),I=parseInt(x.substring(N,N+k),w);8>k?(k=p(Math.pow(w,k)),O=O.j(k).add(p(I))):(O=O.j(R),O=O.add(p(I)))}return O}var A=y(0),S=y(1),V=y(16777216);s=f.prototype,s.m=function(){if(Q(this))return-H(this).m();for(var x=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);x+=(0<=O?O:4294967296+O)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(Q(this))return"-"+H(this).toString(x);for(var w=p(Math.pow(x,6)),R=this,O="";;){var N=ct(R,w).g;R=$(R,N.j(w));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=N,P(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Q(x){return x.h==-1}s.l=function(x){return x=$(this,x),Q(x)?-1:P(x)?0:1};function H(x){for(var w=x.g.length,R=[],O=0;O<w;O++)R[O]=~x.g[O];return new f(R,~x.h).add(S)}s.abs=function(){return Q(this)?H(this):this},s.add=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],O=0,N=0;N<=w;N++){var k=O+(this.i(N)&65535)+(x.i(N)&65535),I=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);O=I>>>16,k&=65535,I&=65535,R[N]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(x,w){return x.add(H(w))}s.j=function(x){if(P(this)||P(x))return A;if(Q(this))return Q(x)?H(this).j(H(x)):H(H(this).j(x));if(Q(x))return H(this.j(H(x)));if(0>this.l(V)&&0>x.l(V))return p(this.m()*x.m());for(var w=this.g.length+x.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<x.g.length;N++){var k=this.i(O)>>>16,I=this.i(O)&65535,gt=x.i(N)>>>16,Z=x.i(N)&65535;R[2*O+2*N]+=I*Z,nt(R,2*O+2*N),R[2*O+2*N+1]+=k*Z,nt(R,2*O+2*N+1),R[2*O+2*N+1]+=I*gt,nt(R,2*O+2*N+1),R[2*O+2*N+2]+=k*gt,nt(R,2*O+2*N+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function nt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function J(x,w){this.g=x,this.h=w}function ct(x,w){if(P(w))throw Error("division by zero");if(P(x))return new J(A,A);if(Q(x))return w=ct(H(x),w),new J(H(w.g),H(w.h));if(Q(w))return w=ct(x,H(w)),new J(H(w.g),w.h);if(30<x.g.length){if(Q(x)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(x);)R=at(R),O=at(O);var N=ft(R,1),k=ft(O,1);for(O=ft(O,2),R=ft(R,2);!P(O);){var I=k.add(O);0>=I.l(x)&&(N=N.add(R),k=I),O=ft(O,1),R=ft(R,1)}return w=$(x,N.j(w)),new J(N,w)}for(N=A;0<=x.l(w);){for(R=Math.max(1,Math.floor(x.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=p(R),I=k.j(w);Q(I)||0<I.l(x);)R-=O,k=p(R),I=k.j(w);P(k)&&(k=S),N=N.add(k),x=$(x,I)}return new J(N,x)}s.A=function(x){return ct(this,x).h},s.and=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&x.i(O);return new f(R,this.h&x.h)},s.or=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|x.i(O);return new f(R,this.h|x.h)},s.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^x.i(O);return new f(R,this.h^x.h)};function at(x){for(var w=x.g.length+1,R=[],O=0;O<w;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(R,x.h)}function ft(x,w){var R=w>>5;w%=32;for(var O=x.g.length-R,N=[],k=0;k<O;k++)N[k]=0<w?x.i(k+R)>>>w|x.i(k+R+1)<<32-w:x.i(k+R);return new f(N,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dv=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Bs=f}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vv,Dl,Mv,eh,$1,Ov,Nv,Lv;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)t:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var q=c[b];if(!(q in _))break t;_=_[q]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,q={next:function(){if(!b&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function V(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,q,X){for(var dt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)dt[zt-2]=arguments[zt];return g.prototype[q].apply(b,dt)}}function Q(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function H(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const q=c.length||0,X=b.length||0;c.length=q+X;for(let dt=0;dt<X;dt++)c[q+dt]=b[dt]}else c.push(b)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function nt(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ct(c){return ct[" "](c),c}ct[" "]=function(){};var at=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ft(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(_ in b)c[_]=b[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function N(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=mt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class gt{constructor(){this.h=this.g=null}add(g,_){const b=Z.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new $(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let z,st=!1,mt=new gt,M=()=>{const c=m.Promise.resolve(void 0);z=()=>{c.then(et)}};var et=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var g=Z;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}st=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function At(c,g){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(at){t:{try{ct(g.nodeName);var q=!0;break t}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}P(At,ut);var Tt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function fe(c,g,_,b,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=q,this.key=++Ut,this.da=this.fa=!1}function qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wi(c){this.src=c,this.g={},this.h=0}wi.prototype.add=function(c,g,_,b,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var dt=Ws(c,g,b,q);return-1<dt?(g=c[dt],_||(g.fa=!1)):(g=new fe(g,this.src,X,!!b,q),g.fa=_,c.push(g)),g};function Js(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],q=Array.prototype.indexOf.call(b,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(b,q,1),X&&(qe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ws(c,g,_,b){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==b)return q}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),go={};function yu(c,g,_,b,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)yu(c,g[X],_,b,q);return null}return _=_u(_),c&&c[Yt]?c.K(g,_,p(b)?!!b.capture:!1,q):xn(c,g,_,!1,b,q)}function xn(c,g,_,b,q,X){if(!g)throw Error("Invalid event type");var dt=p(q)?!!q.capture:!!q,zt=Kr(c);if(zt||(c[tr]=zt=new wi(c)),_=zt.add(g,_,b,dt,X),_.proxy)return _;if(b=af(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)_t||(q=dt),q===void 0&&(q=!1),c.addEventListener(g.toString(),b,q);else if(c.attachEvent)c.attachEvent(er(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function af(){function c(_){return g.call(c.src,c.listener,_)}const g=of;return c}function po(c,g,_,b,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)po(c,g[X],_,b,q);else b=p(b)?!!b.capture:!!b,_=_u(_),c&&c[Yt]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=Ws(X,_,b,q),-1<_&&(qe(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=Kr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ws(g,_,b,q)),(_=-1<c?g[c]:null)&&Yr(_))}function Yr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Yt])Js(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(er(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=Kr(g))?(Js(_,c),_.h==0&&(_.src=null,g[tr]=null)):qe(c)}}}function er(c){return c in go?go[c]:go[c]="on"+c}function of(c,g){if(c.da)c=!0;else{g=new At(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Yr(c),c=_.call(b,g)}return c}function Kr(c){return c=c[tr],c instanceof wi?c:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(g){return c.handleEvent(g)}),c[yo])}function de(){ht.call(this),this.i=new wi(this),this.M=this,this.F=null}P(de,ht),de.prototype[Yt]=!0,de.prototype.removeEventListener=function(c,g,_,b){po(this,c,g,_,b)};function Zt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ut(g,c);else if(g instanceof ut)g.target=g.target||c;else{var q=g;g=new ut(b,c),O(g,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var dt=g.g=_[X];q=_n(dt,b,!0,g)&&q}if(dt=g.g=c,q=_n(dt,b,!0,g)&&q,q=_n(dt,b,!1,g)&&q,_)for(X=0;X<_.length;X++)dt=g.g=_[X],q=_n(dt,b,!1,g)&&q}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)qe(_[b]);delete c.g[g],c.h--}}this.F=null},de.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},de.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function _n(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var dt=g[X];if(dt&&!dt.da&&dt.capture==_){var zt=dt.listener,Re=dt.ha||dt.src;dt.fa&&Js(c.i,dt),q=zt.call(Re,b)!==!1&&q}}return q&&!b.defaultPrevented}function $e(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function vu(c){c.g=$e(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class lf extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(c){ht.call(this),this.h=c,this.g={}}P(nr,ht);var ir=[];function sr(c){ft(c.g,function(g,_){this.g.hasOwnProperty(_)&&Yr(g)},c),c.g={}}nr.prototype.N=function(){nr.aa.N.call(this),sr(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,Xr=m.JSON.parse,rr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function Eo(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){ut.call(this,"d")}P(Ri,ut);function To(){ut.call(this,"c")}P(To,ut);var ti={},Ao=null;function ss(){return Ao=Ao||new de}ti.La="serverreachability";function Zr(c){ut.call(this,ti.La,c)}P(Zr,ut);function rs(c){const g=ss();Zt(g,new Zr(g))}ti.STAT_EVENT="statevent";function Eu(c,g){ut.call(this,ti.STAT_EVENT,c),this.stat=g}P(Eu,ut);function ae(c){const g=ss();Zt(g,new Eu(g,c))}ti.Ma="timingevent";function Ce(c,g){ut.call(this,ti.Ma,c),this.size=g}P(Ce,ut);function Ee(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function bo(c,g,_,b,q,X){c.info(function(){if(c.g)if(X)for(var dt="",zt=X.split("&"),Re=0;Re<zt.length;Re++){var Bt=zt[Re].split("=");if(1<Bt.length){var Le=Bt[0];Bt=Bt[1];var xe=Le.split("_");dt=2<=xe.length&&xe[1]=="type"?dt+(Le+"="+Bt+"&"):dt+(Le+"=redacted&")}}else dt=null;else dt=X;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+g+`
`+_+`
`+dt})}function uf(c,g,_,b,q,X,dt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+g+`
`+_+`
`+X+" "+dt})}function as(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ar(c,_)+(b?" "+b:"")})}function Tu(c,g){c.info(function(){return"TIMEOUT: "+g})}In.prototype.info=function(){};function ar(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var dt=1;dt<q.length;dt++)q[dt]=""}}}}return Fn(_)}catch{return g}}var os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ni(){}P(ni,_o),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ei=new ni;function rn(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var So={},$r={};function Qn(c,g,_){c.L=1,c.v=hr(vn(g)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,g){c.F=Date.now(),or(c),c.A=vn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Do(_.i,"t",b),c.C=0,_=c.j.J,c.h=new pe,c.g=Pu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new lf(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ir[0]=q.toString()),q=ir);for(var X=0;X<q.length;X++){var dt=yu(_,q[X],b||g.handleEvent,!1,g.h||g);if(!dt)break;g.g[dt.key]=dt}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),rs(),bo(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const g=this.M;g&&On(c)==3?g.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)t:{const xe=On(this.g);var g=this.g.Ba();const Pi=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||xe!=4||g==7||(g==8||0>=Pi?rs(3):rs(2)),ls(this);var _=this.g.Z();this.X=_;e:if(Au(this)){var b=Iu(this.g);c="";var q=b.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),ii(this);var dt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(X&&g==q-1)});b.length=0,this.h.g+=c,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=_==200,uf(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Re=this.g;if((zt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(zt)){var Bt=zt;break e}}Bt=null}if(_=Bt)as(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lr(this,_);else{this.o=!1,this.s=3,ae(12),He(this),ii(this);break t}}if(this.P){_=!0;let Ge;for(;!this.J&&this.C<dt.length;)if(Ge=bu(this,dt),Ge==$r){xe==4&&(this.s=4,ae(14),_=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==So){this.s=4,ae(15),as(this.i,this.l,dt,"[Invalid Chunk]"),_=!1;break}else as(this.i,this.l,Ge,null),lr(this,Ge);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||dt.length!=0||this.h.h||(this.s=1,ae(16),_=!1),this.o=this.o&&_,!_)as(this.i,this.l,dt,"[Invalid Chunked Response]"),He(this),ii(this);else if(0<dt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),vr(Le),Le.M=!0,ae(11))}}else as(this.i,this.l,dt,null),lr(this,dt);xe==4&&He(this),this.o&&!this.J&&(xe==4?Nu(this.j,this):(this.o=!1,or(this)))}else mf(this.g),_==400&&0<dt.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),He(this),ii(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?$r:(_=Number(g.substring(_,b)),isNaN(_)?So:(b+=1,b+_>g.length?$r:(g=g.slice(b,b+_),c.C=b+_,g)))}rn.prototype.cancel=function(){this.J=!0,He(this)};function or(c){c.S=Date.now()+c.I,Su(c,c.I)}function Su(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ee(S(c.ba,c),g)}function ls(c){c.B&&(m.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tu(this.i,this.A),this.L!=2&&(rs(),ae(17)),He(this),this.s=2,ii(this)):Su(this,this.S-c)};function ii(c){c.j.G==0||c.J||Nu(c.j,c)}function He(c){ls(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,sr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function lr(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||wo(_.h,c))){if(!c.K&&wo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break t;Lo(_),ae(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(S(_.Za,_),6e3));if(1>=Wr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ki(_,11)}else if((c.K||_.g==c)&&ua(_),!nt(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let Bt=q[g];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const Le=Bt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const xe=Bt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const Pi=Bt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(b=1.5*Pi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ge=c.g;if(Ge){const ci=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var X=b.h;X.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ta(X,X.h),X.h=null))}if(b.D){const Po=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(b.ya=Po,Wt(b.I,b.D,Po))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var dt=c;if(b.qa=ku(b,b.J?b.ia:null,b.W),dt.K){an(b.h,dt);var zt=dt,Re=b.L;Re&&(zt.I=Re),zt.B&&(ls(zt),or(zt)),b.g=dt}else Mu(b);0<_.i.length&&la(_)}else Bt[0]!="stop"&&Bt[0]!="close"||ki(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ki(_,7):Oo(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}rs(4)}catch{}}var wu=class{constructor(c,g){this.g=c,this.map=g}};function Di(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wr(c){return c.h?1:c.g?c.g.size:0}function wo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ta(c,g){c.g?c.g.add(g):c.h=g}function an(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Di.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Q(c.i)}function cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Ro(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ea(c),b=cf(c),q=b.length,X=0;X<q;X++)g.call(void 0,b[X],_&&_[X],c)}var ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),q=null;if(0<=b){var X=c[_].substring(0,b);q=c[_].substring(b+1)}else X=c[_];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Te(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Te){this.h=c.h,cr(this,c.j),this.o=c.o,this.g=c.g,us(this,c.s),this.l=c.l;var g=c.i,_=new Mi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Vi(this,_),this.m=c.m}else c&&(g=String(c).match(ur))?(this.h=!1,cr(this,g[1]||"",!0),this.o=Dn(g[2]||""),this.g=Dn(g[3]||"",!0),us(this,g[4]),this.l=Dn(g[5]||"",!0),Vi(this,g[6]||"",!0),this.m=Dn(g[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Te.prototype.toString=function(){var c=[],g=this.j;g&&c.push(fr(g,xo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fr(g,xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(fr(_,_.charAt(0)=="/"?ff:Io,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",fr(_,na)),c.join("")};function vn(c){return new Te(c)}function cr(c,g,_){c.j=_?Dn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function us(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Vi(c,g,_){g instanceof Mi?(c.i=g,Ru(c.i,c.h)):(_||(g=fr(g,df)),c.i=new Mi(g,c.h))}function Wt(c,g,_){c.i.set(g,_)}function hr(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xo=/[#\/\?@]/g,Io=/[#\?:]/g,ff=/[#\?]/g,df=/[#\?@]/g,na=/#/g;function Mi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}s=Mi.prototype,s.add=function(c,g){Vn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Oi(c,g){Vn(c),g=si(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ni(c,g){return Vn(c),g=si(c,g),c.g.has(g)}s.forEach=function(c,g){Vn(this),this.g.forEach(function(_,b){_.forEach(function(q){c.call(g,q,b,this)},this)},this)},s.na=function(){Vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const q=c[b];for(let X=0;X<q.length;X++)_.push(g[b])}return _},s.V=function(c){Vn(this);let g=[];if(typeof c=="string")Ni(this,c)&&(g=g.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},s.set=function(c,g){return Vn(this),this.i=null,c=si(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Do(c,g,_){Oi(c,g),0<_.length&&(c.i=null,c.g.set(si(c,g),Q(_)),c.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const X=encodeURIComponent(String(b)),dt=this.V(b);for(b=0;b<dt.length;b++){var q=X;dt[b]!==""&&(q+="="+encodeURIComponent(String(dt[b]))),c.push(q)}}return this.i=c.join("&")};function si(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ru(c,g){g&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(_,b){var q=b.toLowerCase();b!=q&&(Oi(this,b),Do(this,q,_))},c)),c.j=g}function dr(c,g){const _=new In;if(m.Image){const b=new Image;b.onload=V(Mn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=V(Mn,_,"TestLoadImage: error",!1,g,b),b.onabort=V(Mn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=V(Mn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Yn(c,g){const _=new In,b=new AbortController,q=setTimeout(()=>{b.abort(),Mn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(X=>{clearTimeout(q),X.ok?Mn(_,"TestPingServer: ok",!0,g):Mn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Mn(_,"TestPingServer: error",!1,g)})}function Mn(c,g,_,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(_)}catch{}}function mr(){this.g=new rr}function ri(c,g,_){const b=_||"";try{Ro(c,function(q,X){let dt=q;p(q)&&(dt=Fn(q)),g.push(b+X+"="+encodeURIComponent(dt))})}catch(q){throw g.push(b+"type="+encodeURIComponent("_badmap")),q}}function cs(c){this.l=c.Ub||null,this.j=c.eb||!1}P(cs,_o),cs.prototype.g=function(){return new Li(this.l,this.j)},cs.prototype.i=function(c){return function(){return c}}({});function Li(c,g){de.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Li,de),s=Li.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,oi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ai(this):oi(this),this.readyState==3&&Vo(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},s.Qa=function(c){this.g&&(this.response=c,ai(this))},s.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}s.setRequestHeader=function(c,g){this.u.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let g="";return ft(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Ne(c,g,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Mo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,g,_))}function Kt(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Kt,de);var ia=/^https?$/i,gr=["POST","PUT"];s=Kt.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?vo(this.o):vo(ei),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){xu(this,X);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)_.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(gr,g,void 0))||b||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,dt]of _)this.g.setRequestHeader(X,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pr(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){xu(this,X)}};function xu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,sa(c),li(c)}function sa(c){c.A||(c.A=!0,Zt(c,"complete"),Zt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Zt(this,"complete"),Zt(this,"abort"),li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},s.bb=function(){ra(this)};function ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)$e(c.Ea,0,c);else if(Zt(c,"readystatechange"),On(c)==4){c.h=!1;try{const dt=c.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var b;if(b=dt===0){var q=String(c.D).match(ur)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),b=!ia.test(q?q.toLowerCase():"")}_=b}if(_)Zt(c,"complete"),Zt(c,"success");else{c.m=6;try{var X=2<On(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",sa(c)}}finally{li(c)}}}}function li(c,g){if(c.g){pr(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Zt(c,"ready");try{_.onreadystatechange=b}catch{}}}function pr(c){c.I&&(m.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Xr(g)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(c){const g={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(nt(c[b]))continue;var _=N(c[b]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[q]||[];g[q]=X,X.push(_)}x(g,function(b){return b.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function aa(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,c),this.cb=yr("retryDelaySeedMs",1e4,c),this.Wa=yr("forwardChannelMaxRetries",2,c),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new mr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=aa.prototype,s.la=8,s.G=1,s.connect=function(c,g,_,b){ae(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=ku(this,null,this.W),la(this)};function Oo(c){if(Du(c),c.G==3){var g=c.U++,_=vn(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",g),Wt(_,"TYPE","terminate"),_r(c,_),g=new rn(c,c.j,g),g.L=2,g.v=hr(vn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),or(g)}Lu(c)}function oa(c){c.g&&(vr(c),c.g.cancel(),c.g=null)}function Du(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Jr(c.h)&&!c.s){c.s=!0;var g=c.Ga;z||M(),st||(z(),st=!0),mt.add(g,c),c.B=0}}function gf(c,g){return Wr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ee(S(c.Ga,c,g),ko(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new rn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=w(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Vu(this,q,g),_=vn(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),_r(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(Mo(X)))+"&"+g:this.m&&Ne(_,this.m,X)),ta(this.h,q),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",g),Wt(_,"SID","null"),q.T=!0,Qn(q,_,null)):Qn(q,_,g),this.G=2}}else this.G==3&&(c?No(this,c):this.i.length==0||Jr(this.h)||No(this))};function No(c,g){var _;g?_=g.l:_=c.U++;const b=vn(c.I);Wt(b,"SID",c.K),Wt(b,"RID",_),Wt(b,"AID",c.T),_r(c,b),c.m&&c.o&&Ne(b,c.m,c.o),_=new rn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Qn(_,b,g)}function _r(c,g){c.H&&ft(c.H,function(_,b){Wt(g,b,_)}),c.l&&Ro({},function(_,b){Wt(g,b,_)})}function Vu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const dt=["count="+_];X==-1?0<_?(X=q[0].g,dt.push("ofs="+X)):X=0:dt.push("ofs="+X);let zt=!0;for(let Re=0;Re<_;Re++){let Bt=q[Re].g;const Le=q[Re].map;if(Bt-=X,0>Bt)X=Math.max(0,q[Re].g-100),zt=!1;else try{ri(Le,dt,"req"+Bt+"_")}catch{b&&b(Le)}}if(zt){b=dt.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,b}function Mu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;z||M(),st||(z(),st=!0),mt.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ee(S(c.Fa,c),ko(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ee(S(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),oa(this),Ou(this))};function vr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=vn(c.qa);Wt(g,"RID","rpc"),Wt(g,"SID",c.K),Wt(g,"AID",c.T),Wt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(g,"TO",c.ja),Wt(g,"TYPE","xmlhttp"),_r(c,g),c.m&&c.o&&Ne(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=hr(vn(g)),_.m=null,_.P=!0,Ii(_,c)}s.Za=function(){this.C!=null&&(this.C=null,oa(this),Lo(this),ae(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,g){var _=null;if(c.g==g){ua(c),vr(c),c.g=null;var b=2}else if(wo(c.h,g))_=g.D,an(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;b=ss(),Zt(b,new Ce(b,_)),la(c)}else Mu(c);else if(q=g.s,q==3||q==0&&0<g.X||!(b==1&&gf(c,g)||b==2&&Lo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function ko(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ki(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),b=c.Xa;const q=!b;b=new Te(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||cr(b,"https"),hr(b),q?dr(b.toString(),_):Yn(b.toString(),_)}else ae(2);c.G=0,c.l&&c.l.sa(g),Lu(c),Du(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const g=Co(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function ku(c,g,_){var b=_ instanceof Te?vn(_):new Te(_);if(b.g!="")g&&(b.g=g+"."+b.g),us(b,b.s);else{var q=m.location;b=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new Te(null);b&&cr(X,b),g&&(X.g=g),q&&us(X,q),_&&(X.l=_),b=X}return _=c.D,g=c.ya,_&&g&&Wt(b,_,g),Wt(b,"VER",c.la),_r(c,b),b}function Pu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Kt(new cs({eb:_})):new Kt(c.pa),g.Ha(c.J),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ca(){}ca.prototype.g=function(c,g){return new on(c,g)};function on(c,g){de.call(this),this.g=new aa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!nt(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!nt(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ui(this)}P(on,de),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Oo(this.g)},on.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);g.i.push(new wu(g.Ya++,c)),g.G==3&&la(g)},on.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,on.aa.N.call(this)};function Uu(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Uu,Ri);function zu(){To.call(this),this.status=1}P(zu,To);function ui(c){this.g=c}P(ui,ju),ui.prototype.ua=function(){Zt(this.g,"a")},ui.prototype.ta=function(c){Zt(this.g,new Uu(c))},ui.prototype.sa=function(c){Zt(this.g,new zu)},ui.prototype.ra=function(){Zt(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Lv=function(){return new ca},Nv=function(){return ss()},Ov=ti,$1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,eh=os,xi.COMPLETE="complete",Mv=xi,Eo.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",de.prototype.listen=de.prototype.K,Dl=Eo,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,Vv=Kt}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const Ty="@firebase/firestore",Ay="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Sv("@firebase/firestore");function Ha(){return Br.logLevel}function pt(s,...t){if(Br.logLevel<=Gt.DEBUG){const n=t.map(Lm);Br.debug(`Firestore (${co}): ${s}`,...n)}}function ns(s,...t){if(Br.logLevel<=Gt.ERROR){const n=t.map(Lm);Br.error(`Firestore (${co}): ${s}`,...n)}}function to(s,...t){if(Br.logLevel<=Gt.WARN){const n=t.map(Lm);Br.warn(`Firestore (${co}): ${s}`,...n)}}function Lm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,kv(s,r,n)}function kv(s,t,n){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function Xt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||kv(t,o,r)}function Dt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends uo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class b7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class S7{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w7{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qs,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qs)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new Pv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class C7{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R7{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new C7(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class by{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x7{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,a7(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const r=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new by(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new by(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=I7(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Nt(s,t){return s<t?-1:s>t?1:0}function J1(s,t){let n=0;for(;n<s.length&&n<t.length;){const r=s.codePointAt(n),o=t.codePointAt(n);if(r!==o){if(r<128&&o<128)return Nt(r,o);{const u=jv(),f=D7(u.encode(Sy(s,n)),u.encode(Sy(t,n)));return f!==0?f:Nt(r,o)}}n+=r>65535?2:1}return Nt(s.length,t.length)}function Sy(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function D7(s,t){for(let n=0;n<s.length&&n<t.length;++n)if(s[n]!==t[n])return Nt(s[n],t[n]);return Nt(s.length,t.length)}function eo(s,t,n){return s.length===t.length&&s.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-62135596800,Cy=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Cy);return new Me(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Et(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<wy)throw new Et(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cy}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-wy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Me(0,0))}static max(){return new It(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="__name__";class _i{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ct(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Ct(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=_i.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const r=_i.isNumericId(t),o=_i.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?_i.extractNumericId(t).compare(_i.extractNumericId(n)):J1(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bs.fromString(t.substring(4,t.length-2))}}class le extends _i{construct(t,n,r){return new le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Et(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new le(n)}static emptyPath(){return new le([])}}const V7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends _i{construct(t,n,r){return new Xe(t,n,r)}static isValidIdentifier(t){return V7.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ry}static keyField(){return new Xe([Ry])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Et(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new Et(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Et(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new Et(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(le.fromString(t))}static fromName(t){return new bt(le.fromString(t).popFirst(5))}static empty(){return new bt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function M7(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=It.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Gs(o,bt.empty(),t)}function O7(s){return new Gs(s.readTime,s.key,eu)}class Gs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(It.min(),bt.empty(),eu)}static max(){return new Gs(It.max(),bt.empty(),eu)}}function N7(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=bt.comparator(s.documentKey,t.documentKey),n!==0?n:Nt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(s){if(s.code!==ot.FAILED_PRECONDITION||s.message!==L7)throw s;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.reject(n)}static resolve(t){return new rt((n,r)=>{n(t)})}static reject(t){return new rt((n,r)=>{r(t)})}static waitFor(t){return new rt((n,r)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>r(y))}),f=!0,u===o&&n()})}static or(t){let n=rt.resolve(!1);for(const r of t)n=n.next(o=>o?rt.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(t,n){return new rt((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next(E=>{f[p]=E,++m,m===u&&r(f)},E=>o(E))}})}static doWhile(t,n){return new rt((r,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):r()};u()})}}function P7(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}jh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-1;function Uh(s){return s==null}function ph(s){return s===0&&1/s==-1/0}function j7(s){return typeof s=="number"&&Number.isInteger(s)&&!ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="";function U7(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=xy(t)),t=z7(s.get(n),t);return xy(t)}function z7(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case zv:n+="";break;default:n+=u}}return n}function xy(s){return s+zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Zs(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function Bv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ke(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(t){return new Dy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class Dy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Oe(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qv("Invalid base64 string: "+u):u}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const B7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const n=B7.exec(s);if(Xt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Qs(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="server_timestamp",Gv="__type__",Fv="__previous_value__",Qv="__local_write_time__";function Pm(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[Gv])===null||n===void 0?void 0:n.stringValue)===Hv}function zh(s){const t=s.mapValue.fields[Fv];return Pm(t)?zh(t):t}function nu(s){const t=Fs(s.mapValue.fields[Qv].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(t,n,r,o,u,f,m,y,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const yh="(default)";class iu{constructor(t,n){this.projectId=t,this.database=n||yh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="__type__",H7="__max__",Gc={mapValue:{}},Kv="__vector__",_h="value";function Ys(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:F7(s)?9007199254740991:G7(s)?10:11:Ct(28295,{value:s})}function bi(s,t){if(s===t)return!0;const n=Ys(s);if(n!==Ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return nu(s).isEqual(nu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fs(o.timestampValue),m=Fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(o,u){return Qs(o.bytesValue).isEqual(Qs(u.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)}(s,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),m=ve(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1}(s,t);case 9:return eo(s.arrayValue.values||[],t.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Iy(f)!==Iy(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!bi(f[y],m[y])))return!1;return!0}(s,t);default:return Ct(52216,{left:s})}}function su(s,t){return(s.values||[]).find(n=>bi(n,t))!==void 0}function no(s,t){if(s===t)return 0;const n=Ys(s),r=Ys(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ve(u.integerValue||u.doubleValue),y=ve(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(s,t);case 3:return Vy(s.timestampValue,t.timestampValue);case 4:return Vy(nu(s),nu(t));case 5:return J1(s.stringValue,t.stringValue);case 6:return function(u,f){const m=Qs(u),y=Qs(f);return m.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=Nt(m[p],y[p]);if(E!==0)return E}return Nt(m.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Nt(ve(u.latitude),ve(f.latitude));return m!==0?m:Nt(ve(u.longitude),ve(f.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return My(s.arrayValue,t.arrayValue);case 10:return function(u,f){var m,y,p,E;const A=u.fields||{},S=f.fields||{},V=(m=A[_h])===null||m===void 0?void 0:m.arrayValue,P=(y=S[_h])===null||y===void 0?void 0:y.arrayValue,Q=Nt(((p=V==null?void 0:V.values)===null||p===void 0?void 0:p.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:My(V,P)}(s.mapValue,t.mapValue);case 11:return function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const S=J1(y[A],E[A]);if(S!==0)return S;const V=no(m[y[A]],p[E[A]]);if(V!==0)return V}return Nt(y.length,E.length)}(s.mapValue,t.mapValue);default:throw Ct(23264,{Pe:n})}}function Vy(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const n=Fs(s),r=Fs(t),o=Nt(n.seconds,r.seconds);return o!==0?o:Nt(n.nanos,r.nanos)}function My(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=no(n[o],r[o]);if(u)return u}return Nt(n.length,r.length)}function io(s){return W1(s)}function W1(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Qs(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return bt.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=W1(u);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${W1(n.fields[f])}`;return o+"}"}(s.mapValue):Ct(61005,{value:s})}function nh(s){switch(Ys(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zh(s);return t?16+nh(t):16;case 5:return 2*s.stringValue.length;case 6:return Qs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+nh(u),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return Zs(r.fields,(u,f)=>{o+=u.length+nh(f)}),o}(s.mapValue);default:throw Ct(13486,{value:s})}}function tm(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function Oy(s){return!!s&&"nullValue"in s}function Ny(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ih(s){return!!s&&"mapValue"in s}function G7(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[Yv])===null||n===void 0?void 0:n.stringValue)===Kv}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Zs(s.mapValue.fields,(n,r)=>t.mapValue.fields[n]=zl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(s.arrayValue.values[n]);return t}return Object.assign({},s)}function F7(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===H7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(n)}setAll(t){let n=Xe.emptyPath(),r={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return bi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Zs(n,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new pn(zl(this.value))}}function Xv(s){const t=[];return Zs(s.fields,(n,r)=>{const o=new Xe([n]);if(ih(r)){const u=Xv(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,It.min(),It.min(),It.min(),pn.empty(),0)}static newFoundDocument(t,n,r,o){return new sn(t,1,n,It.min(),r,o,0)}static newNoDocument(t,n){return new sn(t,2,n,It.min(),It.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,It.min(),It.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n){this.position=t,this.inclusive=n}}function Ly(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=bt.comparator(bt.fromName(f.referenceValue),n.key):r=no(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ky(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!bi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q7(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{}class Ve extends Zv{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new K7(t,n,r):n==="array-contains"?new $7(t,r):n==="in"?new J7(t,r):n==="not-in"?new W7(t,r):n==="array-contains-any"?new t8(t,r):new Ve(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new X7(t,r):new Z7(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends Zv{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Si(t,n)}matches(t){return $v(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $v(s){return s.op==="and"}function Jv(s){return Y7(s)&&$v(s)}function Y7(s){for(const t of s.filters)if(t instanceof Si)return!1;return!0}function em(s){if(s instanceof Ve)return s.field.canonicalString()+s.op.toString()+io(s.value);if(Jv(s))return s.filters.map(t=>em(t)).join(",");{const t=s.filters.map(n=>em(n)).join(",");return`${s.op}(${t})`}}function Wv(s,t){return s instanceof Ve?function(r,o){return o instanceof Ve&&r.op===o.op&&r.field.isEqual(o.field)&&bi(r.value,o.value)}(s,t):s instanceof Si?function(r,o){return o instanceof Si&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,m)=>u&&Wv(f,o.filters[m]),!0):!1}(s,t):void Ct(19439)}function t3(s){return s instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(s):s instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(t3).join(" ,")+"}"}(s):"Filter"}class K7 extends Ve{constructor(t,n,r){super(t,n,r),this.key=bt.fromName(r.referenceValue)}matches(t){const n=bt.comparator(t.key,this.key);return this.matchesComparison(n)}}class X7 extends Ve{constructor(t,n){super(t,"in",n),this.keys=e3("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Z7 extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=e3("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function e3(s,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>bt.fromName(r.referenceValue))}class $7 extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jm(n)&&su(n.arrayValue,this.value)}}class J7 extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class W7 extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class t8 extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function Py(s,t=null,n=[],r=[],o=null,u=null,f=null){return new e8(s,t,n,r,o,u,f)}function Um(s){const t=Dt(s);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>em(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>io(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>io(r)).join(",")),t.Ie=n}return t.Ie}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Q7(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Wv(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!ky(s.startAt,t.startAt)&&ky(s.endAt,t.endAt)}function nm(s){return bt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function n8(s,t,n,r,o,u,f,m){return new Bh(s,t,n,r,o,u,f,m)}function qh(s){return new Bh(s)}function jy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function i8(s){return s.collectionGroup!==null}function Bl(s){const t=Dt(s);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Oe(Xe.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Eh(u,r))}),n.has(Xe.keyField().canonicalString())||t.Ee.push(new Eh(Xe.keyField(),r))}return t.Ee}function vi(s){const t=Dt(s);return t.de||(t.de=s8(t,Bl(s))),t.de}function s8(s,t){if(s.limitType==="F")return Py(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=s.endAt?new vh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new vh(s.startAt.position,s.startAt.inclusive):null;return Py(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function im(s,t,n){return new Bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Hh(s,t){return zm(vi(s),vi(t))&&s.limitType===t.limitType}function n3(s){return`${Um(vi(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>t3(o)).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${r})`}(vi(s))}; limitType=${s.limitType})`}function Gh(s,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):bt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(s,t)&&function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(s,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(s,t)&&function(r,o){return!(r.startAt&&!function(f,m,y){const p=Ly(f,m,y);return f.inclusive?p<=0:p<0}(r.startAt,Bl(r),o)||r.endAt&&!function(f,m,y){const p=Ly(f,m,y);return f.inclusive?p>=0:p>0}(r.endAt,Bl(r),o))}(s,t)}function r8(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function i3(s){return(t,n)=>{let r=!1;for(const o of Bl(s)){const u=a8(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function a8(s,t,n){const r=s.field.isKeyField()?bt.comparator(t.key,n.key):function(u,f,m){const y=f.data.field(u),p=m.data.field(u);return y!==null&&p!==null?no(y,p):Ct(42886)}(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,(n,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new he(bt.comparator);function is(){return o8}const s3=new he(bt.comparator);function Vl(...s){let t=s3;for(const n of s)t=t.insert(n.key,n);return t}function r3(s){let t=s3;return s.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ur(){return ql()}function a3(){return ql()}function ql(){return new Fr(s=>s.toString(),(s,t)=>s.isEqual(t))}const l8=new he(bt.comparator),u8=new Oe(bt.comparator);function jt(...s){let t=u8;for(const n of s)t=t.add(n);return t}const c8=new Oe(Nt);function h8(){return c8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(t)?"-0":t}}function o3(s){return{integerValue:""+s}}function f8(s,t){return j7(t)?o3(t):Bm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function d8(s,t,n){return s instanceof Th?function(o,u){const f={fields:{[Gv]:{stringValue:Hv},[Qv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pm(u)&&(u=zh(u)),u&&(f.fields[Fv]=u),{mapValue:f}}(n,t):s instanceof ru?u3(s,t):s instanceof au?c3(s,t):function(o,u){const f=l3(o,u),m=Uy(f)+Uy(o.Re);return tm(f)&&tm(o.Re)?o3(m):Bm(o.serializer,m)}(s,t)}function m8(s,t,n){return s instanceof ru?u3(s,t):s instanceof au?c3(s,t):n}function l3(s,t){return s instanceof Ah?function(r){return tm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class Th extends Fh{}class ru extends Fh{constructor(t){super(),this.elements=t}}function u3(s,t){const n=h3(t);for(const r of s.elements)n.some(o=>bi(o,r))||n.push(r);return{arrayValue:{values:n}}}class au extends Fh{constructor(t){super(),this.elements=t}}function c3(s,t){let n=h3(t);for(const r of s.elements)n=n.filter(o=>!bi(o,r));return{arrayValue:{values:n}}}class Ah extends Fh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Uy(s){return ve(s.integerValue||s.doubleValue)}function h3(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function g8(s,t){return s.field.isEqual(t.field)&&function(r,o){return r instanceof ru&&o instanceof ru||r instanceof au&&o instanceof au?eo(r.elements,o.elements,bi):r instanceof Ah&&o instanceof Ah?bi(r.Re,o.Re):r instanceof Th&&o instanceof Th}(s.transform,t.transform)}class p8{constructor(t,n){this.version=t,this.transformResults=n}}class Ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Qh{}function f3(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new m3(s.key,Ei.none()):new du(s.key,s.data,Ei.none());{const n=s.data,r=pn.empty();let o=new Oe(Xe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new $s(s.key,r,new Rn(o.toArray()),Ei.none())}}function y8(s,t,n){s instanceof du?function(o,u,f){const m=o.value.clone(),y=By(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(s,t,n):s instanceof $s?function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=By(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(d3(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(s,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Hl(s,t,n,r){return s instanceof du?function(u,f,m,y){if(!sh(u.precondition,f))return m;const p=u.value.clone(),E=qy(u.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(s,t,n,r):s instanceof $s?function(u,f,m,y){if(!sh(u.precondition,f))return m;const p=qy(u.fieldTransforms,y,f),E=f.data;return E.setAll(d3(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(s,t,n,r):function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(s,t,n)}function _8(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=l3(r.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(r.field,u))}return n||null}function zy(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&eo(r,o,(u,f)=>g8(u,f))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class du extends Qh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends Qh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function d3(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}}),t}function By(s,t,n){const r=new Map;Xt(s.length===n.length,32656,{Ve:n.length,me:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,m8(f,m,n[o]))}return r}function qy(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,d8(u,f,t))}return r}class m3 extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v8 extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&y8(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=a3();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=f3(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),jt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,(n,r)=>zy(n,r))&&eo(this.baseMutations,t.baseMutations,(n,r)=>zy(n,r))}}class qm{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Xt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return l8}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new qm(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Ht;function b8(s){switch(s){case ot.OK:return Ct(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Ct(15467,{code:s})}}function g3(s){if(s===void 0)return ns("GRPC error has no .code"),ot.UNKNOWN;switch(s){case Se.OK:return ot.OK;case Se.CANCELLED:return ot.CANCELLED;case Se.UNKNOWN:return ot.UNKNOWN;case Se.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Se.INTERNAL:return ot.INTERNAL;case Se.UNAVAILABLE:return ot.UNAVAILABLE;case Se.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Se.NOT_FOUND:return ot.NOT_FOUND;case Se.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Se.ABORTED:return ot.ABORTED;case Se.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Se.DATA_LOSS:return ot.DATA_LOSS;default:return Ct(39323,{code:s})}}(Ht=Se||(Se={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=new Bs([4294967295,4294967295],0);function Hy(s){const t=jv().encode(s),n=new Dv;return n.update(t),new Uint8Array(n.digest())}function Gy(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Bs([n,r],0),new Bs([o,u],0)]}class Hm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Bs.fromNumber(this.pe)}we(t,n,r){let o=t.add(n.multiply(Bs.fromNumber(r)));return o.compare(S8)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Hy(t),[r,o]=Gy(n);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);if(!this.be(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Hm(u,o,n);return r.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=Hy(t),[r,o]=Gy(n);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,mu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Yh(It.min(),o,new he(Nt),is(),jt())}}class mu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new mu(r,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n,r,o){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=o}}class p3{constructor(t,n){this.targetId=t,this.Ce=n}}class y3{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Fy{constructor(){this.Fe=0,this.Me=Qy(),this.xe=Ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=jt(),n=jt(),r=jt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ct(38017,{changeType:u})}}),new mu(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=Qy()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class w8{constructor(t){this.ze=t,this.je=new Map,this.He=is(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new he(Nt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:Ct(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,r=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(nm(u))if(r===0){const f=new bt(u.path);this.tt(n,f,sn.newNoDocument(f,It.min()))}else Xt(r===1,20013,{expectedCount:r});else{const f=this.ut(n);if(f!==r){const m=this.ct(t),y=m?this.lt(m,t,f):1;if(y!==0){this.st(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Qs(r).toUint8Array()}catch(y){if(y instanceof qv)return to("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Hm(f,o,u)}catch(y){return to(y instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.pe===0?null:m}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let o=0;return r.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&nm(m.target)){const y=new bt(m.target.path);this.Et(y).has(f)||this.dt(f,y)||this.tt(f,y,sn.newNoDocument(y,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let r=jt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const p=this._t(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Yh(t,n,this.Ze,this.He,r);return this.He=is(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new he(Nt),o}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Fy,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Oe(Nt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Oe(Nt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Fy),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Fc(){return new he(bt.comparator)}function Qy(){return new he(bt.comparator)}const C8={asc:"ASCENDING",desc:"DESCENDING"},R8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x8={and:"AND",or:"OR"};class I8{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sm(s,t){return s.useProto3Json||Uh(t)?t:{value:t}}function bh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _3(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function D8(s,t){return bh(s,t.toTimestamp())}function Ti(s){return Xt(!!s,49232),It.fromTimestamp(function(n){const r=Fs(n);return new Me(r.seconds,r.nanos)}(s))}function Gm(s,t){return rm(s,t).canonicalString()}function rm(s,t){const n=function(o){return new le(["projects",o.projectId,"databases",o.database])}(s).child("documents");return t===void 0?n:n.child(t)}function v3(s){const t=le.fromString(s);return Xt(S3(t),10190,{key:t.toString()}),t}function am(s,t){return Gm(s.databaseId,t.path)}function b1(s,t){const n=v3(t);if(n.get(1)!==s.databaseId.projectId)throw new Et(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Et(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new bt(T3(n))}function E3(s,t){return Gm(s.databaseId,t)}function V8(s){const t=v3(s);return t.length===4?le.emptyPath():T3(t)}function om(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function T3(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yy(s,t,n){return{name:am(s,t),fields:n.value.mapValue.fields}}function M8(s,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ct(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),Ze.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ze.fromUint8Array(E||new Uint8Array))}(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(p){const E=p.code===void 0?ot.UNKNOWN:g3(p.code);return new Et(E,p.message||"")}(f);n=new y3(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=b1(s,r.document.name),u=Ti(r.document.updateTime),f=r.document.createTime?Ti(r.document.createTime):It.min(),m=new pn({mapValue:{fields:r.document.fields}}),y=sn.newFoundDocument(o,u,f,m),p=r.targetIds||[],E=r.removedTargetIds||[];n=new rh(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=b1(s,r.document),u=r.readTime?Ti(r.readTime):It.min(),f=sn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=b1(s,r.document),u=r.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in t))return Ct(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new A8(o,u),m=r.targetId;n=new p3(m,f)}}return n}function O8(s,t){let n;if(t instanceof du)n={update:Yy(s,t.key,t.value)};else if(t instanceof m3)n={delete:am(s,t.key)};else if(t instanceof $s)n={update:Yy(s,t.key,t.data),updateMask:q8(t.fieldMask)};else{if(!(t instanceof v8))return Ct(16599,{ft:t.type});n={verify:am(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ct(20930,{transform:f.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:D8(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ct(27497)}(s,t.precondition)),n}function N8(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map(n=>function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(It.min())&&(f=Ti(u)),new p8(f,o.transformResults||[])}(n,t))):[]}function L8(s,t){return{documents:[E3(s,t.path)]}}function k8(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E3(s,o);const u=function(p){if(p.length!==0)return b3(Si.create(p,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(S){return{field:Fa(S.field),direction:U8(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=sm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:o}}function P8(s){let t=V8(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Xt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=A3(A);return S instanceof Si&&Jv(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(P){return new Eh(Qa(P.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Uh(S)?null:S}(n.limit));let y=null;n.startAt&&(y=function(A){const S=!!A.before,V=A.values||[];return new vh(V,S)}(n.startAt));let p=null;return n.endAt&&(p=function(A){const S=!A.before,V=A.values||[];return new vh(V,S)}(n.endAt)),n8(t,o,f,u,m,"F",y,p)}function j8(s,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function A3(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(s):s.fieldFilter!==void 0?function(n){return Ve.create(Qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(r=>A3(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(n.compositeFilter.op))}(s):Ct(30097,{filter:s})}function U8(s){return C8[s]}function z8(s){return R8[s]}function B8(s){return x8[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Xe.fromServerFormat(s.fieldPath)}function b3(s){return s instanceof Ve?function(n){if(n.op==="=="){if(Ny(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if(Oy(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ny(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if(Oy(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:z8(n.op),value:n.value}}}(s):s instanceof Si?function(n){const r=n.getFilters().map(o=>b3(o));return r.length===1?r[0]:{compositeFilter:{op:B8(n.op),filters:r}}}(s):Ct(54877,{filter:s})}function q8(s){const t=[];return s.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function S3(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n,r,o,u=It.min(),f=It.min(),m=Ze.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t){this.wt=t}}function G8(s){const t=P8({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.Cn=new Q8}addToCollectionParentIndex(t,n){return this.Cn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Gs.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Gs.min())}updateCollectionGroup(t,n,r){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class Q8{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Oe(le.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Oe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w3=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(w3,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new so(0)}static lr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LruGarbageCollector",Y8=1048576;function Zy([s,t],[n,r]){const o=Nt(s,n);return o===0?Nt(t,r):o}class K8{constructor(t){this.Er=t,this.buffer=new Oe(Zy),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X8{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){pt(Xy,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?pt(Xy,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.mr(3e5)})}}class Z8{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(jh.le);const r=new K8(n);return this.gr.forEachTarget(t,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(Ky)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,o,u,f,m,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(r=A,m=Date.now(),this.removeTargets(t,r,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,r))).next(A=>(p=Date.now(),Ha()<=Gt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function $8(s,t){return new Z8(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this.changes=new Fr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?rt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&Hl(r.mutation,o,Rn.empty(),Me.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,jt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=jt()){const o=Ur();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(u=>{let f=Vl();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const r=Ur();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,jt()))}populateOverlays(t,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,r,o){let u=is();const f=ql(),m=function(){return ql()}();return n.forEach((y,p)=>{const E=r.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof $s)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Hl(E.mutation,p,E.mutation.getFieldMask(),Me.now())):f.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var A;return m.set(p,new W8(E,(A=f.get(p))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const r=ql();let o=new he((f,m)=>f-m),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const p=n.get(y);if(p===null)return;let E=r.get(y)||Rn.empty();E=m.applyToLocalView(p,E),r.set(y,E);const A=(o.get(m.batchId)||jt()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,A=a3();E.forEach(S=>{if(!u.has(S)){const V=f3(n.get(S),r.get(S));V!==null&&A.set(S,V),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,p,A))}return rt.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(f){return bt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):i8(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):rt.resolve(Ur());let m=eu,y=u;return f.next(p=>rt.forEach(p,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?rt.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{y=y.insert(E,S)}))).next(()=>this.populateOverlays(t,p,u)).next(()=>this.computeViews(t,y,p,jt())).next(E=>({batchId:m,changes:r3(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new bt(n)).next(r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(t,u).next(m=>rt.forEach(m,y=>{const p=function(A,S){return new Bh(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o))).next(f=>{u.forEach((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let m=Vl();return f.forEach((y,p)=>{const E=u.get(y);E!==void 0&&Hl(E.mutation,p,Rn.empty(),Me.now()),Gh(n,p)&&(m=m.insert(y,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return rt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}}(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:G8(o.bundledQuery),readTime:Ti(o.readTime)}}(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.overlays=new he(bt.comparator),this.Qr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ur();return rt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,u)=>{this.St(t,n,u)}),rt.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),rt.resolve()}getOverlaysForCollection(t,n,r){const o=Ur(),u=n.length+1,f=new bt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new he((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=Ur(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ur(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return rt.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new T8(n,r));let u=this.Qr.get(n);u===void 0&&(u=jt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.$r=new Oe(Ue.Ur),this.Kr=new Oe(Ue.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new Ue(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new Ue(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new bt(new le([])),r=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Kr.forEachInRange([r,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new bt(new le([])),r=new Ue(n,t),o=new Ue(n,t+1);let u=jt();return this.Kr.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return bt.comparator(t.key,n.key)||Nt(t.Zr,n.Zr)}static Wr(t,n){return Nt(t.Zr,n.Zr)||bt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Oe(Ue.Ur)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new E8(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,n){return rt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ti(r),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?km:this.nr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],f=>{const m=this.ei(f.Zr);u.push(m)}),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Oe(Nt);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{r=r.add(m.Zr)})}),rt.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;bt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new bt(u),0);let m=new Oe(Nt);return this.Xr.forEachWhile(y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Zr)),!0)},f),rt.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(r=>{const o=this.ei(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Xt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return rt.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new Ue(n,0),o=this.Xr.firstAfterOrEqual(r);return rt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.ii=t,this.docs=function(){return new he(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return rt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let r=is();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),rt.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=is();const f=n.path,m=new bt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||N7(O7(E),r)<=0||(o.has(E.key)||Gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Ct(9500)}si(t,n){return rt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new aA(this)}getSize(t){return rt.resolve(this.size)}}class aA extends J8{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(r)}),rt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.persistence=t,this.oi=new Fr(n=>Um(n),zm),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this._i=0,this.ai=new Fm,this.targetCount=0,this.ui=so.cr()}forEachTarget(t,n){return this.oi.forEach((r,o)=>n(o)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),rt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new so(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.Tr(n),rt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),rt.waitFor(u).next(()=>o)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return rt.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),rt.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),rt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return rt.resolve(r)}containsKey(t,n){return rt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(t,n){this.ci={},this.overlays={},this.li=new jh(0),this.hi=!1,this.hi=!0,this.Pi=new iA,this.referenceDelegate=t(this),this.Ti=new oA(this),this.indexManager=new F8,this.remoteDocumentCache=function(o){return new rA(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new H8(n),this.Ei=new eA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new sA(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){pt("MemoryPersistence","Starting transaction:",t);const o=new lA(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return rt.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class lA extends k7{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Vi=new Fm,this.mi=null}static fi(t){return new Qm(t)}get gi(){if(this.mi)return this.mi;throw Ct(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),rt.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.gi,r=>{const o=bt.fromPath(r);return this.pi(t,o).next(u=>{u||n.removeEntry(o,It.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return rt.or([()=>rt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Sh{constructor(t,n){this.persistence=t,this.yi=new Fr(r=>U7(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=$8(this,n)}static fi(t,n){return new Sh(t,n)}di(){}Ai(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(o=>r+o))}br(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return rt.forEach(this.yi,(r,o)=>this.Dr(t,r,o).next(u=>u?rt.resolve():n(o)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(m=>{m||(r++,u.removeEntry(f,It.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),rt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nh(t.data.value)),n}Dr(t,n,r){return rt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return rt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.ds=r,this.As=o}static Rs(t,n){let r=jt(),o=jt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iT()?8:P7(eT())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,n,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new uA;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,f,m.size)})}).next(()=>u.result)}Ds(t,n,r,o){return r.documentReadCount<this.gs?(Ha()<=Gt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),rt.resolve()):(Ha()<=Gt.DEBUG&&pt("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(Ha()<=Gt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(n))):rt.resolve())}ws(t,n){if(jy(n))return rt.resolve(null);let r=vi(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=im(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=jt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,r).next(y=>{const p=this.vs(n,m);return this.Cs(n,p,f,y.readTime)?this.ws(t,im(n,null,"F")):this.Fs(t,p,n,y)}))})))}bs(t,n,r,o){return jy(n)||o.isEqual(It.min())?rt.resolve(null):this.ys.getDocuments(t,r).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,r,o)?rt.resolve(null):(Ha()<=Gt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.Fs(t,f,n,M7(o,eu)).next(m=>m))})}vs(t,n){let r=new Oe(i3(t));return n.forEach((o,u)=>{Gh(t,u)&&(r=r.add(u))}),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return Ha()<=Gt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ys.getDocumentsMatchingQuery(t,n,Gs.min(),r)}Fs(t,n,r,o){return this.ys.getDocumentsMatchingQuery(t,r,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",hA=3e8;class fA{constructor(t,n,r,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new he(Nt),this.Os=new Fr(u=>Um(u),zm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function dA(s,t,n,r){return new fA(s,t,n,r)}async function R3(s,t){const n=Dt(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],m=[];let y=jt();for(const p of o){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next(p=>({ks:p,removedBatchIds:f,addedBatchIds:m}))})})}function mA(s,t){const n=Dt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,y,p,E){const A=p.batch,S=A.keys();let V=rt.resolve();return S.forEach(P=>{V=V.next(()=>E.getEntry(y,P)).next(Q=>{const H=p.docVersions.get(P);Xt(H!==null,48541),Q.version.compareTo(H)<0&&(A.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,r,t,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let y=jt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function x3(s){const t=Dt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function gA(s,t){const n=Dt(s),r=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,A)));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?V=V.withResumeToken(Ze.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),o=o.insert(A,V),function(Q,H,$){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=hA?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,V,E)&&m.push(n.Ti.updateTargetData(u,V))});let y=is(),p=jt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(pA(u,f,t.documentUpdates).next(E=>{y=E.qs,p=E.Qs})),!r.isEqual(It.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(E)}return rt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,p)).next(()=>y)}).then(u=>(n.xs=o,u))}function pA(s,t,n){let r=jt(),o=jt();return n.forEach(u=>r=r.add(u)),t.getEntries(s,r).next(u=>{let f=is();return n.forEach((m,y)=>{const p=u.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(It.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):pt(Km,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)}),{qs:f,Qs:o}})}function yA(s,t){const n=Dt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=km),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function _A(s,t){const n=Dt(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ti.getTargetData(r,t).next(u=>u?(o=u,rt.resolve(o)):n.Ti.allocateTargetId(r).next(f=>(o=new Ps(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function lm(s,t,n){const r=Dt(s),o=r.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!fo(f))throw f;pt(Km,`Failed to update sequence numbers for target ${t}: ${f}`)}r.xs=r.xs.remove(t),r.Os.delete(o.target)}function $y(s,t,n){const r=Dt(s);let o=It.min(),u=jt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(y,p,E){const A=Dt(y),S=A.Os.get(E);return S!==void 0?rt.resolve(A.xs.get(S)):A.Ti.getTargetData(p,E)}(r,f,vi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>r.Ms.getDocumentsMatchingQuery(f,t,n?o:It.min(),n?u:jt())).next(m=>(vA(r,r8(t),m),{documents:m,$s:u})))}function vA(s,t,n){let r=s.Ns.get(t)||It.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),s.Ns.set(t,r)}class Jy{constructor(){this.activeTargetIds=h8()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EA{constructor(){this.xo=new Jy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Jy,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="ConnectivityMonitor";class t_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pt(Wy,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){pt(Wy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function um(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="RestConnection",AA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bA{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(t,n,r,o,u){const f=um(),m=this.jo(t,n.toUriEncodedString());pt(S1,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,o,u);const{host:p}=new URL(m),E=Om(p);return this.Jo(t,m,y,r,E).then(A=>(pt(S1,`Received RPC '${t}' ${f}: `,A),A),A=>{throw to(S1,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",r),A})}Yo(t,n,r,o,u,f){return this.zo(t,n,r,o,u)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const r=AA[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class wA extends bA{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=um();return new Promise((m,y)=>{const p=new Vv;p.setWithCredentials(!0),p.listenOnce(Mv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case eh.NO_ERROR:const A=p.getResponseJson();pt(tn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case eh.TIMEOUT:pt(tn,`RPC '${t}' ${f} timed out`),y(new Et(ot.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const S=p.getStatus();if(pt(tn,`RPC '${t}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const P=V==null?void 0:V.error;if(P&&P.status&&P.message){const Q=function($){const nt=$.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(nt)>=0?nt:ot.UNKNOWN}(P.status);y(new Et(Q,P.message))}else y(new Et(ot.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new Et(ot.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{h_:t,streamId:f,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{pt(tn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);pt(tn,`RPC '${t}' ${f} sending request:`,o),p.send(n,"POST",E,r,15)})}I_(t,n,r){const o=um(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Lv(),m=Nv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=u.join("");pt(tn,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.E_(A);let S=!1,V=!1;const P=new SA({Zo:H=>{V?pt(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(S||(pt(tn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),S=!0),pt(tn,`RPC '${t}' stream ${o} sending:`,H),A.send(H))},Xo:()=>A.close()}),Q=(H,$,nt)=>{H.listen($,J=>{try{nt(J)}catch(ct){setTimeout(()=>{throw ct},0)}})};return Q(A,Dl.EventType.OPEN,()=>{V||(pt(tn,`RPC '${t}' stream ${o} transport opened.`),P.__())}),Q(A,Dl.EventType.CLOSE,()=>{V||(V=!0,pt(tn,`RPC '${t}' stream ${o} transport closed`),P.u_(),this.d_(A))}),Q(A,Dl.EventType.ERROR,H=>{V||(V=!0,to(tn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),P.u_(new Et(ot.UNAVAILABLE,"The operation could not be completed")))}),Q(A,Dl.EventType.MESSAGE,H=>{var $;if(!V){const nt=H.data[0];Xt(!!nt,16349);const J=nt,ct=(J==null?void 0:J.error)||(($=J[0])===null||$===void 0?void 0:$.error);if(ct){pt(tn,`RPC '${t}' stream ${o} received error:`,ct);const at=ct.status;let ft=function(R){const O=Se[R];if(O!==void 0)return g3(O)}(at),x=ct.message;ft===void 0&&(ft=ot.INTERNAL,x="Unknown error status: "+at+" with message "+ct.message),V=!0,P.u_(new Et(ft,x)),A.close()}else pt(tn,`RPC '${t}' stream ${o} received:`,nt),P.c_(nt)}}),Q(m,Ov.STAT_EVENT,H=>{H.stat===$1.PROXY?pt(tn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===$1.NOPROXY&&pt(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function w1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(s){return new I8(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(t,n,r=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-r);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="PersistentStream";class D3{constructor(t,n,r,o,u,f,m,y){this.xi=t,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new I3(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===n&&this.z_(r,o)},r=>{t(()=>{const o=new Et(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(t,n){const r=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return pt(e_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(pt(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CA extends D3{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=M8(this.serializer,t),r=function(u){if(!("targetChange"in u))return It.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?Ti(f.readTime):It.min()}(t);return this.listener.Y_(n,r)}Z_(t){const n={};n.database=om(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=nm(y)?{documents:L8(u,y)}:{query:k8(u,y).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_3(u,f.resumeToken);const p=sm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(It.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const p=sm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,t);const r=j8(this.serializer,t);r&&(n.labels=r),this.Q_(n)}X_(t){const n={};n.database=om(this.serializer),n.removeTarget=t,this.Q_(n)}}class RA extends D3{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=N8(t.writeResults,t.commitTime),r=Ti(t.commitTime);return this.listener.ra(r,n)}ia(){const t={};t.database=om(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>O8(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{}class IA extends xA{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Et(ot.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,rm(n,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Et(ot.UNKNOWN,u.toString())})}Yo(t,n,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,rm(n,r),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Et(ot.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class DA{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ns(n),this.ua=!1):pt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="RemoteStore";class VA{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{r.enqueueAndForget(async()=>{Qr(this)&&(pt(qr,"Restarting streams for network reachability change."),await async function(y){const p=Dt(y);p.da.add(4),await gu(p),p.Va.set("Unknown"),p.da.delete(4),await Xh(p)}(this))})}),this.Va=new DA(r,o)}}async function Xh(s){if(Qr(s))for(const t of s.Aa)await t(!0)}async function gu(s){for(const t of s.Aa)await t(!1)}function V3(s,t){const n=Dt(s);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Jm(n)?$m(n):mo(n).N_()&&Zm(n,t))}function Xm(s,t){const n=Dt(s),r=mo(n);n.Ea.delete(t),r.N_()&&M3(n,t),n.Ea.size===0&&(r.N_()?r.k_():Qr(n)&&n.Va.set("Unknown"))}function Zm(s,t){if(s.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mo(s).Z_(t)}function M3(s,t){s.ma.Ke(t),mo(s).X_(t)}function $m(s){s.ma=new w8({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>s.Ea.get(t)||null,Pt:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Va.ca()}function Jm(s){return Qr(s)&&!mo(s).O_()&&s.Ea.size>0}function Qr(s){return Dt(s).da.size===0}function O3(s){s.ma=void 0}async function MA(s){s.Va.set("Online")}async function OA(s){s.Ea.forEach((t,n)=>{Zm(s,t)})}async function NA(s,t){O3(s),Jm(s)?(s.Va.Pa(t),$m(s)):s.Va.set("Unknown")}async function LA(s,t,n){if(s.Va.set("Online"),t instanceof y3&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(s,t)}catch(r){pt(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await wh(s,r)}else if(t instanceof rh?s.ma.Xe(t):t instanceof p3?s.ma.ot(t):s.ma.nt(t),!n.isEqual(It.min()))try{const r=await x3(s.localStore);n.compareTo(r)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ea.get(p);E&&u.Ea.set(p,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,p)=>{const E=u.Ea.get(y);if(!E)return;u.Ea.set(y,E.withResumeToken(Ze.EMPTY_BYTE_STRING,E.snapshotVersion)),M3(u,y);const A=new Ps(E.target,y,p,E.sequenceNumber);Zm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(r){pt(qr,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,t,n){if(!fo(t))throw t;s.da.add(1),await gu(s),s.Va.set("Offline"),n||(n=()=>x3(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{pt(qr,"Retrying IndexedDB access"),await n(),s.da.delete(1),await Xh(s)})}function N3(s,t){return t().catch(n=>wh(s,n,t))}async function Zh(s){const t=Dt(s),n=Ks(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:km;for(;kA(t);)try{const o=await yA(t.localStore,r);if(o===null){t.Ia.length===0&&n.k_();break}r=o.batchId,PA(t,o)}catch(o){await wh(t,o)}L3(t)&&k3(t)}function kA(s){return Qr(s)&&s.Ia.length<10}function PA(s,t){s.Ia.push(t);const n=Ks(s);n.N_()&&n.ea&&n.ta(t.mutations)}function L3(s){return Qr(s)&&!Ks(s).O_()&&s.Ia.length>0}function k3(s){Ks(s).start()}async function jA(s){Ks(s).ia()}async function UA(s){const t=Ks(s);for(const n of s.Ia)t.ta(n.mutations)}async function zA(s,t,n){const r=s.Ia.shift(),o=qm.from(r,t,n);await N3(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Zh(s)}async function BA(s,t){t&&Ks(s).ea&&await async function(r,o){if(function(f){return b8(f)&&f!==ot.ABORTED}(o.code)){const u=r.Ia.shift();Ks(r).L_(),await N3(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zh(r)}}(s,t),L3(s)&&k3(s)}async function n_(s,t){const n=Dt(s);n.asyncQueue.verifyOperationInProgress(),pt(qr,"RemoteStore received new credentials");const r=Qr(n);n.da.add(3),await gu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Xh(n)}async function qA(s,t){const n=Dt(s);t?(n.da.delete(2),await Xh(n)):t||(n.da.add(2),await gu(n),n.Va.set("Unknown"))}function mo(s){return s.fa||(s.fa=function(n,r,o){const u=Dt(n);return u.oa(),new CA(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(s.datastore,s.asyncQueue,{e_:MA.bind(null,s),n_:OA.bind(null,s),i_:NA.bind(null,s),Y_:LA.bind(null,s)}),s.Aa.push(async t=>{t?(s.fa.L_(),Jm(s)?$m(s):s.Va.set("Unknown")):(await s.fa.stop(),O3(s))})),s.fa}function Ks(s){return s.ga||(s.ga=function(n,r,o){const u=Dt(n);return u.oa(),new RA(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:jA.bind(null,s),i_:BA.bind(null,s),na:UA.bind(null,s),ra:zA.bind(null,s)}),s.Aa.push(async t=>{t?(s.ga.L_(),await Zh(s)):(await s.ga.stop(),s.Ia.length>0&&(pt(qr,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new Wm(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,t){if(ns("AsyncQueue",`${t}: ${s}`),fo(s))return new Et(ot.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||bt.comparator(n.key,r.key):(n,r)=>bt.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.pa=new he(bt.comparator)}track(t){const n=t.doc.key,r=this.pa.get(n);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(n,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(n):t.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Ct(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,r)=>{t.push(r)}),t}}class ro{constructor(t,n,r,o,u,f,m,y,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ro(t,n,Za.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class GA{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Dt(n),u=o.queries;o.queries=s_(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(r)})})(this,new Et(ot.ABORTED,"Firestore shutting down"))}}function s_(){return new Fr(s=>n3(s),Hh)}async function P3(s,t){const n=Dt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(r=2):(u=new HA,r=t.va()?0:1);try{switch(r){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=tg(f,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&eg(n)}async function j3(s,t){const n=Dt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FA(s,t){const n=Dt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(r=!0);f.ba=o}}r&&eg(n)}function QA(s,t,n){const r=Dt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function eg(s){s.Ca.forEach(t=>{t.next()})}var cm,r_;(r_=cm||(cm={})).xa="default",r_.Cache="cache";class U3{constructor(t,n,r){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(t){this.key=t}}class B3{constructor(t){this.key=t}}class YA{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.Za=i3(t),this.Xa=new Za(this.Za)}get eu(){return this.Ha}tu(t,n){const r=n?n.nu:new i_,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const S=o.get(E),V=Gh(this.query,A)?A:null,P=!!S&&this.mutatedKeys.has(S.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;S&&V?S.data.isEqual(V.data)?P!==Q&&(r.track({type:3,doc:V}),H=!0):this.ru(S,V)||(r.track({type:2,doc:V}),H=!0,(y&&this.Za(V,y)>0||p&&this.Za(V,p)<0)&&(m=!0)):!S&&V?(r.track({type:0,doc:V}),H=!0):S&&!V&&(r.track({type:1,doc:S}),H=!0,(y||p)&&(m=!0)),H&&(V?(f=f.add(V),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{Xa:f,nu:r,Cs:m,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((E,A)=>function(V,P){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Vt:H})}};return Q(V)-Q(P)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(r),o=o!=null&&o;const m=n&&!o?this.su():[],y=this.Ya.size===0&&this.current&&!o?1:0,p=y!==this.Ja;return this.Ja=y,f.length!==0||p?{snapshot:new ro(this.query,t.Xa,u,f,t.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new i_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new B3(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new z3(r))}),n}au(t){this.Ha=t.$s,this.Ya=jt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ro.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ng="SyncEngine";class KA{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class XA{constructor(t){this.key=t,this.cu=!1}}class ZA{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Fr(m=>n3(m),Hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new he(bt.comparator),this.Eu=new Map,this.du=new Fm,this.Au={},this.Ru=new Map,this.Vu=so.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function $A(s,t,n=!0){const r=Y3(s);let o;const u=r.hu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await q3(r,t,n,!0),o}async function JA(s,t){const n=Y3(s);await q3(n,t,!0,!1)}async function q3(s,t,n,r){const o=await _A(s.localStore,vi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await WA(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&V3(s.remoteStore,o),m}async function WA(s,t,n,r,o){s.fu=(A,S,V)=>async function(Q,H,$,nt){let J=H.view.tu($);J.Cs&&(J=await $y(Q.localStore,H.query,!1).then(({documents:x})=>H.view.tu(x,J)));const ct=nt&&nt.targetChanges.get(H.targetId),at=nt&&nt.targetMismatches.get(H.targetId)!=null,ft=H.view.applyChanges(J,Q.isPrimaryClient,ct,at);return o_(Q,H.targetId,ft.ou),ft.snapshot}(s,A,S,V);const u=await $y(s.localStore,t,!0),f=new YA(t,u.$s),m=f.tu(u.documents),y=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=f.applyChanges(m,s.isPrimaryClient,y);o_(s,n,p.ou);const E=new KA(t,n,f);return s.hu.set(t,E),s.Pu.has(n)?s.Pu.get(n).push(t):s.Pu.set(n,[t]),p.snapshot}async function tb(s,t,n){const r=Dt(s),o=r.hu.get(t),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(f=>!Hh(f,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await lm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Xm(r.remoteStore,o.targetId),hm(r,o.targetId)}).catch(ho)):(hm(r,o.targetId),await lm(r.localStore,o.targetId,!0))}async function eb(s,t){const n=Dt(s),r=n.hu.get(t),o=n.Pu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(n.remoteStore,r.targetId))}async function nb(s,t,n){const r=ub(s);try{const o=await function(f,m){const y=Dt(f),p=Me.now(),E=m.reduce((V,P)=>V.add(P.key),jt());let A,S;return y.persistence.runTransaction("Locally write mutations","readwrite",V=>{let P=is(),Q=jt();return y.Bs.getEntries(V,E).next(H=>{P=H,P.forEach(($,nt)=>{nt.isValidDocument()||(Q=Q.add($))})}).next(()=>y.localDocuments.getOverlayedDocuments(V,P)).next(H=>{A=H;const $=[];for(const nt of m){const J=_8(nt,A.get(nt.key).overlayedDocument);J!=null&&$.push(new $s(nt.key,J,Xv(J.value.mapValue),Ei.exists(!0)))}return y.mutationQueue.addMutationBatch(V,p,$,m)}).next(H=>{S=H;const $=H.applyToLocalDocumentSet(A,Q);return y.documentOverlayCache.saveOverlays(V,H.batchId,$)})}).then(()=>({batchId:S.batchId,changes:r3(A)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let p=f.Au[f.currentUser.toKey()];p||(p=new he(Nt)),p=p.insert(m,y),f.Au[f.currentUser.toKey()]=p}(r,o.batchId,n),await pu(r,o.changes),await Zh(r.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");n.reject(u)}}async function H3(s,t){const n=Dt(s);try{const r=await gA(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Xt(f.cu,14607):o.removedDocuments.size>0&&(Xt(f.cu,42227),f.cu=!1))}),await pu(n,r,t)}catch(r){await ho(r)}}function a_(s,t,n){const r=Dt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.hu.forEach((u,f)=>{const m=f.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Dt(f);y.onlineState=m;let p=!1;y.queries.forEach((E,A)=>{for(const S of A.Sa)S.Fa(m)&&(p=!0)}),p&&eg(y)}(r.eventManager,t),o.length&&r.lu.Y_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ib(s,t,n){const r=Dt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Eu.get(t),u=o&&o.key;if(u){let f=new he(bt.comparator);f=f.insert(u,sn.newNoDocument(u,It.min()));const m=jt().add(u),y=new Yh(It.min(),new Map,new he(Nt),f,m);await H3(r,y),r.Iu=r.Iu.remove(u),r.Eu.delete(t),ig(r)}else await lm(r.localStore,t,!1).then(()=>hm(r,t,n)).catch(ho)}async function sb(s,t){const n=Dt(s),r=t.batch.batchId;try{const o=await mA(n.localStore,t);F3(n,r,null),G3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pu(n,o)}catch(o){await ho(o)}}async function rb(s,t,n){const r=Dt(s);try{const o=await function(f,m){const y=Dt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next(A=>(Xt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(p,A))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(r.localStore,t);F3(r,t,n),G3(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pu(r,o)}catch(o){await ho(o)}}function G3(s,t){(s.Ru.get(t)||[]).forEach(n=>{n.resolve()}),s.Ru.delete(t)}function F3(s,t,n){const r=Dt(s);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Au[r.currentUser.toKey()]=o}}function hm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Pu.get(t))s.hu.delete(r),n&&s.lu.gu(r,n);s.Pu.delete(t),s.isPrimaryClient&&s.du.Hr(t).forEach(r=>{s.du.containsKey(r)||Q3(s,r)})}function Q3(s,t){s.Tu.delete(t.path.canonicalString());const n=s.Iu.get(t);n!==null&&(Xm(s.remoteStore,n),s.Iu=s.Iu.remove(t),s.Eu.delete(n),ig(s))}function o_(s,t,n){for(const r of n)r instanceof z3?(s.du.addReference(r.key,t),ab(s,r)):r instanceof B3?(pt(ng,"Document no longer in limbo: "+r.key),s.du.removeReference(r.key,t),s.du.containsKey(r.key)||Q3(s,r.key)):Ct(19791,{pu:r})}function ab(s,t){const n=t.key,r=n.path.canonicalString();s.Iu.get(n)||s.Tu.has(r)||(pt(ng,"New document in limbo: "+n),s.Tu.add(r),ig(s))}function ig(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const t=s.Tu.values().next().value;s.Tu.delete(t);const n=new bt(le.fromString(t)),r=s.Vu.next();s.Eu.set(r,new XA(n)),s.Iu=s.Iu.insert(n,r),V3(s.remoteStore,new Ps(vi(qh(n.path)),r,"TargetPurposeLimboResolution",jh.le))}}async function pu(s,t,n){const r=Dt(s),o=[],u=[],f=[];r.hu.isEmpty()||(r.hu.forEach((m,y)=>{f.push(r.fu(y,t,n).then(p=>{var E;if((p||n)&&r.isPrimaryClient){const A=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(p){o.push(p);const A=Ym.Rs(y.targetId,p);u.push(A)}}))}),await Promise.all(f),r.lu.Y_(o),await async function(y,p){const E=Dt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>rt.forEach(p,S=>rt.forEach(S.ds,V=>E.persistence.referenceDelegate.addReference(A,S.targetId,V)).next(()=>rt.forEach(S.As,V=>E.persistence.referenceDelegate.removeReference(A,S.targetId,V)))))}catch(A){if(!fo(A))throw A;pt(Km,"Failed to update sequence numbers: "+A)}for(const A of p){const S=A.targetId;if(!A.fromCache){const V=E.xs.get(S),P=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(P);E.xs=E.xs.insert(S,Q)}}}(r.localStore,u))}async function ob(s,t){const n=Dt(s);if(!n.currentUser.isEqual(t)){pt(ng,"User change. New user:",t.toKey());const r=await R3(n.localStore,t);n.currentUser=t,function(u,f){u.Ru.forEach(m=>{m.forEach(y=>{y.reject(new Et(ot.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pu(n,r.ks)}}function lb(s,t){const n=Dt(s),r=n.Eu.get(t);if(r&&r.cu)return jt().add(r.key);{let o=jt();const u=n.Pu.get(t);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function Y3(s){const t=Dt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=H3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ib.bind(null,t),t.lu.Y_=FA.bind(null,t.eventManager),t.lu.gu=QA.bind(null,t.eventManager),t}function ub(s){const t=Dt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rb.bind(null,t),t}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return dA(this.persistence,new cA,t.initialUser,this.serializer)}Su(t){return new C3(Qm.fi,this.serializer)}bu(t){return new EA}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class cb extends Ch{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Xt(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new X8(r,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new C3(r=>Sh.fi(r,n),this.serializer)}}class fm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ob.bind(null,this.syncEngine),await qA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new GA}()}createDatastore(t){const n=Kh(t.databaseInfo.databaseId),r=function(u){return new wA(u)}(t.databaseInfo);return function(u,f,m,y){return new IA(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,u,f,m){return new VA(r,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return t_.C()?new t_:new TA}())}createSyncEngine(t,n){return function(o,u,f,m,y,p,E){const A=new ZA(o,u,f,m,y,p);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Dt(o);pt(qr,"RemoteStore shutting down."),u.da.add(5),await gu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class hb{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{pt(Xs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(pt(Xs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=tg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function C1(s,t){s.asyncQueue.verifyOperationInProgress(),pt(Xs,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await R3(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function l_(s,t){s.asyncQueue.verifyOperationInProgress();const n=await fb(s);pt(Xs,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(r=>n_(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>n_(t.remoteStore,o)),s._onlineComponents=t}async function fb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){pt(Xs,"Using user provided OfflineComponentProvider");try{await C1(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await C1(s,new Ch)}}else pt(Xs,"Using default OfflineComponentProvider"),await C1(s,new cb(void 0));return s._offlineComponents}async function X3(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(pt(Xs,"Using user provided OnlineComponentProvider"),await l_(s,s._uninitializedComponentsProvider._online)):(pt(Xs,"Using default OnlineComponentProvider"),await l_(s,new fm))),s._onlineComponents}function db(s){return X3(s).then(t=>t.syncEngine)}async function dm(s){const t=await X3(s),n=t.eventManager;return n.onListen=$A.bind(null,t.syncEngine),n.onUnlisten=tb.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=JA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eb.bind(null,t.syncEngine),n}function mb(s,t,n={}){const r=new qs;return s.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,p){const E=new K3({next:S=>{E.xu(),f.enqueueAndForget(()=>j3(u,A));const V=S.docs.has(m);!V&&S.fromCache?p.reject(new Et(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&y&&y.source==="server"?p.reject(new Et(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),A=new U3(qh(m.path),E,{includeMetadataChanges:!0,Qa:!0});return P3(u,A)}(await dm(s),s.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(s,t,n){if(!n)throw new Et(ot.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function gb(s,t,n,r){if(t===!0&&r===!0)throw new Et(ot.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function c_(s){if(!bt.isDocumentKey(s))throw new Et(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function h_(s){if(bt.isDocumentKey(s))throw new Et(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function sg(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Ct(12329,{type:typeof s})}function Wi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Et(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(s);throw new Et(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="firestore.googleapis.com",f_=!0;class d_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Et(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J3,this.ssl=f_}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:f_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Y8)throw new Et(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z3((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Et(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Et(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Et(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $h{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b7;switch(r.type){case"firstParty":return new R7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=u_.get(n);r&&(pt("ComponentProvider","Removing Datastore"),u_.delete(n),r.terminate())}(this),Promise.resolve()}}function pb(s,t,n,r={}){var o;s=Wi(s,$h);const u=Om(t),f=s._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:s._getEmulatorOptions()}),y=`${t}:${n}`;u&&(ZE(`https://${y}`),tT("Firestore",!0)),f.host!==J3&&f.host!==y&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:y,ssl:u,emulatorOptions:r});if(!dh(p,m)&&(s._setSettings(p),r.mockUserToken)){let E,A;if(typeof r.mockUserToken=="string")E=r.mockUserToken,A=en.MOCK_USER;else{E=$E(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Et(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new en(S)}s._authCredentials=new S7(new Pv(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jh(this.firestore,t,this._query)}}class yn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}}class Hs extends Jh{constructor(t,n,r){super(t,n,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new bt(t))}withConverter(t){return new Hs(this.firestore,t,this._path)}}function yb(s,t,...n){if(s=ts(s),$3("collection","path",t),s instanceof $h){const r=le.fromString(t,...n);return h_(r),new Hs(s,null,r)}{if(!(s instanceof yn||s instanceof Hs))throw new Et(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...n));return h_(r),new Hs(s.firestore,null,r)}}function Wh(s,t,...n){if(s=ts(s),arguments.length===1&&(t=Uv.newId()),$3("doc","path",t),s instanceof $h){const r=le.fromString(t,...n);return c_(r),new yn(s,null,new bt(r))}{if(!(s instanceof yn||s instanceof Hs))throw new Et(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...n));return c_(r),new yn(s.firestore,s instanceof Hs?s.converter:null,new bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new I3(this,"async_queue_retry"),this.rc=()=>{const r=w1();r&&pt(m_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const n=w1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=w1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new qs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!fo(t))throw t;pt(m_,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,ns("INTERNAL UNHANDLED ERROR: ",p_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(t,n,r){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=Wm.createAndSchedule(this,t,n,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ct(47125,{cc:p_(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function p_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(s){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(s,["next","error","complete"])}class ao extends $h{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new g_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g_(t),this._firestoreClient=void 0,await t}}}function _b(s,t){const n=typeof s=="object"?s:c7(),r=typeof s=="string"?s:yh,o=r7(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=KE("firestore");u&&pb(o,...u)}return o}function rg(s){if(s._terminated)throw new Et(ot.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||vb(s),s._firestoreClient}function vb(s){var t,n,r;const o=s._freezeSettings(),u=function(m,y,p,E){return new q7(m,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Z3(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new hb(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oo(Ze.fromBase64String(t))}catch(n){throw new Et(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new oo(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Et(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Et(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Et(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=/^__.*__$/;class Tb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new $s(t,this.data,this.fieldMask,n,this.fieldTransforms):new du(t,this.data,n,this.fieldTransforms)}}class W3{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new $s(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function t4(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ic:s})}}class ug{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:r,Rc:!1});return o.Vc(t),o}mc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Rh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(t4(this.Ic)&&Eb.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Ab{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(t)}bc(t,n,r,o=!1){return new ug({Ic:t,methodName:n,wc:r,path:Xe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e4(s){const t=s._freezeSettings(),n=Kh(s._databaseId);return new Ab(s._databaseId,!!t.ignoreUndefinedProperties,n)}function bb(s,t,n,r,o,u={}){const f=s.bc(u.merge||u.mergeFields?2:0,t,n,o);cg("Data must be an object, but it was:",f,r);const m=n4(r,f);let y,p;if(u.merge)y=new Rn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=mm(t,A,n);if(!f.contains(S))throw new Et(ot.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);s4(E,S)||E.push(S)}y=new Rn(E),p=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,p=f.fieldTransforms;return new Tb(new pn(m),y,p)}class ef extends ag{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ef}}function Sb(s,t,n,r){const o=s.bc(1,t,n);cg("Data must be an object, but it was:",o,r);const u=[],f=pn.empty();Zs(r,(y,p)=>{const E=hg(t,y,n);p=ts(p);const A=o.mc(E);if(p instanceof ef)u.push(E);else{const S=nf(p,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new Rn(u);return new W3(f,m,o.fieldTransforms)}function wb(s,t,n,r,o,u){const f=s.bc(1,t,n),m=[mm(t,r,n)],y=[o];if(u.length%2!=0)throw new Et(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(mm(t,u[S])),y.push(u[S+1]);const p=[],E=pn.empty();for(let S=m.length-1;S>=0;--S)if(!s4(p,m[S])){const V=m[S];let P=y[S];P=ts(P);const Q=f.mc(V);if(P instanceof ef)p.push(V);else{const H=nf(P,Q);H!=null&&(p.push(V),E.set(V,H))}}const A=new Rn(p);return new W3(E,A,f.fieldTransforms)}function nf(s,t){if(i4(s=ts(s)))return cg("Unsupported field value:",t,s),n4(s,t);if(s instanceof ag)return function(r,o){if(!t4(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const m of r){let y=nf(m,o.fc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(s,t)}return function(r,o){if((r=ts(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f8(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Me.fromDate(r);return{timestampValue:bh(o.serializer,u)}}if(r instanceof Me){const u=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(r instanceof og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:_3(o.serializer,r._byteString)};if(r instanceof yn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof lg)return function(f,m){return{mapValue:{fields:{[Yv]:{stringValue:Kv},[_h]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.gc("VectorValues must only contain numeric values.");return Bm(m.serializer,p)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${sg(r)}`)}(s,t)}function n4(s,t){const n={};return Bv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(s,(r,o)=>{const u=nf(o,t.Ac(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function i4(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Me||s instanceof og||s instanceof oo||s instanceof yn||s instanceof ag||s instanceof lg)}function cg(s,t,n){if(!i4(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=sg(n);throw r==="an object"?t.gc(s+" a custom object"):t.gc(s+" "+r)}}function mm(s,t,n){if((t=ts(t))instanceof tf)return t._internalPath;if(typeof t=="string")return hg(s,t);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,n)}const Cb=new RegExp("[~\\*/\\[\\]]");function hg(s,t,n){if(t.search(Cb)>=0)throw Rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new tf(...t.split("."))._internalPath}catch{throw Rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Rh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new Et(ot.INVALID_ARGUMENT,m+s+y)}function s4(s,t){return s.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(a4("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Rb extends r4{data(){return super.data()}}function a4(s,t){return typeof t=="string"?hg(s,t):t instanceof tf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Et(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{convertValue(t,n="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Zs(t,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertVectorValue(t){var n,r,o;const u=(o=(r=(n=t.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>ve(f.doubleValue));return new lg(u)}convertGeoPoint(t){return new og(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=zh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=Fs(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=le.fromString(t);Xt(S3(r),9688,{name:t});const o=new iu(r.get(1),r.get(3)),u=new bt(r.popFirst(5));return o.isEqual(n)||ns(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s,t,n){let r;return r=s?s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class o4 extends r4{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(a4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ah extends o4{data(t={}){return super.data(t)}}class Vb{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Mb(m.type),doc:y,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Mb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s){s=Wi(s,yn);const t=Wi(s.firestore,ao);return mb(rg(t),s._key).then(n=>c4(t,s,n))}class l4 extends Ib{constructor(t){super(),this.firestore=t}convertBytes(t){return new oo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Nb(s,t,n,...r){s=Wi(s,yn);const o=Wi(s.firestore,ao),u=e4(o);let f;return f=typeof(t=ts(t))=="string"||t instanceof tf?wb(u,"updateDoc",s._key,t,n,r):Sb(u,"updateDoc",s._key,t),u4(o,[f.toMutation(s._key,Ei.exists(!0))])}function Lb(s,t){const n=Wi(s.firestore,ao),r=Wh(s),o=Db(s.converter,t);return u4(n,[bb(e4(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then(()=>r)}function kb(s,...t){var n,r,o;s=ts(s);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||y_(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(y_(t[f])){const A=t[f];t[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),t[f+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),t[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let y,p,E;if(s instanceof yn)p=Wi(s.firestore,ao),E=qh(s._key.path),y={next:A=>{t[f]&&t[f](c4(p,s,A))},error:t[f+1],complete:t[f+2]};else{const A=Wi(s,Jh);p=Wi(A.firestore,ao),E=A._query;const S=new l4(p);y={next:V=>{t[f]&&t[f](new Vb(p,S,A,V))},error:t[f+1],complete:t[f+2]},xb(s._query)}return function(S,V,P,Q){const H=new K3(Q),$=new U3(V,H,P);return S.asyncQueue.enqueueAndForget(async()=>P3(await dm(S),$)),()=>{H.xu(),S.asyncQueue.enqueueAndForget(async()=>j3(await dm(S),$))}}(rg(p),E,m,y)}function u4(s,t){return function(r,o){const u=new qs;return r.asyncQueue.enqueueAndForget(async()=>nb(await db(r),o,u)),u.promise}(rg(s),t)}function c4(s,t,n){const r=n.docs.get(t._key),o=new l4(s);return new o4(s,o,t._key,r,new Ol(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){co=o})(u7),gh(new Wl("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new ao(new w7(r.getProvider("auth-internal")),new x7(f,r.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Et(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xa(Ty,Ay,t),Xa(Ty,Ay,"esm2017")})();const Pb={apiKey:"AIzaSyA1YHZuK7xQzrGf2sVPo8Qax__FqLaFg_g",authDomain:"boop-chat.firebaseapp.com",projectId:"boop-chat",storageBucket:"boop-chat.firebasestorage.app",messagingSenderId:"86390385381",appId:"1:86390385381:web:899e240ed5dedab2a8c20c",measurementId:"G-R49YGVYMFQ"},jb=Rv(Pb),sf=_b(jb),Ub=async s=>(await Lb(yb(sf,"sessions"),s)).id,zb=async s=>{const t=await Ob(Wh(sf,"sessions",s));return t.exists()?(console.log("The data has been found at Firestore!"),t.data()):(console.log("The data doesn't exist at Firestore!"),null)},Bb=async(s,t)=>{Nb(Wh(sf,"sessions",s),t)},qb=async(s,t,n)=>{const r=Wh(sf,"sessions",s),o=kb(r,async u=>{var m;if(!u.exists())return;const f=u.data();f.receiverDescription&&((m=f.receiverCandidates)==null?void 0:m.length)>0&&(console.log("Receiver info available:",f),n.current=f.receiverName,t(f),o())});return o},__=async(s,t,n,r,o,u,f,m,y)=>{console.log(t.current),t.current.onicecandidate=E=>{E.candidate?(console.log("Ice candidate found! Candidate = ",E.candidate),console.log(u.current),u.current.push(E.candidate.toJSON())):(console.log("The ice gathering state might have been completed by this time!"),console.log("State = ",t.current.iceGatheringState))},t.current.onicecandidateerror=E=>{console.warn("ICE candidate error:",E.errorCode,E.port,E.url)};const p=t.current.getConfiguration();if(console.log("ICE servers configured on this PC:",p.iceServers),s==="sender"){t.current.addTransceiver("video",{direction:"sendrecv"}),t.current.addTransceiver("audio",{direction:"sendrecv"}),n.current=t.current.createDataChannel("chat"),r.current=t.current.createDataChannel("image"),o.current=t.current.createDataChannel("video"),n.current.onopen=()=>{console.log("The data channel has been established!"),f(!0)},r.current.onopen=()=>{console.log("The image channel has been established!")},o.current.onopen=()=>{console.log("The video channel has been established!")};let E=await t.current.createOffer();console.log("The offer has been created!"),await t.current.setLocalDescription(E),console.log("The local description has been added!")}else{console.log(t.current);let E=await zb(y);if(!E)return null;m.current=E.senderName,await Hb(t,E),console.log("The state of the peer connection = ",t.current.iceGatheringState)}console.log("The initial setup of the connection has been established.")},Hb=async(s,t)=>{console.log(t.senderDescription),await s.current.setRemoteDescription(t.senderDescription),console.log("The remote description has been added!"),s.current.getTransceivers().forEach(o=>{o.direction="sendrecv"});let r=await s.current.createAnswer();console.log("The answer has been created!"),await s.current.setLocalDescription(r),console.log("The local description has been added!");for(const o of t.senderCandidates)try{await s.current.addIceCandidate(o)}catch(u){console.error("Error adding ICE candidate:",u)}};async function Gb(s,t,n,r){console.log("Starting the createLink function! At the beginning of the function, the state = ",s.iceGatheringState),console.log("The iceCandidate object looks like this: ",t.current);let o=await Ub({senderName:n,senderDescription:{type:s.current.localDescription.type,sdp:s.current.localDescription.sdp},senderCandidates:t.current,receiverName:"",receiverDescription:"",receiverCandidates:""});return console.log("The session has been added to Firebase by the sender! Now, waiting for the receiver!"),qb(o,async u=>{await s.current.setRemoteDescription(new RTCSessionDescription(u.receiverDescription));for(const f of u.receiverCandidates)await s.current.addIceCandidate(new RTCIceCandidate(f))},r),o}async function Fb(s,t,n,r){return console.log("After the waiting, the state = ",s.current.iceGatheringState),await Bb(r,{receiverName:n,receiverDescription:{type:s.current.localDescription.type,sdp:s.current.localDescription.sdp},receiverCandidates:t.current}),"success"}const Qb=new URLSearchParams(window.location.search),Os=Qb.get("link"),Yb=()=>{const{peerConnection:s,iceCandidates:t,dataChannel:n,imageChannel:r,videoChannel:o,peerName:u,setConnected:f}=B.useContext(ze),{showNotification:m}=fu(),[y,p]=B.useState(!1),E=B.useRef(null);function A(V){V.preventDefault(),navigator.clipboard.writeText(V.target.elements.link.value),m("The link has been copied!")}const S=async V=>{if(V.preventDefault(),p(!0),Os){let P=await Fb(s,t,E.current.value,Os);console.log(P),P?P=="success"&&(s.current.ondatachannel=Q=>{Q.channel.label==="chat"&&(n.current=Q.channel,console.log("The data channel has been established!"),f(!0)),Q.channel.label==="image"&&(r.current=Q.channel,console.log("The image channel has been established!")),Q.channel.label==="video"&&(o.current=Q.channel,console.log("The video channel has been established!"))}):alert("The link you gave doesn't exist.")}else{let P=await Gb(s,t,E.current.value,u);E.current.value=`https://www.mukesharyal.com.np/boop?link=${P}`,E.current.disabled=!0,navigator.clipboard.writeText(E.current.value),m("The link has been copied!")}};return B.useEffect(()=>{__(Os?"receiver":"sender",s,n,r,o,t,f,u,Os)},[]),C.jsxs(C.Fragment,{children:[C.jsx(ME,{}),C.jsx("main",{className:xl.mainContainer,children:C.jsx("section",{className:xl.inputCard,children:y?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:xl.loaderWrapper,children:C.jsx("div",{className:xl.loader})}),C.jsx("h1",{children:Os?"Joining the chat":"Waiting for other person to join"}),!Os&&C.jsxs("form",{onSubmit:A,children:[C.jsx("input",{autoFocus:!0,spellCheck:!1,autoComplete:"off",name:"link",ref:E,title:"Copy this link",className:xl.linkInput}),C.jsx("br",{}),C.jsx("button",{name:"copyLinkButton",children:"Copy Link"})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("h1",{children:["Welcome to Boop.",C.jsx("br",{}),"Let's Get Started!"]}),C.jsxs("form",{onSubmit:S,children:[C.jsx("input",{name:"name",required:!0,minLength:2,maxLength:20,autoComplete:"off",type:"text",spellCheck:!1,placeholder:"Your Name",title:"Enter your name",id:"name",ref:E}),C.jsx("br",{}),Os?C.jsx("button",{type:"submit",children:"Join Chat"}):C.jsx("button",{type:"submit",children:"Create Link"})]})]})})})]})},Kb="_chatContainer_us48c_1",Xb={chatContainer:Kb},Zb="_actionList_1f49s_1",$b={actionList:Zb};function Jb({style:s}){const{dataChannel:t}=B.useContext(ze),{selectedMessageId:n,setReplying:r,messages:o,setMessages:u}=B.useContext(Be),{showNotification:f}=fu(),m=async()=>{o[n].type==="text"?(navigator.clipboard.writeText(o[n].content),f("The message has been copied!")):f("This message cannot be copied!")},y=()=>{r(!0)},p=()=>{if(o[n].sentId===null)u(E=>{const A=[...E];return A.splice(n,1),console.log(A),A});else{const E={type:"delete",sentId:o[n].sentId};t.current.send(JSON.stringify(E))}};return C.jsxs(nn.ul,{className:$b.actionList,style:{...s},children:[C.jsxs("li",{onClick:y,children:[C.jsxs("svg",{fill:"#000000",width:30,height:30,viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("title",{children:"reply"}),C.jsx("path",{d:"M3.488 15.136q0 0.96 0.8 1.472l10.72 7.136q0.416 0.288 0.896 0.32t0.928-0.224 0.704-0.672 0.256-0.896v-3.584q3.456 0 6.208 1.984t3.872 5.152q0.64-1.792 0.64-3.552 0-2.912-1.44-5.376t-3.904-3.904-5.376-1.44v-3.584q0-0.48-0.256-0.896t-0.704-0.672-0.928-0.224-0.896 0.32l-10.72 7.136q-0.8 0.512-0.8 1.504z"})]}),"Reply"]}),C.jsxs("li",{onClick:m,children:[C.jsxs("svg",{width:30,height:30,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{d:"M16 12.9V17.1C16 20.6 14.6 22 11.1 22H6.9C3.4 22 2 20.6 2 17.1V12.9C2 9.4 3.4 8 6.9 8H11.1C14.6 8 16 9.4 16 12.9Z",fill:"#292D32"}),C.jsx("path",{d:"M17.0998 2H12.8998C9.81668 2 8.37074 3.09409 8.06951 5.73901C8.00649 6.29235 8.46476 6.75 9.02167 6.75H11.0998C15.2998 6.75 17.2498 8.7 17.2498 12.9V14.9781C17.2498 15.535 17.7074 15.9933 18.2608 15.9303C20.9057 15.629 21.9998 14.1831 21.9998 11.1V6.9C21.9998 3.4 20.5998 2 17.0998 2Z",fill:"#292D32"})]}),"Copy"]}),C.jsxs("li",{onClick:p,children:[C.jsx("svg",{width:30,height:30,viewBox:"-0.5 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"out",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:C.jsx("path",{d:"M4.91666667,14.8888889 C4.91666667,15.3571429 5.60416667,16 6.0625,16 L12.9375,16 C13.3958333,16 14.0833333,15.3571429 14.0833333,14.8888889 L14.0833333,6 L4.91666667,6 L4.91666667,14.8888889 L4.91666667,14.8888889 L4.91666667,14.8888889 Z M15,3.46500003 L12.5555556,3.46500003 L11.3333333,2 L7.66666667,2 L6.44444444,3.46500003 L4,3.46500003 L4,4.93000007 L15,4.93000007 L15,3.46500003 L15,3.46500003 L15,3.46500003 Z",id:"path",fill:"#000000","sketch:type":"MSShapeGroup"})})}),"Delete"]})]})}const Wb="_reactionList_1eaod_1",tS="_selectedReaction_1eaod_26",v_={reactionList:Wb,selectedReaction:tS},eS=["","","","","",""];function nS({pointerPosition:s,style:t}){const{dataChannel:n}=B.useContext(ze),{messages:r,selectedMessageId:o}=B.useContext(Be),u=r[o];let f=s.y-70,m=s.x-90;f<0&&(f=10),m<0&&(m=10);const y=p=>{p===u.reaction&&(p=-1);let A={type:"reaction",id:u.receivedId,reaction:p};n.current.send(JSON.stringify(A))};return C.jsx(nn.ul,{className:v_.reactionList,style:{top:f,left:m,...t},children:eS.map((p,E)=>C.jsx("li",{onClick:()=>{y(E)},className:u.reaction===E?v_.selectedReaction:"",children:p},E))})}const iS="_replyInfo_oczyu_1",sS="_replyingTo_oczyu_34",rS="_selectedMessage_oczyu_39",Yc={replyInfo:iS,replyingTo:sS,selectedMessage:rS};function aS(){const{peerName:s}=B.useContext(ze),{messages:t,selectedMessageId:n,setReplying:r}=B.useContext(Be),o=t[n].receivedId===null?"yourself":s.current,u=t[n].type==="image"?"Image":t[n].content,f=()=>{r(!1)};return C.jsxs("div",{className:Yc.replyInfo,children:[C.jsxs("div",{className:Yc.messageContents,children:[C.jsxs("p",{className:Yc.replyingTo,children:["Replying to ",o]}),C.jsx("p",{className:Yc.selectedMessage,children:u})]}),C.jsx("svg",{width:16,height:16,onClick:f,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})]})}const oS="_sent_1wqkl_15",lS="_received_1wqkl_19",uS="_actionsContainer_1wqkl_28",R1={sent:oS,received:lS,actionsContainer:uS};function cS({src:s,alt:t="image",sent:n}){const{setImageDialog:r}=B.useContext(Be),o=B.useRef(null),u=()=>{window.history.back()},f=()=>{window.open(s,"_blank")};return B.useEffect(()=>{const m=o.current;if(!m)return;const y=E=>{E.target===m&&u()},p=()=>{r({src:null,sent:null})};return m.addEventListener("click",y),window.addEventListener("popstate",p),()=>{m.removeEventListener("click",y),window.removeEventListener("popstate",p)}},[]),C.jsxs("dialog",{ref:o,className:n?R1.sent:R1.received,children:[C.jsxs("div",{className:R1.actionsContainer,children:[C.jsx("button",{onClick:u,children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})}),C.jsx("button",{onClick:f,children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.163 2.819C9 3.139 9 3.559 9 4.4V11H7.803c-.883 0-1.325 0-1.534.176a.75.75 0 0 0-.266.62c.017.274.322.593.931 1.232l4.198 4.401c.302.318.453.476.63.535a.749.749 0 0 0 .476 0c.177-.059.328-.217.63-.535l4.198-4.4c.61-.64.914-.96.93-1.233a.75.75 0 0 0-.265-.62C17.522 11 17.081 11 16.197 11H15V4.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 0 0-.655-.656C13.861 2 13.441 2 12.6 2h-1.2c-.84 0-1.26 0-1.581.163a1.5 1.5 0 0 0-.656.656zM5 21a1 1 0 0 0 1 1h12a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1z",fill:"#000000"})})})]}),C.jsx("img",{src:s,alt:t})]})}const hS="_videoCallContainer_10vuo_1",fS="_sendingVideo_10vuo_26",dS="_actionList_10vuo_36",mS="_startCall_10vuo_61",gS="_endCall_10vuo_65",pS="_rotateLogo_10vuo_74",yS="_callingIndicatorContainer_10vuo_78",_S="_callingIndicator_10vuo_78",Ns={videoCallContainer:hS,sendingVideo:fS,actionList:dS,startCall:mS,endCall:gS,rotateLogo:pS,callingIndicatorContainer:yS,callingIndicator:_S};function vS(){const{audio:s,video:t,setAudio:n,setVideo:r,cameraFace:o,setCameraFace:u,callState:f,localStream:m}=B.useContext(rf),{dataChannel:y}=B.useContext(ze),{setVideoCall:p}=B.useContext(Be),E=B.useRef(null),[A,S]=B.useState(f.current!==null),V=()=>{n(at=>!at)},P=()=>{r(at=>!at)},Q=()=>{y.current.send(JSON.stringify({type:"callEnd"})),f.current=null,p("hidden")},H=()=>{f.current=null,p("hidden")},$=()=>{p("mini")},nt=()=>{y.current.send(JSON.stringify({type:"callRequest"})),console.log("I am attempting a call!"),f.current="calling",S(at=>!at)},J=()=>{A?Q():nt()},ct=()=>{u(o==="front"?"back":"front")};return B.useEffect(()=>{E.current.srcObject=t?m.current:null},[t]),C.jsxs("div",{className:Ns.videoCallContainer,children:[C.jsx("video",{className:Ns.sendingVideo,ref:E,autoPlay:!0,muted:!0,poster:"./pp.svg"}),A?C.jsx("button",{onClick:$,children:C.jsx("svg",{width:20,height:20,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M222.927 580.115l301.354 328.512c24.354 28.708 20.825 71.724-7.883 96.078s-71.724 20.825-96.078-7.883L19.576 559.963a67.846 67.846 0 01-13.784-20.022 68.03 68.03 0 01-5.977-29.488l.001-.063a68.343 68.343 0 017.265-29.134 68.28 68.28 0 011.384-2.6 67.59 67.59 0 0110.102-13.687L429.966 21.113c25.592-27.611 68.721-29.247 96.331-3.656s29.247 68.721 3.656 96.331L224.088 443.784h730.46c37.647 0 68.166 30.519 68.166 68.166s-30.519 68.166-68.166 68.166H222.927z"})})}):C.jsx("button",{onClick:H,children:C.jsx("svg",{width:20,height:20,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})}),A&&C.jsx("div",{className:Ns.callingIndicatorContainer,children:C.jsx("span",{className:Ns.callingIndicator,children:"Calling"})}),C.jsxs("ul",{className:Ns.actionList,children:[C.jsx("li",{onClick:V,children:s?C.jsx("svg",{width:24,height:24,viewBox:"-5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:C.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-107.000000, -309.000000)",children:C.jsx("path",{d:"M118,333 C121.866,333 125,329.866 125,326 L125,316 C125,312.134 121.866,309 118,309 C114.134,309 111,312.134 111,316 L111,326 C111,329.866 114.134,333 118,333 L118,333 Z M129,328 L127,328 C126.089,332.007 122.282,335 118,335 C113.718,335 109.911,332.007 109,328 L107,328 C107.883,332.799 112.063,336.51 117,336.955 L117,339 L116,339 C115.448,339 115,339.448 115,340 C115,340.553 115.448,341 116,341 L120,341 C120.552,341 121,340.553 121,340 C121,339.448 120.552,339 120,339 L119,339 L119,336.955 C123.937,336.51 128.117,332.799 129,328 L129,328 Z",id:"microphone","sketch:type":"MSShapeGroup"})})})}):C.jsx("svg",{width:24,height:24,viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:C.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:C.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),C.jsx("li",{onClick:P,children:t?C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M21.15 6.17C20.74 5.95 19.88 5.72 18.71 6.54L17.24 7.58C17.13 4.47 15.78 3.25 12.5 3.25H6.5C3.08 3.25 1.75 4.58 1.75 8V16C1.75 18.3 3 20.75 6.5 20.75H12.5C15.78 20.75 17.13 19.53 17.24 16.42L18.71 17.46C19.33 17.9 19.87 18.04 20.3 18.04C20.67 18.04 20.96 17.93 21.15 17.83C21.56 17.62 22.25 17.05 22.25 15.62V8.38C22.25 6.95 21.56 6.38 21.15 6.17ZM11 11.38C9.97 11.38 9.12 10.54 9.12 9.5C9.12 8.46 9.97 7.62 11 7.62C12.03 7.62 12.88 8.46 12.88 9.5C12.88 10.54 12.03 11.38 11 11.38Z",fill:"#292D32"})}):C.jsxs("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{opacity:"0.4",d:"M17.7405 7.57031C17.7505 7.64031 17.7505 7.72031 17.7405 7.79031C17.7405 7.72031 17.7305 7.65031 17.7305 7.58031L17.7405 7.57031Z",fill:"#292D32"}),C.jsx("path",{d:"M17.2789 6.56L3.82891 20.01C2.42891 19.12 1.87891 17.53 1.87891 16V8C1.87891 4.58 3.20891 3.25 6.62891 3.25H12.6289C15.5189 3.25 16.9089 4.2 17.2789 6.56Z",fill:"#292D32"}),C.jsx("path",{d:"M21.4 2.22891C21.1 1.92891 20.61 1.92891 20.31 2.22891L1.85 20.6889C1.55 20.9889 1.55 21.4789 1.85 21.7789C2 21.9189 2.2 21.9989 2.39 21.9989C2.59 21.9989 2.78 21.9189 2.93 21.7689L21.4 3.30891C21.7 3.00891 21.7 2.52891 21.4 2.22891Z",fill:"#292D32"}),C.jsx("path",{d:"M22.3802 8.38047V15.6205C22.3802 17.0505 21.6802 17.6205 21.2802 17.8305C21.0902 17.9305 20.7902 18.0405 20.4202 18.0405C19.9902 18.0405 19.4602 17.9005 18.8402 17.4605L17.3602 16.4205C17.2902 18.6305 16.5902 19.8905 15.0002 20.4205C14.3602 20.6505 13.5702 20.7505 12.6202 20.7505H6.62016C6.38016 20.7505 6.15016 20.7405 5.91016 20.7105L15.0002 11.6305L20.6502 5.98047C20.9102 6.00047 21.1202 6.08047 21.2802 6.17047C21.6802 6.38047 22.3802 6.95047 22.3802 8.38047Z",fill:"#292D32"})]})}),C.jsx("li",{children:C.jsxs("svg",{onClick:ct,width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{d:"M9.77778 21H14.2222C17.3433 21 18.9038 21 20.0248 20.2646C20.51 19.9462 20.9267 19.5371 21.251 19.0607C22 17.9601 22 16.4279 22 13.3636C22 10.2994 22 8.76721 21.251 7.6666C20.9267 7.19014 20.51 6.78104 20.0248 6.46268C19.3044 5.99013 18.4027 5.82123 17.022 5.76086C16.3631 5.76086 15.7959 5.27068 15.6667 4.63636C15.4728 3.68489 14.6219 3 13.6337 3H10.3663C9.37805 3 8.52715 3.68489 8.33333 4.63636C8.20412 5.27068 7.63685 5.76086 6.978 5.76086C5.59733 5.82123 4.69555 5.99013 3.97524 6.46268C3.48995 6.78104 3.07328 7.19014 2.74902 7.6666C2 8.76721 2 10.2994 2 13.3636C2 16.4279 2 17.9601 2.74902 19.0607C3.07328 19.5371 3.48995 19.9462 3.97524 20.2646C5.09624 21 6.65675 21 9.77778 21Z"}),C.jsx("path",{className:Ns.rotateLogo,d:"M14.5197 8.84961C14.9339 8.84961 15.2697 9.1854 15.2697 9.59961V11.2796C15.2697 11.6342 15.0213 11.9404 14.6743 12.0135L13.1546 12.3335C12.7492 12.4189 12.3515 12.1595 12.2661 11.7542C12.1928 11.4061 12.3737 11.0637 12.6828 10.9198C11.8617 10.6788 10.9379 10.8822 10.2902 11.5299C9.34598 12.4741 9.34598 14.0049 10.2902 14.9491C11.2344 15.8933 12.7652 15.8933 13.7094 14.9491C14.112 14.5465 14.3422 14.0392 14.4019 13.5148C14.4487 13.1033 14.8203 12.8076 15.2319 12.8544C15.6434 12.9012 15.9391 13.2728 15.8923 13.6844C15.7957 14.5337 15.421 15.3588 14.77 16.0098C13.2401 17.5397 10.7595 17.5397 9.22951 16.0098C7.69954 14.4798 7.69954 11.9992 9.22951 10.4692C10.4581 9.24066 12.2996 8.99864 13.7697 9.74316V9.59961C13.7697 9.1854 14.1055 8.84961 14.5197 8.84961Z"})]})}),C.jsx("li",{onClick:J,className:A?Ns.endCall:Ns.startCall,children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})})})]})]})}const ES="_containingDiv_1w6qf_1",TS="_incomingCall_1w6qf_8",AS="_incomingCallText_1w6qf_25",bS="_callingText_1w6qf_31",SS="_callActions_1w6qf_42",wS="_acceptCall_1w6qf_49",CS="_rejectCall_1w6qf_53",$i={containingDiv:ES,incomingCall:TS,incomingCallText:AS,callingText:bS,callActions:SS,acceptCall:wS,rejectCall:CS};function RS(){const{peerName:s,dataChannel:t}=B.useContext(ze),{setVideoCall:n}=B.useContext(Be),[{x:r,y:o,opacity:u},f]=Hr(()=>({from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}})),m=()=>{t.current.send(JSON.stringify({type:"callAccept"})),n("call")},y=()=>{t.current.send(JSON.stringify({type:"callReject"})),n("hidden")},p=hu(({down:E,movement:[A],direction:[S]})=>{if(!E&&Math.abs(A)>100){f.start({x:S>0?500:-500,opacity:0,onRest:y});return}f.start({x:E?A:0,opacity:1})});return C.jsx("div",{className:$i.containingDiv,children:C.jsxs(nn.div,{...p(),className:$i.incomingCall,style:{x:r,y:o,opacity:u},children:[C.jsx("div",{className:$i.profileImage,children:C.jsx("img",{src:"./pp.svg",width:50,height:50,className:$i.profileImage})}),C.jsxs("div",{children:[C.jsx("p",{className:$i.incomingCallText,children:"Incoming Call"}),C.jsxs("p",{className:$i.callingText,children:[s.current," is calling you"]})]}),C.jsxs("div",{className:$i.callActions,children:[C.jsx("button",{className:$i.acceptCall,onClick:m,children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M9 16C2.814 9.813 3.11 5.134 5.94 3.012l.627-.467a1.483 1.483 0 0 1 2.1.353l1.579 2.272a1.5 1.5 0 0 1-.25 1.99L8.476 8.474c-.38.329-.566.828-.395 1.301.316.88 1.083 2.433 2.897 4.246 1.814 1.814 3.366 2.581 4.246 2.898.474.17.973-.015 1.302-.396l1.314-1.518a1.5 1.5 0 0 1 1.99-.25l2.276 1.58a1.48 1.48 0 0 1 .354 2.096l-.47.633C19.869 21.892 15.188 22.187 9 16z"})})}),C.jsx("button",{className:$i.rejectCall,onClick:y,children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})})})]})]})})}const xS="_videoCallContainer_1c0py_1",IS="_sendingVideo_1c0py_25",DS="_receivingVideo_1c0py_38",VS="_actionList_1c0py_47",MS="_endCall_1c0py_71",OS="_rotateLogo_1c0py_80",NS="_mutedButton_1c0py_84",Lr={videoCallContainer:xS,sendingVideo:IS,receivingVideo:DS,actionList:VS,endCall:MS,rotateLogo:OS,mutedButton:NS};function LS(){const{dataChannel:s}=B.useContext(ze),{setVideoCall:t}=B.useContext(Be),{audio:n,video:r,setAudio:o,setVideo:u,cameraFace:f,remoteAudio:m,remoteVideo:y,setCameraFace:p,localStream:E,remoteStream:A,sendingVideoPin:S,callState:V,videoTransceiver:P,audioTransceiver:Q}=B.useContext(rf),H=B.useRef(null),$=B.useRef(null),nt=B.useRef(null),[J,ct]=B.useState(!0),at=z=>{z.stopPropagation(),clearTimeout(nt.current),nt.current=setTimeout(()=>{ct(!1)},4e3)},ft=z=>{at(z),o(st=>!st)},x=z=>{at(z),u(st=>!st)},w=z=>{at(z),s.current.send(JSON.stringify({type:"callEnd"})),t("hidden")},[{x:R,y:O},N]=Hr(()=>({x:S.current.x,y:S.current.y,config:{tension:300,friction:15}})),k=hu(({down:z,offset:[st,mt],last:M})=>{if(z)S.current={x:st,y:mt},N.start({x:st,y:mt,immediate:!0});else if(M){const et=window.innerWidth,ht=window.innerHeight,{width:ut,height:_t}=$.current.getBoundingClientRect(),At=16,Tt=16,Yt=16,Ut=96;let fe=0;st<-((et-(Yt+Tt)-ut)/2)&&(fe=-(et-(Yt+Tt)-ut));let qe=mt;mt<0&&(qe=0),mt>ht-(At+Ut+_t)&&(qe=ht-(At+Ut+_t)),S.current={x:fe,y:qe},N.start({x:fe,y:qe,immediate:!1})}},{from:()=>[R.get(),O.get()]}),I=Ja(J,{from:{scale:0,opacity:0},enter:{scale:1,opacity:1,config:{tension:400,friction:20}},leave:{scale:0,opacity:0,config:{tension:400,friction:20}}}),gt=z=>{z.stopPropagation(),t("mini")},Z=z=>{at(z),p(f==="front"?"back":"front")};B.useEffect(()=>{V.current="connected"},[]),B.useEffect(()=>{H.current.srcObject=y?A.current:null},[y]),B.useEffect(()=>{$.current.srcObject=r?E.current:null,P.current.sender.replaceTrack(r?E.current.getVideoTracks()[0]:null)},[r]),B.useEffect(()=>{Q.current.sender.replaceTrack(n?E.current.getAudioTracks()[0]:null)},[n]),B.useLayoutEffect(()=>{N.start({x:R.get(),y:O.get(),immediate:!0})}),B.useEffect(()=>{J?nt.current=setTimeout(()=>{ct(!1)},4e3):clearTimeout(nt.current)},[J]);const j=()=>{ct(z=>!z)};return C.jsxs("div",{className:Lr.videoCallContainer,onClick:j,children:[C.jsx("video",{className:Lr.receivingVideo,autoPlay:!0,ref:H,poster:"./pp.svg"}),!m&&C.jsx("button",{className:Lr.mutedButton,children:C.jsx("svg",{width:16,height:16,viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:C.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:C.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),C.jsx(nn.video,{...k(),className:Lr.sendingVideo,style:{x:R,y:O},ref:$,autoPlay:!0,muted:!0,poster:"./pp.svg"}),I((z,st)=>st?C.jsxs(C.Fragment,{children:[C.jsx(nn.button,{onClick:mt=>{gt(mt)},style:{...z},children:C.jsx("svg",{width:20,height:20,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M222.927 580.115l301.354 328.512c24.354 28.708 20.825 71.724-7.883 96.078s-71.724 20.825-96.078-7.883L19.576 559.963a67.846 67.846 0 01-13.784-20.022 68.03 68.03 0 01-5.977-29.488l.001-.063a68.343 68.343 0 017.265-29.134 68.28 68.28 0 011.384-2.6 67.59 67.59 0 0110.102-13.687L429.966 21.113c25.592-27.611 68.721-29.247 96.331-3.656s29.247 68.721 3.656 96.331L224.088 443.784h730.46c37.647 0 68.166 30.519 68.166 68.166s-30.519 68.166-68.166 68.166H222.927z"})})}),C.jsxs("ul",{className:Lr.actionList,children:[C.jsx(nn.li,{style:{...z},onClick:mt=>{ft(mt)},children:n?C.jsx("svg",{width:24,height:24,viewBox:"-5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:C.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-107.000000, -309.000000)",children:C.jsx("path",{d:"M118,333 C121.866,333 125,329.866 125,326 L125,316 C125,312.134 121.866,309 118,309 C114.134,309 111,312.134 111,316 L111,326 C111,329.866 114.134,333 118,333 L118,333 Z M129,328 L127,328 C126.089,332.007 122.282,335 118,335 C113.718,335 109.911,332.007 109,328 L107,328 C107.883,332.799 112.063,336.51 117,336.955 L117,339 L116,339 C115.448,339 115,339.448 115,340 C115,340.553 115.448,341 116,341 L120,341 C120.552,341 121,340.553 121,340 C121,339.448 120.552,339 120,339 L119,339 L119,336.955 C123.937,336.51 128.117,332.799 129,328 L129,328 Z",id:"microphone","sketch:type":"MSShapeGroup"})})})}):C.jsx("svg",{width:24,height:24,viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:C.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:C.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),C.jsx(nn.li,{style:{...z},onClick:mt=>{x(mt)},children:r?C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M21.15 6.17C20.74 5.95 19.88 5.72 18.71 6.54L17.24 7.58C17.13 4.47 15.78 3.25 12.5 3.25H6.5C3.08 3.25 1.75 4.58 1.75 8V16C1.75 18.3 3 20.75 6.5 20.75H12.5C15.78 20.75 17.13 19.53 17.24 16.42L18.71 17.46C19.33 17.9 19.87 18.04 20.3 18.04C20.67 18.04 20.96 17.93 21.15 17.83C21.56 17.62 22.25 17.05 22.25 15.62V8.38C22.25 6.95 21.56 6.38 21.15 6.17ZM11 11.38C9.97 11.38 9.12 10.54 9.12 9.5C9.12 8.46 9.97 7.62 11 7.62C12.03 7.62 12.88 8.46 12.88 9.5C12.88 10.54 12.03 11.38 11 11.38Z",fill:"#292D32"})}):C.jsxs("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{opacity:"0.4",d:"M17.7405 7.57031C17.7505 7.64031 17.7505 7.72031 17.7405 7.79031C17.7405 7.72031 17.7305 7.65031 17.7305 7.58031L17.7405 7.57031Z",fill:"#292D32"}),C.jsx("path",{d:"M17.2789 6.56L3.82891 20.01C2.42891 19.12 1.87891 17.53 1.87891 16V8C1.87891 4.58 3.20891 3.25 6.62891 3.25H12.6289C15.5189 3.25 16.9089 4.2 17.2789 6.56Z",fill:"#292D32"}),C.jsx("path",{d:"M21.4 2.22891C21.1 1.92891 20.61 1.92891 20.31 2.22891L1.85 20.6889C1.55 20.9889 1.55 21.4789 1.85 21.7789C2 21.9189 2.2 21.9989 2.39 21.9989C2.59 21.9989 2.78 21.9189 2.93 21.7689L21.4 3.30891C21.7 3.00891 21.7 2.52891 21.4 2.22891Z",fill:"#292D32"}),C.jsx("path",{d:"M22.3802 8.38047V15.6205C22.3802 17.0505 21.6802 17.6205 21.2802 17.8305C21.0902 17.9305 20.7902 18.0405 20.4202 18.0405C19.9902 18.0405 19.4602 17.9005 18.8402 17.4605L17.3602 16.4205C17.2902 18.6305 16.5902 19.8905 15.0002 20.4205C14.3602 20.6505 13.5702 20.7505 12.6202 20.7505H6.62016C6.38016 20.7505 6.15016 20.7405 5.91016 20.7105L15.0002 11.6305L20.6502 5.98047C20.9102 6.00047 21.1202 6.08047 21.2802 6.17047C21.6802 6.38047 22.3802 6.95047 22.3802 8.38047Z",fill:"#292D32"})]})}),C.jsx(nn.li,{onClick:mt=>Z(mt),style:{...z},children:C.jsxs("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{d:"M9.77778 21H14.2222C17.3433 21 18.9038 21 20.0248 20.2646C20.51 19.9462 20.9267 19.5371 21.251 19.0607C22 17.9601 22 16.4279 22 13.3636C22 10.2994 22 8.76721 21.251 7.6666C20.9267 7.19014 20.51 6.78104 20.0248 6.46268C19.3044 5.99013 18.4027 5.82123 17.022 5.76086C16.3631 5.76086 15.7959 5.27068 15.6667 4.63636C15.4728 3.68489 14.6219 3 13.6337 3H10.3663C9.37805 3 8.52715 3.68489 8.33333 4.63636C8.20412 5.27068 7.63685 5.76086 6.978 5.76086C5.59733 5.82123 4.69555 5.99013 3.97524 6.46268C3.48995 6.78104 3.07328 7.19014 2.74902 7.6666C2 8.76721 2 10.2994 2 13.3636C2 16.4279 2 17.9601 2.74902 19.0607C3.07328 19.5371 3.48995 19.9462 3.97524 20.2646C5.09624 21 6.65675 21 9.77778 21Z"}),C.jsx("path",{className:Lr.rotateLogo,d:"M14.5197 8.84961C14.9339 8.84961 15.2697 9.1854 15.2697 9.59961V11.2796C15.2697 11.6342 15.0213 11.9404 14.6743 12.0135L13.1546 12.3335C12.7492 12.4189 12.3515 12.1595 12.2661 11.7542C12.1928 11.4061 12.3737 11.0637 12.6828 10.9198C11.8617 10.6788 10.9379 10.8822 10.2902 11.5299C9.34598 12.4741 9.34598 14.0049 10.2902 14.9491C11.2344 15.8933 12.7652 15.8933 13.7094 14.9491C14.112 14.5465 14.3422 14.0392 14.4019 13.5148C14.4487 13.1033 14.8203 12.8076 15.2319 12.8544C15.6434 12.9012 15.9391 13.2728 15.8923 13.6844C15.7957 14.5337 15.421 15.3588 14.77 16.0098C13.2401 17.5397 10.7595 17.5397 9.22951 16.0098C7.69954 14.4798 7.69954 11.9992 9.22951 10.4692C10.4581 9.24066 12.2996 8.99864 13.7697 9.74316V9.59961C13.7697 9.1854 14.1055 8.84961 14.5197 8.84961Z"})]})}),C.jsx(nn.li,{style:{...z},className:Lr.endCall,onClick:mt=>{w(mt)},children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})})})]})]}):null)]})}const kS="_miniVideoContainer_7ksnt_1",PS="_miniVideo_7ksnt_1",jS="_mutedButton_7ksnt_22",x1={miniVideoContainer:kS,miniVideo:PS,mutedButton:jS};function US(){const{remoteStream:s}=B.useContext(ze),{setVideoCall:t}=B.useContext(Be),{receivingVideoPin:n,callState:r,remoteVideo:o,remoteAudio:u}=B.useContext(rf),f=B.useRef(null);B.useEffect(()=>{f.current.srcObject=o?s.current:null},[o]);const[{x:m,y},p]=Hr(()=>({x:n.current.x,y:n.current.y,config:{tension:300,friction:30}})),E=hu(({down:S,offset:[V,P],last:Q})=>{if(S)n.current={x:V,y:P},p.start({x:V,y:P,immediate:!0});else if(Q){const H=window.innerWidth,$=window.innerHeight,{width:nt,height:J}=f.current.getBoundingClientRect(),ct=16,at=16,ft=16,x=96;let w=0;V>(H-(ft+at)-nt)/2&&(w=H-(ft+at)-nt);let R=P;P<0&&(R=0),P>$-(ct+x+J)&&(R=$-(ct+x+J)),n.current={x:w,y:R},p.start({x:w,y:R,immediate:!1})}},{from:()=>[m.get(),y.get()]}),A=()=>{t(r.current!=="connected"?"calling":"call")};return B.useLayoutEffect(()=>{p.start({x:m.get(),y:y.get(),immediate:!0})}),C.jsxs(nn.div,{...E(),onClick:A,style:{x:m,y},className:x1.miniVideoContainer,children:[C.jsx("video",{className:x1.miniVideo,autoPlay:!0,ref:f,poster:"./pp.svg"}),!u&&C.jsx("button",{className:x1.mutedButton,children:C.jsx("svg",{width:12,height:12,viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:C.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:C.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})})]})}const rf=B.createContext(null),zS=({mode:s})=>{const{peerConnection:t,remoteStream:n,videoChannel:r}=B.useContext(ze),[o,u]=B.useState(!1),[f,m]=B.useState(!1),[y,p]=B.useState(!0),[E,A]=B.useState(!0),[S,V]=B.useState("front"),P=B.useRef(null),Q=B.useRef(null),H=B.useRef(null),$=B.useRef({x:0,y:0}),nt=B.useRef({x:0,y:0}),J=B.useRef(null);return B.useEffect(()=>{r.current.onmessage=at=>{let ft=JSON.parse(at.data);ft.message==="audioOn"?p(!0):ft.message==="audioOff"?p(!1):ft.message==="videoOn"?A(!0):ft.message==="videoOff"&&A(!1)},J.current=new MediaStream;const ct=t.current.getTransceivers();return Q.current=ct.find(at=>{var ft,x,w;return((ft=at.receiver.track)==null?void 0:ft.kind)==="video"||((x=at.sender.track)==null?void 0:x.kind)==="video"||((w=at.mid)==null?void 0:w.includes("video"))}),P.current=ct.find(at=>{var ft,x,w;return((ft=at.receiver.track)==null?void 0:ft.kind)==="audio"||((x=at.sender.track)==null?void 0:x.kind)==="audio"||((w=at.mid)==null?void 0:w.includes("audio"))}),()=>{var at;(at=J.current)==null||at.getTracks().forEach(ft=>{ft.stop()}),r.current.onmessage=null,console.log("Cleaning up the video call context!")}},[]),B.useEffect(()=>{(async()=>{J.current.getTracks().forEach(ft=>ft.stop()),J.current.getTracks().forEach(ft=>J.current.removeTrack(ft));const ct=S==="front"?"user":"environment";(await navigator.mediaDevices.getUserMedia({video:{facingMode:ct},audio:!0})).getTracks().forEach(ft=>{J.current.addTrack(ft)}),H.current==="connected"&&(Q.current.sender.replaceTrack(o?J.current.getVideoTracks()[0]:null),P.current.sender.replaceTrack(f?J.current.getAudioTracks()[0]:null))})()},[S]),B.useEffect(()=>{r.current.send(JSON.stringify({message:f?"audioOn":"audioOff"}))},[f]),B.useEffect(()=>{r.current.send(JSON.stringify({message:o?"videoOn":"videoOff"}))},[o]),C.jsxs(rf.Provider,{value:{mode:s,audio:f,setAudio:m,video:o,setVideo:u,cameraFace:S,setCameraFace:V,remoteAudio:y,remoteVideo:E,audioTransceiver:P,videoTransceiver:Q,callState:H,localStream:J,remoteStream:n,sendingVideoPin:$,receivingVideoPin:nt},children:[s==="incoming"&&C.jsx(RS,{}),s==="calling"&&C.jsx(vS,{}),s==="call"&&C.jsx(LS,{}),s==="mini"&&C.jsx(US,{})]})},BS="_navContainer_nf3oy_1",qS="_profileContainer_nf3oy_17",HS="_actionsContainer_nf3oy_31",Kc={navContainer:BS,profileContainer:qS,actionsContainer:HS};function GS(){const{peerName:s}=B.useContext(ze),{videoCall:t,setVideoCall:n}=B.useContext(Be),[r,o]=B.useState(!1);Ja(r,{from:{y:100,opacity:0},enter:{y:0,opacity:1,config:{tension:300,friction:25}},leave:{y:100,opacity:0,config:{tension:300,friction:25}}});const u=()=>{n("calling")},f=()=>{document.body.classList.toggle("dark")};return C.jsx(C.Fragment,{children:C.jsxs("nav",{"aria-label":"Main Navigation",className:Kc.navContainer,children:[C.jsxs("div",{className:Kc.profileContainer,children:[C.jsx("img",{src:"./pp.svg",width:30,height:30,className:Kc.profileImage}),C.jsx("p",{children:s.current?s.current:"Receiver"})]}),C.jsxs("ul",{className:Kc.actionsContainer,children:[t==="hidden"&&C.jsx("button",{onClick:u,children:C.jsx("svg",{width:20,height:20,viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"})})}),C.jsx("button",{onClick:f,children:C.jsx("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2788 2.15224C13.9085 2 13.439 2 12.5 2C11.561 2 11.0915 2 10.7212 2.15224C10.2274 2.35523 9.83509 2.74458 9.63056 3.23463C9.53719 3.45834 9.50065 3.7185 9.48635 4.09799C9.46534 4.65568 9.17716 5.17189 8.69017 5.45093C8.20318 5.72996 7.60864 5.71954 7.11149 5.45876C6.77318 5.2813 6.52789 5.18262 6.28599 5.15102C5.75609 5.08178 5.22018 5.22429 4.79616 5.5472C4.47814 5.78938 4.24339 6.1929 3.7739 6.99993C3.30441 7.80697 3.06967 8.21048 3.01735 8.60491C2.94758 9.1308 3.09118 9.66266 3.41655 10.0835C3.56506 10.2756 3.77377 10.437 4.0977 10.639C4.57391 10.936 4.88032 11.4419 4.88029 12C4.88026 12.5581 4.57386 13.0639 4.0977 13.3608C3.77372 13.5629 3.56497 13.7244 3.41645 13.9165C3.09108 14.3373 2.94749 14.8691 3.01725 15.395C3.06957 15.7894 3.30432 16.193 3.7738 17C4.24329 17.807 4.47804 18.2106 4.79606 18.4527C5.22008 18.7756 5.75599 18.9181 6.28589 18.8489C6.52778 18.8173 6.77305 18.7186 7.11133 18.5412C7.60852 18.2804 8.2031 18.27 8.69012 18.549C9.17714 18.8281 9.46533 19.3443 9.48635 19.9021C9.50065 20.2815 9.53719 20.5417 9.63056 20.7654C9.83509 21.2554 10.2274 21.6448 10.7212 21.8478C11.0915 22 11.561 22 12.5 22C13.439 22 13.9085 22 14.2788 21.8478C14.7726 21.6448 15.1649 21.2554 15.3694 20.7654C15.4628 20.5417 15.4994 20.2815 15.5137 19.902C15.5347 19.3443 15.8228 18.8281 16.3098 18.549C16.7968 18.2699 17.3914 18.2804 17.8886 18.5412C18.2269 18.7186 18.4721 18.8172 18.714 18.8488C19.2439 18.9181 19.7798 18.7756 20.2038 18.4527C20.5219 18.2105 20.7566 17.807 21.2261 16.9999C21.6956 16.1929 21.9303 15.7894 21.9827 15.395C22.0524 14.8691 21.9088 14.3372 21.5835 13.9164C21.4349 13.7243 21.2262 13.5628 20.9022 13.3608C20.4261 13.0639 20.1197 12.558 20.1197 11.9999C20.1197 11.4418 20.4261 10.9361 20.9022 10.6392C21.2263 10.4371 21.435 10.2757 21.5836 10.0835C21.9089 9.66273 22.0525 9.13087 21.9828 8.60497C21.9304 8.21055 21.6957 7.80703 21.2262 7C20.7567 6.19297 20.522 5.78945 20.2039 5.54727C19.7799 5.22436 19.244 5.08185 18.7141 5.15109C18.4722 5.18269 18.2269 5.28136 17.8887 5.4588C17.3915 5.71959 16.7969 5.73002 16.3099 5.45096C15.8229 5.17191 15.5347 4.65566 15.5136 4.09794C15.4993 3.71848 15.4628 3.45833 15.3694 3.23463C15.1649 2.74458 14.7726 2.35523 14.2788 2.15224ZM12.5 15C14.1695 15 15.5228 13.6569 15.5228 12C15.5228 10.3431 14.1695 9 12.5 9C10.8305 9 9.47716 10.3431 9.47716 12C9.47716 13.6569 10.8305 15 12.5 15Z",fill:"#1C274C"})})})]})]})})}const FS="_chatContainer_189rb_1",QS="_chatBottom_189rb_18",E_={chatContainer:FS,chatBottom:QS},YS="_textMessage_r1ous_1",KS="_sentMessage_r1ous_31",XS="_receivedMessage_r1ous_36",ZS="_sending_r1ous_41",$S="_sent_r1ous_31",JS="_deletedMessage_r1ous_49",WS="_topMessage_r1ous_55",tw="_bottomMessage_r1ous_60",ew="_repliedMessage_r1ous_73",nw="_hasImage_r1ous_78",iw="_hasReaction_r1ous_84",sw="_emoji_r1ous_96",Bn={textMessage:YS,sentMessage:KS,receivedMessage:XS,sending:ZS,sent:$S,deletedMessage:JS,topMessage:WS,bottomMessage:tw,repliedMessage:ew,hasImage:nw,hasReaction:iw,emoji:sw},rw="_reaction_1t2b5_1",aw="_sentReaction_1t2b5_11",ow="_receivedReaction_1t2b5_16",I1={reaction:rw,sentReaction:aw,receivedReaction:ow},lw=["","","","","",""];function uw({reaction:s,origin:t}){const[n,r]=Hr(()=>({scale:1}));return B.useEffect(()=>{r.start({from:{scale:0},to:{scale:1},config:{tension:300,friction:15}})},[s]),s!==-1?C.jsx(nn.span,{className:`${I1.reaction} ${t==="sent"?I1.sentReaction:I1.receivedReaction}`,style:{...n},children:lw[s]}):C.jsx(C.Fragment,{})}const cw="_requestDiv_1axuz_1",hw="_decisionBox_1axuz_9",fw="_loading_1axuz_35",D1={requestDiv:cw,decisionBox:hw,loading:fw};function dw({index:s,sentId:t,receivedId:n}){const{dataChannel:r,peerName:o}=B.useContext(ze),{setMessages:u,receivingImage:f}=B.useContext(Be),{showNotification:m}=fu(),[y,p]=B.useState(!1),E=()=>{f.current===null?(r.current.send(JSON.stringify({type:"imageAccept",sentId:n,receivedId:t})),p(!0)):m("Please wait for a while!")},A=()=>{r.current.send(JSON.stringify({type:"imageReject",sentId:n,receivedId:t})),u(S=>{const V=[...S];return V.splice(s,1),V})};return y?C.jsxs("div",{className:D1.loading,children:[C.jsx("span",{children:"L"}),C.jsx("span",{children:"o"}),C.jsx("span",{children:"a"}),C.jsx("span",{children:"d"}),C.jsx("span",{children:"i"}),C.jsx("span",{children:"n"}),C.jsx("span",{children:"g"}),C.jsx("span",{children:""}),C.jsx("span",{children:"i"}),C.jsx("span",{children:"m"}),C.jsx("span",{children:"a"}),C.jsx("span",{children:"g"}),C.jsx("span",{children:"e"})]}):C.jsxs("div",{className:D1.requestDiv,children:[C.jsxs("div",{children:[o.current," wants to send you an image"]}),C.jsxs("div",{className:D1.decisionBox,children:[C.jsx("button",{onClick:E,children:"Accept"}),C.jsx("button",{onClick:A,children:"Reject"})]})]})}function mw(s){return new RegExp("^(?:\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F|\\p{Emoji_Modifier_Base}(?:\\p{Emoji_Modifier})?|\\p{Extended_Pictographic})+$","u").test(s.trim())}const h4=$c.memo(function({index:t,prevMessage:n,nextMessage:r,message:o,replied:u}){const{dataChannel:f}=B.useContext(ze),{chatBottom:m,pointerPosition:y,setActionsShown:p,setReactionsShown:E,setSelectedMessageId:A,setReplying:S,longPressed:V,atBottomRef:P,setImageDialog:Q}=B.useContext(Be),{sentId:H,receivedId:$,type:nt,status:J,content:ct,reaction:at,deleted:ft,highlight:x}=o;console.log("Rendering message ",o);const w=()=>{window.history.pushState(null,"","/image"),Q({src:ct,sent:$===null})},R={text:()=>C.jsxs("p",{children:[" ",ct," "]}),image:()=>C.jsxs("p",{children:[" ",C.jsx("img",{src:ct,onClick:w})," "]}),imageRequest:()=>C.jsx(dw,{index:t,sentId:H,receivedId:$})},[O,N]=Hr(()=>({scale:1,x:0})),k=B.useRef(null),I=B.useRef(!1),gt=B.useRef(!0),Z=B.useRef(0),j=B.useRef(null);B.useEffect(()=>{P.current&&(m.current.scrollIntoView({behavior:"smooth"}),P.current=!1),N.start({from:{scale:0,opacity:0},to:[{scale:1,opacity:1}],reset:!1,config:Zl.stiff})},[]),B.useEffect(()=>{if(gt.current){gt.current=!1;return}(async()=>(j.current.scrollIntoView({behavior:"instant"}),await new Promise(mt=>setTimeout(mt,100)),N.start({from:{scale:1},to:[{scale:1.2},{scale:1}],config:Zl.stiff})))()},[x]);const z=()=>{if(H===null&&at!==1){let mt={type:"reaction",id:$,reaction:1};f.current.send(JSON.stringify(mt))}},st=_E({onPointerDown:({event:mt})=>{I.current=!1,k.current=setTimeout(()=>{I.current||(y.current.x=mt.clientX,y.current.y=mt.clientY,V.current=!0,N.start({from:{scale:1},to:[{scale:1.1},{scale:1}],config:{duration:150},onRest:()=>{p(!0),H===null&&E(!0),A(t)}}))},500)},onPointerUp:()=>{setTimeout(()=>{V.current=!1},100),clearTimeout(k.current);const mt=Date.now();mt-Z.current<500?(z(),Z.current=0):Z.current=mt},onPointerLeave:()=>{clearTimeout(k.current)},onDrag:({last:mt,movement:[M]})=>{if(H===null){if(M<0)return}else if(M>0)return;if(Math.abs(M)<5)return;I.current=Math.abs(M)>5;let et=$===null?Math.min(0,M):Math.max(0,M);N.start({x:et,onRest:()=>{Math.abs(M)>60&&(A(t),S(!0))}}),I.current&&k.current&&(clearTimeout(k.current),k.current=null),mt&&N.start({x:0,config:{tension:500,friction:20}})}},{eventOptions:{passive:!1}});return C.jsxs(nn.div,{ref:j,...ft!==0||nt==="imageRequest"||J==="sending"?{}:st(),style:{...O},className:`
        ${Bn.textMessage}
        ${J==="sending"?Bn.sending:Bn.sent}
        ${$===null?Bn.sentMessage:Bn.receivedMessage}
        ${(r==null?void 0:r.sentId)===H||(r==null?void 0:r.receivedId)===$?Bn.topMessage:""}
        ${(n==null?void 0:n.sentId)===H||(n==null?void 0:n.receivedId)===$?Bn.bottomMessage:""}
        ${u?Bn.repliedMessage:""}
        ${ft===2?Bn.deletedMessage:""}
        ${at!==-1&&ft!==2?Bn.hasReaction:""}
        ${nt==="image"?Bn.hasImage:""}
        ${mw(ct)?Bn.emoji:""}
      `,children:[(R[nt]||(()=>C.jsx("p",{children:C.jsx("span",{children:"Unknown type"})})))(),ft!==2&&C.jsx(uw,{reaction:at,origin:H===null?"received":"sent"})]})}),gw="_replyToMessage_1f615_1",pw="_sentMessage_1f615_20",yw="_receivedMessage_1f615_25",Xc={replyToMessage:gw,sentMessage:pw,receivedMessage:yw};function _w({index:s,nextMessage:t,message:n}){const{messages:r,setMessages:o}=B.useContext(Be),u=r.findIndex(y=>y.receivedId===n.replyTo.receivedId&&y.sentId===n.replyTo.sentId),f=r[u],m=()=>{setTimeout(()=>{o(y=>y.map((p,E)=>E===u?{...p,highlight:!p.highlight}:p))},100)};return C.jsxs(C.Fragment,{children:[C.jsx("a",{onClick:m,className:`
          ${Xc.replyToMessage}
          ${n.receivedId===null?Xc.sentMessage:Xc.receivedMessage}
          ${n.reaction!==-1?Xc.hasReaction:""}
        `,children:C.jsx("p",{children:f.type==="image"?"Image":f.content})}),C.jsx(h4,{index:s,prevMessage:null,nextMessage:t,message:n,replied:!0},s)]})}const vw="_typingIndicator_1onvb_1",Ew="_dot_1onvb_15",Zc={typingIndicator:vw,dot:Ew};function Tw({style:s}){return C.jsxs(nn.div,{className:Zc.typingIndicator,style:{...s,width:s.width.to(t=>`${t}rem`),height:s.height.to(t=>`${t}rem`)},children:[C.jsx("span",{className:Zc.dot}),C.jsx("span",{className:Zc.dot}),C.jsx("span",{className:Zc.dot})]})}const Aw="_newMessageContainer_16q0g_1",bw="_newMessage_16q0g_1",T_={newMessageContainer:Aw,newMessage:bw};function Sw({style:s}){const t=()=>{n.current.scrollIntoView({behavior:"smooth"})},{chatBottom:n}=B.useContext(Be);return C.jsx("div",{className:T_.newMessageContainer,children:C.jsx(nn.div,{className:T_.newMessage,onClick:t,style:s,children:"New Message"})})}function ww(){console.log("Chat component rendered!");const{messages:s,chatBottom:t,typing:n,newMessage:r,setNewMessage:o}=B.useContext(Be);B.useLayoutEffect(()=>{const m=new IntersectionObserver(p=>{p.forEach(E=>{E.isIntersecting&&o(!1)})},{threshold:.1}),y=t.current;return y&&m.observe(y),()=>{y&&m.unobserve(y)}},[]);const u=Ja(n,{from:{width:0,height:0,opacity:0},enter:{width:4,height:2.1,opacity:1,config:Zl.stiff},leave:{width:0,height:0,opacity:0,config:Zl.stiff},onRest:()=>{jl(t)&&t.current.scrollIntoView({behavior:"smooth"})}}),f=Ja(r,{from:{scale:0,opacity:0},enter:{scale:1,opacity:1,config:{tension:500,friction:15}},leave:{scale:0,opacity:0,config:{tension:500,friction:20}}});return C.jsxs("div",{className:E_.chatContainer,children:[s.map((m,y,p)=>m.replyTo?C.jsx(_w,{message:m},`${m.sentId}m${m.receivedId}`):C.jsx(h4,{message:m,replied:!1},`${m.sentId}m${m.receivedId}`)),u((m,y)=>y?C.jsx(Tw,{style:m}):null),f((m,y)=>y?C.jsx(Sw,{style:m}):null),C.jsx("div",{ref:t,className:E_.chatBottom,children:"Hehe"},"chatBottom")]})}const Cw="_inputSpaceContainer_43pkx_1",Rw="_gifSelector_43pkx_43",xw="_inputOptions_43pkx_54",Iw="_sendButton_43pkx_76",Dw="_imageBox_43pkx_96",Vw="_inputImage_43pkx_109",Mw="_closeImage_43pkx_116",kr={inputSpaceContainer:Cw,gifSelector:Rw,inputOptions:xw,sendButton:Iw,imageBox:Dw,inputImage:Vw,closeImage:Mw},Ow="_gifBox_pg0za_1",Nw="_inputDiv_pg0za_22",Lw="_gifInput_pg0za_27",kw="_gifsContainer_pg0za_42",Pw="_containerColumn_pg0za_53",qa={gifBox:Ow,inputDiv:Nw,gifInput:Lw,gifsContainer:kw,containerColumn:Pw},A_="AIzaSyAnvUI0Ka40pbNu4COdmUoeMiIrf3gPg3k",b_="client_key=boop-chat&media_filter=tinygif,gif&contentfilter=low";function jw({setGifPicker:s}){const{dataChannel:t}=B.useContext(ze),{setMessages:n,sentId:r,messages:o,selectedMessageId:u,setReplying:f,atBottomRef:m,replying:y}=B.useContext(Be),p=()=>{s(!1)},E=B.useRef([]),[A,S]=B.useState([]),V=B.useRef(null),P=85,Q=60,[{h:H},$]=Hr(()=>({h:P})),nt=hu(({movement:[,x],last:w})=>{Math.abs(x)<2&&!w||(w?x>Q?$.start({h:0,immediate:!1,onRest:()=>{window.history.back()}}):$.start({h:P,immediate:!1}):x>0&&$.start({h:P-x/window.innerHeight*100,immediate:!0}))}),J=async x=>{let w=`https://tenor.googleapis.com/v2/search?q=${x}&key=${A_}&${b_}`;const R=await fetch(w).then(O=>O.json());S(R.results)},ct=B.useRef(SE(J,200)),at=()=>{const x=V.current.value.trimEnd();x.length===0?S(E.current):ct.current(x)},ft=x=>{if(x.target.dataset.url){const w={type:"gif",content:x.target.dataset.url,sentId:r.current,receivedId:null},R={sentId:r.current,receivedId:null,type:"image",status:"sending",reaction:-1,content:x.target.dataset.url,deleted:0};y&&(w.replyTo={sentId:o[u].sentId,receivedId:o[u].receivedId},R.replyTo={sentId:o[u].sentId,receivedId:o[u].receivedId},f(!1)),t.current.send(JSON.stringify(w)),n(O=>[...O,R]),r.current=r.current+1,m.current=!0,s(!1)}};return B.useEffect(()=>($.start({from:{h:0},to:[{h:P}],reset:!1}),(async()=>{const x=await fetch(`https://tenor.googleapis.com/v2/featured?key=${A_}&${b_}`).then(w=>w.json());S(x.results),E.current=x.results})(),window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}),[]),C.jsxs(nn.div,{...nt(),style:{height:H.to(x=>`${x}vh`)},className:qa.gifBox,children:[C.jsx("div",{className:qa.inputDiv,children:C.jsx("input",{ref:V,autoComplete:"off",placeholder:"Search",spellCheck:!1,name:"query",title:"Search for GIFs",className:qa.gifInput,onChange:at})}),A.length>0?C.jsxs("div",{className:qa.gifsContainer,onClick:x=>ft(x),children:[C.jsx("div",{className:qa.containerColumn,children:A.map((x,w)=>w%2===0&&C.jsx("img",{"data-url":x.media_formats.gif.url,alt:x.content_description,src:x.media_formats.tinygif.url},x.id+w))}),C.jsx("div",{className:qa.containerColumn,children:A.map((x,w)=>w%2===1&&C.jsx("img",{"data-url":x.media_formats.gif.url,alt:x.content_description,src:x.media_formats.tinygif.url},x.id+w))})]}):C.jsx(C.Fragment,{})]})}function Uw(){const{dataChannel:s}=B.useContext(ze),{setMessages:t,sentId:n,selectedMessageId:r,replying:o,messages:u,setReplying:f,atBottomRef:m,images:y,chatBottom:p}=B.useContext(Be),E=B.useRef(null),A=B.useRef(null),S=B.useRef(null),[V,P]=B.useState(!1),[Q,H]=B.useState(""),[$,nt]=B.useState(null),[J,ct]=B.useState(!1),{showNotification:at}=fu();B.useLayoutEffect(()=>{o&&E.current&&E.current.focus()},[o]);const ft=()=>{ct(!0),window.history.pushState(null,"","/gifs")},x=()=>{s.current.send(JSON.stringify({type:"typing"}))},w=B.useRef(bE(x,800)),R=()=>{w.current(),P(!0),E.current.style.height="auto",E.current.scrollHeight>E.current.clientHeight&&(E.current.style.height=E.current.scrollHeight+"px"),H(E.current.value),jl(p)&&setTimeout(()=>{p.current.scrollIntoView({behavior:"smooth"})},200)},O=async j=>{const z=j.target.files[0];if(!z)return;const st=await wE(z);if(st.length>64){at("Please upload images upto 2 MB!");return}y.current.push({sentId:n.current,receivedId:null,fileType:z.type,chunks:st}),nt(URL.createObjectURL(z))},N=()=>{if(Q.trim().length===0)return;const j={type:"text",content:Q.trimEnd(),sentId:n.current,receivedId:null},z={sentId:n.current,receivedId:null,type:"text",status:"sending",reaction:-1,content:Q.trimEnd(),deleted:0};o&&(j.replyTo={sentId:u[r].sentId,receivedId:u[r].receivedId},z.replyTo={sentId:u[r].sentId,receivedId:u[r].receivedId},f(!1)),s.current.send(JSON.stringify(j)),t(st=>[...st,z]),n.current=n.current+1,E.current.value="",m.current=!0,H("")},k=()=>{if($===null)return;const j={type:"imageRequest",sentId:n.current,receivedId:null},z={sentId:n.current,receivedId:null,type:"image",status:"sending",reaction:-1,content:$,deleted:0};o&&(j.reply={sentId:u[r].receivedId,receivedId:u[r].sentId},z.reply={sentId:u[r].sentId,receivedId:u[r].receivedId},f(!1)),s.current.send(JSON.stringify(j)),t(st=>[...st,z]),n.current=n.current+1,S.current.value="",m.current=!0,nt(null)},I=()=>{P(!1),E.current.style.height="unset",E.current.scrollTop=E.current.scrollHeight},gt=()=>{S.current.value="";const j=y.current.findIndex(z=>z.sentId===n.current&&z.receivedId===null);y.current.splice(j,1),nt(null)},Z=()=>{$===null?N():k()};return C.jsxs(C.Fragment,{children:[J?C.jsx(jw,{setGifPicker:ct}):null,C.jsxs("div",{className:kr.inputSpaceContainer,ref:A,children:[!V&&C.jsxs("div",{className:kr.inputOptions,children:[C.jsx("label",{htmlFor:"fileInput",children:C.jsx("svg",{width:18,height:18,viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M0 26.016q0 2.496 1.76 4.224t4.256 1.76h20q2.464 0 4.224-1.76t1.76-4.224v-20q0-2.496-1.76-4.256t-4.224-1.76h-20q-2.496 0-4.256 1.76t-1.76 4.256v20zM4 26.016v-20q0-0.832 0.576-1.408t1.44-0.608h20q0.8 0 1.408 0.608t0.576 1.408v20q0 0.832-0.576 1.408t-1.408 0.576h-20q-0.832 0-1.44-0.576t-0.576-1.408zM6.016 24q0 0.832 0.576 1.44t1.408 0.576h16q0.832 0 1.408-0.576t0.608-1.44v-0.928q-0.224-0.448-1.12-2.688t-1.6-3.584-1.28-2.112q-0.544-0.576-1.12-0.608t-1.152 0.384-1.152 1.12-1.184 1.568-1.152 1.696-1.152 1.6-1.088 1.184-1.088 0.448q-0.576 0-1.664-1.44-0.16-0.192-0.48-0.608-1.12-1.504-1.6-1.824-0.768-0.512-1.184 0.352-0.224 0.512-0.928 2.24t-1.056 2.56v0.64zM6.016 9.024q0 1.248 0.864 2.112t2.112 0.864 2.144-0.864 0.864-2.112-0.864-2.144-2.144-0.864-2.112 0.864-0.864 2.144z"})})}),C.jsx("input",{ref:S,id:"fileInput",type:"file",accept:"image/*",onChange:j=>O(j)}),C.jsx("svg",{width:18,height:18,viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"iconify iconify--twemoji",preserveAspectRatio:"xMidYMid meet",children:C.jsx("path",{fill:"#FFAC33",d:"M27.287 34.627c-.404 0-.806-.124-1.152-.371L18 28.422l-8.135 5.834a1.97 1.97 0 0 1-2.312-.008a1.971 1.971 0 0 1-.721-2.194l3.034-9.792l-8.062-5.681a1.98 1.98 0 0 1-.708-2.203a1.978 1.978 0 0 1 1.866-1.363L12.947 13l3.179-9.549a1.976 1.976 0 0 1 3.749 0L23 13l10.036.015a1.975 1.975 0 0 1 1.159 3.566l-8.062 5.681l3.034 9.792a1.97 1.97 0 0 1-.72 2.194a1.957 1.957 0 0 1-1.16.379z"})})]}),$?C.jsxs("div",{className:kr.imageBox,children:[C.jsx("img",{src:$,className:kr.inputImage}),C.jsx("svg",{className:kr.closeImage,width:16,height:16,onClick:gt,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})]}):C.jsxs(C.Fragment,{children:[C.jsx("textarea",{onChange:R,onFocus:R,onBlur:I,ref:E,name:"textMessage",placeholder:"Message",rows:1,spellCheck:!1}),!V&&C.jsx("svg",{className:kr.gifSelector,onClick:ft,width:20,height:20,viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C.jsx("g",{id:"ic_fluent_gif_24_filled",fillRule:"nonzero",children:C.jsx("path",{d:"M18.75,3.50054297 C20.5449254,3.50054297 22,4.95561754 22,6.75054297 L22,17.2531195 C22,19.048045 20.5449254,20.5031195 18.75,20.5031195 L5.25,20.5031195 C3.45507456,20.5031195 2,19.048045 2,17.2531195 L2,6.75054297 C2,4.95561754 3.45507456,3.50054297 5.25,3.50054297 L18.75,3.50054297 Z M8.01459972,8.87193666 C6.38839145,8.87193666 5.26103525,10.2816525 5.26103525,11.9943017 C5.26103525,13.707564 6.38857781,15.1202789 8.01459972,15.1202789 C8.90237918,15.1202789 9.71768065,14.6931811 10.1262731,13.9063503 L10.2024697,13.7442077 L10.226,13.674543 L10.2440163,13.5999276 L10.2440163,13.5999276 L10.2516169,13.5169334 L10.2518215,11.9961937 L10.2450448,11.9038358 C10.2053646,11.6359388 9.99569349,11.4234501 9.72919932,11.3795378 L9.62682145,11.3711937 L8.62521827,11.3711937 L8.53286035,11.3779703 C8.26496328,11.4176506 8.05247466,11.6273217 8.00856234,11.8938159 L8.00021827,11.9961937 L8.00699487,12.0885517 C8.0466751,12.3564487 8.25634623,12.5689373 8.5228404,12.6128497 L8.62521827,12.6211937 L9.00103525,12.6209367 L9.00103525,13.3549367 L8.99484486,13.3695045 C8.80607251,13.6904125 8.44322427,13.8702789 8.01459972,13.8702789 C7.14873038,13.8702789 6.51103525,13.0713011 6.51103525,11.9943017 C6.51103525,10.9182985 7.14788947,10.1219367 8.01459972,10.1219367 C8.43601415,10.1219367 8.67582824,10.1681491 8.97565738,10.3121334 C9.28681641,10.4615586 9.6601937,10.3304474 9.80961888,10.0192884 C9.95904407,9.70812933 9.82793289,9.33475204 9.51677386,9.18532686 C9.03352891,8.95326234 8.61149825,8.87193666 8.01459972,8.87193666 Z M12.6289445,8.99393497 C12.3151463,8.99393497 12.0553614,9.22519285 12.0107211,9.52657705 L12.0039445,9.61893497 L12.0039445,14.381065 L12.0107211,14.4734229 C12.0553614,14.7748072 12.3151463,15.006065 12.6289445,15.006065 C12.9427427,15.006065 13.2025276,14.7748072 13.2471679,14.4734229 L13.2539445,14.381065 L13.2539445,9.61893497 L13.2471679,9.52657705 C13.2025276,9.22519285 12.9427427,8.99393497 12.6289445,8.99393497 Z M17.6221579,9.00083497 L15.6247564,8.99393111 C15.3109601,8.99285493 15.0503782,9.22321481 15.0046948,9.52444312 L14.9975984,9.61677709 L14.9975984,14.3649711 L15.0043751,14.4573291 C15.0440553,14.7252261 15.2537265,14.9377148 15.5202206,14.9816271 L15.6225985,14.9899711 L15.7149564,14.9831945 C15.9828535,14.9435143 16.1953421,14.7338432 16.2392544,14.467349 L16.2475985,14.3649711 L16.2470353,13.2499367 L17.37,13.2504012 L17.4623579,13.2436246 C17.730255,13.2039444 17.9427436,12.9942732 17.9866559,12.7277791 L17.995,12.6254012 L17.9882234,12.5330433 C17.9485432,12.2651462 17.738872,12.0526576 17.4723779,12.0087453 L17.37,12.0004012 L16.2470353,11.9999367 L16.2470353,10.2449367 L17.6178421,10.2508313 L17.7102229,10.2443727 C18.0117595,10.2007704 18.2439132,9.94178541 18.2450039,9.62798912 C18.24608,9.31419284 18.0157202,9.05361096 17.7144919,9.00793041 L17.6221579,9.00083497 L15.6247564,8.99393111 L17.6221579,9.00083497 Z",id:"-Color"})})})]}),C.jsx("button",{className:kr.sendButton,disabled:Q.trim().length===0&&$===null,onClick:Z,children:C.jsx("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"send",className:"icon glyph",children:C.jsx("path",{d:"M21.66,12a2,2,0,0,1-1.14,1.81L5.87,20.75A2.08,2.08,0,0,1,5,21a2,2,0,0,1-1.82-2.82L5.46,13H11a1,1,0,0,0,0-2H5.46L3.18,5.87A2,2,0,0,1,5.86,3.25h0l14.65,6.94A2,2,0,0,1,21.66,12Z"})})})]})]})}function zw(){const{replying:s,actionsShown:t,reactionsShown:n,setActionsShown:r,setReactionsShown:o,pointerPosition:u,longPressed:f,imageDialog:m,videoCall:y,setVideoCall:p,setMessages:E}=B.useContext(Be);B.useLayoutEffect(()=>{const V=()=>{f.current===!1&&(r(!1),o(!1))};return document.addEventListener("click",V),()=>{document.removeEventListener("click",V)}},[]);const A=Ja(n,{from:{scale:0,opacity:0},enter:{scale:1,opacity:1,config:{tension:200,friction:15}},leave:{scale:0,opacity:0,config:{tension:400,friction:20}}}),S=Ja(t,{from:{y:100,opacity:0},enter:{y:0,opacity:1,config:{duration:200}},leave:{y:100,opacity:0,config:{duration:200}}});return C.jsxs("div",{className:Xb.chatContainer,children:[C.jsx(GS,{}),y!=="hidden"&&C.jsx(zS,{mode:y}),C.jsx(ww,{}),s&&C.jsx(aS,{}),C.jsx(Uw,{}),A((V,P)=>P?C.jsx(nS,{pointerPosition:u.current,style:V}):null),S((V,P)=>P?C.jsx(Jb,{style:V}):null),m.src&&C.jsx(cS,{src:m.src,sent:m.sent})]})}function Bw(){const{peerConnection:s}=B.useContext(ze);B.useEffect(()=>{const n=r=>r.preventDefault();return document.addEventListener("contextmenu",n),document.addEventListener("touchstart",r=>{r.touches.length>1&&r.preventDefault()},{passive:!1}),()=>{var r;document.removeEventListener("contextmenu",n),document.removeEventListener("touchstart",n),(r=s.current)==null||r.close()}},[]);const{connected:t}=B.useContext(ze);return C.jsx(AE,{children:t?C.jsx(RE,{children:C.jsx(zw,{})}):C.jsx(Yb,{})})}F6.createRoot(document.getElementById("root")).render(C.jsx(Y6,{children:C.jsx(B.StrictMode,{children:C.jsx(Bw,{})})}));
