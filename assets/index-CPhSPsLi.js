(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function B6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a1={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function z6(){if(S2)return Rl;S2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=t,Rl.jsx=i,Rl.jsxs=i,Rl}var w2;function q6(){return w2||(w2=1,a1.exports=z6()),a1.exports}var A=q6(),o1={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function H6(){if(A2)return Ot;A2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function L(O,et,rt){this.props=O,this.context=et,this.refs=U,this.updater=rt||x}L.prototype.isReactComponent={},L.prototype.setState=function(O,et){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,et,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=L.prototype;function $(O,et,rt){this.props=O,this.context=et,this.refs=U,this.updater=rt||x}var K=$.prototype=new q;K.constructor=$,V(K,L.prototype),K.isPureReactComponent=!0;var it=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function D(O,et,rt,at,pt,lt){return rt=lt.ref,{$$typeof:e,type:O,key:et,ref:rt!==void 0?rt:null,props:lt}}function C(O,et){return D(O.type,et,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function k(O){var et={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return et[rt]})}var N=/\/+/g;function j(O,et){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):et.toString(36)}function I(){}function Rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(et){O.status==="pending"&&(O.status="fulfilled",O.value=et)},function(et){O.status==="pending"&&(O.status="rejected",O.reason=et)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function It(O,et,rt,at,pt){var lt=typeof O;(lt==="undefined"||lt==="boolean")&&(O=null);var dt=!1;if(O===null)dt=!0;else switch(lt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(O.$$typeof){case e:case t:dt=!0;break;case v:return dt=O._init,It(dt(O._payload),et,rt,at,pt)}}if(dt)return pt=pt(O),dt=at===""?"."+j(O,0):at,it(pt)?(rt="",dt!=null&&(rt=dt.replace(N,"$&/")+"/"),It(pt,et,rt,"",function(oe){return oe})):pt!=null&&(R(pt)&&(pt=C(pt,rt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(N,"$&/")+"/")+dt)),et.push(pt)),1;dt=0;var Et=at===""?".":at+":";if(it(O))for(var Mt=0;Mt<O.length;Mt++)at=O[Mt],lt=Et+j(at,Mt),dt+=It(at,et,rt,lt,pt);else if(Mt=b(O),typeof Mt=="function")for(O=Mt.call(O),Mt=0;!(at=O.next()).done;)at=at.value,lt=Et+j(at,Mt++),dt+=It(at,et,rt,lt,pt);else if(lt==="object"){if(typeof O.then=="function")return It(Rt(O),et,rt,at,pt);throw et=String(O),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return dt}function X(O,et,rt){if(O==null)return O;var at=[],pt=0;return It(O,at,"","",function(lt){return et.call(rt,lt,pt++)}),at}function ct(O){if(O._status===-1){var et=O._result;et=et(),et.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=et)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return Ot.Children={map:X,forEach:function(O,et,rt){X(O,function(){et.apply(this,arguments)},rt)},count:function(O){var et=0;return X(O,function(){et++}),et},toArray:function(O){return X(O,function(et){return et})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ot.Component=L,Ot.Fragment=i,Ot.Profiler=o,Ot.PureComponent=$,Ot.StrictMode=r,Ot.Suspense=y,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(O){return W.H.useMemoCache(O)}},Ot.cache=function(O){return function(){return O.apply(null,arguments)}},Ot.cloneElement=function(O,et,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=V({},O.props),pt=O.key,lt=void 0;if(et!=null)for(dt in et.ref!==void 0&&(lt=void 0),et.key!==void 0&&(pt=""+et.key),et)!F.call(et,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&et.ref===void 0||(at[dt]=et[dt]);var dt=arguments.length-2;if(dt===1)at.children=rt;else if(1<dt){for(var Et=Array(dt),Mt=0;Mt<dt;Mt++)Et[Mt]=arguments[Mt+2];at.children=Et}return D(O.type,pt,void 0,void 0,lt,at)},Ot.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ot.createElement=function(O,et,rt){var at,pt={},lt=null;if(et!=null)for(at in et.key!==void 0&&(lt=""+et.key),et)F.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=et[at]);var dt=arguments.length-2;if(dt===1)pt.children=rt;else if(1<dt){for(var Et=Array(dt),Mt=0;Mt<dt;Mt++)Et[Mt]=arguments[Mt+2];pt.children=Et}if(O&&O.defaultProps)for(at in dt=O.defaultProps,dt)pt[at]===void 0&&(pt[at]=dt[at]);return D(O,lt,void 0,void 0,null,pt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(O){return{$$typeof:m,render:O}},Ot.isValidElement=R,Ot.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ct}},Ot.memo=function(O,et){return{$$typeof:g,type:O,compare:et===void 0?null:et}},Ot.startTransition=function(O){var et=W.T,rt={};W.T=rt;try{var at=O(),pt=W.S;pt!==null&&pt(rt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,mt)}catch(lt){mt(lt)}finally{W.T=et}},Ot.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ot.use=function(O){return W.H.use(O)},Ot.useActionState=function(O,et,rt){return W.H.useActionState(O,et,rt)},Ot.useCallback=function(O,et){return W.H.useCallback(O,et)},Ot.useContext=function(O){return W.H.useContext(O)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(O,et){return W.H.useDeferredValue(O,et)},Ot.useEffect=function(O,et,rt){var at=W.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(O,et)},Ot.useId=function(){return W.H.useId()},Ot.useImperativeHandle=function(O,et,rt){return W.H.useImperativeHandle(O,et,rt)},Ot.useInsertionEffect=function(O,et){return W.H.useInsertionEffect(O,et)},Ot.useLayoutEffect=function(O,et){return W.H.useLayoutEffect(O,et)},Ot.useMemo=function(O,et){return W.H.useMemo(O,et)},Ot.useOptimistic=function(O,et){return W.H.useOptimistic(O,et)},Ot.useReducer=function(O,et,rt){return W.H.useReducer(O,et,rt)},Ot.useRef=function(O){return W.H.useRef(O)},Ot.useState=function(O){return W.H.useState(O)},Ot.useSyncExternalStore=function(O,et,rt){return W.H.useSyncExternalStore(O,et,rt)},Ot.useTransition=function(){return W.H.useTransition()},Ot.version="19.1.0",Ot}var C2;function Ih(){return C2||(C2=1,o1.exports=H6()),o1.exports}var J=Ih();const Qr=B6(J);var l1={exports:{}},xl={},u1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function G6(){return R2||(R2=1,function(e){function t(X,ct){var mt=X.length;X.push(ct);t:for(;0<mt;){var Ct=mt-1>>>1,O=X[Ct];if(0<o(O,ct))X[Ct]=ct,X[mt]=O,mt=Ct;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ct=X[0],mt=X.pop();if(mt!==ct){X[0]=mt;t:for(var Ct=0,O=X.length,et=O>>>1;Ct<et;){var rt=2*(Ct+1)-1,at=X[rt],pt=rt+1,lt=X[pt];if(0>o(at,mt))pt<O&&0>o(lt,at)?(X[Ct]=lt,X[pt]=mt,Ct=pt):(X[Ct]=at,X[rt]=mt,Ct=rt);else if(pt<O&&0>o(lt,mt))X[Ct]=lt,X[pt]=mt,Ct=pt;else break t}}return ct}function o(X,ct){var mt=X.sortIndex-ct.sortIndex;return mt!==0?mt:X.id-ct.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var y=[],g=[],v=1,T=null,b=3,x=!1,V=!1,U=!1,L=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function it(X){for(var ct=i(g);ct!==null;){if(ct.callback===null)r(g);else if(ct.startTime<=X)r(g),ct.sortIndex=ct.expirationTime,t(y,ct);else break;ct=i(g)}}function W(X){if(U=!1,it(X),!V)if(i(y)!==null)V=!0,F||(F=!0,j());else{var ct=i(g);ct!==null&&It(W,ct.startTime-X)}}var F=!1,D=-1,C=5,R=-1;function k(){return L?!0:!(e.unstable_now()-R<C)}function N(){if(L=!1,F){var X=e.unstable_now();R=X;var ct=!0;try{t:{V=!1,U&&(U=!1,$(D),D=-1),x=!0;var mt=b;try{e:{for(it(X),T=i(y);T!==null&&!(T.expirationTime>X&&k());){var Ct=T.callback;if(typeof Ct=="function"){T.callback=null,b=T.priorityLevel;var O=Ct(T.expirationTime<=X);if(X=e.unstable_now(),typeof O=="function"){T.callback=O,it(X),ct=!0;break e}T===i(y)&&r(y),it(X)}else r(y);T=i(y)}if(T!==null)ct=!0;else{var et=i(g);et!==null&&It(W,et.startTime-X),ct=!1}}break t}finally{T=null,b=mt,x=!1}ct=void 0}}finally{ct?j():F=!1}}}var j;if(typeof K=="function")j=function(){K(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Rt=I.port2;I.port1.onmessage=N,j=function(){Rt.postMessage(null)}}else j=function(){q(N,0)};function It(X,ct){D=q(function(){X(e.unstable_now())},ct)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ct=3;break;default:ct=b}var mt=b;b=ct;try{return X()}finally{b=mt}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(X,ct){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=b;b=X;try{return ct()}finally{b=mt}},e.unstable_scheduleCallback=function(X,ct,mt){var Ct=e.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ct+mt:Ct):mt=Ct,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=mt+O,X={id:v++,callback:ct,priorityLevel:X,startTime:mt,expirationTime:O,sortIndex:-1},mt>Ct?(X.sortIndex=mt,t(g,X),i(y)===null&&X===i(g)&&(U?($(D),D=-1):U=!0,It(W,mt-Ct))):(X.sortIndex=O,t(y,X),V||x||(V=!0,F||(F=!0,j()))),X},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(X){var ct=b;return function(){var mt=b;b=ct;try{return X.apply(this,arguments)}finally{b=mt}}}}(c1)),c1}var x2;function F6(){return x2||(x2=1,u1.exports=G6()),u1.exports}var h1={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function Q6(){if(I2)return on;I2=1;var e=Ih();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:g,implementation:v}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,v)},on.flushSync=function(y){var g=f.T,v=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=v,r.d.f()}},on.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},on.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},on.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):v==="script"&&r.d.X(y,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},on.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);r.d.L(y,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},on.requestFormReset=function(y){r.d.r(y)},on.unstable_batchedUpdates=function(y,g){return y(g)},on.useFormState=function(y,g,v){return f.H.useFormState(y,g,v)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.1.0",on}var D2;function I_(){if(D2)return h1.exports;D2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),h1.exports=Q6(),h1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function Y6(){if(M2)return xl;M2=1;var e=F6(),t=Ih(),i=I_();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function f(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(r(188))}function y(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=d;break}if(S===l){E=!0,l=h,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=h;break}if(S===l){E=!0,l=d,a=h;break}S=S.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),K=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case W:return"Suspense";case F:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case K:return(n.displayName||"Context")+".Provider";case $:return(n._context.displayName||"Context")+".Consumer";case it:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:Rt(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return Rt(n(s))}catch{}}return null}var It=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ct=[],O=-1;function et(n){return{current:n}}function rt(n){0>O||(n.current=Ct[O],Ct[O]=null,O--)}function at(n,s){O++,Ct[O]=n.current,n.current=s}var pt=et(null),lt=et(null),dt=et(null),Et=et(null);function Mt(n,s){switch(at(dt,s),at(lt,n),at(pt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Zp(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Zp(s),n=Jp(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(pt),at(pt,n)}function oe(){rt(pt),rt(lt),rt(dt)}function Ue(n){n.memoizedState!==null&&at(Et,n);var s=pt.current,a=Jp(s,n.type);s!==a&&(at(lt,n),at(pt,a))}function De(n){lt.current===n&&(rt(pt),rt(lt)),Et.current===n&&(rt(Et),bl._currentValue=mt)}var sn=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,Sn=e.unstable_shouldYield,Ke=e.unstable_requestPaint,fe=e.unstable_now,Ni=e.unstable_getCurrentPriorityLevel,Oi=e.unstable_ImmediatePriority,Jn=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,of=e.unstable_LowPriority,ta=e.unstable_IdlePriority,To=e.log,Tu=e.unstable_setDisableYieldValue,pe=null,Zt=null;function wn(n){if(typeof To=="function"&&Tu(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pe,n)}catch{}}var rn=Math.clz32?Math.clz32:ur,bu=Math.log,lf=Math.LN2;function ur(n){return n>>>=0,n===0?32:31-(bu(n)/lf|0)|0}var cr=256,hr=4194304;function Wn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ea(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Wn(l):(E&=S,E!==0?h=Wn(E):a||(a=S&~n,a!==0&&(h=Wn(a))))):(S=l&~d,S!==0?h=Wn(S):E!==0?h=Wn(E):a||(a=l&~n,a!==0&&(h=Wn(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function fr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function bo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var n=cr;return cr<<=1,(cr&4194048)===0&&(cr=256),n}function wo(){var n=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),n}function Li(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ki(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ao(n,s,a,l,h,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,M=n.expirationTimes,G=n.hiddenUpdates;for(a=E&~a;0<a;){var tt=31-rn(a),st=1<<tt;S[tt]=0,M[tt]=-1;var Q=G[tt];if(Q!==null)for(G[tt]=null,tt=0;tt<Q.length;tt++){var Y=Q[tt];Y!==null&&(Y.lane&=-536870913)}a&=~st}l!==0&&li(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~s))}function li(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-rn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Co(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-rn(a),h=1<<l;h&s|n[l]&s&&(n[l]|=s),a&=~h}}function ds(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ms(){var n=ct.p;return n!==0?n:(n=window.event,n===void 0?32:y2(n.type))}function Su(n,s){var a=ct.p;try{return ct.p=n,s()}finally{ct.p=a}}var ue=Math.random().toString(36).slice(2),Me="__reactFiber$"+ue,we="__reactProps$"+ue,kn="__reactContainer$"+ue,Ro="__reactEvents$"+ue,uf="__reactListeners$"+ue,gs="__reactHandles$"+ue,wu="__reactResources$"+ue,dr="__reactMarker$"+ue;function ps(n){delete n[Me],delete n[we],delete n[Ro],delete n[uf],delete n[gs]}function ji(n){var s=n[Me];if(s)return s;for(var a=n.parentNode;a;){if(s=a[kn]||a[Me]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=n2(n);n!==null;){if(a=n[Me])return a;n=n2(n)}return s}n=a,a=n.parentNode}return null}function ui(n){if(n=n[Me]||n[kn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ci(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function hn(n){var s=n[wu];return s||(s=n[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ve(n){n[dr]=!0}var xo=new Set,ia={};function ti(n,s){Pi(n,s),Pi(n+"Capture",s)}function Pi(n,s){for(ia[n]=s,n=0;n<s.length;n++)xo.add(s[n])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},mr={};function Ru(n){return sn.call(mr,n)?!0:sn.call(Cu,n)?!1:Au.test(n)?mr[n]=!0:(Cu[n]=!0,!1)}function ys(n,s,a){if(Ru(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function hi(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function $e(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var gr,xu;function Ui(n){if(gr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);gr=s&&s[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gr+n+xu}var sa=!1;function ra(n,s){if(!n||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Y){var Q=Y}Reflect.construct(n,[],st)}else{try{st.call()}catch(Y){Q=Y}n.call(st.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(st=n())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var M=E.split(`
`),G=S.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===G.length)for(l=M.length-1,h=G.length-1;1<=l&&0<=h&&M[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==G[h]){var tt=`
`+M[l].replace(" at new "," at ");return n.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",n.displayName)),tt}while(1<=l&&0<=h);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ui(a):""}function Io(n){switch(n.tag){case 26:case 27:case 5:return Ui(n.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return ra(n.type,!1);case 11:return ra(n.type.render,!1);case 1:return ra(n.type,!0);case 31:return Ui("Activity");default:return""}}function aa(n){try{var s="";do s+=Io(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Do(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function cf(n){var s=Do(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function oa(n){n._valueTracker||(n._valueTracker=cf(n))}function Mo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Do(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var hf=/[\n"\\]/g;function Ae(n){return n.replace(hf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function An(n,s,a,l,h,d,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+fn(s)):n.value!==""+fn(s)&&(n.value=""+fn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?_s(n,E,fn(s)):a!=null?_s(n,E,fn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+fn(S):n.removeAttribute("name")}function yr(n,s,a,l,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+fn(a):"",s=s!=null?""+fn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function _s(n,s,a){s==="number"&&pr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Bi(n,s,a,l){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+fn(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function te(n,s,a){if(s!=null&&(s=""+fn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+fn(a):""}function _r(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(It(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=fn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function jn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||vr.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Vo(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Iu(n,h,l)}else for(var d in s)s.hasOwnProperty(d)&&Iu(n,d,s[d])}function No(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(n){return df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var zi=null;function Pn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qi=null,Hi=null;function Oo(n){var s=ui(n);if(s&&(n=s.stateNode)){var a=n[we]||null;t:switch(n=s.stateNode,s.type){case"input":if(An(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var h=l[we]||null;if(!h)throw Error(r(90));An(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Mo(l)}break t;case"textarea":te(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Bi(n,!!a.multiple,s,!1)}}}var fi=!1;function Du(n,s,a){if(fi)return n(s,a);fi=!0;try{var l=n(s);return l}finally{if(fi=!1,(qi!==null||Hi!==null)&&(Sc(),qi&&(s=qi,n=Hi,Hi=qi=null,Oo(s),n)))for(s=0;s<n.length;s++)Oo(n[s])}}function Er(n,s){var a=n.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(ei)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Un=!1}var di=null,vs=null,Gi=null;function Lo(){if(Gi)return Gi;var n,s=vs,a=s.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(n=0;n<a&&s[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===h[d-l];l++);return Gi=h.slice(n,1<l?1-l:void 0)}function mi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function gi(){return!0}function ko(){return!1}function ze(n){function s(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gi:ko,this.isPropagationStopped=ko,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=ze($t),br=v({},$t,{view:0,detail:0}),Mu=ze(br),ca,ha,pi,Sr=v({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(ca=n.screenX-pi.screenX,ha=n.screenY-pi.screenY):ha=ca=0,pi=n),ca)},movementY:function(n){return"movementY"in n?n.movementY:ha}}),Bn=ze(Sr),Vu=v({},Sr,{dataTransfer:0}),mf=ze(Vu),wr=v({},br,{relatedTarget:0}),fa=ze(wr),jo=v({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),da=ze(jo),Nu=v({},$t,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ma=ze(Nu),gf=v({},$t,{data:0}),Po=ze(gf),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Lu[n])?!!s[n]:!1}function Cr(){return Uo}var ku=v({},br,{key:function(n){if(n.key){var s=Ar[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ou[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ga=ze(ku),ju=v({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=ze(ju),Fi=v({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Pu=ze(Fi),Uu=v({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=ze(Uu),zu=v({},Sr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=ze(zu),dn=v({},$t,{newState:0,oldState:0}),qu=ze(dn),Hu=[9,13,27,32],yi=ei&&"CompositionEvent"in window,c=null;ei&&"documentMode"in document&&(c=document.documentMode);var p=ei&&"TextEvent"in window&&!c,_=ei&&(!yi||c&&8<c&&11>=c),w=" ",z=!1;function Z(n,s){switch(n){case"keyup":return Hu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qt=!1;function Ve(n,s){switch(n){case"compositionend":return ft(s);case"keypress":return s.which!==32?null:(z=!0,w);case"textInput":return n=s.data,n===w&&z?null:n;default:return null}}function Ht(n,s){if(qt)return n==="compositionend"||!yi&&Z(n,s)?(n=Lo(),Gi=vs=di=null,qt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qe[n.type]:s==="textarea"}function Qi(n,s,a,l){qi?Hi?Hi.push(l):Hi=[l]:qi=l,s=Ic(s,"onChange"),0<s.length&&(a=new ua("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Xe=null,_i=null;function zo(n){Qp(n,0)}function Gu(n){var s=ci(n);if(Mo(s))return n}function dg(n,s){if(n==="change")return s}var mg=!1;if(ei){var pf;if(ei){var yf="oninput"in document;if(!yf){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),yf=typeof gg.oninput=="function"}pf=yf}else pf=!1;mg=pf&&(!document.documentMode||9<document.documentMode)}function pg(){Xe&&(Xe.detachEvent("onpropertychange",yg),_i=Xe=null)}function yg(n){if(n.propertyName==="value"&&Gu(_i)){var s=[];Qi(s,_i,n,Pn(n)),Du(zo,s)}}function p4(n,s,a){n==="focusin"?(pg(),Xe=s,_i=a,Xe.attachEvent("onpropertychange",yg)):n==="focusout"&&pg()}function y4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Gu(_i)}function _4(n,s){if(n==="click")return Gu(s)}function v4(n,s){if(n==="input"||n==="change")return Gu(s)}function E4(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Cn=typeof Object.is=="function"?Object.is:E4;function qo(n,s){if(Cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!sn.call(s,h)||!Cn(n[h],s[h]))return!1}return!0}function _g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vg(n,s){var a=_g(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Eg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Tg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=pr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=pr(n.document)}return s}function _f(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var T4=ei&&"documentMode"in document&&11>=document.documentMode,ya=null,vf=null,Ho=null,Ef=!1;function bg(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||ya==null||ya!==pr(l)||(l=ya,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=Ic(vf,"onSelect"),0<l.length&&(s=new ua("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=ya)))}function Rr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var _a={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Tf={},Sg={};ei&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function xr(n){if(Tf[n])return Tf[n];if(!_a[n])return n;var s=_a[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sg)return Tf[n]=s[a];return n}var wg=xr("animationend"),Ag=xr("animationiteration"),Cg=xr("animationstart"),b4=xr("transitionrun"),S4=xr("transitionstart"),w4=xr("transitioncancel"),Rg=xr("transitionend"),xg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function ni(n,s){xg.set(n,s),ti(s,[n])}var Ig=new WeakMap;function zn(n,s){if(typeof n=="object"&&n!==null){var a=Ig.get(n);return a!==void 0?a:(s={value:n,source:s,stack:aa(s)},Ig.set(n,s),s)}return{value:n,source:s,stack:aa(s)}}var qn=[],va=0,Sf=0;function Fu(){for(var n=va,s=Sf=va=0;s<n;){var a=qn[s];qn[s++]=null;var l=qn[s];qn[s++]=null;var h=qn[s];qn[s++]=null;var d=qn[s];if(qn[s++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function Qu(n,s,a,l){qn[va++]=n,qn[va++]=s,qn[va++]=a,qn[va++]=l,Sf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function wf(n,s,a,l){return Qu(n,s,a,l),Yu(n)}function Ea(n,s){return Qu(n,null,null,s),Yu(n)}function Dg(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&s!==null&&(h=31-rn(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[s]:l.push(s),s.lane=a|536870912),d):null}function Yu(n){if(50<ml)throw ml=0,Dd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ta={};function A4(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,s,a,l){return new A4(n,s,a,l)}function Af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,s){var a=n.alternate;return a===null?(a=Rn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mg(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ku(n,s,a,l,h,d){var E=0;if(l=n,typeof n=="function")Af(n)&&(E=1);else if(typeof n=="string")E=R6(n,a,pt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=Rn(31,a,s,h),n.elementType=R,n.lanes=d,n;case V:return Ir(a.children,h,d,s);case U:E=8,h|=24;break;case L:return n=Rn(12,a,s,h|2),n.elementType=L,n.lanes=d,n;case W:return n=Rn(13,a,s,h),n.elementType=W,n.lanes=d,n;case F:return n=Rn(19,a,s,h),n.elementType=F,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case K:E=10;break t;case $:E=9;break t;case it:E=11;break t;case D:E=14;break t;case C:E=16,l=null;break t}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Rn(E,a,s,h),s.elementType=n,s.type=l,s.lanes=d,s}function Ir(n,s,a,l){return n=Rn(7,n,l,s),n.lanes=a,n}function Cf(n,s,a){return n=Rn(6,n,null,s),n.lanes=a,n}function Rf(n,s,a){return s=Rn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ba=[],Sa=0,$u=null,Xu=0,Hn=[],Gn=0,Dr=null,Ki=1,$i="";function Mr(n,s){ba[Sa++]=Xu,ba[Sa++]=$u,$u=n,Xu=s}function Vg(n,s,a){Hn[Gn++]=Ki,Hn[Gn++]=$i,Hn[Gn++]=Dr,Dr=n;var l=Ki;n=$i;var h=32-rn(l)-1;l&=~(1<<h),a+=1;var d=32-rn(s)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Ki=1<<32-rn(s)+h|a<<h|l,$i=d+n}else Ki=1<<d|a<<h|l,$i=n}function xf(n){n.return!==null&&(Mr(n,1),Vg(n,1,0))}function If(n){for(;n===$u;)$u=ba[--Sa],ba[Sa]=null,Xu=ba[--Sa],ba[Sa]=null;for(;n===Dr;)Dr=Hn[--Gn],Hn[Gn]=null,$i=Hn[--Gn],Hn[Gn]=null,Ki=Hn[--Gn],Hn[Gn]=null}var mn=null,ye=null,Kt=!1,Vr=null,vi=!1,Df=Error(r(519));function Nr(n){var s=Error(r(418,""));throw Qo(zn(s,n)),Df}function Ng(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Me]=n,s[we]=l,a){case"dialog":Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":case"embed":Ut("load",s);break;case"video":case"audio":for(a=0;a<pl.length;a++)Ut(pl[a],s);break;case"source":Ut("error",s);break;case"img":case"image":case"link":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"input":Ut("invalid",s),yr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(s);break;case"select":Ut("invalid",s);break;case"textarea":Ut("invalid",s),_r(s,l.value,l.defaultValue,l.children),oa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Xp(s.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",s),Ut("toggle",s)),l.onScroll!=null&&Ut("scroll",s),l.onScrollEnd!=null&&Ut("scrollend",s),l.onClick!=null&&(s.onclick=Dc),s=!0):s=!1,s||Nr(n)}function Og(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:mn=mn.return}}function Go(n){if(n!==mn)return!1;if(!Kt)return Og(n),Kt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Qd(n.type,n.memoizedProps)),a=!a),a&&ye&&Nr(n),Og(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){ye=si(n.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}ye=null}}else s===27?(s=ye,Ls(n.type)?(n=Xd,Xd=null,ye=n):ye=s):ye=mn?si(n.stateNode.nextSibling):null;return!0}function Fo(){ye=mn=null,Kt=!1}function Lg(){var n=Vr;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Vr=null),n}function Qo(n){Vr===null?Vr=[n]:Vr.push(n)}var Mf=et(null),Or=null,Xi=null;function Es(n,s,a){at(Mf,s._currentValue),s._currentValue=a}function Zi(n){n._currentValue=Mf.current,rt(Mf)}function Vf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Nf(n,s,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var M=0;M<s.length;M++)if(S.context===s[M]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Vf(d.return,a,n),l||(E=null);break t}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Vf(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Yo(n,s,a,l){n=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=h.type;Cn(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===Et.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(bl):n=[bl])}h=h.return}n!==null&&Nf(s,n,a,l),s.flags|=262144}function Zu(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Lr(n){Or=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return kg(Or,n)}function Ju(n,s){return Or===null&&Lr(n),kg(n,s)}function kg(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(n===null)throw Error(r(308));Xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xi=Xi.next=s;return a}var C4=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},R4=e.unstable_scheduleCallback,x4=e.unstable_NormalPriority,Oe={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new C4,data:new Map,refCount:0}}function Ko(n){n.refCount--,n.refCount===0&&R4(x4,function(){n.controller.abort()})}var $o=null,Lf=0,wa=0,Aa=null;function I4(n,s){if($o===null){var a=$o=[];Lf=0,wa=jd(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,s.then(jg,jg),s}function jg(){if(--Lf===0&&$o!==null){Aa!==null&&(Aa.status="fulfilled");var n=$o;$o=null,wa=0,Aa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function D4(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=X.S;X.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&I4(n,s),Pg!==null&&Pg(n,s)};var kr=et(null);function kf(){var n=kr.current;return n!==null?n:ae.pooledCache}function Wu(n,s){s===null?at(kr,kr.current):at(kr,s.pool)}function Ug(){var n=kf();return n===null?null:{parent:Oe._currentValue,pool:n}}var Xo=Error(r(460)),Bg=Error(r(474)),tc=Error(r(542)),jf={then:function(){}};function zg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ec(){}function qg(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ec,ec),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Gg(n),n;default:if(typeof s.status=="string")s.then(ec,ec);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Gg(n),n}throw Zo=s,Xo}}var Zo=null;function Hg(){if(Zo===null)throw Error(r(459));var n=Zo;return Zo=null,n}function Gg(n){if(n===Xo||n===tc)throw Error(r(483))}var Ts=!1;function Pf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function bs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ss(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Yu(n),Dg(n,null,a),s}return Qu(n,l,s,a),Yu(n)}function Jo(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Co(n,a)}}function Bf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var zf=!1;function Wo(){if(zf){var n=Aa;if(n!==null)throw n}}function tl(n,s,a,l){zf=!1;var h=n.updateQueue;Ts=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var M=S,G=M.next;M.next=null,E===null?d=G:E.next=G,E=M;var tt=n.alternate;tt!==null&&(tt=tt.updateQueue,S=tt.lastBaseUpdate,S!==E&&(S===null?tt.firstBaseUpdate=G:S.next=G,tt.lastBaseUpdate=M))}if(d!==null){var st=h.baseState;E=0,tt=G=M=null,S=d;do{var Q=S.lane&-536870913,Y=Q!==S.lane;if(Y?(Gt&Q)===Q:(l&Q)===Q){Q!==0&&Q===wa&&(zf=!0),tt!==null&&(tt=tt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var At=n,bt=S;Q=s;var ie=a;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){st=At.call(ie,st,Q);break t}st=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,Q=typeof At=="function"?At.call(ie,st,Q):At,Q==null)break t;st=v({},st,Q);break t;case 2:Ts=!0}}Q=S.callback,Q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},tt===null?(G=tt=Y,M=st):tt=tt.next=Y,E|=Q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);tt===null&&(M=st),h.baseState=M,h.firstBaseUpdate=G,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),Ms|=E,n.lanes=E,n.memoizedState=st}}function Fg(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Qg(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Fg(a[n],s)}var Ca=et(null),nc=et(0);function Yg(n,s){n=ss,at(nc,n),at(Ca,s),ss=n|s.baseLanes}function qf(){at(nc,ss),at(Ca,Ca.current)}function Hf(){ss=nc.current,rt(Ca),rt(nc)}var ws=0,Lt=null,ee=null,Ce=null,ic=!1,Ra=!1,jr=!1,sc=0,el=0,xa=null,M4=0;function Ee(){throw Error(r(321))}function Gf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Cn(n[a],s[a]))return!1;return!0}function Ff(n,s,a,l,h,d){return ws=d,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?D0:M0,jr=!1,d=a(l,h),jr=!1,Ra&&(d=$g(s,a,l,h)),Kg(n),d}function Kg(n){X.H=cc;var s=ee!==null&&ee.next!==null;if(ws=0,Ce=ee=Lt=null,ic=!1,el=0,xa=null,s)throw Error(r(300));n===null||He||(n=n.dependencies,n!==null&&Zu(n)&&(He=!0))}function $g(n,s,a,l){Lt=n;var h=0;do{if(Ra&&(xa=null),el=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Ce=ee=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=P4,d=s(a,l)}while(Ra);return d}function V4(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?nl(s):s,n=n.useState()[0],(ee!==null?ee.memoizedState:null)!==n&&(Lt.flags|=1024),s}function Qf(){var n=sc!==0;return sc=0,n}function Yf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Kf(n){if(ic){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ic=!1}ws=0,Ce=ee=Lt=null,Ra=!1,el=sc=0,xa=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Lt.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function Re(){if(ee===null){var n=Lt.alternate;n=n!==null?n.memoizedState:null}else n=ee.next;var s=Ce===null?Lt.memoizedState:Ce.next;if(s!==null)Ce=s,ee=n;else{if(n===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));ee=n,n={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ce===null?Lt.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(n){var s=el;return el+=1,xa===null&&(xa=[]),n=qg(xa,n,s),s=Lt,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?D0:M0),n}function rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nl(n);if(n.$$typeof===K)return an(n)}throw Error(r(438,String(n)))}function Xf(n){var s=null,a=Lt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=$f(),Lt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=k;return s.index++,a}function Ji(n,s){return typeof s=="function"?s(n):s}function ac(n){var s=Re();return Zf(s,ee,n)}function Zf(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}s.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{s=h.next;var S=E=null,M=null,G=s,tt=!1;do{var st=G.lane&-536870913;if(st!==G.lane?(Gt&st)===st:(ws&st)===st){var Q=G.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),st===wa&&(tt=!0);else if((ws&Q)===Q){G=G.next,Q===wa&&(tt=!0);continue}else st={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(S=M=st,E=d):M=M.next=st,Lt.lanes|=Q,Ms|=Q;st=G.action,jr&&a(d,st),d=G.hasEagerState?G.eagerState:a(d,st)}else Q={lane:st,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(S=M=Q,E=d):M=M.next=Q,Lt.lanes|=st,Ms|=st;G=G.next}while(G!==null&&G!==s);if(M===null?E=d:M.next=S,!Cn(d,n.memoizedState)&&(He=!0,tt&&(a=Aa,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Jf(n){var s=Re(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=n(d,E.action),E=E.next;while(E!==h);Cn(d,s.memoizedState)||(He=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Xg(n,s,a){var l=Lt,h=Re(),d=Kt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Cn((ee||h).memoizedState,a);E&&(h.memoizedState=a,He=!0),h=h.queue;var S=Wg.bind(null,l,h,n);if(il(2048,8,S,[n]),h.getSnapshot!==s||E||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ia(9,oc(),Jg.bind(null,l,h,a,s),null),ae===null)throw Error(r(349));d||(ws&124)!==0||Zg(l,s,a)}return a}function Zg(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Lt.updateQueue,s===null?(s=$f(),Lt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Jg(n,s,a,l){s.value=a,s.getSnapshot=l,t0(s)&&e0(n)}function Wg(n,s,a){return a(function(){t0(s)&&e0(n)})}function t0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Cn(n,a)}catch{return!0}}function e0(n){var s=Ea(n,2);s!==null&&Vn(s,n,2)}function Wf(n){var s=gn();if(typeof n=="function"){var a=n;if(n=a(),jr){wn(!0);try{a()}finally{wn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},s}function n0(n,s,a,l){return n.baseState=a,Zf(n,ee,typeof l=="function"?l:Ji)}function N4(n,s,a,l,h){if(uc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,i0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function i0(n,s){var a=s.action,l=s.payload,h=n.state;if(s.isTransition){var d=X.T,E={};X.T=E;try{var S=a(h,l),M=X.S;M!==null&&M(E,S),s0(n,s,S)}catch(G){td(n,s,G)}finally{X.T=d}}else try{d=a(h,l),s0(n,s,d)}catch(G){td(n,s,G)}}function s0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){r0(n,s,l)},function(l){return td(n,s,l)}):r0(n,s,a)}function r0(n,s,a){s.status="fulfilled",s.value=a,a0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,i0(n,a)))}function td(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,a0(s),s=s.next;while(s!==l)}n.action=null}function a0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function o0(n,s){return s}function l0(n,s){if(Kt){var a=ae.formState;if(a!==null){t:{var l=Lt;if(Kt){if(ye){e:{for(var h=ye,d=vi;h.nodeType!==8;){if(!d){h=null;break e}if(h=si(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ye=si(h.nextSibling),l=h.data==="F!";break t}}Nr(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:s},a.queue=l,a=R0.bind(null,Lt,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Lt,!1,l.queue),l=gn(),h={state:s,dispatch:null,action:n,pending:null},l.queue=h,a=N4.bind(null,Lt,h,d,a),h.dispatch=a,l.memoizedState=n,[s,a,!1]}function u0(n){var s=Re();return c0(s,ee,n)}function c0(n,s,a){if(s=Zf(n,s,o0)[0],n=ac(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=nl(s)}catch(E){throw E===Xo?tc:E}else l=s;s=Re();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(Lt.flags|=2048,Ia(9,oc(),O4.bind(null,h,a),null)),[l,d,n]}function O4(n,s){n.action=s}function h0(n){var s=Re(),a=ee;if(a!==null)return c0(s,a,n);Re(),s=s.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Ia(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Lt.updateQueue,s===null&&(s=$f(),Lt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function oc(){return{destroy:void 0,resource:void 0}}function f0(){return Re().memoizedState}function lc(n,s,a,l){var h=gn();l=l===void 0?null:l,Lt.flags|=n,h.memoizedState=Ia(1|s,oc(),a,l)}function il(n,s,a,l){var h=Re();l=l===void 0?null:l;var d=h.memoizedState.inst;ee!==null&&l!==null&&Gf(l,ee.memoizedState.deps)?h.memoizedState=Ia(s,d,a,l):(Lt.flags|=n,h.memoizedState=Ia(1|s,d,a,l))}function d0(n,s){lc(8390656,8,n,s)}function m0(n,s){il(2048,8,n,s)}function g0(n,s){return il(4,2,n,s)}function p0(n,s){return il(4,4,n,s)}function y0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function _0(n,s,a){a=a!=null?a.concat([n]):null,il(4,4,y0.bind(null,s,n),a)}function ed(){}function v0(n,s){var a=Re();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Gf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function E0(n,s){var a=Re();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Gf(s,l[1]))return l[0];if(l=n(),jr){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,s],l}function nd(n,s,a){return a===void 0||(ws&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=Sp(),Lt.lanes|=n,Ms|=n,a)}function T0(n,s,a,l){return Cn(a,s)?a:Ca.current!==null?(n=nd(n,a,l),Cn(n,s)||(He=!0),n):(ws&42)===0?(He=!0,n.memoizedState=a):(n=Sp(),Lt.lanes|=n,Ms|=n,s)}function b0(n,s,a,l,h){var d=ct.p;ct.p=d!==0&&8>d?d:8;var E=X.T,S={};X.T=S,rd(n,!1,s,a);try{var M=h(),G=X.S;if(G!==null&&G(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var tt=D4(M,l);sl(n,s,tt,Mn(n))}else sl(n,s,l,Mn(n))}catch(st){sl(n,s,{then:function(){},status:"rejected",reason:st},Mn())}finally{ct.p=d,X.T=E}}function L4(){}function id(n,s,a,l){if(n.tag!==5)throw Error(r(476));var h=S0(n).queue;b0(n,h,s,mt,a===null?L4:function(){return w0(n),a(l)})}function S0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:mt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function w0(n){var s=S0(n).next.queue;sl(n,s,{},Mn())}function sd(){return an(bl)}function A0(){return Re().memoizedState}function C0(){return Re().memoizedState}function k4(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mn();n=bs(a);var l=Ss(s,n,a);l!==null&&(Vn(l,s,a),Jo(l,s,a)),s={cache:Of()},n.payload=s;return}s=s.return}}function j4(n,s,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(n)?x0(s,a):(a=wf(n,s,a,l),a!==null&&(Vn(a,n,l),I0(a,s,l)))}function R0(n,s,a){var l=Mn();sl(n,s,a,l)}function sl(n,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(n))x0(s,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var E=s.lastRenderedState,S=d(E,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,E))return Qu(n,s,h,0),ae===null&&Fu(),!1}catch{}finally{}if(a=wf(n,s,h,l),a!==null)return Vn(a,n,l),I0(a,s,l),!0}return!1}function rd(n,s,a,l){if(l={lane:2,revertLane:jd(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(n)){if(s)throw Error(r(479))}else s=wf(n,a,l,2),s!==null&&Vn(s,n,2)}function uc(n){var s=n.alternate;return n===Lt||s!==null&&s===Lt}function x0(n,s){Ra=ic=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function I0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Co(n,a)}}var cc={readContext:an,use:rc,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},D0={readContext:an,use:rc,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:an,useEffect:d0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,lc(4194308,4,y0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return lc(4194308,4,n,s)},useInsertionEffect:function(n,s){lc(4,2,n,s)},useMemo:function(n,s){var a=gn();s=s===void 0?null:s;var l=n();if(jr){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=gn();if(a!==void 0){var h=a(s);if(jr){wn(!0);try{a(s)}finally{wn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=j4.bind(null,Lt,n),[l.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=Wf(n);var s=n.queue,a=R0.bind(null,Lt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(n,s){var a=gn();return nd(a,n,s)},useTransition:function(){var n=Wf(!1);return n=b0.bind(null,Lt,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Lt,h=gn();if(Kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ae===null)throw Error(r(349));(Gt&124)!==0||Zg(l,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,d0(Wg.bind(null,l,d,n),[n]),l.flags|=2048,Ia(9,oc(),Jg.bind(null,l,d,a,s),null),a},useId:function(){var n=gn(),s=ae.identifierPrefix;if(Kt){var a=$i,l=Ki;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,s=""+s+"R"+a,a=sc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=M4++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:sd,useFormState:l0,useActionState:l0,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=rd.bind(null,Lt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Xf,useCacheRefresh:function(){return gn().memoizedState=k4.bind(null,Lt)}},M0={readContext:an,use:rc,useCallback:v0,useContext:an,useEffect:m0,useImperativeHandle:_0,useInsertionEffect:g0,useLayoutEffect:p0,useMemo:E0,useReducer:ac,useRef:f0,useState:function(){return ac(Ji)},useDebugValue:ed,useDeferredValue:function(n,s){var a=Re();return T0(a,ee.memoizedState,n,s)},useTransition:function(){var n=ac(Ji)[0],s=Re().memoizedState;return[typeof n=="boolean"?n:nl(n),s]},useSyncExternalStore:Xg,useId:A0,useHostTransitionStatus:sd,useFormState:u0,useActionState:u0,useOptimistic:function(n,s){var a=Re();return n0(a,ee,n,s)},useMemoCache:Xf,useCacheRefresh:C0},P4={readContext:an,use:rc,useCallback:v0,useContext:an,useEffect:m0,useImperativeHandle:_0,useInsertionEffect:g0,useLayoutEffect:p0,useMemo:E0,useReducer:Jf,useRef:f0,useState:function(){return Jf(Ji)},useDebugValue:ed,useDeferredValue:function(n,s){var a=Re();return ee===null?nd(a,n,s):T0(a,ee.memoizedState,n,s)},useTransition:function(){var n=Jf(Ji)[0],s=Re().memoizedState;return[typeof n=="boolean"?n:nl(n),s]},useSyncExternalStore:Xg,useId:A0,useHostTransitionStatus:sd,useFormState:h0,useActionState:h0,useOptimistic:function(n,s){var a=Re();return ee!==null?n0(a,ee,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:C0},Da=null,rl=0;function hc(n){var s=rl;return rl+=1,Da===null&&(Da=[]),qg(Da,n,s)}function al(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function fc(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function V0(n){var s=n._init;return s(n._payload)}function N0(n){function s(B,P){if(n){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function a(B,P){if(!n)return null;for(;P!==null;)s(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function h(B,P){return B=Yi(B,P),B.index=0,B.sibling=null,B}function d(B,P,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,H,nt){return P===null||P.tag!==6?(P=Cf(H,B.mode,nt),P.return=B,P):(P=h(P,H),P.return=B,P)}function M(B,P,H,nt){var yt=H.type;return yt===V?tt(B,P,H.props.children,nt,H.key):P!==null&&(P.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===C&&V0(yt)===P.type)?(P=h(P,H.props),al(P,H),P.return=B,P):(P=Ku(H.type,H.key,H.props,null,B.mode,nt),al(P,H),P.return=B,P)}function G(B,P,H,nt){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Rf(H,B.mode,nt),P.return=B,P):(P=h(P,H.children||[]),P.return=B,P)}function tt(B,P,H,nt,yt){return P===null||P.tag!==7?(P=Ir(H,B.mode,nt,yt),P.return=B,P):(P=h(P,H),P.return=B,P)}function st(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Cf(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return H=Ku(P.type,P.key,P.props,null,B.mode,H),al(H,P),H.return=B,H;case x:return P=Rf(P,B.mode,H),P.return=B,P;case C:var nt=P._init;return P=nt(P._payload),st(B,P,H)}if(It(P)||j(P))return P=Ir(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return st(B,hc(P),H);if(P.$$typeof===K)return st(B,Ju(B,P),H);fc(B,P)}return null}function Q(B,P,H,nt){var yt=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return yt!==null?null:S(B,P,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===yt?M(B,P,H,nt):null;case x:return H.key===yt?G(B,P,H,nt):null;case C:return yt=H._init,H=yt(H._payload),Q(B,P,H,nt)}if(It(H)||j(H))return yt!==null?null:tt(B,P,H,nt,null);if(typeof H.then=="function")return Q(B,P,hc(H),nt);if(H.$$typeof===K)return Q(B,P,Ju(B,H),nt);fc(B,H)}return null}function Y(B,P,H,nt,yt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(H)||null,S(P,B,""+nt,yt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case b:return B=B.get(nt.key===null?H:nt.key)||null,M(P,B,nt,yt);case x:return B=B.get(nt.key===null?H:nt.key)||null,G(P,B,nt,yt);case C:var jt=nt._init;return nt=jt(nt._payload),Y(B,P,H,nt,yt)}if(It(nt)||j(nt))return B=B.get(H)||null,tt(P,B,nt,yt,null);if(typeof nt.then=="function")return Y(B,P,H,hc(nt),yt);if(nt.$$typeof===K)return Y(B,P,H,Ju(P,nt),yt);fc(P,nt)}return null}function At(B,P,H,nt){for(var yt=null,jt=null,_t=P,St=P=0,Fe=null;_t!==null&&St<H.length;St++){_t.index>St?(Fe=_t,_t=null):Fe=_t.sibling;var Yt=Q(B,_t,H[St],nt);if(Yt===null){_t===null&&(_t=Fe);break}n&&_t&&Yt.alternate===null&&s(B,_t),P=d(Yt,P,St),jt===null?yt=Yt:jt.sibling=Yt,jt=Yt,_t=Fe}if(St===H.length)return a(B,_t),Kt&&Mr(B,St),yt;if(_t===null){for(;St<H.length;St++)_t=st(B,H[St],nt),_t!==null&&(P=d(_t,P,St),jt===null?yt=_t:jt.sibling=_t,jt=_t);return Kt&&Mr(B,St),yt}for(_t=l(_t);St<H.length;St++)Fe=Y(_t,B,St,H[St],nt),Fe!==null&&(n&&Fe.alternate!==null&&_t.delete(Fe.key===null?St:Fe.key),P=d(Fe,P,St),jt===null?yt=Fe:jt.sibling=Fe,jt=Fe);return n&&_t.forEach(function(Bs){return s(B,Bs)}),Kt&&Mr(B,St),yt}function bt(B,P,H,nt){if(H==null)throw Error(r(151));for(var yt=null,jt=null,_t=P,St=P=0,Fe=null,Yt=H.next();_t!==null&&!Yt.done;St++,Yt=H.next()){_t.index>St?(Fe=_t,_t=null):Fe=_t.sibling;var Bs=Q(B,_t,Yt.value,nt);if(Bs===null){_t===null&&(_t=Fe);break}n&&_t&&Bs.alternate===null&&s(B,_t),P=d(Bs,P,St),jt===null?yt=Bs:jt.sibling=Bs,jt=Bs,_t=Fe}if(Yt.done)return a(B,_t),Kt&&Mr(B,St),yt;if(_t===null){for(;!Yt.done;St++,Yt=H.next())Yt=st(B,Yt.value,nt),Yt!==null&&(P=d(Yt,P,St),jt===null?yt=Yt:jt.sibling=Yt,jt=Yt);return Kt&&Mr(B,St),yt}for(_t=l(_t);!Yt.done;St++,Yt=H.next())Yt=Y(_t,B,St,Yt.value,nt),Yt!==null&&(n&&Yt.alternate!==null&&_t.delete(Yt.key===null?St:Yt.key),P=d(Yt,P,St),jt===null?yt=Yt:jt.sibling=Yt,jt=Yt);return n&&_t.forEach(function(U6){return s(B,U6)}),Kt&&Mr(B,St),yt}function ie(B,P,H,nt){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var yt=H.key;P!==null;){if(P.key===yt){if(yt=H.type,yt===V){if(P.tag===7){a(B,P.sibling),nt=h(P,H.props.children),nt.return=B,B=nt;break t}}else if(P.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===C&&V0(yt)===P.type){a(B,P.sibling),nt=h(P,H.props),al(nt,H),nt.return=B,B=nt;break t}a(B,P);break}else s(B,P);P=P.sibling}H.type===V?(nt=Ir(H.props.children,B.mode,nt,H.key),nt.return=B,B=nt):(nt=Ku(H.type,H.key,H.props,null,B.mode,nt),al(nt,H),nt.return=B,B=nt)}return E(B);case x:t:{for(yt=H.key;P!==null;){if(P.key===yt)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(B,P.sibling),nt=h(P,H.children||[]),nt.return=B,B=nt;break t}else{a(B,P);break}else s(B,P);P=P.sibling}nt=Rf(H,B.mode,nt),nt.return=B,B=nt}return E(B);case C:return yt=H._init,H=yt(H._payload),ie(B,P,H,nt)}if(It(H))return At(B,P,H,nt);if(j(H)){if(yt=j(H),typeof yt!="function")throw Error(r(150));return H=yt.call(H),bt(B,P,H,nt)}if(typeof H.then=="function")return ie(B,P,hc(H),nt);if(H.$$typeof===K)return ie(B,P,Ju(B,H),nt);fc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(B,P.sibling),nt=h(P,H),nt.return=B,B=nt):(a(B,P),nt=Cf(H,B.mode,nt),nt.return=B,B=nt),E(B)):a(B,P)}return function(B,P,H,nt){try{rl=0;var yt=ie(B,P,H,nt);return Da=null,yt}catch(_t){if(_t===Xo||_t===tc)throw _t;var jt=Rn(29,_t,null,B.mode);return jt.lanes=nt,jt.return=B,jt}finally{}}}var Ma=N0(!0),O0=N0(!1),Fn=et(null),Ei=null;function As(n){var s=n.alternate;at(Le,Le.current&1),at(Fn,n),Ei===null&&(s===null||Ca.current!==null||s.memoizedState!==null)&&(Ei=n)}function L0(n){if(n.tag===22){if(at(Le,Le.current),at(Fn,n),Ei===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ei=n)}}else Cs()}function Cs(){at(Le,Le.current),at(Fn,Fn.current)}function Wi(n){rt(Fn),Ei===n&&(Ei=null),rt(Le)}var Le=et(0);function dc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ad(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var od={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Mn(),h=bs(l);h.payload=s,a!=null&&(h.callback=a),s=Ss(n,h,l),s!==null&&(Vn(s,n,l),Jo(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Mn(),h=bs(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Ss(n,h,l),s!==null&&(Vn(s,n,l),Jo(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Mn(),l=bs(a);l.tag=2,s!=null&&(l.callback=s),s=Ss(n,l,a),s!==null&&(Vn(s,n,a),Jo(s,n,a))}};function k0(n,s,a,l,h,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):s.prototype&&s.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function j0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&od.enqueueReplaceState(s,s.state,null)}function Pr(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function P0(n){mc(n)}function U0(n){console.error(n)}function B0(n){mc(n)}function gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function z0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(n,s,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(n,s)},a}function q0(n){return n=bs(n),n.tag=3,n}function H0(n,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){z0(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){z0(s,a,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function U4(n,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Yo(s,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Ei===null?Vd():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Od(n,l,h)),!1;case 22:return a.flags|=65536,l===jf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Od(n,l,h)),!1}throw Error(r(435,a.tag))}return Od(n,l,h),Vd(),!1}if(Kt)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==Df&&(n=Error(r(422),{cause:l}),Qo(zn(n,a)))):(l!==Df&&(s=Error(r(423),{cause:l}),Qo(zn(s,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=zn(l,a),h=ld(n.stateNode,l,h),Bf(n,h),_e!==4&&(_e=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,a),dl===null?dl=[d]:dl.push(d),_e!==4&&(_e=2),s===null)return!0;l=zn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=ld(a.stateNode,l,n),Bf(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=q0(h),H0(h,n,a,l),Bf(a,h),!1}a=a.return}while(a!==null);return!1}var G0=Error(r(461)),He=!1;function Ze(n,s,a,l){s.child=n===null?O0(s,null,a,l):Ma(s,n.child,a,l)}function F0(n,s,a,l,h){a=a.render;var d=s.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Lr(s),l=Ff(n,s,a,E,d,h),S=Qf(),n!==null&&!He?(Yf(n,s,h),ts(n,s,h)):(Kt&&S&&xf(s),s.flags|=1,Ze(n,s,l,h),s.child)}function Q0(n,s,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Y0(n,s,d,l,h)):(n=Ku(a.type,null,l,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!pd(n,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(E,l)&&n.ref===s.ref)return ts(n,s,h)}return s.flags|=1,n=Yi(d,l),n.ref=s.ref,n.return=s,s.child=n}function Y0(n,s,a,l,h){if(n!==null){var d=n.memoizedProps;if(qo(d,l)&&n.ref===s.ref)if(He=!1,s.pendingProps=l=d,pd(n,h))(n.flags&131072)!==0&&(He=!0);else return s.lanes=n.lanes,ts(n,s,h)}return ud(n,s,a,l,h)}function K0(n,s,a){var l=s.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=s.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return $0(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Wu(s,d!==null?d.cachePool:null),d!==null?Yg(s,d):qf(),L0(s);else return s.lanes=s.childLanes=536870912,$0(n,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(Wu(s,d.cachePool),Yg(s,d),Cs(),s.memoizedState=null):(n!==null&&Wu(s,null),qf(),Cs());return Ze(n,s,h,a),s.child}function $0(n,s,a,l){var h=kf();return h=h===null?null:{parent:Oe._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},n!==null&&Wu(s,null),qf(),L0(s),n!==null&&Yo(n,s,l,!0),null}function pc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function ud(n,s,a,l,h){return Lr(s),a=Ff(n,s,a,l,void 0,h),l=Qf(),n!==null&&!He?(Yf(n,s,h),ts(n,s,h)):(Kt&&l&&xf(s),s.flags|=1,Ze(n,s,a,h),s.child)}function X0(n,s,a,l,h,d){return Lr(s),s.updateQueue=null,a=$g(s,l,a,h),Kg(n),l=Qf(),n!==null&&!He?(Yf(n,s,d),ts(n,s,d)):(Kt&&l&&xf(s),s.flags|=1,Ze(n,s,a,d),s.child)}function Z0(n,s,a,l,h){if(Lr(s),s.stateNode===null){var d=Ta,E=a.contextType;typeof E=="object"&&E!==null&&(d=an(E)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Pf(s),E=a.contextType,d.context=typeof E=="object"&&E!==null?an(E):Ta,d.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ad(s,a,E,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&od.enqueueReplaceState(d,d.state,null),tl(s,l,d,h),Wo(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var S=s.memoizedProps,M=Pr(a,S);d.props=M;var G=d.context,tt=a.contextType;E=Ta,typeof tt=="object"&&tt!==null&&(E=an(tt));var st=a.getDerivedStateFromProps;tt=typeof st=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==E)&&j0(s,d,l,E),Ts=!1;var Q=s.memoizedState;d.state=Q,tl(s,l,d,h),Wo(),G=s.memoizedState,S||Q!==G||Ts?(typeof st=="function"&&(ad(s,a,st,l),G=s.memoizedState),(M=Ts||k0(s,a,M,l,Q,G,E))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=E,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Uf(n,s),E=s.memoizedProps,tt=Pr(a,E),d.props=tt,st=s.pendingProps,Q=d.context,G=a.contextType,M=Ta,typeof G=="object"&&G!==null&&(M=an(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==st||Q!==M)&&j0(s,d,l,M),Ts=!1,Q=s.memoizedState,d.state=Q,tl(s,l,d,h),Wo();var Y=s.memoizedState;E!==st||Q!==Y||Ts||n!==null&&n.dependencies!==null&&Zu(n.dependencies)?(typeof S=="function"&&(ad(s,a,S,l),Y=s.memoizedState),(tt=Ts||k0(s,a,tt,l,Q,Y,M)||n!==null&&n.dependencies!==null&&Zu(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=M,l=tt):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,pc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Ma(s,n.child,null,h),s.child=Ma(s,null,a,h)):Ze(n,s,a,h),s.memoizedState=d.state,n=s.child):n=ts(n,s,h),n}function J0(n,s,a,l){return Fo(),s.flags|=256,Ze(n,s,a,l),s.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(n){return{baseLanes:n,cachePool:Ug()}}function fd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Qn),n}function W0(n,s,a){var l=s.pendingProps,h=!1,d=(s.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Le.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Kt){if(h?As(s):Cs(),Kt){var S=ye,M;if(M=S){t:{for(M=S,S=vi;M.nodeType!==8;){if(!S){S=null;break t}if(M=si(M.nextSibling),M===null){S=null;break t}}S=M}S!==null?(s.memoizedState={dehydrated:S,treeContext:Dr!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},M=Rn(18,null,null,0),M.stateNode=S,M.return=s,s.child=M,mn=s,ye=null,M=!0):M=!1}M||Nr(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $d(S)?s.lanes=32:s.lanes=536870912,null;Wi(s)}return S=l.children,l=l.fallback,h?(Cs(),h=s.mode,S=yc({mode:"hidden",children:S},h),l=Ir(l,h,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,h=s.child,h.memoizedState=hd(a),h.childLanes=fd(n,E,a),s.memoizedState=cd,l):(As(s),dd(s,S))}if(M=n.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(d)s.flags&256?(As(s),s.flags&=-257,s=md(n,s,a)):s.memoizedState!==null?(Cs(),s.child=n.child,s.flags|=128,s=null):(Cs(),h=l.fallback,S=s.mode,l=yc({mode:"visible",children:l.children},S),h=Ir(h,S,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,Ma(s,n.child,null,a),l=s.child,l.memoizedState=hd(a),l.childLanes=fd(n,E,a),s.memoizedState=cd,s=h);else if(As(s),$d(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(r(419)),l.stack="",l.digest=E,Qo({value:l,source:null,stack:null}),s=md(n,s,a)}else if(He||Yo(n,s,a,!1),E=(a&n.childLanes)!==0,He||E){if(E=ae,E!==null&&(l=a&-a,l=(l&42)!==0?1:ds(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,Ea(n,l),Vn(E,n,l),G0;S.data==="$?"||Vd(),s=md(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,ye=si(S.nextSibling),mn=s,Kt=!0,Vr=null,vi=!1,n!==null&&(Hn[Gn++]=Ki,Hn[Gn++]=$i,Hn[Gn++]=Dr,Ki=n.id,$i=n.overflow,Dr=s),s=dd(s,l.children),s.flags|=4096);return s}return h?(Cs(),h=l.fallback,S=s.mode,M=n.child,G=M.sibling,l=Yi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?h=Yi(G,h):(h=Ir(h,S,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,S=n.child.memoizedState,S===null?S=hd(a):(M=S.cachePool,M!==null?(G=Oe._currentValue,M=M.parent!==G?{parent:G,pool:G}:M):M=Ug(),S={baseLanes:S.baseLanes|a,cachePool:M}),h.memoizedState=S,h.childLanes=fd(n,E,a),s.memoizedState=cd,l):(As(s),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function dd(n,s){return s=yc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function yc(n,s){return n=Rn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function md(n,s,a){return Ma(s,n.child,null,a),n=dd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function tp(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Vf(n.return,s,a)}function gd(n,s,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ep(n,s,a){var l=s.pendingProps,h=l.revealOrder,d=l.tail;if(Ze(n,s,l.children,a),l=Le.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tp(n,a,s);else if(n.tag===19)tp(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(at(Le,l),h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&dc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),gd(s,!1,h,a,d);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&dc(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}gd(s,!0,a,null,d);break;case"together":gd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ts(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ms|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Yo(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Yi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function pd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Zu(n)))}function B4(n,s,a){switch(s.tag){case 3:Mt(s,s.stateNode.containerInfo),Es(s,Oe,n.memoizedState.cache),Fo();break;case 27:case 5:Ue(s);break;case 4:Mt(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(As(s),s.flags|=128,null):(a&s.child.childLanes)!==0?W0(n,s,a):(As(s),n=ts(n,s,a),n!==null?n.sibling:null);As(s);break;case 19:var h=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Yo(n,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return ep(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Le,Le.current),l)break;return null;case 22:case 23:return s.lanes=0,K0(n,s,a);case 24:Es(s,Oe,n.memoizedState.cache)}return ts(n,s,a)}function np(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)He=!0;else{if(!pd(n,a)&&(s.flags&128)===0)return He=!1,B4(n,s,a);He=(n.flags&131072)!==0}else He=!1,Kt&&(s.flags&1048576)!==0&&Vg(s,Xu,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")Af(l)?(n=Pr(l,n),s.tag=1,s=Z0(null,s,l,n,a)):(s.tag=0,s=ud(null,s,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===it){s.tag=11,s=F0(null,s,l,n,a);break t}else if(h===D){s.tag=14,s=Q0(null,s,l,n,a);break t}}throw s=Rt(l)||l,Error(r(306,s,""))}}return s;case 0:return ud(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Pr(l,s.pendingProps),Z0(n,s,l,h,a);case 3:t:{if(Mt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;h=d.element,Uf(n,s),tl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Es(s,Oe,l),l!==d.cache&&Nf(s,[Oe],a,!0),Wo(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=J0(n,s,l,a);break t}else if(l!==h){h=zn(Error(r(424)),s),Qo(h),s=J0(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ye=si(n.firstChild),mn=s,Kt=!0,Vr=null,vi=!0,a=O0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fo(),l===h){s=ts(n,s,a);break t}Ze(n,s,l,a)}s=s.child}return s;case 26:return pc(n,s),n===null?(a=a2(s.type,null,s.pendingProps,null))?s.memoizedState=a:Kt||(a=s.type,n=s.pendingProps,l=Mc(dt.current).createElement(a),l[Me]=s,l[we]=n,We(l,a,n),ve(l),s.stateNode=l):s.memoizedState=a2(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ue(s),n===null&&Kt&&(l=s.stateNode=i2(s.type,s.pendingProps,dt.current),mn=s,vi=!0,h=ye,Ls(s.type)?(Xd=h,ye=si(l.firstChild)):ye=h),Ze(n,s,s.pendingProps.children,a),pc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Kt&&((h=l=ye)&&(l=m6(l,s.type,s.pendingProps,vi),l!==null?(s.stateNode=l,mn=s,ye=si(l.firstChild),vi=!1,h=!0):h=!1),h||Nr(s)),Ue(s),h=s.type,d=s.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Qd(h,d)?l=null:E!==null&&Qd(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Ff(n,s,V4,null,null,a),bl._currentValue=h),pc(n,s),Ze(n,s,l,a),s.child;case 6:return n===null&&Kt&&((n=a=ye)&&(a=g6(a,s.pendingProps,vi),a!==null?(s.stateNode=a,mn=s,ye=null,n=!0):n=!1),n||Nr(s)),null;case 13:return W0(n,s,a);case 4:return Mt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Ma(s,null,l,a):Ze(n,s,l,a),s.child;case 11:return F0(n,s,s.type,s.pendingProps,a);case 7:return Ze(n,s,s.pendingProps,a),s.child;case 8:return Ze(n,s,s.pendingProps.children,a),s.child;case 12:return Ze(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Es(s,s.type,l.value),Ze(n,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Lr(s),h=an(h),l=l(h),s.flags|=1,Ze(n,s,l,a),s.child;case 14:return Q0(n,s,s.type,s.pendingProps,a);case 15:return Y0(n,s,s.type,s.pendingProps,a);case 19:return ep(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=yc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Yi(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return K0(n,s,a);case 24:return Lr(s),l=an(Oe),n===null?(h=kf(),h===null&&(h=ae,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:l,cache:h},Pf(s),Es(s,Oe,h)):((n.lanes&a)!==0&&(Uf(n,s),tl(s,null,null,a),Wo()),h=n.memoizedState,d=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Es(s,Oe,l)):(l=d.cache,Es(s,Oe,l),l!==h.cache&&Nf(s,[Oe],a,!0))),Ze(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function es(n){n.flags|=4}function ip(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!h2(s)){if(s=Fn.current,s!==null&&((Gt&4194048)===Gt?Ei!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||s!==Ei))throw Zo=jf,Bg;n.flags|=8192}}function _c(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?wo():536870912,n.lanes|=s,La|=s)}function ol(n,s){if(!Kt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function de(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function z4(n,s,a){var l=s.pendingProps;switch(If(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(s),null;case 1:return de(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zi(Oe),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Go(s)?es(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lg())),de(s),null;case 26:return a=s.memoizedState,n===null?(es(s),a!==null?(de(s),ip(s,a)):(de(s),s.flags&=-16777217)):a?a!==n.memoizedState?(es(s),de(s),ip(s,a)):(de(s),s.flags&=-16777217):(n.memoizedProps!==l&&es(s),de(s),s.flags&=-16777217),null;case 27:De(s),a=dt.current;var h=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}n=pt.current,Go(s)?Ng(s):(n=i2(h,l,a),s.stateNode=n,es(s))}return de(s),null;case 5:if(De(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}if(n=pt.current,Go(s))Ng(s);else{switch(h=Mc(dt.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Me]=s,n[we]=l;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=n;t:switch(We(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&es(s)}}return de(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&es(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=dt.current,Go(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Me]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xp(n.nodeValue,a)),n||Nr(s)}else n=Mc(n).createTextNode(l),n[Me]=s,s.stateNode=n}return de(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Go(s),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Me]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),h=!1}else h=Lg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Wi(s),s):(Wi(s),null)}if(Wi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),_c(s,s.updateQueue),de(s),null;case 4:return oe(),n===null&&zd(s.stateNode.containerInfo),de(s),null;case 10:return Zi(s.type),de(s),null;case 19:if(rt(Le),h=s.memoizedState,h===null)return de(s),null;if(l=(s.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(_e!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=dc(n),d!==null){for(s.flags|=128,ol(h,!1),n=d.updateQueue,s.updateQueue=n,_c(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Mg(a,n),a=a.sibling;return at(Le,Le.current&1|2),s.child}n=n.sibling}h.tail!==null&&fe()>Tc&&(s.flags|=128,l=!0,ol(h,!1),s.lanes=4194304)}else{if(!l)if(n=dc(d),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,_c(s,n),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Kt)return de(s),null}else 2*fe()-h.renderingStartTime>Tc&&a!==536870912&&(s.flags|=128,l=!0,ol(h,!1),s.lanes=4194304);h.isBackwards?(d.sibling=s.child,s.child=d):(n=h.last,n!==null?n.sibling=d:s.child=d,h.last=d)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=fe(),s.sibling=null,n=Le.current,at(Le,l?n&1|2:n&1),s):(de(s),null);case 22:case 23:return Wi(s),Hf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(de(s),s.subtreeFlags&6&&(s.flags|=8192)):de(s),a=s.updateQueue,a!==null&&_c(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&rt(kr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Zi(Oe),de(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function q4(n,s){switch(If(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Zi(Oe),oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return De(s),null;case 13:if(Wi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return rt(Le),null;case 4:return oe(),null;case 10:return Zi(s.type),null;case 22:case 23:return Wi(s),Hf(),n!==null&&rt(kr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Zi(Oe),null;case 25:return null;default:return null}}function sp(n,s){switch(If(s),s.tag){case 3:Zi(Oe),oe();break;case 26:case 27:case 5:De(s);break;case 4:oe();break;case 13:Wi(s);break;case 19:rt(Le);break;case 10:Zi(s.type);break;case 22:case 23:Wi(s),Hf(),n!==null&&rt(kr);break;case 24:Zi(Oe)}}function ll(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){re(s,s.return,S)}}function Rs(n,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=s;var M=a,G=S;try{G()}catch(tt){re(h,M,tt)}}}l=l.next}while(l!==d)}}catch(tt){re(s,s.return,tt)}}function rp(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Qg(s,a)}catch(l){re(n,n.return,l)}}}function ap(n,s,a){a.props=Pr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){re(n,s,l)}}function ul(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){re(n,s,h)}}function Ti(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){re(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){re(n,s,h)}else a.current=null}function op(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){re(n,n.return,h)}}function yd(n,s,a){try{var l=n.stateNode;u6(l,n.type,a,s),l[we]=s}catch(h){re(n,n.return,h)}}function lp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ls(n.type)||n.tag===4}function _d(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||lp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ls(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Dc));else if(l!==4&&(l===27&&Ls(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(vd(n,s,a),n=n.sibling;n!==null;)vd(n,s,a),n=n.sibling}function vc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Ls(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(vc(n,s,a),n=n.sibling;n!==null;)vc(n,s,a),n=n.sibling}function up(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);We(s,l,a),s[Me]=n,s[we]=a}catch(d){re(n,n.return,d)}}var ns=!1,Te=!1,Ed=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function H4(n,s){if(n=n.containerInfo,Gd=jc,n=Tg(n),_f(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,S=-1,M=-1,G=0,tt=0,st=n,Q=null;e:for(;;){for(var Y;st!==a||h!==0&&st.nodeType!==3||(S=E+h),st!==d||l!==0&&st.nodeType!==3||(M=E+l),st.nodeType===3&&(E+=st.nodeValue.length),(Y=st.firstChild)!==null;)Q=st,st=Y;for(;;){if(st===n)break e;if(Q===a&&++G===h&&(S=E),Q===d&&++tt===l&&(M=E),(Y=st.nextSibling)!==null)break;st=Q,Q=st.parentNode}st=Y}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:n,selectionRange:a},jc=!1,Ge=s;Ge!==null;)if(s=Ge,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Ge=n;else for(;Ge!==null;){switch(s=Ge,d=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=Pr(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(bt){re(a,a.return,bt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Kd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Kd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ge=n;break}Ge=s.return}}function hp(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xs(n,a),l&4&&ll(5,a);break;case 1:if(xs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){re(a,a.return,E)}else{var h=Pr(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){re(a,a.return,E)}}l&64&&rp(a),l&512&&ul(a,a.return);break;case 3:if(xs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Qg(n,s)}catch(E){re(a,a.return,E)}}break;case 27:s===null&&l&4&&up(a);case 26:case 5:xs(n,a),s===null&&l&4&&op(a),l&512&&ul(a,a.return);break;case 12:xs(n,a);break;case 13:xs(n,a),l&4&&mp(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=J4.bind(null,a),p6(n,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){s=s!==null&&s.memoizedState!==null||Te,h=ns;var d=Te;ns=l,(Te=s)&&!d?Is(n,a,(a.subtreeFlags&8772)!==0):xs(n,a),ns=h,Te=d}break;case 30:break;default:xs(n,a)}}function fp(n){var s=n.alternate;s!==null&&(n.alternate=null,fp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ps(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ce=null,pn=!1;function is(n,s,a){for(a=a.child;a!==null;)dp(n,s,a),a=a.sibling}function dp(n,s,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pe,a)}catch{}switch(a.tag){case 26:Te||Ti(a,s),is(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Te||Ti(a,s);var l=ce,h=pn;Ls(a.type)&&(ce=a.stateNode,pn=!1),is(n,s,a),_l(a.stateNode),ce=l,pn=h;break;case 5:Te||Ti(a,s);case 6:if(l=ce,h=pn,ce=null,is(n,s,a),ce=l,pn=h,ce!==null)if(pn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){re(a,s,d)}else try{ce.removeChild(a.stateNode)}catch(d){re(a,s,d)}break;case 18:ce!==null&&(pn?(n=ce,e2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Cl(n)):e2(ce,a.stateNode));break;case 4:l=ce,h=pn,ce=a.stateNode.containerInfo,pn=!0,is(n,s,a),ce=l,pn=h;break;case 0:case 11:case 14:case 15:Te||Rs(2,a,s),Te||Rs(4,a,s),is(n,s,a);break;case 1:Te||(Ti(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ap(a,s,l)),is(n,s,a);break;case 21:is(n,s,a);break;case 22:Te=(l=Te)||a.memoizedState!==null,is(n,s,a),Te=l;break;default:is(n,s,a)}}function mp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cl(n)}catch(a){re(s,s.return,a)}}function G4(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new cp),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new cp),s;default:throw Error(r(435,n.tag))}}function Td(n,s){var a=G4(n);s.forEach(function(l){var h=W4.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,E=s,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Ls(S.type)){ce=S.stateNode,pn=!1;break t}break;case 5:ce=S.stateNode,pn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,pn=!0;break t}S=S.return}if(ce===null)throw Error(r(160));dp(d,E,h),ce=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)gp(s,n),s=s.sibling}var ii=null;function gp(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(s,n),In(n),l&4&&(Rs(3,n,n.return),ll(3,n),Rs(5,n,n.return));break;case 1:xn(s,n),In(n),l&512&&(Te||a===null||Ti(a,a.return)),l&64&&ns&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(xn(s,n),In(n),l&512&&(Te||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[dr]||d[Me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),We(d,l,a),d[Me]=n,ve(d),l=d;break t;case"link":var E=u2("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;case"meta":if(E=u2("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Me]=n,ve(d),l=d}n.stateNode=l}else c2(h,n.type,n.stateNode);else n.stateNode=l2(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?c2(h,n.type,n.stateNode):l2(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&yd(n,n.memoizedProps,a.memoizedProps)}break;case 27:xn(s,n),In(n),l&512&&(Te||a===null||Ti(a,a.return)),a!==null&&l&4&&yd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(xn(s,n),In(n),l&512&&(Te||a===null||Ti(a,a.return)),n.flags&32){h=n.stateNode;try{jn(h,"")}catch(Y){re(n,n.return,Y)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,yd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(xn(s,n),In(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Y){re(n,n.return,Y)}}break;case 3:if(Oc=null,h=ii,ii=Vc(s.containerInfo),xn(s,n),ii=h,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(Y){re(n,n.return,Y)}Ed&&(Ed=!1,pp(n));break;case 4:l=ii,ii=Vc(n.stateNode.containerInfo),xn(s,n),In(n),ii=l;break;case 12:xn(s,n),In(n);break;case 13:xn(s,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=fe()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Td(n,l)));break;case 22:h=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=ns,tt=Te;if(ns=G||h,Te=tt||M,xn(s,n),Te=tt,ns=G,In(n),l&8192)t:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||M||ns||Te||Ur(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=M.stateNode;var st=M.memoizedProps.style,Q=st!=null&&st.hasOwnProperty("display")?st.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){re(M,M.return,Y)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(Y){re(M,M.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(n,a))));break;case 19:xn(s,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Td(n,l)));break;case 30:break;case 21:break;default:xn(s,n),In(n)}}function In(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(lp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(n);vc(n,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(jn(E,""),a.flags&=-33);var S=_d(n);vc(n,S,E);break;case 3:case 4:var M=a.stateNode.containerInfo,G=_d(n);vd(n,G,M);break;default:throw Error(r(161))}}catch(tt){re(n,n.return,tt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function pp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;pp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function xs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hp(n,s.alternate,s),s=s.sibling}function Ur(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Rs(4,s,s.return),Ur(s);break;case 1:Ti(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ap(s,s.return,a),Ur(s);break;case 27:_l(s.stateNode);case 26:case 5:Ti(s,s.return),Ur(s);break;case 22:s.memoizedState===null&&Ur(s);break;case 30:Ur(s);break;default:Ur(s)}n=n.sibling}}function Is(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=n,d=s,E=d.flags;switch(d.tag){case 0:case 11:case 15:Is(h,d,a),ll(4,d);break;case 1:if(Is(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){re(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Fg(M[h],S)}catch(G){re(l,l.return,G)}}a&&E&64&&rp(d),ul(d,d.return);break;case 27:up(d);case 26:case 5:Is(h,d,a),a&&l===null&&E&4&&op(d),ul(d,d.return);break;case 12:Is(h,d,a);break;case 13:Is(h,d,a),a&&E&4&&mp(h,d);break;case 22:d.memoizedState===null&&Is(h,d,a),ul(d,d.return);break;case 30:break;default:Is(h,d,a)}s=s.sibling}}function bd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ko(a))}function Sd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ko(n))}function bi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yp(n,s,a,l),s=s.sibling}function yp(n,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:bi(n,s,a,l),h&2048&&ll(9,s);break;case 1:bi(n,s,a,l);break;case 3:bi(n,s,a,l),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ko(n)));break;case 12:if(h&2048){bi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){re(s,s.return,M)}}else bi(n,s,a,l);break;case 13:bi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,E=s.alternate,s.memoizedState!==null?d._visibility&2?bi(n,s,a,l):cl(n,s):d._visibility&2?bi(n,s,a,l):(d._visibility|=2,Va(n,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&bd(E,s);break;case 24:bi(n,s,a,l),h&2048&&Sd(s.alternate,s);break;default:bi(n,s,a,l)}}function Va(n,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=n,E=s,S=a,M=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:Va(d,E,S,M,h),ll(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?Va(d,E,S,M,h):cl(d,E):(tt._visibility|=2,Va(d,E,S,M,h)),h&&G&2048&&bd(E.alternate,E);break;case 24:Va(d,E,S,M,h),h&&G&2048&&Sd(E.alternate,E);break;default:Va(d,E,S,M,h)}s=s.sibling}}function cl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&bd(l.alternate,l);break;case 24:cl(a,l),h&2048&&Sd(l.alternate,l);break;default:cl(a,l)}s=s.sibling}}var hl=8192;function Na(n){if(n.subtreeFlags&hl)for(n=n.child;n!==null;)_p(n),n=n.sibling}function _p(n){switch(n.tag){case 26:Na(n),n.flags&hl&&n.memoizedState!==null&&I6(ii,n.memoizedState,n.memoizedProps);break;case 5:Na(n);break;case 3:case 4:var s=ii;ii=Vc(n.stateNode.containerInfo),Na(n),ii=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=hl,hl=16777216,Na(n),hl=s):Na(n));break;default:Na(n)}}function vp(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function fl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ge=l,Tp(l,n)}vp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ep(n),n=n.sibling}function Ep(n){switch(n.tag){case 0:case 11:case 15:fl(n),n.flags&2048&&Rs(9,n,n.return);break;case 3:fl(n);break;case 12:fl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ec(n)):fl(n);break;default:fl(n)}}function Ec(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ge=l,Tp(l,n)}vp(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Rs(8,s,s.return),Ec(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(s));break;default:Ec(s)}n=n.sibling}}function Tp(n,s){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Rs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ge=l;else t:for(a=n;Ge!==null;){l=Ge;var h=l.sibling,d=l.return;if(fp(l),l===a){Ge=null;break t}if(h!==null){h.return=d,Ge=h;break t}Ge=d}}}var F4={getCacheForType:function(n){var s=an(Oe),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},Q4=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ae=null,Pt=null,Gt=0,Wt=0,Dn=null,Ds=!1,Oa=!1,wd=!1,ss=0,_e=0,Ms=0,Br=0,Ad=0,Qn=0,La=0,dl=null,yn=null,Cd=!1,Rd=0,Tc=1/0,bc=null,Vs=null,Je=0,Ns=null,ka=null,ja=0,xd=0,Id=null,bp=null,ml=0,Dd=null;function Mn(){if((Jt&2)!==0&&Gt!==0)return Gt&-Gt;if(X.T!==null){var n=wa;return n!==0?n:jd()}return ms()}function Sp(){Qn===0&&(Qn=(Gt&536870912)===0||Kt?So():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),Qn}function Vn(n,s,a){(n===ae&&(Wt===2||Wt===9)||n.cancelPendingCommit!==null)&&(Pa(n,0),Os(n,Gt,Qn,!1)),ki(n,a),((Jt&2)===0||n!==ae)&&(n===ae&&((Jt&2)===0&&(Br|=a),_e===4&&Os(n,Gt,Qn,!1)),Si(n))}function wp(n,s,a){if((Jt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||fr(n,s),h=l?$4(n,s):Nd(n,s,!0),d=l;do{if(h===0){Oa&&!l&&Os(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Y4(a)){h=Nd(n,s,!1),d=!1;continue}if(h===2){if(d=s,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var S=n;h=dl;var M=S.current.memoizedState.isDehydrated;if(M&&(Pa(S,E).flags|=256),E=Nd(S,E,!1),E!==2){if(wd&&!M){S.errorRecoveryDisabledLanes|=d,Br|=d,h=4;break t}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Pa(n,0),Os(n,s,0,!0);break}t:{switch(l=n,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Os(l,s,Qn,!Ds);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Rd+300-fe(),10<h)){if(Os(l,s,Qn,!Ds),ea(l,0,!0)!==0)break t;l.timeoutHandle=Wp(Ap.bind(null,l,a,yn,bc,Cd,s,Qn,Br,La,Ds,d,2,-0,0),h);break t}Ap(l,a,yn,bc,Cd,s,Qn,Br,La,Ds,d,0,-0,0)}}break}while(!0);Si(n)}function Ap(n,s,a,l,h,d,E,S,M,G,tt,st,Q,Y){if(n.timeoutHandle=-1,st=s.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:x6},_p(s),st=D6(),st!==null)){n.cancelPendingCommit=st(Vp.bind(null,n,s,d,a,l,h,E,S,M,tt,1,Q,Y)),Os(n,d,E,!G);return}Vp(n,s,d,a,l,h,E,S,M)}function Y4(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Os(n,s,a,l){s&=~Ad,s&=~Br,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var h=s;0<h;){var d=31-rn(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&li(n,a,s)}function Sc(){return(Jt&6)===0?(gl(0),!1):!0}function Md(){if(Pt!==null){if(Wt===0)var n=Pt.return;else n=Pt,Xi=Or=null,Kf(n),Da=null,rl=0,n=Pt;for(;n!==null;)sp(n.alternate,n),n=n.return;Pt=null}}function Pa(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,h6(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Md(),ae=n,Pt=a=Yi(n.current,null),Gt=s,Wt=0,Dn=null,Ds=!1,Oa=fr(n,s),wd=!1,La=Qn=Ad=Br=Ms=_e=0,yn=dl=null,Cd=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var h=31-rn(l),d=1<<h;s|=n[h],l&=~d}return ss=s,Fu(),a}function Cp(n,s){Lt=null,X.H=cc,s===Xo||s===tc?(s=Hg(),Wt=3):s===Bg?(s=Hg(),Wt=4):Wt=s===G0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,Pt===null&&(_e=1,gc(n,zn(s,n.current)))}function Rp(){var n=X.H;return X.H=cc,n===null?cc:n}function xp(){var n=X.A;return X.A=F4,n}function Vd(){_e=4,Ds||(Gt&4194048)!==Gt&&Fn.current!==null||(Oa=!0),(Ms&134217727)===0&&(Br&134217727)===0||ae===null||Os(ae,Gt,Qn,!1)}function Nd(n,s,a){var l=Jt;Jt|=2;var h=Rp(),d=xp();(ae!==n||Gt!==s)&&(bc=null,Pa(n,s)),s=!1;var E=_e;t:do try{if(Wt!==0&&Pt!==null){var S=Pt,M=Dn;switch(Wt){case 8:Md(),E=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var G=Wt;if(Wt=0,Dn=null,Ua(n,S,M,G),a&&Oa){E=0;break t}break;default:G=Wt,Wt=0,Dn=null,Ua(n,S,M,G)}}K4(),E=_e;break}catch(tt){Cp(n,tt)}while(!0);return s&&n.shellSuspendCounter++,Xi=Or=null,Jt=l,X.H=h,X.A=d,Pt===null&&(ae=null,Gt=0,Fu()),E}function K4(){for(;Pt!==null;)Ip(Pt)}function $4(n,s){var a=Jt;Jt|=2;var l=Rp(),h=xp();ae!==n||Gt!==s?(bc=null,Tc=fe()+500,Pa(n,s)):Oa=fr(n,s);t:do try{if(Wt!==0&&Pt!==null){s=Pt;var d=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,Ua(n,s,d,1);break;case 2:case 9:if(zg(d)){Wt=0,Dn=null,Dp(s);break}s=function(){Wt!==2&&Wt!==9||ae!==n||(Wt=7),Si(n)},d.then(s,s);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:zg(d)?(Wt=0,Dn=null,Dp(s)):(Wt=0,Dn=null,Ua(n,s,d,7));break;case 5:var E=null;switch(Pt.tag){case 26:E=Pt.memoizedState;case 5:case 27:var S=Pt;if(!E||h2(E)){Wt=0,Dn=null;var M=S.sibling;if(M!==null)Pt=M;else{var G=S.return;G!==null?(Pt=G,wc(G)):Pt=null}break e}}Wt=0,Dn=null,Ua(n,s,d,5);break;case 6:Wt=0,Dn=null,Ua(n,s,d,6);break;case 8:Md(),_e=6;break t;default:throw Error(r(462))}}X4();break}catch(tt){Cp(n,tt)}while(!0);return Xi=Or=null,X.H=l,X.A=h,Jt=a,Pt!==null?0:(ae=null,Gt=0,Fu(),_e)}function X4(){for(;Pt!==null&&!Sn();)Ip(Pt)}function Ip(n){var s=np(n.alternate,n,ss);n.memoizedProps=n.pendingProps,s===null?wc(n):Pt=s}function Dp(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=X0(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=X0(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:Kf(s);default:sp(a,s),s=Pt=Mg(s,ss),s=np(a,s,ss)}n.memoizedProps=n.pendingProps,s===null?wc(n):Pt=s}function Ua(n,s,a,l){Xi=Or=null,Kf(s),Da=null,rl=0;var h=s.return;try{if(U4(n,h,s,a,Gt)){_e=1,gc(n,zn(a,n.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;_e=1,gc(n,zn(a,n.current)),Pt=null;return}s.flags&32768?(Kt||l===1?n=!0:Oa||(Gt&536870912)!==0?n=!1:(Ds=n=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mp(s,n)):wc(s)}function wc(n){var s=n;do{if((s.flags&32768)!==0){Mp(s,Ds);return}n=s.return;var a=z4(s.alternate,s,ss);if(a!==null){Pt=a;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=n}while(s!==null);_e===0&&(_e=5)}function Mp(n,s){do{var a=q4(n.alternate,n);if(a!==null){a.flags&=32767,Pt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Pt=n;return}Pt=n=a}while(n!==null);_e=6,Pt=null}function Vp(n,s,a,l,h,d,E,S,M){n.cancelPendingCommit=null;do Ac();while(Je!==0);if((Jt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Sf,Ao(n,a,d,E,S,M),n===ae&&(Pt=ae=null,Gt=0),ka=s,Ns=n,ja=a,xd=d,Id=h,bp=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,t6(lr,function(){return jp(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ct.p,ct.p=2,E=Jt,Jt|=4;try{H4(n,s,a)}finally{Jt=E,ct.p=h,X.T=l}}Je=1,Np(),Op(),Lp()}}function Np(){if(Je===1){Je=0;var n=Ns,s=ka,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ct.p;ct.p=2;var h=Jt;Jt|=4;try{gp(s,n);var d=Fd,E=Tg(n.containerInfo),S=d.focusedElem,M=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&Eg(S.ownerDocument.documentElement,S)){if(M!==null&&_f(S)){var G=M.start,tt=M.end;if(tt===void 0&&(tt=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(tt,S.value.length);else{var st=S.ownerDocument||document,Q=st&&st.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),At=S.textContent.length,bt=Math.min(M.start,At),ie=M.end===void 0?bt:Math.min(M.end,At);!Y.extend&&bt>ie&&(E=ie,ie=bt,bt=E);var B=vg(S,bt),P=vg(S,ie);if(B&&P&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var H=st.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),bt>ie?(Y.addRange(H),Y.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Y.addRange(H))}}}}for(st=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&st.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<st.length;S++){var nt=st[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}jc=!!Gd,Fd=Gd=null}finally{Jt=h,ct.p=l,X.T=a}}n.current=s,Je=2}}function Op(){if(Je===2){Je=0;var n=Ns,s=ka,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ct.p;ct.p=2;var h=Jt;Jt|=4;try{hp(n,s.alternate,s)}finally{Jt=h,ct.p=l,X.T=a}}Je=3}}function Lp(){if(Je===4||Je===3){Je=0,Ke();var n=Ns,s=ka,a=ja,l=bp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Je=5:(Je=0,ka=Ns=null,kp(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Vs=null),na(a),s=s.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,h=ct.p,ct.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{X.T=s,ct.p=h}}(ja&3)!==0&&Ac(),Si(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Dd?ml++:(ml=0,Dd=n):ml=0,gl(0)}}function kp(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ko(s)))}function Ac(n){return Np(),Op(),Lp(),jp()}function jp(){if(Je!==5)return!1;var n=Ns,s=xd;xd=0;var a=na(ja),l=X.T,h=ct.p;try{ct.p=32>a?32:a,X.T=null,a=Id,Id=null;var d=Ns,E=ja;if(Je=0,ka=Ns=null,ja=0,(Jt&6)!==0)throw Error(r(331));var S=Jt;if(Jt|=4,Ep(d.current),yp(d,d.current,E,a),Jt=S,gl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pe,d)}catch{}return!0}finally{ct.p=h,X.T=l,kp(n,s)}}function Pp(n,s,a){s=zn(a,s),s=ld(n.stateNode,s,2),n=Ss(n,s,2),n!==null&&(ki(n,2),Si(n))}function re(n,s,a){if(n.tag===3)Pp(n,n,a);else for(;s!==null;){if(s.tag===3){Pp(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){n=zn(a,n),a=q0(2),l=Ss(s,a,2),l!==null&&(H0(a,l,s,n),ki(l,2),Si(l));break}}s=s.return}}function Od(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Q4;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(wd=!0,h.add(a),n=Z4.bind(null,n,s,a),s.then(n,n))}function Z4(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Gt&a)===a&&(_e===4||_e===3&&(Gt&62914560)===Gt&&300>fe()-Rd?(Jt&2)===0&&Pa(n,0):Ad|=a,La===Gt&&(La=0)),Si(n)}function Up(n,s){s===0&&(s=wo()),n=Ea(n,s),n!==null&&(ki(n,s),Si(n))}function J4(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Up(n,a)}function W4(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Up(n,a)}function t6(n,s){return Be(n,s)}var Cc=null,Ba=null,Ld=!1,Rc=!1,kd=!1,zr=0;function Si(n){n!==Ba&&n.next===null&&(Ba===null?Cc=Ba=n:Ba=Ba.next=n),Rc=!0,Ld||(Ld=!0,n6())}function gl(n,s){if(!kd&&Rc){kd=!0;do for(var a=!1,l=Cc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-rn(42|n)+1)-1,d&=h&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Hp(l,d))}else d=Gt,d=ea(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fr(l,d)||(a=!0,Hp(l,d));l=l.next}while(a);kd=!1}}function e6(){Bp()}function Bp(){Rc=Ld=!1;var n=0;zr!==0&&(c6()&&(n=zr),zr=0);for(var s=fe(),a=null,l=Cc;l!==null;){var h=l.next,d=zp(l,s);d===0?(l.next=null,a===null?Cc=h:a.next=h,h===null&&(Ba=a)):(a=l,(n!==0||(d&3)!==0)&&(Rc=!0)),l=h}gl(n)}function zp(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-rn(d),S=1<<E,M=h[E];M===-1?((S&a)===0||(S&l)!==0)&&(h[E]=bo(S,s)):M<=s&&(n.expiredLanes|=S),d&=~S}if(s=ae,a=Gt,a=ea(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Wt===2||Wt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ye(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||fr(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ye(l),na(a)){case 2:case 8:a=Jn;break;case 32:a=lr;break;case 268435456:a=ta;break;default:a=lr}return l=qp.bind(null,n),a=Be(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ye(l),n.callbackPriority=2,n.callbackNode=null,2}function qp(n,s){if(Je!==0&&Je!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ac()&&n.callbackNode!==a)return null;var l=Gt;return l=ea(n,n===ae?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(wp(n,l,s),zp(n,fe()),n.callbackNode!=null&&n.callbackNode===a?qp.bind(null,n):null)}function Hp(n,s){if(Ac())return null;wp(n,s,!0)}function n6(){f6(function(){(Jt&6)!==0?Be(Oi,e6):Bp()})}function jd(){return zr===0&&(zr=So()),zr}function Gp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:la(""+n)}function Fp(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function i6(n,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var d=Gp((h[we]||null).action),E=l.submitter;E&&(s=(s=E[we]||null)?Gp(s.formAction):E.getAttribute("formAction"),s!==null&&(d=s,E=null));var S=new ua("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var M=E?Fp(h,E):new FormData(h);id(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=E?Fp(h,E):new FormData(h),id(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var Pd=0;Pd<bf.length;Pd++){var Ud=bf[Pd],s6=Ud.toLowerCase(),r6=Ud[0].toUpperCase()+Ud.slice(1);ni(s6,"on"+r6)}ni(wg,"onAnimationEnd"),ni(Ag,"onAnimationIteration"),ni(Cg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(b4,"onTransitionRun"),ni(S4,"onTransitionStart"),ni(w4,"onTransitionCancel"),ni(Rg,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Qp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var E=l.length-1;0<=E;E--){var S=l[E],M=S.instance,G=S.currentTarget;if(S=S.listener,M!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=G;try{d(h)}catch(tt){mc(tt)}h.currentTarget=null,d=M}else for(E=0;E<l.length;E++){if(S=l[E],M=S.instance,G=S.currentTarget,S=S.listener,M!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=G;try{d(h)}catch(tt){mc(tt)}h.currentTarget=null,d=M}}}}function Ut(n,s){var a=s[Ro];a===void 0&&(a=s[Ro]=new Set);var l=n+"__bubble";a.has(l)||(Yp(s,n,2,!1),a.add(l))}function Bd(n,s,a){var l=0;s&&(l|=4),Yp(a,n,l,s)}var xc="_reactListening"+Math.random().toString(36).slice(2);function zd(n){if(!n[xc]){n[xc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(a6.has(a)||Bd(a,!1,n),Bd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[xc]||(s[xc]=!0,Bd("selectionchange",!1,s))}}function Yp(n,s,a,l){switch(y2(s)){case 2:var h=N6;break;case 8:h=O6;break;default:h=e1}a=h.bind(null,s,a,n),h=void 0,!Un||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function qd(n,s,a,l,h){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=ji(S),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){l=d=E;continue t}S=S.parentNode}}l=l.return}Du(function(){var G=d,tt=Pn(a),st=[];t:{var Q=xg.get(n);if(Q!==void 0){var Y=ua,At=n;switch(n){case"keypress":if(mi(a)===0)break t;case"keydown":case"keyup":Y=ga;break;case"focusin":At="focus",Y=fa;break;case"focusout":At="blur",Y=fa;break;case"beforeblur":case"afterblur":Y=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Pu;break;case wg:case Ag:case Cg:Y=da;break;case Rg:Y=Bu;break;case"scroll":case"scrollend":Y=Mu;break;case"wheel":Y=pa;break;case"copy":case"cut":case"paste":Y=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bo;break;case"toggle":case"beforetoggle":Y=qu}var bt=(s&4)!==0,ie=!bt&&(n==="scroll"||n==="scrollend"),B=bt?Q!==null?Q+"Capture":null:Q;bt=[];for(var P=G,H;P!==null;){var nt=P;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||B===null||(nt=Er(P,B),nt!=null&&bt.push(yl(P,nt,H))),ie)break;P=P.return}0<bt.length&&(Q=new Y(Q,At,null,a,tt),st.push({event:Q,listeners:bt}))}}if((s&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",Q&&a!==zi&&(At=a.relatedTarget||a.fromElement)&&(ji(At)||At[kn]))break t;if((Y||Q)&&(Q=tt.window===tt?tt:(Q=tt.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(At=a.relatedTarget||a.toElement,Y=G,At=At?ji(At):null,At!==null&&(ie=u(At),bt=At.tag,At!==ie||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(Y=null,At=G),Y!==At)){if(bt=Bn,nt="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(bt=Bo,nt="onPointerLeave",B="onPointerEnter",P="pointer"),ie=Y==null?Q:ci(Y),H=At==null?Q:ci(At),Q=new bt(nt,P+"leave",Y,a,tt),Q.target=ie,Q.relatedTarget=H,nt=null,ji(tt)===G&&(bt=new bt(B,P+"enter",At,a,tt),bt.target=H,bt.relatedTarget=ie,nt=bt),ie=nt,Y&&At)e:{for(bt=Y,B=At,P=0,H=bt;H;H=za(H))P++;for(H=0,nt=B;nt;nt=za(nt))H++;for(;0<P-H;)bt=za(bt),P--;for(;0<H-P;)B=za(B),H--;for(;P--;){if(bt===B||B!==null&&bt===B.alternate)break e;bt=za(bt),B=za(B)}bt=null}else bt=null;Y!==null&&Kp(st,Q,Y,bt,!1),At!==null&&ie!==null&&Kp(st,ie,At,bt,!0)}}t:{if(Q=G?ci(G):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var yt=dg;else if(Ne(Q))if(mg)yt=v4;else{yt=y4;var jt=p4}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&No(G.elementType)&&(yt=dg):yt=_4;if(yt&&(yt=yt(n,G))){Qi(st,yt,a,tt);break t}jt&&jt(n,Q,G),n==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&_s(Q,"number",Q.value)}switch(jt=G?ci(G):window,n){case"focusin":(Ne(jt)||jt.contentEditable==="true")&&(ya=jt,vf=G,Ho=null);break;case"focusout":Ho=vf=ya=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,bg(st,a,tt);break;case"selectionchange":if(T4)break;case"keydown":case"keyup":bg(st,a,tt)}var _t;if(yi)t:{switch(n){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else qt?Z(n,a)&&(St="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(St="onCompositionStart");St&&(_&&a.locale!=="ko"&&(qt||St!=="onCompositionStart"?St==="onCompositionEnd"&&qt&&(_t=Lo()):(di=tt,vs="value"in di?di.value:di.textContent,qt=!0)),jt=Ic(G,St),0<jt.length&&(St=new Po(St,n,null,a,tt),st.push({event:St,listeners:jt}),_t?St.data=_t:(_t=ft(a),_t!==null&&(St.data=_t)))),(_t=p?Ve(n,a):Ht(n,a))&&(St=Ic(G,"onBeforeInput"),0<St.length&&(jt=new Po("onBeforeInput","beforeinput",null,a,tt),st.push({event:jt,listeners:St}),jt.data=_t)),i6(st,n,G,a,tt)}Qp(st,s)})}function yl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Ic(n,s){for(var a=s+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Er(n,a),h!=null&&l.unshift(yl(n,h,d)),h=Er(n,s),h!=null&&l.push(yl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function za(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Kp(n,s,a,l,h){for(var d=s._reactName,E=[];a!==null&&a!==l;){var S=a,M=S.alternate,G=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||G===null||(M=G,h?(G=Er(a,d),G!=null&&E.unshift(yl(a,G,M))):h||(G=Er(a,d),G!=null&&E.push(yl(a,G,M)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var o6=/\r\n?/g,l6=/\u0000|\uFFFD/g;function $p(n){return(typeof n=="string"?n:""+n).replace(o6,`
`).replace(l6,"")}function Xp(n,s){return s=$p(s),$p(n)===s}function Dc(){}function ne(n,s,a,l,h,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||jn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&jn(n,""+l);break;case"className":hi(n,"class",l);break;case"tabIndex":hi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(n,a,l);break;case"style":Vo(n,l,d);break;case"data":if(s!=="object"){hi(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=la(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ne(n,s,"name",h.name,h,null),ne(n,s,"formEncType",h.formEncType,h,null),ne(n,s,"formMethod",h.formMethod,h,null),ne(n,s,"formTarget",h.formTarget,h,null)):(ne(n,s,"encType",h.encType,h,null),ne(n,s,"method",h.method,h,null),ne(n,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=la(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Dc);break;case"onScroll":l!=null&&Ut("scroll",n);break;case"onScrollEnd":l!=null&&Ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=la(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ut("beforetoggle",n),Ut("toggle",n),ys(n,"popover",l);break;case"xlinkActuate":$e(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ys(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,ys(n,a,l))}}function Hd(n,s,a,l,h,d){switch(a){case"style":Vo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?jn(n,l):(typeof l=="number"||typeof l=="bigint")&&jn(n,""+l);break;case"onScroll":l!=null&&Ut("scroll",n);break;case"onScrollEnd":l!=null&&Ut("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=n[we]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ys(n,a,l)}}}function We(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",n),Ut("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ne(n,s,d,E,a,null)}}h&&ne(n,s,"srcSet",a.srcSet,a,null),l&&ne(n,s,"src",a.src,a,null);return;case"input":Ut("invalid",n);var S=d=E=h=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":E=tt;break;case"checked":M=tt;break;case"defaultChecked":G=tt;break;case"value":d=tt;break;case"defaultValue":S=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:ne(n,s,l,tt,a,null)}}yr(n,d,S,M,G,E,h,!1),oa(n);return;case"select":Ut("invalid",n),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:ne(n,s,h,S,a,null)}s=d,a=E,n.multiple=!!l,s!=null?Bi(n,!!l,s,!1):a!=null&&Bi(n,!!l,a,!0);return;case"textarea":Ut("invalid",n),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ne(n,s,E,S,a,null)}_r(n,l,h,d),oa(n);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(n,s,M,l,a,null)}return;case"dialog":Ut("beforetoggle",n),Ut("toggle",n),Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":Ut("load",n);break;case"video":case"audio":for(l=0;l<pl.length;l++)Ut(pl[l],n);break;case"image":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"embed":case"source":case"link":Ut("error",n),Ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ne(n,s,G,l,a,null)}return;default:if(No(s)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Hd(n,s,tt,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ne(n,s,S,l,a,null))}function u6(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,M=null,G=null,tt=null;for(Y in a){var st=a[Y];if(a.hasOwnProperty(Y)&&st!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=st;default:l.hasOwnProperty(Y)||ne(n,s,Y,null,l,st)}}for(var Q in l){var Y=l[Q];if(st=a[Q],l.hasOwnProperty(Q)&&(Y!=null||st!=null))switch(Q){case"type":d=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":tt=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==st&&ne(n,s,Q,Y,l,st)}}An(n,E,S,M,G,tt,d,h);return;case"select":Y=E=S=Q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(d)||ne(n,s,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":Q=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==M&&ne(n,s,h,d,l,M)}s=S,a=E,l=Y,Q!=null?Bi(n,!!a,Q,!1):!!l!=!!a&&(s!=null?Bi(n,!!a,s,!0):Bi(n,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ne(n,s,S,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ne(n,s,E,h,l,d)}te(n,Q,Y);return;case"option":for(var At in a)if(Q=a[At],a.hasOwnProperty(At)&&Q!=null&&!l.hasOwnProperty(At))switch(At){case"selected":n.selected=!1;break;default:ne(n,s,At,null,l,Q)}for(M in l)if(Q=l[M],Y=a[M],l.hasOwnProperty(M)&&Q!==Y&&(Q!=null||Y!=null))switch(M){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ne(n,s,M,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)Q=a[bt],a.hasOwnProperty(bt)&&Q!=null&&!l.hasOwnProperty(bt)&&ne(n,s,bt,null,l,Q);for(G in l)if(Q=l[G],Y=a[G],l.hasOwnProperty(G)&&Q!==Y&&(Q!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:ne(n,s,G,Q,l,Y)}return;default:if(No(s)){for(var ie in a)Q=a[ie],a.hasOwnProperty(ie)&&Q!==void 0&&!l.hasOwnProperty(ie)&&Hd(n,s,ie,void 0,l,Q);for(tt in l)Q=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||Q===Y||Q===void 0&&Y===void 0||Hd(n,s,tt,Q,l,Y);return}}for(var B in a)Q=a[B],a.hasOwnProperty(B)&&Q!=null&&!l.hasOwnProperty(B)&&ne(n,s,B,null,l,Q);for(st in l)Q=l[st],Y=a[st],!l.hasOwnProperty(st)||Q===Y||Q==null&&Y==null||ne(n,s,st,Q,l,Y)}var Gd=null,Fd=null;function Mc(n){return n.nodeType===9?n:n.ownerDocument}function Zp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Qd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yd=null;function c6(){var n=window.event;return n&&n.type==="popstate"?n===Yd?!1:(Yd=n,!0):(Yd=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,t2=typeof Promise=="function"?Promise:void 0,f6=typeof queueMicrotask=="function"?queueMicrotask:typeof t2<"u"?function(n){return t2.resolve(null).then(n).catch(d6)}:Wp;function d6(n){setTimeout(function(){throw n})}function Ls(n){return n==="head"}function e2(n,s){var a=s,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&_l(E.documentElement),a&2&&_l(E.body),a&4)for(a=E.head,_l(a),E=a.firstChild;E;){var S=E.nextSibling,M=E.nodeName;E[dr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){n.removeChild(d),Cl(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(s)}function Kd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function m6(n,s,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[dr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=si(n.nextSibling),n===null)break}return null}function g6(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=si(n.nextSibling),n===null))return null;return n}function $d(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function p6(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function si(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Xd=null;function n2(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function i2(n,s,a){switch(s=Mc(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function _l(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ps(n)}var Yn=new Map,s2=new Set;function Vc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var rs=ct.d;ct.d={f:y6,r:_6,D:v6,C:E6,L:T6,m:b6,X:w6,S:S6,M:A6};function y6(){var n=rs.f(),s=Sc();return n||s}function _6(n){var s=ui(n);s!==null&&s.tag===5&&s.type==="form"?w0(s):rs.r(n)}var qa=typeof document>"u"?null:document;function r2(n,s,a){var l=qa;if(l&&typeof s=="string"&&s){var h=Ae(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),s2.has(h)||(s2.add(h),n={rel:n,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),We(s,"link",n),ve(s),l.head.appendChild(s)))}}function v6(n){rs.D(n),r2("dns-prefetch",n,null)}function E6(n,s){rs.C(n,s),r2("preconnect",n,s)}function T6(n,s,a){rs.L(n,s,a);var l=qa;if(l&&n&&s){var h='link[rel="preload"][as="'+Ae(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ae(a.imageSizes)+'"]')):h+='[href="'+Ae(n)+'"]';var d=h;switch(s){case"style":d=Ha(n);break;case"script":d=Ga(n)}Yn.has(d)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Yn.set(d,n),l.querySelector(h)!==null||s==="style"&&l.querySelector(vl(d))||s==="script"&&l.querySelector(El(d))||(s=l.createElement("link"),We(s,"link",n),ve(s),l.head.appendChild(s)))}}function b6(n,s){rs.m(n,s);var a=qa;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(n)}if(!Yn.has(d)&&(n=v({rel:"modulepreload",href:n},s),Yn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),We(l,"link",n),ve(l),a.head.appendChild(l)}}}function S6(n,s,a){rs.S(n,s,a);var l=qa;if(l&&n){var h=hn(l).hoistableStyles,d=Ha(n);s=s||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(vl(d)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Yn.get(d))&&Zd(n,a);var M=E=l.createElement("link");ve(M),We(M,"link",n),M._p=new Promise(function(G,tt){M.onload=G,M.onerror=tt}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Nc(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function w6(n,s){rs.X(n,s);var a=qa;if(a&&n){var l=hn(a).hoistableScripts,h=Ga(n),d=l.get(h);d||(d=a.querySelector(El(h)),d||(n=v({src:n,async:!0},s),(s=Yn.get(h))&&Jd(n,s),d=a.createElement("script"),ve(d),We(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A6(n,s){rs.M(n,s);var a=qa;if(a&&n){var l=hn(a).hoistableScripts,h=Ga(n),d=l.get(h);d||(d=a.querySelector(El(h)),d||(n=v({src:n,async:!0,type:"module"},s),(s=Yn.get(h))&&Jd(n,s),d=a.createElement("script"),ve(d),We(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function a2(n,s,a,l){var h=(h=dt.current)?Vc(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ha(a.href),a=hn(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ha(a.href);var d=hn(h).hoistableStyles,E=d.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=h.querySelector(vl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(n,a),d||C6(h,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ga(a),a=hn(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ha(n){return'href="'+Ae(n)+'"'}function vl(n){return'link[rel="stylesheet"]['+n+"]"}function o2(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function C6(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),We(s,"link",a),ve(s),n.head.appendChild(s))}function Ga(n){return'[src="'+Ae(n)+'"]'}function El(n){return"script[async]"+n}function l2(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return s.instance=l,ve(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ve(l),We(l,"style",h),Nc(l,a.precedence,n),s.instance=l;case"stylesheet":h=Ha(a.href);var d=n.querySelector(vl(h));if(d)return s.state.loading|=4,s.instance=d,ve(d),d;l=o2(a),(h=Yn.get(h))&&Zd(l,h),d=(n.ownerDocument||n).createElement("link"),ve(d);var E=d;return E._p=new Promise(function(S,M){E.onload=S,E.onerror=M}),We(d,"link",l),s.state.loading|=4,Nc(d,a.precedence,n),s.instance=d;case"script":return d=Ga(a.src),(h=n.querySelector(El(d)))?(s.instance=h,ve(h),h):(l=a,(h=Yn.get(d))&&(l=v({},a),Jd(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),ve(h),We(h,"link",l),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Nc(l,a.precedence,n));return s.instance}function Nc(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===s)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Zd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Jd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Oc=null;function u2(n,s,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[dr]||d[Me]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(s)||"";E=n+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function c2(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function R6(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function h2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Tl=null;function x6(){}function I6(n,s,a){if(Tl===null)throw Error(r(475));var l=Tl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ha(a.href),d=n.querySelector(vl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Lc.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=d,ve(d);return}d=n.ownerDocument||n,a=o2(a),(h=Yn.get(h))&&Zd(a,h),d=d.createElement("link"),ve(d);var E=d;E._p=new Promise(function(S,M){E.onload=S,E.onerror=M}),We(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Lc.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function D6(){if(Tl===null)throw Error(r(475));var n=Tl;return n.stylesheets&&n.count===0&&Wd(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Wd(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var kc=null;function Wd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,kc=new Map,s.forEach(M6,n),kc=null,Lc.call(n))}function M6(n,s){if(!(s.state.loading&4)){var a=kc.get(n);if(a)var l=a.get(null);else{a=new Map,kc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=s.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var bl={$$typeof:K,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function V6(n,s,a,l,h,d,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function f2(n,s,a,l,h,d,E,S,M,G,tt,st){return n=new V6(n,s,a,E,S,M,G,st),s=1,d===!0&&(s|=24),d=Rn(3,null,null,s),n.current=d,d.stateNode=n,s=Of(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Pf(d),n}function d2(n){return n?(n=Ta,n):Ta}function m2(n,s,a,l,h,d){h=d2(h),l.context===null?l.context=h:l.pendingContext=h,l=bs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ss(n,l,s),a!==null&&(Vn(a,n,s),Jo(a,n,s))}function g2(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function t1(n,s){g2(n,s),(n=n.alternate)&&g2(n,s)}function p2(n){if(n.tag===13){var s=Ea(n,67108864);s!==null&&Vn(s,n,67108864),t1(n,67108864)}}var jc=!0;function N6(n,s,a,l){var h=X.T;X.T=null;var d=ct.p;try{ct.p=2,e1(n,s,a,l)}finally{ct.p=d,X.T=h}}function O6(n,s,a,l){var h=X.T;X.T=null;var d=ct.p;try{ct.p=8,e1(n,s,a,l)}finally{ct.p=d,X.T=h}}function e1(n,s,a,l){if(jc){var h=n1(l);if(h===null)qd(n,s,l,Pc,a),_2(n,l);else if(k6(h,n,s,a,l))l.stopPropagation();else if(_2(n,l),s&4&&-1<L6.indexOf(n)){for(;h!==null;){var d=ui(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Wn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var M=1<<31-rn(E);S.entanglements[1]|=M,E&=~M}Si(d),(Jt&6)===0&&(Tc=fe()+500,gl(0))}}break;case 13:S=Ea(d,2),S!==null&&Vn(S,d,2),Sc(),t1(d,2)}if(d=n1(l),d===null&&qd(n,s,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(n,s,l,null,a)}}function n1(n){return n=Pn(n),i1(n)}var Pc=null;function i1(n){if(Pc=null,n=ji(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Pc=n,null}function y2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Oi:return 2;case Jn:return 8;case lr:case of:return 32;case ta:return 268435456;default:return 32}default:return 32}}var s1=!1,ks=null,js=null,Ps=null,Sl=new Map,wl=new Map,Us=[],L6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _2(n,s){switch(n){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Sl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(s.pointerId)}}function Al(n,s,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},s!==null&&(s=ui(s),s!==null&&p2(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function k6(n,s,a,l,h){switch(s){case"focusin":return ks=Al(ks,n,s,a,l,h),!0;case"dragenter":return js=Al(js,n,s,a,l,h),!0;case"mouseover":return Ps=Al(Ps,n,s,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Al(Sl.get(d)||null,n,s,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Al(wl.get(d)||null,n,s,a,l,h)),!0}return!1}function v2(n){var s=ji(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){n.blockedOn=s,Su(n.priority,function(){if(a.tag===13){var l=Mn();l=ds(l);var h=Ea(a,l);h!==null&&Vn(h,a,l),t1(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=n1(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);zi=l,a.target.dispatchEvent(l),zi=null}else return s=ui(a),s!==null&&p2(s),n.blockedOn=a,!1;s.shift()}return!0}function E2(n,s,a){Uc(n)&&a.delete(s)}function j6(){s1=!1,ks!==null&&Uc(ks)&&(ks=null),js!==null&&Uc(js)&&(js=null),Ps!==null&&Uc(Ps)&&(Ps=null),Sl.forEach(E2),wl.forEach(E2)}function Bc(n,s){n.blockedOn===s&&(n.blockedOn=null,s1||(s1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,j6)))}var zc=null;function T2(n){zc!==n&&(zc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zc===n&&(zc=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],h=n[s+2];if(typeof l!="function"){if(i1(l||a)===null)continue;break}var d=ui(a);d!==null&&(n.splice(s,3),s-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(n){function s(M){return Bc(M,n)}ks!==null&&Bc(ks,n),js!==null&&Bc(js,n),Ps!==null&&Bc(Ps,n),Sl.forEach(s),wl.forEach(s);for(var a=0;a<Us.length;a++){var l=Us[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Us.length&&(a=Us[0],a.blockedOn===null);)v2(a),a.blockedOn===null&&Us.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[we]||null;if(typeof d=="function")E||T2(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[we]||null)S=E.formAction;else if(i1(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),T2(a)}}}function r1(n){this._internalRoot=n}qc.prototype.render=r1.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Mn();m2(a,l,n,s,null,null)},qc.prototype.unmount=r1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;m2(n.current,2,null,n,null,null),Sc(),s[kn]=null}};function qc(n){this._internalRoot=n}qc.prototype.unstable_scheduleHydration=function(n){if(n){var s=ms();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Us.length&&s!==0&&s<Us[a].priority;a++);Us.splice(a,0,n),a===0&&v2(n)}};var b2=t.version;if(b2!=="19.1.0")throw Error(r(527,b2,"19.1.0"));ct.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=y(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var P6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{pe=Hc.inject(P6),Zt=Hc}catch{}}return xl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",h=P0,d=U0,E=B0,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=f2(n,1,!1,null,null,a,l,h,d,E,S,null),n[kn]=s.current,zd(n),new r1(s)},xl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,h="",d=P0,E=U0,S=B0,M=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),s=f2(n,1,!0,s,a??null,l,h,d,E,S,M,G),s.context=d2(null),a=s.current,l=Mn(),l=ds(l),h=bs(l),h.callback=null,Ss(a,h,l),a=l,s.current.lanes=a,ki(s,a),Si(s),n[kn]=s.current,zd(n),new qc(s)},xl.version="19.1.0",xl}var V2;function K6(){if(V2)return l1.exports;V2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),l1.exports=Y6(),l1.exports}var $6=K6(),f1={exports:{}},d1={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function X6(){if(N2)return d1;N2=1;var e=Ih().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return d1.c=function(t){return e.H.useMemoCache(t)},d1}var O2;function Z6(){return O2||(O2=1,f1.exports=X6()),f1.exports}var Se=Z6();const J6=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302"]}],bn=J.createContext(null),W6=e=>{const t=Se.c(10),{children:i}=e,[r,o]=J.useState(!0),u=J.useRef("prod"),[f,m]=J.useState(!1),y=J.useRef(null);let g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],t[0]=g):g=t[0];const v=J.useRef(g),T=J.useRef(null),b=J.useRef(null),x=J.useRef(null),V=J.useRef(null),U=J.useRef("");let L;t[1]===Symbol.for("react.memo_cache_sentinel")?(L=[],t[1]=L):L=t[1];const q=J.useRef(L);let $,K;if(t[2]===Symbol.for("react.memo_cache_sentinel")?($=()=>(u.current==="testing"?(y.current||(console.log("Creating a peer connection!"),y.current=new RTCPeerConnection({iceServers:J6})),V.current||(V.current=new MediaStream),y.current.ontrack=F=>{V.current.addTrack(F.track)},o(!1)):(async()=>{const D=await(await fetch("https://boopp.metered.live/api/v1/turn/credentials?apiKey=4ed69c72a74b9dba8ccbda3d7e966f90f898")).json();console.log("Peer connection set up!"),y.current=new RTCPeerConnection({iceServers:D}),V.current||(V.current=new MediaStream),y.current.ontrack=C=>{V.current.addTrack(C.track)},o(!1)})(),(async()=>{const F=await fetch("https://tenor.googleapis.com/v2/featured?key=AIzaSyAnvUI0Ka40pbNu4COdmUoeMiIrf3gPg3k&client_key=boop-chat&media_filter=tinygif,gif&contentfilter=low").then(t5);q.current=F.results,console.log(q.current)})(),()=>{y.current&&(y.current.close(),y.current=null)}),K=[],t[2]=$,t[3]=K):($=t[2],K=t[3]),J.useEffect($,K),r){let F;return t[4]===Symbol.for("react.memo_cache_sentinel")?(F=A.jsx("div",{children:" Loading .. "}),t[4]=F):F=t[4],F}let it;t[5]!==f?(it={peerConnection:y,iceCandidates:v,dataChannel:T,imageChannel:b,videoChannel:x,remoteStream:V,peerName:U,connected:f,setConnected:m,featuredGifs:q},t[5]=f,t[6]=it):it=t[6];let W;return t[7]!==i||t[8]!==it?(W=A.jsx(bn,{value:it,children:i}),t[7]=i,t[8]=it,t[9]=W):W=t[9],W};function t5(e){return e.json()}var ym=du(),Nt=e=>fu(e,ym),_m=du();Nt.write=e=>fu(e,_m);var Dh=du();Nt.onStart=e=>fu(e,Dh);var vm=du();Nt.onFrame=e=>fu(e,vm);var Em=du();Nt.onFinish=e=>fu(e,Em);var Wa=[];Nt.setTimeout=(e,t)=>{const i=Nt.now()+t,r=()=>{const u=Wa.findIndex(f=>f.cancel==r);~u&&Wa.splice(u,1),Fs-=~u?1:0},o={time:i,handler:e,cancel:r};return Wa.splice(D_(i),0,o),Fs+=1,M_(),o};var D_=e=>~(~Wa.findIndex(t=>t.time>e)||~Wa.length);Nt.cancel=e=>{Dh.delete(e),vm.delete(e),Em.delete(e),ym.delete(e),_m.delete(e)};Nt.sync=e=>{O1=!0,Nt.batchedUpdates(e),O1=!1};Nt.throttle=e=>{let t;function i(){try{e(...t)}finally{t=null}}function r(...o){t=o,Nt.onStart(i)}return r.handler=e,r.cancel=()=>{Dh.delete(i),t=null},r};var Tm=typeof window<"u"?window.requestAnimationFrame:()=>{};Nt.use=e=>Tm=e;Nt.now=typeof performance<"u"?()=>performance.now():Date.now;Nt.batchedUpdates=e=>e();Nt.catch=console.error;Nt.frameLoop="always";Nt.advance=()=>{Nt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):N_()};var Gs=-1,Fs=0,O1=!1;function fu(e,t){O1?(t.delete(e),e(0)):(t.add(e),M_())}function M_(){Gs<0&&(Gs=0,Nt.frameLoop!=="demand"&&Tm(V_))}function e5(){Gs=-1}function V_(){~Gs&&(Tm(V_),Nt.batchedUpdates(N_))}function N_(){const e=Gs;Gs=Nt.now();const t=D_(Gs);if(t&&(O_(Wa.splice(0,t),i=>i.handler()),Fs-=t),!Fs){e5();return}Dh.flush(),ym.flush(e?Math.min(64,Gs-e):16.667),vm.flush(),_m.flush(),Em.flush()}function du(){let e=new Set,t=e;return{add(i){Fs+=t==e&&!e.has(i)?1:0,e.add(i)},delete(i){return Fs-=t==e&&e.has(i)?1:0,e.delete(i)},flush(i){t.size&&(e=new Set,Fs-=t.size,O_(t,r=>r(i)&&e.add(r)),Fs+=e.size,t=e)}}}function O_(e,t){e.forEach(i=>{try{t(i)}catch(r){Nt.catch(r)}})}var n5=Object.defineProperty,i5=(e,t)=>{for(var i in t)n5(e,i,{get:t[i],enumerable:!0})},oi={};i5(oi,{assign:()=>r5,colors:()=>Ys,createStringInterpolator:()=>Sm,skipAnimation:()=>k_,to:()=>L_,willAdvance:()=>wm});function L1(){}var s5=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),ht={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function os(e,t){if(ht.arr(e)){if(!ht.arr(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e===t}var zt=(e,t)=>e.forEach(t);function Di(e,t,i){if(ht.arr(e)){for(let r=0;r<e.length;r++)t.call(i,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r)}var On=e=>ht.und(e)?[]:ht.arr(e)?e:[e];function Bl(e,t){if(e.size){const i=Array.from(e);e.clear(),zt(i,t)}}var Ll=(e,...t)=>Bl(e,i=>i(...t)),bm=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Sm,L_,Ys=null,k_=!1,wm=L1,r5=e=>{e.to&&(L_=e.to),e.now&&(Nt.now=e.now),e.colors!==void 0&&(Ys=e.colors),e.skipAnimation!=null&&(k_=e.skipAnimation),e.createStringInterpolator&&(Sm=e.createStringInterpolator),e.requestAnimationFrame&&Nt.use(e.requestAnimationFrame),e.batchedUpdates&&(Nt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(wm=e.willAdvance),e.frameLoop&&(Nt.frameLoop=e.frameLoop)},zl=new Set,Xn=[],m1=[],lh=0,Mh={get idle(){return!zl.size&&!Xn.length},start(e){lh>e.priority?(zl.add(e),Nt.onStart(a5)):(j_(e),Nt(k1))},advance:k1,sort(e){if(lh)Nt.onFrame(()=>Mh.sort(e));else{const t=Xn.indexOf(e);~t&&(Xn.splice(t,1),P_(e))}},clear(){Xn=[],zl.clear()}};function a5(){zl.forEach(j_),zl.clear(),Nt(k1)}function j_(e){Xn.includes(e)||P_(e)}function P_(e){Xn.splice(o5(Xn,t=>t.priority>e.priority),0,e)}function k1(e){const t=m1;for(let i=0;i<Xn.length;i++){const r=Xn[i];lh=r.priority,r.idle||(wm(r),r.advance(e),r.idle||t.push(r))}return lh=0,m1=Xn,m1.length=0,Xn=t,Xn.length>0}function o5(e,t){const i=e.findIndex(t);return i<0?e.length:i}var l5={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ai="[-+]?\\d*\\.?\\d+",uh=ai+"%";function Vh(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var u5=new RegExp("rgb"+Vh(ai,ai,ai)),c5=new RegExp("rgba"+Vh(ai,ai,ai,ai)),h5=new RegExp("hsl"+Vh(ai,uh,uh)),f5=new RegExp("hsla"+Vh(ai,uh,uh,ai)),d5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,m5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,g5=/^#([0-9a-fA-F]{6})$/,p5=/^#([0-9a-fA-F]{8})$/;function y5(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=g5.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ys&&Ys[e]!==void 0?Ys[e]:(t=u5.exec(e))?(Fa(t[1])<<24|Fa(t[2])<<16|Fa(t[3])<<8|255)>>>0:(t=c5.exec(e))?(Fa(t[1])<<24|Fa(t[2])<<16|Fa(t[3])<<8|j2(t[4]))>>>0:(t=d5.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=p5.exec(e))?parseInt(t[1],16)>>>0:(t=m5.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=h5.exec(e))?(L2(k2(t[1]),Gc(t[2]),Gc(t[3]))|255)>>>0:(t=f5.exec(e))?(L2(k2(t[1]),Gc(t[2]),Gc(t[3]))|j2(t[4]))>>>0:null}function g1(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function L2(e,t,i){const r=i<.5?i*(1+t):i+t-i*t,o=2*i-r,u=g1(o,r,e+1/3),f=g1(o,r,e),m=g1(o,r,e-1/3);return Math.round(u*255)<<24|Math.round(f*255)<<16|Math.round(m*255)<<8}function Fa(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function k2(e){return(parseFloat(e)%360+360)%360/360}function j2(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Gc(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function P2(e){let t=y5(e);if(t===null)return e;t=t||0;const i=(t&4278190080)>>>24,r=(t&16711680)>>>16,o=(t&65280)>>>8,u=(t&255)/255;return`rgba(${i}, ${r}, ${o}, ${u})`}var Xl=(e,t,i)=>{if(ht.fun(e))return e;if(ht.arr(e))return Xl({range:e,output:t,extrapolate:i});if(ht.str(e.output[0]))return Sm(e);const r=e,o=r.output,u=r.range||[0,1],f=r.extrapolateLeft||r.extrapolate||"extend",m=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(g=>g);return g=>{const v=v5(g,u);return _5(g,u[v],u[v+1],o[v],o[v+1],y,f,m,r.map)}};function _5(e,t,i,r,o,u,f,m,y){let g=y?y(e):e;if(g<t){if(f==="identity")return g;f==="clamp"&&(g=t)}if(g>i){if(m==="identity")return g;m==="clamp"&&(g=i)}return r===o?r:t===i?e<=t?r:o:(t===-1/0?g=-g:i===1/0?g=g-t:g=(g-t)/(i-t),g=u(g),r===-1/0?g=-g:o===1/0?g=g+r:g=g*(o-r)+r,g)}function v5(e,t){for(var i=1;i<t.length-1&&!(t[i]>=e);++i);return i-1}var E5={linear:e=>e},Zl=Symbol.for("FluidValue.get"),io=Symbol.for("FluidValue.observers"),Kn=e=>!!(e&&e[Zl]),vn=e=>e&&e[Zl]?e[Zl]():e,U2=e=>e[io]||null;function T5(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Jl(e,t){const i=e[io];i&&i.forEach(r=>{T5(r,t)})}var U_=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");b5(this,e)}},b5=(e,t)=>B_(e,Zl,t);function mo(e,t){if(e[Zl]){let i=e[io];i||B_(e,io,i=new Set),i.has(t)||(i.add(t),e.observerAdded&&e.observerAdded(i.size,t))}return t}function Wl(e,t){const i=e[io];if(i&&i.has(t)){const r=i.size-1;r?i.delete(t):e[io]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var B_=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),Wc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,S5=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,B2=new RegExp(`(${Wc.source})(%|[a-z]+)`,"i"),w5=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Nh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,z_=e=>{const[t,i]=A5(e);if(!t||bm())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(i&&i.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||e}else{if(i&&Nh.test(i))return z_(i);if(i)return i}return e},A5=e=>{const t=Nh.exec(e);if(!t)return[,];const[,i,r]=t;return[i,r]},p1,C5=(e,t,i,r,o)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(r)}, ${o})`,q_=e=>{p1||(p1=Ys?new RegExp(`(${Object.keys(Ys).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(u=>vn(u).replace(Nh,z_).replace(S5,P2).replace(p1,P2)),i=t.map(u=>u.match(Wc).map(Number)),o=i[0].map((u,f)=>i.map(m=>{if(!(f in m))throw Error('The arity of each "output" value must be equal');return m[f]})).map(u=>Xl({...e,output:u}));return u=>{var y;const f=!B2.test(t[0])&&((y=t.find(g=>B2.test(g)))==null?void 0:y.replace(Wc,""));let m=0;return t[0].replace(Wc,()=>`${o[m++](u)}${f||""}`).replace(w5,C5)}},Am="react-spring: ",H_=e=>{const t=e;let i=!1;if(typeof t!="function")throw new TypeError(`${Am}once requires a function parameter`);return(...r)=>{i||(t(...r),i=!0)}},R5=H_(console.warn);function x5(){R5(`${Am}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var I5=H_(console.warn);function D5(){I5(`${Am}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Oh(e){return ht.str(e)&&(e[0]=="#"||/\d/.test(e)||!bm()&&Nh.test(e)||e in(Ys||{}))}var Cm=bm()?J.useEffect:J.useLayoutEffect,M5=()=>{const e=J.useRef(!1);return Cm(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function G_(){const e=J.useState()[1],t=M5();return()=>{t.current&&e(Math.random())}}var F_=e=>J.useEffect(e,V5),V5=[];function z2(e){const t=J.useRef(void 0);return J.useEffect(()=>{t.current=e}),t.current}var tu=Symbol.for("Animated:node"),N5=e=>!!e&&e[tu]===e,Ai=e=>e&&e[tu],Rm=(e,t)=>s5(e,tu,t),Lh=e=>e&&e[tu]&&e[tu].getPayload(),Q_=class{constructor(){Rm(this,this)}getPayload(){return this.payload||[]}},kh=class Y_ extends Q_{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ht.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Y_(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,i){return ht.num(t)&&(this.lastPosition=t,i&&(t=Math.round(t/i)*i,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ht.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},ch=class K_ extends kh{constructor(t){super(0),this._string=null,this._toString=Xl({output:[t,t]})}static create(t){return new K_(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ht.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Xl({output:[this.getValue(),t]})),this._value=0,super.reset()}},hh={dependencies:null},jh=class extends Q_{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Di(this.source,(i,r)=>{N5(i)?t[r]=i.getValue(e):Kn(i)?t[r]=vn(i):e||(t[r]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&zt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Di(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){hh.dependencies&&Kn(e)&&hh.dependencies.add(e);const t=Lh(e);t&&zt(t,i=>this.add(i))}},O5=class $_ extends jh{constructor(t){super(t)}static create(t){return new $_(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const i=this.getPayload();return t.length==i.length?i.map((r,o)=>r.setValue(t[o])).some(Boolean):(super.setValue(t.map(L5)),!0)}};function L5(e){return(Oh(e)?ch:kh).create(e)}function j1(e){const t=Ai(e);return t?t.constructor:ht.arr(e)?O5:Oh(e)?ch:kh}var q2=(e,t)=>{const i=!ht.fun(e)||e.prototype&&e.prototype.isReactComponent;return J.forwardRef((r,o)=>{const u=J.useRef(null),f=i&&J.useCallback(V=>{u.current=P5(o,V)},[o]),[m,y]=j5(r,t),g=G_(),v=()=>{const V=u.current;if(i&&!V)return;(V?t.applyAnimatedValues(V,m.getValue(!0)):!1)===!1&&g()},T=new k5(v,y),b=J.useRef(void 0);Cm(()=>(b.current=T,zt(y,V=>mo(V,T)),()=>{b.current&&(zt(b.current.deps,V=>Wl(V,b.current)),Nt.cancel(b.current.update))})),J.useEffect(v,[]),F_(()=>()=>{const V=b.current;zt(V.deps,U=>Wl(U,V))});const x=t.getComponentProps(m.getValue());return J.createElement(e,{...x,ref:f})})},k5=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Nt.write(this.update)}};function j5(e,t){const i=new Set;return hh.dependencies=i,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new jh(e),hh.dependencies=null,[e,i]}function P5(e,t){return e&&(ht.fun(e)?e(t):e.current=t),t}var H2=Symbol.for("AnimatedComponent"),U5=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=o=>new jh(o),getComponentProps:r=o=>o}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:r},u=f=>{const m=G2(f)||"Anonymous";return ht.str(f)?f=u[f]||(u[f]=q2(f,o)):f=f[H2]||(f[H2]=q2(f,o)),f.displayName=`Animated(${m})`,f};return Di(e,(f,m)=>{ht.arr(e)&&(m=G2(f)),u[m]=u(f)}),{animated:u}},G2=e=>ht.str(e)?e:e&&ht.str(e.displayName)?e.displayName:ht.fun(e)&&e.name||null;function Fr(e,...t){return ht.fun(e)?e(...t):e}var ql=(e,t)=>e===!0||!!(t&&e&&(ht.fun(e)?e(t):On(e).includes(t))),X_=(e,t)=>ht.obj(e)?t&&e[t]:e,Z_=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,B5=e=>e,xm=(e,t=B5)=>{let i=z5;e.default&&e.default!==!0&&(e=e.default,i=Object.keys(e));const r={};for(const o of i){const u=t(e[o],o);ht.und(u)||(r[o]=u)}return r},z5=["config","onProps","onStart","onChange","onPause","onResume","onRest"],q5={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function H5(e){const t={};let i=0;if(Di(e,(r,o)=>{q5[o]||(t[o]=r,i++)}),i)return t}function J_(e){const t=H5(e);if(t){const i={to:t};return Di(e,(r,o)=>o in t||(i[o]=r)),i}return{...e}}function eu(e){return e=vn(e),ht.arr(e)?e.map(eu):Oh(e)?oi.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function G5(e){for(const t in e)return!0;return!1}function P1(e){return ht.fun(e)||ht.arr(e)&&ht.obj(e[0])}function F5(e,t){var i;(i=e.ref)==null||i.delete(e),t==null||t.delete(e)}function Q5(e,t){var i;t&&e.ref!==t&&((i=e.ref)==null||i.delete(e),t.add(e),e.ref=t)}var U1={default:{tension:170,friction:26},stiff:{tension:210,friction:20}},B1={...U1.default,mass:1,damping:1,easing:E5.linear,clamp:!1},Y5=class{constructor(){this.velocity=0,Object.assign(this,B1)}};function K5(e,t,i){i&&(i={...i},F2(i,t),t={...i,...t}),F2(e,t),Object.assign(e,t);for(const f in B1)e[f]==null&&(e[f]=B1[f]);let{frequency:r,damping:o}=e;const{mass:u}=e;return ht.und(r)||(r<.01&&(r=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/r,2)*u,e.friction=4*Math.PI*o*u/r),e}function F2(e,t){if(!ht.und(t.decay))e.duration=void 0;else{const i=!ht.und(t.tension)||!ht.und(t.friction);(i||!ht.und(t.frequency)||!ht.und(t.damping)||!ht.und(t.mass))&&(e.duration=void 0,e.decay=void 0),i&&(e.frequency=void 0)}}var Q2=[],$5=class{constructor(){this.changed=!1,this.values=Q2,this.toValues=null,this.fromValues=Q2,this.config=new Y5,this.immediate=!1}};function W_(e,{key:t,props:i,defaultProps:r,state:o,actions:u}){return new Promise((f,m)=>{let y,g,v=ql(i.cancel??(r==null?void 0:r.cancel),t);if(v)x();else{ht.und(i.pause)||(o.paused=ql(i.pause,t));let V=r==null?void 0:r.pause;V!==!0&&(V=o.paused||ql(V,t)),y=Fr(i.delay||0,t),V?(o.resumeQueue.add(b),u.pause()):(u.resume(),b())}function T(){o.resumeQueue.add(b),o.timeouts.delete(g),g.cancel(),y=g.time-Nt.now()}function b(){y>0&&!oi.skipAnimation?(o.delayed=!0,g=Nt.setTimeout(x,y),o.pauseQueue.add(T),o.timeouts.add(g)):x()}function x(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(T),o.timeouts.delete(g),e<=(o.cancelId||0)&&(v=!0);try{u.start({...i,callId:e,cancel:v},f)}catch(V){m(V)}}})}var Im=(e,t)=>t.length==1?t[0]:t.some(i=>i.cancelled)?to(e.get()):t.every(i=>i.noop)?tv(e.get()):ri(e.get(),t.every(i=>i.finished)),tv=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ri=(e,t,i=!1)=>({value:e,finished:t,cancelled:i}),to=e=>({value:e,cancelled:!0,finished:!1});function ev(e,t,i,r){const{callId:o,parentId:u,onRest:f}=t,{asyncTo:m,promise:y}=i;return!u&&e===m&&!t.reset?y:i.promise=(async()=>{i.asyncId=o,i.asyncTo=e;const g=xm(t,(L,q)=>q==="onRest"?void 0:L);let v,T;const b=new Promise((L,q)=>(v=L,T=q)),x=L=>{const q=o<=(i.cancelId||0)&&to(r)||o!==i.asyncId&&ri(r,!1);if(q)throw L.result=q,T(L),L},V=(L,q)=>{const $=new Y2,K=new K2;return(async()=>{if(oi.skipAnimation)throw nu(i),K.result=ri(r,!1),T(K),K;x($);const it=ht.obj(L)?{...L}:{...q,to:L};it.parentId=o,Di(g,(F,D)=>{ht.und(it[D])&&(it[D]=F)});const W=await r.start(it);return x($),i.paused&&await new Promise(F=>{i.resumeQueue.add(F)}),W})()};let U;if(oi.skipAnimation)return nu(i),ri(r,!1);try{let L;ht.arr(e)?L=(async q=>{for(const $ of q)await V($)})(e):L=Promise.resolve(e(V,r.stop.bind(r))),await Promise.all([L.then(v),b]),U=ri(r.get(),!0,!1)}catch(L){if(L instanceof Y2)U=L.result;else if(L instanceof K2)U=L.result;else throw L}finally{o==i.asyncId&&(i.asyncId=u,i.asyncTo=u?m:void 0,i.promise=u?y:void 0)}return ht.fun(f)&&Nt.batchedUpdates(()=>{f(U,r,r.item)}),U})()}function nu(e,t){Bl(e.timeouts,i=>i.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Y2=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},K2=class extends Error{constructor(){super("SkipAnimationSignal")}},z1=e=>e instanceof Dm,X5=1,Dm=class extends U_{constructor(){super(...arguments),this.id=X5++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Ai(this);return e&&e.getValue()}to(...e){return oi.to(this,e)}interpolate(...e){return x5(),oi.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Jl(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Mh.sort(this),Jl(this,{type:"priority",parent:this,priority:e})}},Kr=Symbol.for("SpringPhase"),nv=1,q1=2,H1=4,y1=e=>(e[Kr]&nv)>0,zs=e=>(e[Kr]&q1)>0,Il=e=>(e[Kr]&H1)>0,$2=(e,t)=>t?e[Kr]|=q1|nv:e[Kr]&=~q1,X2=(e,t)=>t?e[Kr]|=H1:e[Kr]&=~H1,Z5=class extends Dm{constructor(e,t){if(super(),this.animation=new $5,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ht.und(e)||!ht.und(t)){const i=ht.obj(e)?{...e}:{...t,from:e};ht.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(zs(this)||this._state.asyncTo)||Il(this)}get goal(){return vn(this.animation.to)}get velocity(){const e=Ai(this);return e instanceof kh?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return y1(this)}get isAnimating(){return zs(this)}get isPaused(){return Il(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1;const r=this.animation;let{toValues:o}=r;const{config:u}=r,f=Lh(r.to);!f&&Kn(r.to)&&(o=On(vn(r.to))),r.values.forEach((g,v)=>{if(g.done)return;const T=g.constructor==ch?1:f?f[v].lastPosition:o[v];let b=r.immediate,x=T;if(!b){if(x=g.lastPosition,u.tension<=0){g.done=!0;return}let V=g.elapsedTime+=e;const U=r.fromValues[v],L=g.v0!=null?g.v0:g.v0=ht.arr(u.velocity)?u.velocity[v]:u.velocity;let q;const $=u.precision||(U==T?.005:Math.min(1,Math.abs(T-U)*.001));if(ht.und(u.duration))if(u.decay){const K=u.decay===!0?.998:u.decay,it=Math.exp(-(1-K)*V);x=U+L/(1-K)*(1-it),b=Math.abs(g.lastPosition-x)<=$,q=L*it}else{q=g.lastVelocity==null?L:g.lastVelocity;const K=u.restVelocity||$/10,it=u.clamp?0:u.bounce,W=!ht.und(it),F=U==T?g.v0>0:U<T;let D,C=!1;const R=1,k=Math.ceil(e/R);for(let N=0;N<k&&(D=Math.abs(q)>K,!(!D&&(b=Math.abs(T-x)<=$,b)));++N){W&&(C=x==T||x>T==F,C&&(q=-q*it,x=T));const j=-u.tension*1e-6*(x-T),I=-u.friction*.001*q,Rt=(j+I)/u.mass;q=q+Rt*R,x=x+q*R}}else{let K=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,g.durationProgress>0&&(g.elapsedTime=u.duration*g.durationProgress,V=g.elapsedTime+=e)),K=(u.progress||0)+V/this._memoizedDuration,K=K>1?1:K<0?0:K,g.durationProgress=K),x=U+u.easing(K)*(T-U),q=(x-g.lastPosition)/e,b=K==1}g.lastVelocity=q,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),b=!0)}f&&!f[v].done&&(b=!1),b?g.done=!0:t=!1,g.setValue(x,u.round)&&(i=!0)});const m=Ai(this),y=m.getValue();if(t){const g=vn(r.to);(y!==g||i)&&!u.decay?(m.setValue(g),this._onChange(g)):i&&u.decay&&this._onChange(y),this._stop()}else i&&this._onChange(y)}set(e){return Nt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(zs(this)){const{to:e,config:t}=this.animation;Nt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return ht.und(e)?(i=this.queue||[],this.queue=[]):i=[ht.obj(e)?e:{...t,to:e}],Promise.all(i.map(r=>this._update(r))).then(r=>Im(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),nu(this._state,e&&this._lastCallId),Nt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:i,from:r}=e;i=ht.obj(i)?i[t]:i,(i==null||P1(i))&&(i=void 0),r=ht.obj(r)?r[t]:r,r==null&&(r=void 0);const o={to:i,from:r};return y1(this)||(e.reverse&&([i,r]=[r,i]),r=vn(r),ht.und(r)?Ai(this)||this._set(i):this._set(r)),o}_update({...e},t){const{key:i,defaultProps:r}=this;e.default&&Object.assign(r,xm(e,(f,m)=>/^on/.test(m)?X_(f,i):f)),J2(this,e,"onProps"),Ml(this,"onProps",e,this);const o=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return W_(++this._lastCallId,{key:i,props:e,defaultProps:r,state:u,actions:{pause:()=>{Il(this)||(X2(this,!0),Ll(u.pauseQueue),Ml(this,"onPause",ri(this,Dl(this,this.animation.to)),this))},resume:()=>{Il(this)&&(X2(this,!1),zs(this)&&this._resume(),Ll(u.resumeQueue),Ml(this,"onResume",ri(this,Dl(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(f=>{if(e.loop&&f.finished&&!(t&&f.noop)){const m=iv(e);if(m)return this._update(m,!0)}return f})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(to(this));const r=!ht.und(e.to),o=!ht.und(e.from);if(r||o)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(to(this));const{key:u,defaultProps:f,animation:m}=this,{to:y,from:g}=m;let{to:v=y,from:T=g}=e;o&&!r&&(!t.default||ht.und(v))&&(v=T),t.reverse&&([v,T]=[T,v]);const b=!os(T,g);b&&(m.from=T),T=vn(T);const x=!os(v,y);x&&this._focus(v);const V=P1(t.to),{config:U}=m,{decay:L,velocity:q}=U;(r||o)&&(U.velocity=0),t.config&&!V&&K5(U,Fr(t.config,u),t.config!==f.config?Fr(f.config,u):void 0);let $=Ai(this);if(!$||ht.und(v))return i(ri(this,!0));const K=ht.und(t.reset)?o&&!t.default:!ht.und(T)&&ql(t.reset,u),it=K?T:this.get(),W=eu(v),F=ht.num(W)||ht.arr(W)||Oh(W),D=!V&&(!F||ql(f.immediate||t.immediate,u));if(x){const N=j1(v);if(N!==$.constructor)if(D)$=this._set(W);else throw Error(`Cannot animate between ${$.constructor.name} and ${N.name}, as the "to" prop suggests`)}const C=$.constructor;let R=Kn(v),k=!1;if(!R){const N=K||!y1(this)&&b;(x||N)&&(k=os(eu(it),W),R=!k),(!os(m.immediate,D)&&!D||!os(U.decay,L)||!os(U.velocity,q))&&(R=!0)}if(k&&zs(this)&&(m.changed&&!K?R=!0:R||this._stop(y)),!V&&((R||Kn(y))&&(m.values=$.getPayload(),m.toValues=Kn(v)?null:C==ch?[1]:On(W)),m.immediate!=D&&(m.immediate=D,!D&&!K&&this._set(y)),R)){const{onRest:N}=m;zt(W5,I=>J2(this,t,I));const j=ri(this,Dl(this,y));Ll(this._pendingCalls,j),this._pendingCalls.add(i),m.changed&&Nt.batchedUpdates(()=>{var I;m.changed=!K,N==null||N(j,this),K?Fr(f.onRest,j):(I=m.onStart)==null||I.call(m,j,this)})}K&&this._set(it),V?i(ev(t.to,t,this._state,this)):R?this._start():zs(this)&&!x?this._pendingCalls.add(i):i(tv(it))}_focus(e){const t=this.animation;e!==t.to&&(U2(this)&&this._detach(),t.to=e,U2(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Kn(t)&&(mo(t,this),z1(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Kn(e)&&Wl(e,this)}_set(e,t=!0){const i=vn(e);if(!ht.und(i)){const r=Ai(this);if(!r||!os(i,r.getValue())){const o=j1(i);!r||r.constructor!=o?Rm(this,o.create(i)):r.setValue(i),r&&Nt.batchedUpdates(()=>{this._onChange(i,t)})}}return Ai(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Ml(this,"onStart",ri(this,Dl(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Fr(this.animation.onChange,e,this)),Fr(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Ai(this).reset(vn(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),zs(this)||($2(this,!0),Il(this)||this._resume())}_resume(){oi.skipAnimation?this.finish():Mh.start(this)}_stop(e,t){if(zs(this)){$2(this,!1);const i=this.animation;zt(i.values,o=>{o.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),Jl(this,{type:"idle",parent:this});const r=t?to(this.get()):ri(this.get(),Dl(this,e??i.to));Ll(this._pendingCalls,r),i.changed&&(i.changed=!1,Ml(this,"onRest",r,this))}}};function Dl(e,t){const i=eu(t),r=eu(e.get());return os(r,i)}function iv(e,t=e.loop,i=e.to){const r=Fr(t);if(r){const o=r!==!0&&J_(r),u=(o||e).reverse,f=!o||o.reset;return iu({...e,loop:t,default:!1,pause:void 0,to:!u||P1(i)?i:void 0,from:f?e.from:void 0,reset:f,...o})}}function iu(e){const{to:t,from:i}=e=J_(e),r=new Set;return ht.obj(t)&&Z2(t,r),ht.obj(i)&&Z2(i,r),e.keys=r.size?Array.from(r):null,e}function J5(e){const t=iu(e);return ht.und(t.default)&&(t.default=xm(t)),t}function Z2(e,t){Di(e,(i,r)=>i!=null&&t.add(r))}var W5=["onStart","onRest","onChange","onPause","onResume"];function J2(e,t,i){e.animation[i]=t[i]!==Z_(t,i)?X_(t[i],e.key):void 0}function Ml(e,t,...i){var r,o,u,f;(o=(r=e.animation)[t])==null||o.call(r,...i),(f=(u=e.defaultProps)[t])==null||f.call(u,...i)}var t9=["onStart","onChange","onRest"],e9=1,n9=class{constructor(t,i){this.id=e9++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),i&&(this._flush=i),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((i,r)=>t[r]=i.get()),t}set(t){for(const i in t){const r=t[i];ht.und(r)||this.springs[i].set(r)}}update(t){return t&&this.queue.push(iu(t)),this}start(t){let{queue:i}=this;return t?i=On(t).map(iu):this.queue=[],this._flush?this._flush(this,i):(lv(this,i),G1(this,i))}stop(t,i){if(t!==!!t&&(i=t),i){const r=this.springs;zt(On(i),o=>r[o].stop(!!t))}else nu(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ht.und(t))this.start({pause:!0});else{const i=this.springs;zt(On(t),r=>i[r].pause())}return this}resume(t){if(ht.und(t))this.start({pause:!1});else{const i=this.springs;zt(On(t),r=>i[r].resume())}return this}each(t){Di(this.springs,t)}_onFrame(){const{onStart:t,onChange:i,onRest:r}=this._events,o=this._active.size>0,u=this._changed.size>0;(o&&!this._started||u&&!this._started)&&(this._started=!0,Bl(t,([y,g])=>{g.value=this.get(),y(g,this,this._item)}));const f=!o&&this._started,m=u||f&&r.size?this.get():null;u&&i.size&&Bl(i,([y,g])=>{g.value=m,y(g,this,this._item)}),f&&(this._started=!1,Bl(r,([y,g])=>{g.value=m,y(g,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Nt.onFrame(this._onFrame)}};function G1(e,t){return Promise.all(t.map(i=>sv(e,i))).then(i=>Im(e,i))}async function sv(e,t,i){const{keys:r,to:o,from:u,loop:f,onRest:m,onResolve:y}=t,g=ht.obj(t.default)&&t.default;f&&(t.loop=!1),o===!1&&(t.to=null),u===!1&&(t.from=null);const v=ht.arr(o)||ht.fun(o)?o:void 0;v?(t.to=void 0,t.onRest=void 0,g&&(g.onRest=void 0)):zt(t9,U=>{const L=t[U];if(ht.fun(L)){const q=e._events[U];t[U]=({finished:$,cancelled:K})=>{const it=q.get(L);it?($||(it.finished=!1),K&&(it.cancelled=!0)):q.set(L,{value:null,finished:$||!1,cancelled:K||!1})},g&&(g[U]=t[U])}});const T=e._state;t.pause===!T.paused?(T.paused=t.pause,Ll(t.pause?T.pauseQueue:T.resumeQueue)):T.paused&&(t.pause=!0);const b=(r||Object.keys(e.springs)).map(U=>e.springs[U].start(t)),x=t.cancel===!0||Z_(t,"cancel")===!0;(v||x&&T.asyncId)&&b.push(W_(++e._lastAsyncId,{props:t,state:T,actions:{pause:L1,resume:L1,start(U,L){x?(nu(T,e._lastAsyncId),L(to(e))):(U.onRest=m,L(ev(v,U,T,e)))}}})),T.paused&&await new Promise(U=>{T.resumeQueue.add(U)});const V=Im(e,await Promise.all(b));if(f&&V.finished&&!(i&&V.noop)){const U=iv(t,f,o);if(U)return lv(e,[U]),sv(e,U,!0)}return y&&Nt.batchedUpdates(()=>y(V,e,e.item)),V}function W2(e,t){const i={...e.springs};return t&&zt(On(t),r=>{ht.und(r.keys)&&(r=iu(r)),ht.obj(r.to)||(r={...r,to:void 0}),ov(i,r,o=>av(o))}),rv(e,i),i}function rv(e,t){Di(t,(i,r)=>{e.springs[r]||(e.springs[r]=i,mo(i,e))})}function av(e,t){const i=new Z5;return i.key=e,t&&mo(i,t),i}function ov(e,t,i){t.keys&&zt(t.keys,r=>{(e[r]||(e[r]=i(r)))._prepareNode(t)})}function lv(e,t){zt(t,i=>{ov(e.springs,i,r=>av(r,e))})}var i9=J.createContext({pause:!1,immediate:!1}),s9=()=>{const e=[],t=function(r){D5();const o=[];return zt(e,(u,f)=>{if(ht.und(r))o.push(u.start());else{const m=i(r,u,f);m&&o.push(u.start(m))}}),o};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const o=e.indexOf(r);~o&&e.splice(o,1)},t.pause=function(){return zt(e,r=>r.pause(...arguments)),this},t.resume=function(){return zt(e,r=>r.resume(...arguments)),this},t.set=function(r){zt(e,(o,u)=>{const f=ht.fun(r)?r(u,o):r;f&&o.set(f)})},t.start=function(r){const o=[];return zt(e,(u,f)=>{if(ht.und(r))o.push(u.start());else{const m=this._getProps(r,u,f);m&&o.push(u.start(m))}}),o},t.stop=function(){return zt(e,r=>r.stop(...arguments)),this},t.update=function(r){return zt(e,(o,u)=>o.update(this._getProps(r,o,u))),this};const i=function(r,o,u){return ht.fun(r)?r(u,o):r};return t._getProps=i,t};function r9(e,t,i){const r=ht.fun(t)&&t;r&&!i&&(i=[]);const o=J.useMemo(()=>r||arguments.length==3?s9():void 0,[]),u=J.useRef(0),f=G_(),m=J.useMemo(()=>({ctrls:[],queue:[],flush(q,$){const K=W2(q,$);return u.current>0&&!m.queue.length&&!Object.keys(K).some(W=>!q.springs[W])?G1(q,$):new Promise(W=>{rv(q,K),m.queue.push(()=>{W(G1(q,$))}),f()})}}),[]),y=J.useRef([...m.ctrls]),g=J.useRef([]),v=z2(e)||0;J.useMemo(()=>{zt(y.current.slice(e,v),q=>{F5(q,o),q.stop(!0)}),y.current.length=e,T(v,e)},[e]),J.useMemo(()=>{T(0,Math.min(v,e))},i);function T(q,$){for(let K=q;K<$;K++){const it=y.current[K]||(y.current[K]=new n9(null,m.flush)),W=r?r(K,it):t[K];W&&(g.current[K]=J5(W))}}const b=y.current.map((q,$)=>W2(q,g.current[$])),x=J.useContext(i9),V=z2(x),U=x!==V&&G5(x);Cm(()=>{u.current++,m.ctrls=y.current;const{queue:q}=m;q.length&&(m.queue=[],zt(q,$=>$())),zt(y.current,($,K)=>{o==null||o.add($),U&&$.start({default:x});const it=g.current[K];it&&(Q5($,it.ref),$.ref?$.queue.push(it):$.start(it))})}),F_(()=>()=>{zt(m.ctrls,q=>q.stop(!0))});const L=b.map(q=>({...q}));return o?[L,o]:L}function go(e,t){const i=ht.fun(e),[[r],o]=r9(1,i?e:[e],i?[]:t);return i||arguments.length==2?[r,o]:r}var a9=class extends Dm{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Xl(...t);const i=this._get(),r=j1(i);Rm(this,r.create(i))}advance(e){const t=this._get(),i=this.get();os(t,i)||(Ai(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ty(this._active)&&_1(this)}_get(){const e=ht.arr(this.source)?this.source.map(vn):On(vn(this.source));return this.calc(...e)}_start(){this.idle&&!ty(this._active)&&(this.idle=!1,zt(Lh(this),e=>{e.done=!1}),oi.skipAnimation?(Nt.batchedUpdates(()=>this.advance()),_1(this)):Mh.start(this))}_attach(){let e=1;zt(On(this.source),t=>{Kn(t)&&mo(t,this),z1(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){zt(On(this.source),e=>{Kn(e)&&Wl(e,this)}),this._active.clear(),_1(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=On(this.source).reduce((t,i)=>Math.max(t,(z1(i)?i.priority:0)+1),0))}};function o9(e){return e.idle!==!1}function ty(e){return!e.size||Array.from(e).every(o9)}function _1(e){e.idle||(e.idle=!0,zt(Lh(e),t=>{t.done=!0}),Jl(e,{type:"idle",parent:e}))}oi.assign({createStringInterpolator:q_,to:(e,t)=>new a9(e,t)});var l9=I_(),uv=/^--/;function u9(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!uv.test(e)&&!(Hl.hasOwnProperty(e)&&Hl[e])?t+"px":(""+t).trim()}var ey={};function c9(e,t){if(!e.nodeType||!e.setAttribute)return!1;const i=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:o,children:u,scrollTop:f,scrollLeft:m,viewBox:y,...g}=t,v=Object.values(g),T=Object.keys(g).map(b=>i||e.hasAttribute(b)?b:ey[b]||(ey[b]=b.replace(/([A-Z])/g,x=>"-"+x.toLowerCase())));u!==void 0&&(e.textContent=u);for(const b in o)if(o.hasOwnProperty(b)){const x=u9(b,o[b]);uv.test(b)?e.style.setProperty(b,x):e.style[b]=x}T.forEach((b,x)=>{e.setAttribute(b,v[x])}),r!==void 0&&(e.className=r),f!==void 0&&(e.scrollTop=f),m!==void 0&&(e.scrollLeft=m),y!==void 0&&e.setAttribute("viewBox",y)}var Hl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h9=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),f9=["Webkit","Ms","Moz","O"];Hl=Object.keys(Hl).reduce((e,t)=>(f9.forEach(i=>e[h9(i,t)]=e[t]),e),Hl);var d9=/^(matrix|translate|scale|rotate|skew)/,m9=/^(translate)/,g9=/^(rotate|skew)/,v1=(e,t)=>ht.num(e)&&e!==0?e+t:e,th=(e,t)=>ht.arr(e)?e.every(i=>th(i,t)):ht.num(e)?e===t:parseFloat(e)===t,p9=class extends jh{constructor({x:e,y:t,z:i,...r}){const o=[],u=[];(e||t||i)&&(o.push([e||0,t||0,i||0]),u.push(f=>[`translate3d(${f.map(m=>v1(m,"px")).join(",")})`,th(f,0)])),Di(r,(f,m)=>{if(m==="transform")o.push([f||""]),u.push(y=>[y,y===""]);else if(d9.test(m)){if(delete r[m],ht.und(f))return;const y=m9.test(m)?"px":g9.test(m)?"deg":"";o.push(On(f)),u.push(m==="rotate3d"?([g,v,T,b])=>[`rotate3d(${g},${v},${T},${v1(b,y)})`,th(b,0)]:g=>[`${m}(${g.map(v=>v1(v,y)).join(",")})`,th(g,m.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new y9(o,u)),super(r)}},y9=class extends U_{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return zt(this.inputs,(i,r)=>{const o=vn(i[0]),[u,f]=this.transforms[r](ht.arr(o)?o:i.map(vn));e+=" "+u,t=t&&f}),t?"none":e}observerAdded(e){e==1&&zt(this.inputs,t=>zt(t,i=>Kn(i)&&mo(i,this)))}observerRemoved(e){e==0&&zt(this.inputs,t=>zt(t,i=>Kn(i)&&Wl(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Jl(this,e)}},_9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];oi.assign({batchedUpdates:l9.unstable_batchedUpdates,createStringInterpolator:q_,colors:l5});var v9=U5(_9,{applyAnimatedValues:c9,createAnimatedStyle:e=>new p9(e),getComponentProps:({scrollTop:e,scrollLeft:t,...i})=>i}),Ks=v9.animated;function E9(e,t,i){return Math.max(t,Math.min(e,i))}const le={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function ny(e,t,i){return t===0||Math.abs(t)===1/0?Math.pow(e,i*5):e*t*i/(t+i*e)}function iy(e,t,i,r=.15){return r===0?E9(e,t,i):e<t?-ny(t-e,i-t,r)+t:e>i?+ny(e-i,i-t,r)+i:e}function T9(e,[t,i],[r,o]){const[[u,f],[m,y]]=e;return[iy(t,u,f,r),iy(i,m,y,o)]}function b9(e,t){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S9(e){var t=b9(e,"string");return typeof t=="symbol"?t:String(t)}function Ie(e,t,i){return t=S9(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function sy(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,r)}return i}function me(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(i),!0).forEach(function(r){Ie(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sy(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}const cv={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ry(e){return e?e[0].toUpperCase()+e.slice(1):""}const w9=["enter","leave"];function A9(e=!1,t){return e&&!w9.includes(t)}function C9(e,t="",i=!1){const r=cv[e],o=r&&r[t]||t;return"on"+ry(e)+ry(o)+(A9(i,o)?"Capture":"")}const R9=["gotpointercapture","lostpointercapture"];function x9(e){let t=e.substring(2).toLowerCase();const i=!!~t.indexOf("passive");i&&(t=t.replace("passive",""));const r=R9.includes(t)?"capturecapture":"capture",o=!!~t.indexOf(r);return o&&(t=t.replace("capture","")),{device:t,capture:o,passive:i}}function I9(e,t=""){const i=cv[e],r=i&&i[t]||t;return e+r}function Ph(e){return"touches"in e}function hv(e){return Ph(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function D9(e){return Array.from(e.touches).filter(t=>{var i,r;return t.target===e.currentTarget||((i=e.currentTarget)===null||i===void 0||(r=i.contains)===null||r===void 0?void 0:r.call(i,t.target))})}function M9(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function fv(e){return Ph(e)?M9(e)[0]:e}function F1(e,t){try{const i=t.clientX-e.clientX,r=t.clientY-e.clientY,o=(t.clientX+e.clientX)/2,u=(t.clientY+e.clientY)/2,f=Math.hypot(i,r);return{angle:-(Math.atan2(i,r)*180)/Math.PI,distance:f,origin:[o,u]}}catch{}return null}function V9(e){return D9(e).map(t=>t.identifier)}function ay(e,t){const[i,r]=Array.from(e.touches).filter(o=>t.includes(o.identifier));return F1(i,r)}function E1(e){const t=fv(e);return Ph(e)?t.identifier:t.pointerId}function so(e){const t=fv(e);return[t.clientX,t.clientY]}const oy=40,ly=800;function dv(e){let{deltaX:t,deltaY:i,deltaMode:r}=e;return r===1?(t*=oy,i*=oy):r===2&&(t*=ly,i*=ly),[t,i]}function N9(e){var t,i;const{scrollX:r,scrollY:o,scrollLeft:u,scrollTop:f}=e.currentTarget;return[(t=r??u)!==null&&t!==void 0?t:0,(i=o??f)!==null&&i!==void 0?i:0]}function O9(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:i,altKey:r,metaKey:o,ctrlKey:u}=e;Object.assign(t,{shiftKey:i,altKey:r,metaKey:o,ctrlKey:u})}return t}function fh(e,...t){return typeof e=="function"?e(...t):e}function L9(){}function k9(...e){return e.length===0?L9:e.length===1?e[0]:function(){let t;for(const i of e)t=i.apply(this,arguments)||t;return t}}function uy(e,t){return Object.assign({},t,e||{})}const j9=32;class mv{constructor(t,i,r){this.ctrl=t,this.args=i,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:i,ingKey:r,args:o}=this;i[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=o,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const i=this.state,r=this.config;i._active||(this.reset(),this.computeInitial(),i._active=!0,i.target=t.target,i.currentTarget=t.currentTarget,i.lastOffset=r.from?fh(r.from,i):i.offset,i.offset=i.lastOffset,i.startTime=i.timeStamp=t.timeStamp)}computeValues(t){const i=this.state;i._values=t,i.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:i,config:r,shared:o}=this;i.args=this.args;let u=0;if(t&&(i.event=t,r.preventDefault&&t.cancelable&&i.event.preventDefault(),i.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,O9(t)),o.down=o.pressed=o.buttons%2===1||o.touches>0,u=t.timeStamp-i.timeStamp,i.timeStamp=t.timeStamp,i.elapsedTime=i.timeStamp-i.startTime),i._active){const F=i._delta.map(Math.abs);le.addTo(i._distance,F)}this.axisIntent&&this.axisIntent(t);const[f,m]=i._movement,[y,g]=r.threshold,{_step:v,values:T}=i;if(r.hasCustomTransform?(v[0]===!1&&(v[0]=Math.abs(f)>=y&&T[0]),v[1]===!1&&(v[1]=Math.abs(m)>=g&&T[1])):(v[0]===!1&&(v[0]=Math.abs(f)>=y&&Math.sign(f)*y),v[1]===!1&&(v[1]=Math.abs(m)>=g&&Math.sign(m)*g)),i.intentional=v[0]!==!1||v[1]!==!1,!i.intentional)return;const b=[0,0];if(r.hasCustomTransform){const[F,D]=T;b[0]=v[0]!==!1?F-v[0]:0,b[1]=v[1]!==!1?D-v[1]:0}else b[0]=v[0]!==!1?f-v[0]:0,b[1]=v[1]!==!1?m-v[1]:0;this.restrictToAxis&&!i._blocked&&this.restrictToAxis(b);const x=i.offset,V=i._active&&!i._blocked||i.active;V&&(i.first=i._active&&!i.active,i.last=!i._active&&i.active,i.active=o[this.ingKey]=i._active,t&&(i.first&&("bounds"in r&&(i._bounds=fh(r.bounds,i)),this.setup&&this.setup()),i.movement=b,this.computeOffset()));const[U,L]=i.offset,[[q,$],[K,it]]=i._bounds;i.overflow=[U<q?-1:U>$?1:0,L<K?-1:L>it?1:0],i._movementBound[0]=i.overflow[0]?i._movementBound[0]===!1?i._movement[0]:i._movementBound[0]:!1,i._movementBound[1]=i.overflow[1]?i._movementBound[1]===!1?i._movement[1]:i._movementBound[1]:!1;const W=i._active?r.rubberband||[0,0]:[0,0];if(i.offset=T9(i._bounds,i.offset,W),i.delta=le.sub(i.offset,x),this.computeMovement(),V&&(!i.last||u>j9)){i.delta=le.sub(i.offset,x);const F=i.delta.map(Math.abs);le.addTo(i.distance,F),i.direction=i.delta.map(Math.sign),i._direction=i._delta.map(Math.sign),!i.first&&u>0&&(i.velocity=[F[0]/u,F[1]/u],i.timeDelta=u)}}emit(){const t=this.state,i=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const o=this.handler(me(me(me({},i),t),{},{[this.aliasKey]:t.values}));o!==void 0&&(t.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function P9([e,t],i){const r=Math.abs(e),o=Math.abs(t);if(r>o&&r>i)return"x";if(o>r&&o>i)return"y"}class mu extends mv{constructor(...t){super(...t),Ie(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=le.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=le.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const i=this.state,r=this.config;if(!i.axis&&t){const o=typeof r.axisThreshold=="object"?r.axisThreshold[hv(t)]:r.axisThreshold;i.axis=P9(i._movement,o)}i._blocked=(r.lockDirection||!!r.axis)&&!i.axis||!!r.axis&&r.axis!==i.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const U9=e=>e,cy=.15,gv={enabled(e=!0){return e},eventOptions(e,t,i){return me(me({},i.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[cy,cy];case!1:return[0,0];default:return le.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return le.toVector(e)},transform(e,t,i){const r=e||i.shared.transform;return this.hasCustomTransform=!!r,r||U9},threshold(e){return le.toVector(e,0)}},B9=0,Zr=me(me({},gv),{},{axis(e,t,{axis:i}){if(this.lockDirection=i==="lock",!this.lockDirection)return i},axisThreshold(e=B9){return e},bounds(e={}){if(typeof e=="function")return u=>Zr.bounds(e(u));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:i=1/0,top:r=-1/0,bottom:o=1/0}=e;return[[t,i],[r,o]]}}),hy={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class z9 extends mu{constructor(...t){super(...t),Ie(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const i=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),o={left:i.left-r.left+t.offset[0],right:i.right-r.right+t.offset[0],top:i.top-r.top+t.offset[1],bottom:i.bottom-r.bottom+t.offset[1]};t._bounds=Zr.bounds(o)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const i=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(i.pointerButtons)?!i.pointerButtons.includes(t.buttons):i.pointerButtons!==-1&&i.pointerButtons!==t.buttons))return;const o=this.ctrl.setEventIds(t);i.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(o&&o.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=E1(t),r._pointerActive=!0,this.computeValues(so(t)),this.computeInitial(),i.preventScrollAxis&&hv(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):i.delay>0?(this.setupDelayTrigger(t),i.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const i=this.state;i._active=!0,i._preventScroll=!0,i._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const i=this.state,r=this.config;if(!i._pointerActive)return;const o=E1(t);if(i._pointerId!==void 0&&o!==i._pointerId)return;const u=so(t);if(document.pointerLockElement===t.target?i._delta=[t.movementX,t.movementY]:(i._delta=le.sub(u,i._values),this.computeValues(u)),le.addTo(i._movement,i._delta),this.compute(t),i._delayed&&i.intentional){this.timeoutStore.remove("dragDelay"),i.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!i._preventScroll)if(i.axis)if(i.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){i._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const i=this.state,r=this.config;if(!i._active||!i._pointerActive)return;const o=E1(t);if(i._pointerId!==void 0&&o!==i._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[u,f]=i._distance;if(i.tap=u<=r.tapsThreshold&&f<=r.tapsThreshold,i.tap&&r.filterTaps)i._force=!0;else{const[m,y]=i._delta,[g,v]=i._movement,[T,b]=r.swipe.velocity,[x,V]=r.swipe.distance,U=r.swipe.duration;if(i.elapsedTime<U){const L=Math.abs(m/i.timeDelta),q=Math.abs(y/i.timeDelta);L>T&&Math.abs(g)>x&&(i.swipe[0]=Math.sign(m)),q>b&&Math.abs(v)>V&&(i.swipe[1]=Math.sign(y))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const i=this.config,r=i.device;i.pointerLock&&t.currentTarget.requestPointerLock(),i.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,q9(t);const i=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",i),this.eventStore.add(this.sharedConfig.window,"touch","cancel",i),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const i=hy[t.key];if(i){const r=this.state,o=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=i(this.config.keyboardDisplacement,o),r._keyboardActive=!0,le.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in hy&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const i=this.config.device;t(i,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(i,"change",this.pointerMove.bind(this)),t(i,"end",this.pointerUp.bind(this)),t(i,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function q9(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const gu=typeof window<"u"&&window.document&&window.document.createElement;function pv(){return gu&&"ontouchstart"in window}function H9(){return pv()||gu&&window.navigator.maxTouchPoints>1}function G9(){return gu&&"onpointerdown"in window}function F9(){return gu&&"exitPointerLock"in window.document}function Q9(){try{return"constructor"in GestureEvent}catch{return!1}}const $n={isBrowser:gu,gesture:Q9(),touch:pv(),touchscreen:H9(),pointer:G9(),pointerLock:F9()},Y9=250,K9=180,$9=.5,X9=50,Z9=250,J9=10,fy={mouse:0,touch:0,pen:8},W9=me(me({},Zr),{},{device(e,t,{pointer:{touch:i=!1,lock:r=!1,mouse:o=!1}={}}){return this.pointerLock=r&&$n.pointerLock,$n.touch&&i?"touch":this.pointerLock?"mouse":$n.pointer&&!o?"pointer":$n.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:i}){if(this.preventScrollDelay=typeof i=="number"?i:i||i===void 0&&e?Y9:void 0,!(!$n.touchscreen||i===!1))return e||(i!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:i=!0,buttons:r=1,keys:o=!0}={}}){return this.pointerButtons=r,this.keys=o,!this.pointerLock&&this.device==="pointer"&&i},threshold(e,t,{filterTaps:i=!1,tapsThreshold:r=3,axis:o=void 0}){const u=le.toVector(e,i?r:o?1:0);return this.filterTaps=i,this.tapsThreshold=r,u},swipe({velocity:e=$9,distance:t=X9,duration:i=Z9}={}){return{velocity:this.transform(le.toVector(e)),distance:this.transform(le.toVector(t)),duration:i}},delay(e=0){switch(e){case!0:return K9;case!1:return 0;default:return e}},axisThreshold(e){return e?me(me({},fy),e):fy},keyboardDisplacement(e=J9){return e}});function yv(e){const[t,i]=e.overflow,[r,o]=e._delta,[u,f]=e._direction;(t<0&&r>0&&u<0||t>0&&r<0&&u>0)&&(e._movement[0]=e._movementBound[0]),(i<0&&o>0&&f<0||i>0&&o<0&&f>0)&&(e._movement[1]=e._movementBound[1])}const t7=30,e7=100;class n7 extends mv{constructor(...t){super(...t),Ie(this,"ingKey","pinching"),Ie(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:i,lastOffset:r}=this.state;t==="wheel"?this.state.offset=le.add(i,r):this.state.offset=[(1+i[0])*r[0],i[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:i}=this.state;this.state.movement=[t[0]/i[0],t[1]-i[1]]}axisIntent(){const t=this.state,[i,r]=t._movement;if(!t.axis){const o=Math.abs(i)*t7-Math.abs(r);o<0?t.axis="angle":o>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const i=this.state,r=this.ctrl.touchIds;if(i._active&&i._touchIds.every(u=>r.has(u))||r.size<2)return;this.start(t),i._touchIds=Array.from(r).slice(0,2);const o=ay(t,i._touchIds);o&&this.pinchStart(t,o)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const i=this.state,r=i._pointerEvents,o=this.ctrl.pointerIds;if(i._active&&Array.from(r.keys()).every(f=>o.has(f))||(r.size<2&&r.set(t.pointerId,t),i._pointerEvents.size<2))return;this.start(t);const u=F1(...Array.from(r.values()));u&&this.pinchStart(t,u)}pinchStart(t,i){const r=this.state;r.origin=i.origin,this.computeValues([i.distance,i.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const i=ay(t,this.state._touchIds);i&&this.pinchMove(t,i)}pointerMove(t){const i=this.state._pointerEvents;if(i.has(t.pointerId)&&i.set(t.pointerId,t),!this.state._active)return;const r=F1(...Array.from(i.values()));r&&this.pinchMove(t,r)}pinchMove(t,i){const r=this.state,o=r._values[1],u=i.angle-o;let f=0;Math.abs(u)>270&&(f+=Math.sign(u)),this.computeValues([i.distance,i.angle-360*f]),r.origin=i.origin,r.turns=f,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(i=>!this.ctrl.touchIds.has(i))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const i=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}i._pointerEvents.has(t.pointerId)&&i._pointerEvents.delete(t.pointerId),i._active&&i._pointerEvents.size<2&&(i._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const i=this.state;i._active||(this.start(t),this.computeValues([t.scale,t.rotation]),i.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const i=this.state;this.computeValues([t.scale,t.rotation]),i.origin=[t.clientX,t.clientY];const r=i._movement;i._movement=[t.scale-1,t.rotation],i._delta=le.sub(i._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const i=this.config.modifierKey;i&&(Array.isArray(i)?!i.find(r=>t[r]):!t[i])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-dv(t)[1]/e7*r.offset[0],0],le.addTo(r._movement,r._delta),yv(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const i=this.config.device;i&&(t(i,"start",this[i+"Start"].bind(this)),t(i,"change",this[i+"Move"].bind(this)),t(i,"end",this[i+"End"].bind(this)),t(i,"cancel",this[i+"End"].bind(this)),t("lostPointerCapture","",this[i+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const i7=me(me({},gv),{},{device(e,t,{shared:i,pointer:{touch:r=!1}={}}){if(i.target&&!$n.touch&&$n.gesture)return"gesture";if($n.touch&&r)return"touch";if($n.touchscreen){if($n.pointer)return"pointer";if($n.touch)return"touch"}},bounds(e,t,{scaleBounds:i={},angleBounds:r={}}){const o=f=>{const m=uy(fh(i,f),{min:-1/0,max:1/0});return[m.min,m.max]},u=f=>{const m=uy(fh(r,f),{min:-1/0,max:1/0});return[m.min,m.max]};return typeof i!="function"&&typeof r!="function"?[o(),u()]:f=>[o(f),u(f)]},threshold(e,t,i){return this.lockDirection=i.axis==="lock",le.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class s7 extends mu{constructor(...t){super(...t),Ie(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(so(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const i=so(t),r=this.state;r._delta=le.sub(i,r._values),le.addTo(r._movement,r._delta),this.computeValues(i),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const r7=me(me({},Zr),{},{mouseOnly:(e=!0)=>e});class a7 extends mu{constructor(...t){super(...t),Ie(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const i=this.state,r=N9(t);i._delta=le.sub(r,i._values),le.addTo(i._movement,i._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const o7=Zr;class l7 extends mu{constructor(...t){super(...t),Ie(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const i=this.state;i._delta=dv(t),le.addTo(i._movement,i._delta),yv(i),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const u7=Zr;class c7 extends mu{constructor(...t){super(...t),Ie(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(so(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const i=this.state;if(!i._active)return;i._active=!1;const r=so(t);i._movement=i._delta=le.sub(r,i._values),this.computeValues(r),this.compute(t),i.delta=i.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const h7=me(me({},Zr),{},{mouseOnly:(e=!0)=>e}),Mm=new Map,Q1=new Map;function _v(e){Mm.set(e.key,e.engine),Q1.set(e.key,e.resolver)}const vv={key:"drag",engine:z9,resolver:W9},f7={key:"hover",engine:c7,resolver:h7},d7={key:"move",engine:s7,resolver:r7},m7={key:"pinch",engine:n7,resolver:i7},g7={key:"scroll",engine:a7,resolver:o7},p7={key:"wheel",engine:l7,resolver:u7};function y7(e,t){if(e==null)return{};var i={},r=Object.keys(e),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(i[o]=e[o]);return i}function _7(e,t){if(e==null)return{};var i=y7(e,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const v7={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=$n.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},E7=["target","eventOptions","window","enabled","transform"];function eh(e={},t){const i={};for(const[r,o]of Object.entries(t))switch(typeof o){case"function":i[r]=o.call(i,e[r],r,e);break;case"object":i[r]=eh(e[r],o);break;case"boolean":o&&(i[r]=e[r]);break}return i}function T7(e,t,i={}){const r=e,{target:o,eventOptions:u,window:f,enabled:m,transform:y}=r,g=_7(r,E7);if(i.shared=eh({target:o,eventOptions:u,window:f,enabled:m,transform:y},v7),t){const v=Q1.get(t);i[t]=eh(me({shared:i.shared},g),v)}else for(const v in g){const T=Q1.get(v);T&&(i[v]=eh(me({shared:i.shared},g[v]),T))}return i}class Ev{constructor(t,i){Ie(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=i}add(t,i,r,o,u){const f=this._listeners,m=I9(i,r),y=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},g=me(me({},y),u);t.addEventListener(m,o,g);const v=()=>{t.removeEventListener(m,o,g),f.delete(v)};return f.add(v),v}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class b7{constructor(){Ie(this,"_timeouts",new Map)}add(t,i,r=140,...o){this.remove(t),this._timeouts.set(t,window.setTimeout(i,r,...o))}remove(t){const i=this._timeouts.get(t);i&&window.clearTimeout(i)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class S7{constructor(t){Ie(this,"gestures",new Set),Ie(this,"_targetEventStore",new Ev(this)),Ie(this,"gestureEventStores",{}),Ie(this,"gestureTimeoutStores",{}),Ie(this,"handlers",{}),Ie(this,"config",{}),Ie(this,"pointerIds",new Set),Ie(this,"touchIds",new Set),Ie(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),w7(this,t)}setEventIds(t){if(Ph(t))return this.touchIds=new Set(V9(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,i){this.handlers=t,this.nativeHandlers=i}applyConfig(t,i){this.config=T7(t,i,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const i=this.config.shared,r={};let o;if(!(i.target&&(o=i.target(),!o))){if(i.enabled){for(const f of this.gestures){const m=this.config[f],y=dy(r,m.eventOptions,!!o);if(m.enabled){const g=Mm.get(f);new g(this,t,f).bind(y)}}const u=dy(r,i.eventOptions,!!o);for(const f in this.nativeHandlers)u(f,"",m=>this.nativeHandlers[f](me(me({},this.state.shared),{},{event:m,args:t})),void 0,!0)}for(const u in r)r[u]=k9(...r[u]);if(!o)return r;for(const u in r){const{device:f,capture:m,passive:y}=x9(u);this._targetEventStore.add(o,f,"",r[u],{capture:m,passive:y})}}}}function Qa(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ev(e,t),e.gestureTimeoutStores[t]=new b7}function w7(e,t){t.drag&&Qa(e,"drag"),t.wheel&&Qa(e,"wheel"),t.scroll&&Qa(e,"scroll"),t.move&&Qa(e,"move"),t.pinch&&Qa(e,"pinch"),t.hover&&Qa(e,"hover")}const dy=(e,t,i)=>(r,o,u,f={},m=!1)=>{var y,g;const v=(y=f.capture)!==null&&y!==void 0?y:t.capture,T=(g=f.passive)!==null&&g!==void 0?g:t.passive;let b=m?r:C9(r,o,v);i&&T&&(b+="Passive"),e[b]=e[b]||[],e[b].push(u)},A7=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function C7(e){const t={},i={},r=new Set;for(let o in e)A7.test(o)?(r.add(RegExp.lastMatch),i[o]=e[o]):t[o]=e[o];return[i,t,r]}function Ya(e,t,i,r,o,u){if(!e.has(i)||!Mm.has(r))return;const f=i+"Start",m=i+"End",y=g=>{let v;return g.first&&f in t&&t[f](g),i in t&&(v=t[i](g)),g.last&&m in t&&t[m](g),v};o[r]=y,u[r]=u[r]||{}}function R7(e,t){const[i,r,o]=C7(e),u={};return Ya(o,i,"onDrag","drag",u,t),Ya(o,i,"onWheel","wheel",u,t),Ya(o,i,"onScroll","scroll",u,t),Ya(o,i,"onPinch","pinch",u,t),Ya(o,i,"onMove","move",u,t),Ya(o,i,"onHover","hover",u,t),{handlers:u,config:t,nativeHandlers:r}}function Tv(e,t={},i,r){const o=Qr.useMemo(()=>new S7(e),[]);if(o.applyHandlers(e,r),o.applyConfig(t,i),Qr.useEffect(o.effect.bind(o)),Qr.useEffect(()=>o.clean.bind(o),[]),t.target===void 0)return o.bind.bind(o)}function Uh(e,t){return _v(vv),Tv({drag:e},t||{},"drag")}function x7(e){return e.forEach(_v),function(i,r){const{handlers:o,nativeHandlers:u,config:f}=R7(i,r||{});return Tv(o,f,void 0,u)}}function I7(e,t){return x7([vv,m7,g7,p7,d7,f7])(e,t||{})}const D7="_popup_972k0_1",M7={popup:D7},V7=e=>{const t=Se.c(13),{message:i,onClose:r}=e,[o,u]=J.useState(!1),[f,m]=go(N7),{x:y,y:g,opacity:v}=f;let T;t[0]!==m||t[1]!==r?(T=L=>{const{down:q,movement:$,direction:K}=L,[it]=$,[W]=K;if(!q&&Math.abs(it)>100){u(!0),m.start({x:W>0?500:-500,opacity:0,onRest:r});return}m.start({x:q?it:0,opacity:1})},t[0]=m,t[1]=r,t[2]=T):T=t[2];const b=Uh(T);if(o)return null;let x;t[3]!==b?(x=b(),t[3]=b,t[4]=x):x=t[4];let V;t[5]!==v||t[6]!==y||t[7]!==g?(V={x:y,y:g,opacity:v},t[5]=v,t[6]=y,t[7]=g,t[8]=V):V=t[8];let U;return t[9]!==i||t[10]!==x||t[11]!==V?(U=A.jsx(Ks.div,{...x,className:M7.popup,style:V,children:i}),t[9]=i,t[10]=x,t[11]=V,t[12]=U):U=t[12],U};function N7(){return{from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}}}const bv=J.createContext(),pu=()=>J.useContext(bv),O7=({children:e})=>{const[t,i]=J.useState([]);J.useEffect(()=>{const f=localStorage.getItem("theme");document.body.className=f==="default"?"":f},[]);const r=(f,m={})=>{const y=Date.now();i(g=>[...g,{id:y,message:f,...m}]),m.persistent||setTimeout(()=>o(y),m.duration||3e3)},o=f=>{i(m=>m.filter(y=>y.id!==f))},u=J.useMemo(()=>({showNotification:r,removeNotification:o}),[]);return A.jsxs(bv,{value:u,children:[e,A.jsx("div",{style:{position:"fixed",top:20,right:0,left:0,display:"flex",flexDirection:"column",padding:20,gap:10,zIndex:10,pointerEvents:"none"},children:t.map(f=>A.jsx(V7,{...f,onClose:()=>o(f.id)},f.id))})]})};function Gl(e){const t=e.current.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function L7(e,t){let i=0;return function(...r){const o=Date.now();o-i>=t&&(i=o,e.apply(this,r))}}function k7(e,t){let i;return(...r)=>{clearTimeout(i),i=setTimeout(()=>e(...r),t)}}async function j7(e,t=32*1024){const i=[];let r=0;const o=await e.arrayBuffer();for(;r<o.byteLength;){const u=o.slice(r,r+t);i.push(u),r+=t,i.length%50===0&&await new Promise(f=>setTimeout(f,0))}return i}async function P7(e,t){let i=0;t.send(JSON.stringify({type:"imageStart",sentId:e.sentId,receivedId:e.receivedId}));for(const r of e.chunks)i++,t.send(r),i%50===0&&await new Promise(o=>setTimeout(o,0));t.send(JSON.stringify({type:"imageEnd",imageType:e.fileType}))}const Y1=({type:e,content:t,replying:i,setReplying:r,selectedMessage:o,dataChannel:u,addMessage:f,sentId:m,inputRef:y,atBottomRef:g})=>{const v={type:e,content:t,sentId:m.current,receivedId:null},T={sentId:m.current,receivedId:null,type:e==="text"?e:"image",status:"sending",reaction:-1,content:t,deleted:0};if(i){const b={sentId:o.receivedId,receivedId:o.sentId};v.replyTo={...o,...b},T.replyTo=o,r(!1)}u.send(JSON.stringify(v)),f(T),m.current=m.current+1,y&&(y.current.value=""),g.current=!0};function U7(e){return e?new RegExp("^(?:\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F|\\p{Emoji_Modifier_Base}(?:\\p{Emoji_Modifier})?|\\p{Extended_Pictographic})+$","u").test(e.trim()):void 0}const my=e=>{let t;const i=new Set,r=(g,v)=>{const T=typeof g=="function"?g(t):g;if(!Object.is(T,t)){const b=t;t=v??(typeof T!="object"||T===null)?T:Object.assign({},t,T),i.forEach(x=>x(t,b))}},o=()=>t,m={setState:r,getState:o,getInitialState:()=>y,subscribe:g=>(i.add(g),()=>i.delete(g))},y=t=e(r,o,m);return m},B7=e=>e?my(e):my,z7=e=>e;function q7(e,t=z7){const i=Qr.useSyncExternalStore(e.subscribe,Qr.useCallback(()=>t(e.getState()),[e,t]),Qr.useCallback(()=>t(e.getInitialState()),[e,t]));return Qr.useDebugValue(i),i}const gy=e=>{const t=B7(e),i=r=>q7(t,r);return Object.assign(i,t),i},Sv=e=>e?gy(e):gy,Vt=Sv(e=>({messages:[],addMessage:t=>e(i=>({messages:[...i.messages,t]})),removeMessage:(t,i)=>e(r=>({messages:r.messages.filter(o=>o.sentId!==t&&o.receivedId!==i)})),updateMessage:(t,i,r)=>e(o=>({messages:o.messages.map(u=>u.sentId===t&&u.receivedId===i?{...u,...r}:u)})),highlightMessage:(t,i)=>e(r=>({messages:r.messages.map(o=>o.sentId===t&&o.receivedId===i?{...o,highlight:!o.highlight}:o)})),replying:null,setReplying:t=>e(()=>({replying:t})),actionsShown:!1,setActionsShown:t=>e(()=>({actionsShown:t})),reactionsShown:!1,setReactionsShown:t=>e(()=>({reactionsShown:t})),newMessage:!1,setNewMessage:t=>e(()=>({newMessage:t})),incomingCall:!1,setIncomingCall:t=>e(()=>({incomingCall:t})),typing:!1,setTyping:t=>e(()=>({typing:t})),imageDialog:null,setImageDialog:t=>e(()=>({imageDialog:t})),videoCall:"hidden",setVideoCall:t=>e(()=>({videoCall:t})),settings:!1,reverseSettings:()=>e(t=>({settings:!t.settings}))}));Sv(e=>({}));const Zn=J.createContext(null),H7=({children:e})=>{console.log("Chat context rendered!");const{dataChannel:t,imageChannel:i}=J.useContext(bn),{showNotification:r}=pu(),o=J.useRef(null),u=J.useRef([]),f=J.useRef(0),m=J.useRef(null),y=J.useRef({x:0,y:0}),g=J.useRef(!1),v=J.useRef(null),T=J.useRef(!1),b=J.useRef(null),x=Vt(W=>W.addMessage),V=Vt(W=>W.updateMessage),U=Vt(W=>W.removeMessage),L=Vt(W=>W.setNewMessage),q=Vt(W=>W.setVideoCall),$=Vt(W=>W.setIncomingCall),K=Vt(W=>W.setTyping);J.useEffect(()=>(t.current.onmessage=W=>{let F=JSON.parse(W.data);if(F.type==="typing")clearTimeout(v.current),K(!0),v.current=setTimeout(()=>{K(!1)},1400);else if(F.type==="text"){let D={receivedId:F.sentId,sentId:F.receivedId,type:F.type,reaction:-1,content:F.content,deleted:0,hightlight:!1,replyTo:F.replyTo};Gl(m)?(console.log("I am in the bottom!"),T.current=!0):L(!0);let C={type:"ack",sentId:F.sentId,receivedId:F.receivedId};t.current.send(JSON.stringify(C)),x(D)}else if(F.type==="ack")V(F.sentId,null,{status:"sent"});else if(F.type==="reaction"){let D={type:"ackReaction",sentId:F.id,reaction:F.reaction};t.current.send(JSON.stringify(D)),V(F.id,null,{reaction:F.reaction})}else if(F.type==="ackReaction")console.log("I have received an ackReaction message: ",F),V(null,F.sentId,{reaction:F.reaction});else if(F.type==="gif"){let D={receivedId:F.sentId,sentId:F.receivedId,type:"image",reaction:-1,content:F.content,deleted:0,hightlight:!1,replyTo:F.replyTo};Gl(m)?T.current=!0:L(!0);let C={type:"gifAck",sentId:F.sentId,receivedId:F.receivedId};t.current.send(JSON.stringify(C)),x(D)}else if(F.type==="gifAck")V(F.sentId,F.receivedId,{status:"sent"});else if(F.type==="imageRequest"){let D={receivedId:F.sentId,sentId:F.receivedId,type:F.type,reaction:-1,deleted:0,hightlight:!1,replyTo:F.replyTo};Gl(m)?T.current=!0:L(!0),x(D)}else if(F.type==="imageAccept"){const D=u.current.find(C=>C.sentId===F.sentId&&C.receivedId===F.receivedId);console.log(D),(async()=>await P7(D,i.current))()}else if(F.type==="imageReject")console.log("The image I sent was rejected!"),U(F.sentId,F.receivedId);else if(F.type==="imageReceived")V(F.sentId,F.receivedId,{status:"sent"});else if(F.type==="delete"){let D={type:"ackDeletion",sentId:F.sentId};t.current.send(JSON.stringify(D)),V(null,F.sentId,{type:"text",content:"This message has been deleted",deleted:2})}else F.type==="ackDeletion"?V(F.sentId,null,{type:"text",content:"This message has been deleted",deleted:2}):F.type==="callRequest"?(console.log("The other peer is trying to call me!"),$(!0)):F.type==="callCancel"?$(!1):F.type==="callReject"?(r("Your call was rejected!"),q("hidden")):F.type==="callAccept"?q("connected"):F.type==="callEnd"&&q("hidden")},i.current.onmessage=W=>{if(typeof W.data=="string"){const F=JSON.parse(W.data);if(F.type==="imageStart")b.current={sentId:F.receivedId,receivedId:F.sentId,chunks:[]};else if(F.type==="imageEnd"){const D=new Blob(b.current.chunks,{type:F.imageType}),C=URL.createObjectURL(D);t.current.send(JSON.stringify({type:"imageReceived",sentId:b.current.receivedId,receivedId:b.current.sentId})),V(b.current.sentId,b.current.receivedId,{type:"image",content:C,status:"received"}),b.current=null}}else b.current.chunks.push(W.data)},()=>{t.current.onmessage=null,i.current.onmessage=null}),[]);const it=J.useMemo(()=>({chatBottom:m,sentId:f,selectedMessage:o,pointerPosition:y,longPressed:g,atBottomRef:T,images:u,receivingImage:b}),[]);return A.jsx(Zn,{value:it,children:e})},G7="_navContainer_1vwj8_1",F7="_logo_1vwj8_10",Q7="_navList_1vwj8_16",Y7="_hamburger_1vwj8_30",wi={navContainer:G7,logo:F7,navList:Q7,hamburger:Y7};function K7(){const e=Se.c(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=A.jsx("a",{href:"/",className:wi.logo,"aria-label":"Homepage",children:"boop"}),e[0]=t):t=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=A.jsx("a",{className:wi.hamburger,"aria-label":"Expand for menu",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[A.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),A.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),A.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),e[1]=i):i=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=A.jsx("li",{className:wi.navItem,children:A.jsx("a",{href:"#about",className:wi.navLink,children:"About"})}),e[2]=r):r=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=A.jsx("li",{className:wi.navItem,children:A.jsx("a",{href:"#projects",className:wi.navLink,children:"Policy"})}),e[3]=o):o=e[3];let u;return e[4]===Symbol.for("react.memo_cache_sentinel")?(u=A.jsxs("nav",{"aria-label":"Main Navigation",className:wi.navContainer,children:[t,i,A.jsxs("ul",{className:wi.navList,children:[r,o,A.jsx("li",{className:wi.navItem,children:A.jsx("a",{href:"#contact",className:wi.navLink,children:"Contact"})})]})]}),e[4]=u):u=e[4],u}const $7="_mainContainer_15mr1_1",X7="_inputCard_15mr1_13",Z7="_linkInput_15mr1_41",J7="_loaderWrapper_15mr1_71",W7="_loader_15mr1_71",Vl={mainContainer:$7,inputCard:X7,linkInput:Z7,loaderWrapper:J7,loader:W7},tE=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},eE=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],f=e[i++],m=e[i++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=e[i++],f=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,y=o+2<e.length,g=y?e[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,x=g&63;y||(x=64,f||(b=64)),r.push(i[v],i[T],i[b],i[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],m=o<e.length?i[e.charAt(o)]:0;++o;const g=o<e.length?i[e.charAt(o)]:64;++o;const T=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new nE;const b=u<<2|m>>4;if(r.push(b),g!==64){const x=m<<4&240|g>>2;if(r.push(x),T!==64){const V=g<<6&192|T;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iE=function(e){const t=wv(e);return Av.encodeByteArray(t,!0)},dh=function(e){return iE(e).replace(/\./g,"")},sE=function(e){try{return Av.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=()=>rE().__FIREBASE_DEFAULTS__,oE=()=>{if(typeof process>"u"||typeof py>"u")return;const e=py.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sE(e[1]);return t&&JSON.parse(t)},Vm=()=>{try{return tE()||aE()||oE()||lE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uE=e=>{var t,i;return(i=(t=Vm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},cE=e=>{const t=uE(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Cv=()=>{var e;return(e=Vm())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(e){return e.endsWith(".cloudworkstations.dev")}async function fE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dh(JSON.stringify(i)),dh(JSON.stringify(f)),""].join(".")}const Fl={};function mE(){const e={prod:[],emulator:[]};for(const t of Object.keys(Fl))Fl[t]?e.emulator.push(t):e.prod.push(t);return e}function gE(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let yy=!1;function pE(e,t){if(typeof window>"u"||typeof document>"u"||!Nm(window.location.host)||Fl[e]===t||Fl[e]||yy)return;Fl[e]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=mE().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{yy=!0,f()},b}function v(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=gE(r),x=i("text"),V=document.getElementById(x)||document.createElement("span"),U=i("learnmore"),L=document.getElementById(U)||document.createElement("a"),q=i("preprendIcon"),$=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;m(K),v(L,U);const it=g();y($,q),K.append($,V,L,it),document.body.appendChild(K)}u?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _E(){var e;const t=(e=Vm())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vE(){return!_E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EE(){try{return typeof indexedDB=="object"}catch{return!1}}function TE(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="FirebaseError";class po extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=bE,Object.setPrototypeOf(this,po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rv.prototype.create)}}class Rv{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?SE(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new po(o,m,r)}}function SE(e,t){return e.replace(wE,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const wE=/\{\$([^}]+)}/g;function mh(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=e[o],f=t[o];if(_y(u)&&_y(f)){if(!mh(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function _y(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){return e&&e._delegate?e._delegate:e}class su{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new hE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RE(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CE(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CE(e){return e===Gr?void 0:e}function RE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new AE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Qt||(Qt={}));const IE={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},DE=Qt.INFO,ME={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},VE=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=ME[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xv{constructor(t){this.name=t,this._logLevel=DE,this._logHandler=VE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const NE=(e,t)=>t.some(i=>e instanceof i);let vy,Ey;function OE(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LE(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,K1=new WeakMap,Dv=new WeakMap,T1=new WeakMap,Om=new WeakMap;function kE(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{i($s(e.result)),o()},f=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&Iv.set(i,e)}).catch(()=>{}),Om.set(t,e),t}function jE(e){if(K1.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});K1.set(e,t)}let $1={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return K1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Dv.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $s(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function PE(e){$1=e($1)}function UE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(b1(this),t,...i);return Dv.set(r,t.sort?t.sort():[t]),$s(r)}:LE().includes(e)?function(...t){return e.apply(b1(this),t),$s(Iv.get(this))}:function(...t){return $s(e.apply(b1(this),t))}}function BE(e){return typeof e=="function"?UE(e):(e instanceof IDBTransaction&&jE(e),NE(e,OE())?new Proxy(e,$1):e)}function $s(e){if(e instanceof IDBRequest)return kE(e);if(T1.has(e))return T1.get(e);const t=BE(e);return t!==e&&(T1.set(e,t),Om.set(t,e)),t}const b1=e=>Om.get(e);function zE(e,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=$s(f);return r&&f.addEventListener("upgradeneeded",y=>{r($s(f.result),y.oldVersion,y.newVersion,$s(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qE=["get","getKey","getAll","getAllKeys","count"],HE=["put","add","delete","clear"],S1=new Map;function Ty(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(S1.get(t))return S1.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=HE.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qE.includes(i)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&y.done]))[0]};return S1.set(t,u),u}PE(e=>({...e,get:(t,i,r)=>Ty(t,i)||e.get(t,i,r),has:(t,i)=>!!Ty(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FE(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function FE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const X1="@firebase/app",by="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new xv("@firebase/app"),QE="@firebase/app-compat",YE="@firebase/analytics-compat",KE="@firebase/analytics",$E="@firebase/app-check-compat",XE="@firebase/app-check",ZE="@firebase/auth",JE="@firebase/auth-compat",WE="@firebase/database",t8="@firebase/data-connect",e8="@firebase/database-compat",n8="@firebase/functions",i8="@firebase/functions-compat",s8="@firebase/installations",r8="@firebase/installations-compat",a8="@firebase/messaging",o8="@firebase/messaging-compat",l8="@firebase/performance",u8="@firebase/performance-compat",c8="@firebase/remote-config",h8="@firebase/remote-config-compat",f8="@firebase/storage",d8="@firebase/storage-compat",m8="@firebase/firestore",g8="@firebase/ai",p8="@firebase/firestore-compat",y8="firebase",_8="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="[DEFAULT]",v8={[X1]:"fire-core",[QE]:"fire-core-compat",[KE]:"fire-analytics",[YE]:"fire-analytics-compat",[XE]:"fire-app-check",[$E]:"fire-app-check-compat",[ZE]:"fire-auth",[JE]:"fire-auth-compat",[WE]:"fire-rtdb",[t8]:"fire-data-connect",[e8]:"fire-rtdb-compat",[n8]:"fire-fn",[i8]:"fire-fn-compat",[s8]:"fire-iid",[r8]:"fire-iid-compat",[a8]:"fire-fcm",[o8]:"fire-fcm-compat",[l8]:"fire-perf",[u8]:"fire-perf-compat",[c8]:"fire-rc",[h8]:"fire-rc-compat",[f8]:"fire-gcs",[d8]:"fire-gcs-compat",[m8]:"fire-fst",[p8]:"fire-fst-compat",[g8]:"fire-vertex","fire-js":"fire-js",[y8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,E8=new Map,J1=new Map;function Sy(e,t){try{e.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function ph(e){const t=e.name;if(J1.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;J1.set(t,e);for(const i of gh.values())Sy(i,e);for(const i of E8.values())Sy(i,e);return!0}function T8(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function b8(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Rv("app","Firebase",S8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=_8;function Mv(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Z1,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw Xs.create("no-options");const u=gh.get(o);if(u){if(mh(i,u.options)&&mh(r,u.config))return u;throw Xs.create("duplicate-app",{appName:o})}const f=new xE(o);for(const y of J1.values())f.addComponent(y);const m=new w8(i,r,f);return gh.set(o,m),m}function C8(e=Z1){const t=gh.get(e);if(!t&&e===Z1&&Cv())return Mv();if(!t)throw Xs.create("no-app",{appName:e});return t}function eo(e,t,i){var r;let o=(r=v8[e])!==null&&r!==void 0?r:e;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(m.join(" "));return}ph(new su(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="firebase-heartbeat-database",x8=1,ru="firebase-heartbeat-store";let w1=null;function Vv(){return w1||(w1=zE(R8,x8,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ru)}catch(i){console.warn(i)}}}}).catch(e=>{throw Xs.create("idb-open",{originalErrorMessage:e.message})})),w1}async function I8(e){try{const i=(await Vv()).transaction(ru),r=await i.objectStore(ru).get(Nv(e));return await i.done,r}catch(t){if(t instanceof po)cs.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cs.warn(i.message)}}}async function wy(e,t){try{const r=(await Vv()).transaction(ru,"readwrite");await r.objectStore(ru).put(t,Nv(e)),await r.done}catch(i){if(i instanceof po)cs.warn(i.message);else{const r=Xs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});cs.warn(r.message)}}}function Nv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=1024,M8=30;class V8{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new O8(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ay();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>M8){const f=L8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ay(),{heartbeatsToSend:r,unsentEntries:o}=N8(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return cs.warn(i),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function N8(e,t=D8){const i=[];let r=e.slice();for(const o of e){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cy(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Cy(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class O8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EE()?TE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await I8(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return wy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return wy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Cy(e){return dh(JSON.stringify({version:2,heartbeats:e})).length}function L8(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(e){ph(new su("platform-logger",t=>new GE(t),"PRIVATE")),ph(new su("heartbeat",t=>new V8(t),"PRIVATE")),eo(X1,by,e),eo(X1,by,"esm2017"),eo("fire-js","")}k8("");var j8="firebase",P8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(j8,P8,"app");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,Ov;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,C){function R(){}R.prototype=C.prototype,D.D=C.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(k,N,j){for(var I=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)I[Rt-2]=arguments[Rt];return C.prototype[N].apply(k,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,R){R||(R=0);var k=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)k[N]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(N=0;16>N;++N)k[N]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=D.g[0],R=D.g[1],N=D.g[2];var j=D.g[3],I=C+(j^R&(N^j))+k[0]+3614090360&4294967295;C=R+(I<<7&4294967295|I>>>25),I=j+(N^C&(R^N))+k[1]+3905402710&4294967295,j=C+(I<<12&4294967295|I>>>20),I=N+(R^j&(C^R))+k[2]+606105819&4294967295,N=j+(I<<17&4294967295|I>>>15),I=R+(C^N&(j^C))+k[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=C+(j^R&(N^j))+k[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(N^C&(R^N))+k[5]+1200080426&4294967295,j=C+(I<<12&4294967295|I>>>20),I=N+(R^j&(C^R))+k[6]+2821735955&4294967295,N=j+(I<<17&4294967295|I>>>15),I=R+(C^N&(j^C))+k[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=C+(j^R&(N^j))+k[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(N^C&(R^N))+k[9]+2336552879&4294967295,j=C+(I<<12&4294967295|I>>>20),I=N+(R^j&(C^R))+k[10]+4294925233&4294967295,N=j+(I<<17&4294967295|I>>>15),I=R+(C^N&(j^C))+k[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=C+(j^R&(N^j))+k[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(N^C&(R^N))+k[13]+4254626195&4294967295,j=C+(I<<12&4294967295|I>>>20),I=N+(R^j&(C^R))+k[14]+2792965006&4294967295,N=j+(I<<17&4294967295|I>>>15),I=R+(C^N&(j^C))+k[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=C+(N^j&(R^N))+k[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^N&(C^R))+k[6]+3225465664&4294967295,j=C+(I<<9&4294967295|I>>>23),I=N+(C^R&(j^C))+k[11]+643717713&4294967295,N=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(N^j))+k[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=C+(N^j&(R^N))+k[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^N&(C^R))+k[10]+38016083&4294967295,j=C+(I<<9&4294967295|I>>>23),I=N+(C^R&(j^C))+k[15]+3634488961&4294967295,N=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(N^j))+k[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=C+(N^j&(R^N))+k[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^N&(C^R))+k[14]+3275163606&4294967295,j=C+(I<<9&4294967295|I>>>23),I=N+(C^R&(j^C))+k[3]+4107603335&4294967295,N=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(N^j))+k[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=C+(N^j&(R^N))+k[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^N&(C^R))+k[2]+4243563512&4294967295,j=C+(I<<9&4294967295|I>>>23),I=N+(C^R&(j^C))+k[7]+1735328473&4294967295,N=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(N^j))+k[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=C+(R^N^j)+k[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^N)+k[8]+2272392833&4294967295,j=C+(I<<11&4294967295|I>>>21),I=N+(j^C^R)+k[11]+1839030562&4294967295,N=j+(I<<16&4294967295|I>>>16),I=R+(N^j^C)+k[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=C+(R^N^j)+k[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^N)+k[4]+1272893353&4294967295,j=C+(I<<11&4294967295|I>>>21),I=N+(j^C^R)+k[7]+4139469664&4294967295,N=j+(I<<16&4294967295|I>>>16),I=R+(N^j^C)+k[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=C+(R^N^j)+k[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^N)+k[0]+3936430074&4294967295,j=C+(I<<11&4294967295|I>>>21),I=N+(j^C^R)+k[3]+3572445317&4294967295,N=j+(I<<16&4294967295|I>>>16),I=R+(N^j^C)+k[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=C+(R^N^j)+k[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^N)+k[12]+3873151461&4294967295,j=C+(I<<11&4294967295|I>>>21),I=N+(j^C^R)+k[15]+530742520&4294967295,N=j+(I<<16&4294967295|I>>>16),I=R+(N^j^C)+k[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=C+(N^(R|~j))+k[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~N))+k[7]+1126891415&4294967295,j=C+(I<<10&4294967295|I>>>22),I=N+(C^(j|~R))+k[14]+2878612391&4294967295,N=j+(I<<15&4294967295|I>>>17),I=R+(j^(N|~C))+k[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=C+(N^(R|~j))+k[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~N))+k[3]+2399980690&4294967295,j=C+(I<<10&4294967295|I>>>22),I=N+(C^(j|~R))+k[10]+4293915773&4294967295,N=j+(I<<15&4294967295|I>>>17),I=R+(j^(N|~C))+k[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=C+(N^(R|~j))+k[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~N))+k[15]+4264355552&4294967295,j=C+(I<<10&4294967295|I>>>22),I=N+(C^(j|~R))+k[6]+2734768916&4294967295,N=j+(I<<15&4294967295|I>>>17),I=R+(j^(N|~C))+k[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=C+(N^(R|~j))+k[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~N))+k[11]+3174756917&4294967295,j=C+(I<<10&4294967295|I>>>22),I=N+(C^(j|~R))+k[2]+718787259&4294967295,N=j+(I<<15&4294967295|I>>>17),I=R+(j^(N|~C))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var R=C-this.blockSize,k=this.B,N=this.h,j=0;j<C;){if(N==0)for(;j<=R;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<C;)if(k[N++]=D.charCodeAt(j++),N==this.blockSize){o(this,k),N=0;break}}else for(;j<C;)if(k[N++]=D[j++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var R=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=R&255,R/=256;for(this.u(D),D=Array(16),C=R=0;4>C;++C)for(var k=0;32>k;k+=8)D[R++]=this.g[C]>>>k&255;return D};function u(D,C){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=C(D)}function f(D,C){this.h=C;for(var R=[],k=!0,N=D.length-1;0<=N;N--){var j=D[N]|0;k&&j==C||(R[N]=j,k=!1)}this.g=R}var m={};function y(D){return-128<=D&&128>D?u(D,function(C){return new f([C|0],0>C?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return L(g(-D));for(var C=[],R=1,k=0;D>=R;k++)C[k]=D/R|0,R*=4294967296;return new f(C,0)}function v(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return L(v(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),k=T,N=0;N<D.length;N+=8){var j=Math.min(8,D.length-N),I=parseInt(D.substring(N,N+j),C);8>j?(j=g(Math.pow(C,j)),k=k.j(j).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var T=y(0),b=y(1),x=y(16777216);e=f.prototype,e.m=function(){if(U(this))return-L(this).m();for(var D=0,C=1,R=0;R<this.g.length;R++){var k=this.i(R);D+=(0<=k?k:4294967296+k)*C,C*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(U(this))return"-"+L(this).toString(D);for(var C=g(Math.pow(D,6)),R=this,k="";;){var N=it(R,C).g;R=q(R,N.j(C));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=N,V(R))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function U(D){return D.h==-1}e.l=function(D){return D=q(this,D),U(D)?-1:V(D)?0:1};function L(D){for(var C=D.g.length,R=[],k=0;k<C;k++)R[k]=~D.g[k];return new f(R,~D.h).add(b)}e.abs=function(){return U(this)?L(this):this},e.add=function(D){for(var C=Math.max(this.g.length,D.g.length),R=[],k=0,N=0;N<=C;N++){var j=k+(this.i(N)&65535)+(D.i(N)&65535),I=(j>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=I>>>16,j&=65535,I&=65535,R[N]=I<<16|j}return new f(R,R[R.length-1]&-2147483648?-1:0)};function q(D,C){return D.add(L(C))}e.j=function(D){if(V(this)||V(D))return T;if(U(this))return U(D)?L(this).j(L(D)):L(L(this).j(D));if(U(D))return L(this.j(L(D)));if(0>this.l(x)&&0>D.l(x))return g(this.m()*D.m());for(var C=this.g.length+D.g.length,R=[],k=0;k<2*C;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<D.g.length;N++){var j=this.i(k)>>>16,I=this.i(k)&65535,Rt=D.i(N)>>>16,It=D.i(N)&65535;R[2*k+2*N]+=I*It,$(R,2*k+2*N),R[2*k+2*N+1]+=j*It,$(R,2*k+2*N+1),R[2*k+2*N+1]+=I*Rt,$(R,2*k+2*N+1),R[2*k+2*N+2]+=j*Rt,$(R,2*k+2*N+2)}for(k=0;k<C;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=C;k<2*C;k++)R[k]=0;return new f(R,0)};function $(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function K(D,C){this.g=D,this.h=C}function it(D,C){if(V(C))throw Error("division by zero");if(V(D))return new K(T,T);if(U(D))return C=it(L(D),C),new K(L(C.g),L(C.h));if(U(C))return C=it(D,L(C)),new K(L(C.g),C.h);if(30<D.g.length){if(U(D)||U(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,k=C;0>=k.l(D);)R=W(R),k=W(k);var N=F(R,1),j=F(k,1);for(k=F(k,2),R=F(R,2);!V(k);){var I=j.add(k);0>=I.l(D)&&(N=N.add(R),j=I),k=F(k,1),R=F(R,1)}return C=q(D,N.j(C)),new K(N,C)}for(N=T;0<=D.l(C);){for(R=Math.max(1,Math.floor(D.m()/C.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=g(R),I=j.j(C);U(I)||0<I.l(D);)R-=k,j=g(R),I=j.j(C);V(j)&&(j=b),N=N.add(j),D=q(D,I)}return new K(N,D)}e.A=function(D){return it(this,D).h},e.and=function(D){for(var C=Math.max(this.g.length,D.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)&D.i(k);return new f(R,this.h&D.h)},e.or=function(D){for(var C=Math.max(this.g.length,D.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)|D.i(k);return new f(R,this.h|D.h)},e.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)^D.i(k);return new f(R,this.h^D.h)};function W(D){for(var C=D.g.length+1,R=[],k=0;k<C;k++)R[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(R,D.h)}function F(D,C){var R=C>>5;C%=32;for(var k=D.g.length-R,N=[],j=0;j<k;j++)N[j]=0<C?D.i(j+R)>>>C|D.i(j+R+1)<<32-C:D.i(j+R);return new f(N,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ov=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Zs=f}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lv,kl,kv,nh,W1,jv,Pv,Uv;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,p){if(p)t:{var _=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break t;_=_[z]}c=c[c.length-1],w=_[c],p=p(w),p!=w&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,w=!1,z={next:function(){if(!w&&_<c.length){var Z=_++;return{value:p(Z,c[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,_){return c.call.apply(c.bind,arguments)}function T(c,p,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function b(c,p,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function x(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function V(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,z,Z){for(var ft=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ft[qt-2]=arguments[qt];return p.prototype[z].apply(w,ft)}}function U(c){const p=c.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=c[w];return _}return[]}function L(c,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(y(w)){const z=c.length||0,Z=w.length||0;c.length=z+Z;for(let ft=0;ft<Z;ft++)c[z+ft]=w[ft]}else c.push(w)}}class q{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function $(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var W=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function F(c,p,_){for(const w in c)p.call(_,c[w],w,c)}function D(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function C(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,p){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let Z=0;Z<R.length;Z++)_=R[Z],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function N(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Ct;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Rt{constructor(){this.h=this.g=null}add(p,_){const w=It.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var It=new q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,mt=!1,Ct=new Rt,O=()=>{const c=m.Promise.resolve(void 0);ct=()=>{c.then(et)}};var et=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){j(_)}var p=It;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}mt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function lt(c,p){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(W){t:{try{it(p.nodeName);var z=!0;break t}catch{}z=!1}z||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:dt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&lt.aa.h.call(this)}}V(lt,at);var dt={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function oe(c,p,_,w,z){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=z,this.key=++Mt,this.da=this.fa=!1}function Ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c){this.src=c,this.g={},this.h=0}De.prototype.add=function(c,p,_,w,z){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ft=Be(c,p,w,z);return-1<ft?(p=c[ft],_||(p.fa=!1)):(p=new oe(p,this.src,Z,!!w,z),p.fa=_,c.push(p)),p};function sn(c,p){var _=p.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,p,void 0),Z;(Z=0<=z)&&Array.prototype.splice.call(w,z,1),Z&&(Ue(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Be(c,p,_,w){for(var z=0;z<c.length;++z){var Z=c[z];if(!Z.da&&Z.listener==p&&Z.capture==!!_&&Z.ha==w)return z}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),Sn={};function Ke(c,p,_,w,z){if(Array.isArray(p)){for(var Z=0;Z<p.length;Z++)Ke(c,p[Z],_,w,z);return null}return _=Tu(_),c&&c[Et]?c.K(p,_,g(w)?!!w.capture:!1,z):fe(c,p,_,!1,w,z)}function fe(c,p,_,w,z,Z){if(!p)throw Error("Invalid event type");var ft=g(z)?!!z.capture:!!z,qt=ta(c);if(qt||(c[Ye]=qt=new De(c)),_=qt.add(p,_,w,ft,Z),_.proxy)return _;if(w=Ni(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)pt||(z=ft),z===void 0&&(z=!1),c.addEventListener(p.toString(),w,z);else if(c.attachEvent)c.attachEvent(lr(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ni(){function c(_){return p.call(c.src,c.listener,_)}const p=of;return c}function Oi(c,p,_,w,z){if(Array.isArray(p))for(var Z=0;Z<p.length;Z++)Oi(c,p[Z],_,w,z);else w=g(w)?!!w.capture:!!w,_=Tu(_),c&&c[Et]?(c=c.i,p=String(p).toString(),p in c.g&&(Z=c.g[p],_=Be(Z,_,w,z),-1<_&&(Ue(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[p],c.h--)))):c&&(c=ta(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Be(p,_,w,z)),(_=-1<c?p[c]:null)&&Jn(_))}function Jn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Et])sn(p.i,c);else{var _=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(_,w,c.capture):p.detachEvent?p.detachEvent(lr(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=ta(p))?(sn(_,c),_.h==0&&(_.src=null,p[Ye]=null)):Ue(c)}}}function lr(c){return c in Sn?Sn[c]:Sn[c]="on"+c}function of(c,p){if(c.da)c=!0;else{p=new lt(p,this);var _=c.listener,w=c.ha||c.src;c.fa&&Jn(c),c=_.call(w,p)}return c}function ta(c){return c=c[Ye],c instanceof De?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(p){return c.handleEvent(p)}),c[To])}function pe(){rt.call(this),this.i=new De(this),this.M=this,this.F=null}V(pe,rt),pe.prototype[Et]=!0,pe.prototype.removeEventListener=function(c,p,_,w){Oi(this,c,p,_,w)};function Zt(c,p){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new at(p,c);else if(p instanceof at)p.target=p.target||c;else{var z=p;p=new at(w,c),k(p,z)}if(z=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ft=p.g=_[Z];z=wn(ft,w,!0,p)&&z}if(ft=p.g=c,z=wn(ft,w,!0,p)&&z,z=wn(ft,w,!1,p)&&z,_)for(Z=0;Z<_.length;Z++)ft=p.g=_[Z],z=wn(ft,w,!1,p)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],w=0;w<_.length;w++)Ue(_[w]);delete c.g[p],c.h--}}this.F=null},pe.prototype.K=function(c,p,_,w){return this.i.add(String(c),p,!1,_,w)},pe.prototype.L=function(c,p,_,w){return this.i.add(String(c),p,!0,_,w)};function wn(c,p,_,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Z=0;Z<p.length;++Z){var ft=p[Z];if(ft&&!ft.da&&ft.capture==_){var qt=ft.listener,Ve=ft.ha||ft.src;ft.fa&&sn(c.i,ft),z=qt.call(Ve,w)!==!1&&z}}return z&&!w.defaultPrevented}function rn(c,p,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function bu(c){c.g=rn(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class lf extends rt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(c){rt.call(this),this.h=c,this.g={}}V(ur,rt);var cr=[];function hr(c){F(c.g,function(p,_){this.g.hasOwnProperty(_)&&Jn(p)},c),c.g={}}ur.prototype.N=function(){ur.aa.N.call(this),hr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,ea=m.JSON.parse,fr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function bo(){}bo.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function wo(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){at.call(this,"d")}V(ki,at);function Ao(){at.call(this,"c")}V(Ao,at);var li={},Co=null;function ds(){return Co=Co||new pe}li.La="serverreachability";function na(c){at.call(this,li.La,c)}V(na,at);function ms(c){const p=ds();Zt(p,new na(p))}li.STAT_EVENT="statevent";function Su(c,p){at.call(this,li.STAT_EVENT,c),this.stat=p}V(Su,at);function ue(c){const p=ds();Zt(p,new Su(p,c))}li.Ma="timingevent";function Me(c,p){at.call(this,li.Ma,c),this.size=p}V(Me,at);function we(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Ro(c,p,_,w,z,Z){c.info(function(){if(c.g)if(Z)for(var ft="",qt=Z.split("&"),Ve=0;Ve<qt.length;Ve++){var Ht=qt[Ve].split("=");if(1<Ht.length){var qe=Ht[0];Ht=Ht[1];var Ne=qe.split("_");ft=2<=Ne.length&&Ne[1]=="type"?ft+(qe+"="+Ht+"&"):ft+(qe+"=redacted&")}}else ft=null;else ft=Z;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+p+`
`+_+`
`+ft})}function uf(c,p,_,w,z,Z,ft){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+p+`
`+_+`
`+Z+" "+ft})}function gs(c,p,_,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+dr(c,_)+(w?" "+w:"")})}function wu(c,p){c.info(function(){return"TIMEOUT: "+p})}kn.prototype.info=function(){};function dr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var Z=z[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ft=1;ft<z.length;ft++)z[ft]=""}}}}return Wn(_)}catch{return p}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}V(ci,bo),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function hn(c,p,_,w){this.j=c,this.i=p,this.l=_,this.R=w||1,this.U=new ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var xo={},ia={};function ti(c,p,_){c.L=1,c.v=_r(An(p)),c.m=_,c.P=!0,Pi(c,null)}function Pi(c,p){c.F=Date.now(),mr(c),c.A=An(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Oo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ve,c.g=Bu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new lf(b(c.Y,c,c.g),c.O)),p=c.U,_=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(cr[0]=z.toString()),z=cr);for(var Z=0;Z<z.length;Z++){var ft=Ke(_,z[Z],w||p.handleEvent,!1,p.h||p);if(!ft)break;p.g[ft.key]=ft}p=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ms(),Ro(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Bn(c)==3?p.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)t:{const Ne=Bn(this.g);var p=this.g.Ba();const Qi=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Ne!=4||p==7||(p==8||0>=Qi?ms(3):ms(2)),ys(this);var _=this.g.Z();this.X=_;e:if(Au(this)){var w=Vu(this.g);c="";var z=w.length,Z=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),hi(this);var ft="";break e}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(w[p],{stream:!(Z&&p==z-1)});w.length=0,this.h.g+=c,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=_==200,uf(this.i,this.u,this.A,this.l,this.R,Ne,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Ve=this.g;if((qt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(qt)){var Ht=qt;break e}}Ht=null}if(_=Ht)gs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gr(this,_);else{this.o=!1,this.s=3,ue(12),$e(this),hi(this);break t}}if(this.P){_=!0;let Xe;for(;!this.J&&this.C<ft.length;)if(Xe=Cu(this,ft),Xe==ia){Ne==4&&(this.s=4,ue(14),_=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==xo){this.s=4,ue(15),gs(this.i,this.l,ft,"[Invalid Chunk]"),_=!1;break}else gs(this.i,this.l,Xe,null),gr(this,Xe);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||ft.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)gs(this.i,this.l,ft,"[Invalid Chunked Response]"),$e(this),hi(this);else if(0<ft.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Cr(qe),qe.M=!0,ue(11))}}else gs(this.i,this.l,ft,null),gr(this,ft);Ne==4&&$e(this),this.o&&!this.J&&(Ne==4?ju(this.j,this):(this.o=!1,mr(this)))}else mf(this.g),_==400&&0<ft.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),$e(this),hi(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cu(c,p){var _=c.C,w=p.indexOf(`
`,_);return w==-1?ia:(_=Number(p.substring(_,w)),isNaN(_)?xo:(w+=1,w+_>p.length?ia:(p=p.slice(w,w+_),c.C=w+_,p)))}hn.prototype.cancel=function(){this.J=!0,$e(this)};function mr(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=we(b(c.ba,c),p)}function ys(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wu(this.i,this.A),this.L!=2&&(ms(),ue(17)),$e(this),this.s=2,hi(this)):Ru(this,this.S-c)};function hi(c){c.j.G==0||c.J||ju(c.j,c)}function $e(c){ys(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,hr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function gr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Io(_.h,c))){if(!c.K&&Io(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ga(_),da(_);else break t;Uo(_),ue(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=we(b(_.Za,_),6e3));if(1>=ra(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fi(_,11)}else if((c.K||_.g==c)&&ga(_),!$(p))for(z=_.Da.g.parse(p),p=0;p<z.length;p++){let Ht=z[p];if(_.T=Ht[0],Ht=Ht[1],_.G==2)if(Ht[0]=="c"){_.K=Ht[1],_.ia=Ht[2];const qe=Ht[3];qe!=null&&(_.la=qe,_.j.info("VER="+_.la));const Ne=Ht[4];Ne!=null&&(_.Aa=Ne,_.j.info("SVER="+_.Aa));const Qi=Ht[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(w=1.5*Qi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Xe=c.g;if(Xe){const _i=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Z=w.h;Z.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(aa(Z,Z.h),Z.h=null))}if(w.D){const zo=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(w.ya=zo,te(w.I,w.D,zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ft=c;if(w.qa=Uu(w,w.J?w.ia:null,w.W),ft.K){fn(w.h,ft);var qt=ft,Ve=w.L;Ve&&(qt.I=Ve),qt.B&&(ys(qt),mr(qt)),w.g=ft}else Lu(w);0<_.i.length&&ma(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Fi(_,7);else _.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Fi(_,7):jo(_):Ht[0]!="noop"&&_.l&&_.l.ta(Ht),_.v=0)}}ms(4)}catch{}}var xu=class{constructor(c,p){this.g=c,this.map=p}};function Ui(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function Io(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function aa(c,p){c.g?c.g.add(p):c.h=p}function fn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ui.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return U(c.i)}function cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,w=0;w<_;w++)p.push(c[w]);return p}p=[],_=0;for(w in c)p[_++]=c[w];return p}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const w in c)p[_++]=w;return p}}}function Mo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=oa(c),w=cf(c),z=w.length,Z=0;Z<z;Z++)p.call(void 0,w[Z],_&&_[Z],c)}var pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),z=null;if(0<=w){var Z=c[_].substring(0,w);z=c[_].substring(w+1)}else Z=c[_];p(Z,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ae(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ae){this.h=c.h,yr(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.s),this.l=c.l;var p=c.i,_=new zi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Bi(this,_),this.m=c.m}else c&&(p=String(c).match(pr))?(this.h=!1,yr(this,p[1]||"",!0),this.o=jn(p[2]||""),this.g=jn(p[3]||"",!0),_s(this,p[4]),this.l=jn(p[5]||"",!0),Bi(this,p[6]||"",!0),this.m=jn(p[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}Ae.prototype.toString=function(){var c=[],p=this.j;p&&c.push(vr(p,Vo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vr(p,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vr(_,_.charAt(0)=="/"?ff:No,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vr(_,la)),c.join("")};function An(c){return new Ae(c)}function yr(c,p,_){c.j=_?jn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Bi(c,p,_){p instanceof zi?(c.i=p,Du(c.i,c.h)):(_||(p=vr(p,df)),c.i=new zi(p,c.h))}function te(c,p,_){c.i.set(p,_)}function _r(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vr(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,No=/[#\?:]/g,ff=/[#\?]/g,df=/[#\?@]/g,la=/#/g;function zi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}e=zi.prototype,e.add=function(c,p){Pn(this),this.i=null,c=fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function qi(c,p){Pn(c),p=fi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Hi(c,p){return Pn(c),p=fi(c,p),c.g.has(p)}e.forEach=function(c,p){Pn(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(p,z,w,this)},this)},this)},e.na=function(){Pn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const z=c[w];for(let Z=0;Z<z.length;Z++)_.push(p[w])}return _},e.V=function(c){Pn(this);let p=[];if(typeof c=="string")Hi(this,c)&&(p=p.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},e.set=function(c,p){return Pn(this),this.i=null,c=fi(this,c),Hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},e.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Oo(c,p,_){qi(c,p),0<_.length&&(c.i=null,c.g.set(fi(c,p),U(_)),c.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const Z=encodeURIComponent(String(w)),ft=this.V(w);for(w=0;w<ft.length;w++){var z=Z;ft[w]!==""&&(z+="="+encodeURIComponent(String(ft[w]))),c.push(z)}}return this.i=c.join("&")};function fi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Du(c,p){p&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(qi(this,w),Oo(this,z,_))},c)),c.j=p}function Er(c,p){const _=new kn;if(m.Image){const w=new Image;w.onload=x(Un,_,"TestLoadImage: loaded",!0,p,w),w.onerror=x(Un,_,"TestLoadImage: error",!1,p,w),w.onabort=x(Un,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=x(Un,_,"TestLoadImage: timeout",!1,p,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function ei(c,p){const _=new kn,w=new AbortController,z=setTimeout(()=>{w.abort(),Un(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(Z=>{clearTimeout(z),Z.ok?Un(_,"TestPingServer: ok",!0,p):Un(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Un(_,"TestPingServer: error",!1,p)})}function Un(c,p,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function Tr(){this.g=new fr}function di(c,p,_){const w=_||"";try{Mo(c,function(z,Z){let ft=z;g(z)&&(ft=Wn(z)),p.push(w+Z+"="+encodeURIComponent(ft))})}catch(z){throw p.push(w+"type="+encodeURIComponent("_badmap")),z}}function vs(c){this.l=c.Ub||null,this.j=c.eb||!1}V(vs,bo),vs.prototype.g=function(){return new Gi(this.l,this.j)},vs.prototype.i=function(c){return function(){return c}}({});function Gi(c,p){pe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Gi,pe),e=Gi.prototype,e.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,gi(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?mi(this):gi(this),this.readyState==3&&Lo(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},e.Qa=function(c){this.g&&(this.response=c,mi(this))},e.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}e.setRequestHeader=function(c,p){this.u.append(c,p)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ko(c){let p="";return F(c,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function ze(c,p,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):te(c,p,_))}function $t(c){pe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V($t,pe);var ua=/^https?$/i,br=["POST","PUT"];e=$t.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?So(this.o):So(ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Z){Mu(this,Z);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())_.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(br,p,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ft]of _)this.g.setRequestHeader(Z,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sr(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Mu(this,Z)}};function Mu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ca(c),pi(c)}function ca(c){c.A||(c.A=!0,Zt(c,"complete"),Zt(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Zt(this,"complete"),Zt(this,"abort"),pi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),$t.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},e.bb=function(){ha(this)};function ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)rn(c.Ea,0,c);else if(Zt(c,"readystatechange"),Bn(c)==4){c.h=!1;try{const ft=c.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var w;if(w=ft===0){var z=String(c.D).match(pr)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!ua.test(z?z.toLowerCase():"")}_=w}if(_)Zt(c,"complete"),Zt(c,"success");else{c.m=6;try{var Z=2<Bn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",ca(c)}}finally{pi(c)}}}}function pi(c,p){if(c.g){Sr(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Zt(c,"ready");try{_.onreadystatechange=w}catch{}}}function Sr(c){c.I&&(m.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ea(p)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(c){const p={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if($(c[w]))continue;var _=N(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=p[z]||[];p[z]=Z,Z.push(_)}D(p,function(w){return w.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function fa(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,c),this.cb=wr("retryDelaySeedMs",1e4,c),this.Wa=wr("forwardChannelMaxRetries",2,c),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(c&&c.concurrentRequestLimit),this.Da=new Tr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=fa.prototype,e.la=8,e.G=1,e.connect=function(c,p,_,w){ue(0),this.W=c,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Uu(this,null,this.W),ma(this)};function jo(c){if(Nu(c),c.G==3){var p=c.U++,_=An(c.I);if(te(_,"SID",c.K),te(_,"RID",p),te(_,"TYPE","terminate"),Ar(c,_),p=new hn(c,c.j,p),p.L=2,p.v=_r(An(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Bu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),mr(p)}Pu(c)}function da(c){c.g&&(Cr(c),c.g.cancel(),c.g=null)}function Nu(c){da(c),c.u&&(m.clearTimeout(c.u),c.u=null),ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ma(c){if(!sa(c.h)&&!c.s){c.s=!0;var p=c.Ga;ct||O(),mt||(ct(),mt=!0),Ct.add(p,c),c.B=0}}function gf(c,p){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=we(b(c.Ga,c,p),Bo(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new hn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=C(Z),k(Z,this.S)):Z=this.S),this.m!==null||this.O||(z.H=Z,Z=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Ou(this,z,p),_=An(this.I),te(_,"RID",c),te(_,"CVER",22),this.D&&te(_,"X-HTTP-Session-Id",this.D),Ar(this,_),Z&&(this.O?p="headers="+encodeURIComponent(String(ko(Z)))+"&"+p:this.m&&ze(_,this.m,Z)),aa(this.h,z),this.Ua&&te(_,"TYPE","init"),this.P?(te(_,"$req",p),te(_,"SID","null"),z.T=!0,ti(z,_,null)):ti(z,_,p),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||sa(this.h)||Po(this))};function Po(c,p){var _;p?_=p.l:_=c.U++;const w=An(c.I);te(w,"SID",c.K),te(w,"RID",_),te(w,"AID",c.T),Ar(c,w),c.m&&c.o&&ze(w,c.m,c.o),_=new hn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,_),ti(_,w,p)}function Ar(c,p){c.H&&F(c.H,function(_,w){te(p,w,_)}),c.l&&Mo({},function(_,w){te(p,w,_)})}function Ou(c,p,_){_=Math.min(c.i.length,_);var w=c.l?b(c.l.Na,c.l,c):null;t:{var z=c.i;let Z=-1;for(;;){const ft=["count="+_];Z==-1?0<_?(Z=z[0].g,ft.push("ofs="+Z)):Z=0:ft.push("ofs="+Z);let qt=!0;for(let Ve=0;Ve<_;Ve++){let Ht=z[Ve].g;const qe=z[Ve].map;if(Ht-=Z,0>Ht)Z=Math.max(0,z[Ve].g-100),qt=!1;else try{di(qe,ft,"req"+Ht+"_")}catch{w&&w(qe)}}if(qt){w=ft.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,w}function Lu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ct||O(),mt||(ct(),mt=!0),Ct.add(p,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=we(b(c.Fa,c),Bo(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=we(b(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),da(this),ku(this))};function Cr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=An(c.qa);te(p,"RID","rpc"),te(p,"SID",c.K),te(p,"AID",c.T),te(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(p,"TO",c.ja),te(p,"TYPE","xmlhttp"),Ar(c,p),c.m&&c.o&&ze(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_r(An(p)),_.m=null,_.P=!0,Pi(_,c)}e.Za=function(){this.C!=null&&(this.C=null,da(this),Uo(this),ue(19))};function ga(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,p){var _=null;if(c.g==p){ga(c),Cr(c),c.g=null;var w=2}else if(Io(c.h,p))_=p.D,fn(c.h,p),w=1;else return;if(c.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;w=ds(),Zt(w,new Me(w,_)),ma(c)}else Lu(c);else if(z=p.s,z==3||z==0&&0<p.X||!(w==1&&gf(c,p)||w==2&&Uo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),z){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function Bo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Fi(c,p){if(c.j.info("Error code "+p),p==2){var _=b(c.fb,c),w=c.Xa;const z=!w;w=new Ae(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||yr(w,"https"),_r(w),z?Er(w.toString(),_):ei(w.toString(),_)}else ue(2);c.G=0,c.l&&c.l.sa(p),Pu(c),Nu(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Pu(c){if(c.G=0,c.ka=[],c.l){const p=Do(c.h);(p.length!=0||c.i.length!=0)&&(L(c.ka,p),L(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function Uu(c,p,_){var w=_ instanceof Ae?An(_):new Ae(_);if(w.g!="")p&&(w.g=p+"."+w.g),_s(w,w.s);else{var z=m.location;w=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Z=new Ae(null);w&&yr(Z,w),p&&(Z.g=p),z&&_s(Z,z),_&&(Z.l=_),w=Z}return _=c.D,p=c.ya,_&&p&&te(w,_,p),te(w,"VER",c.la),Ar(c,w),w}function Bu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new $t(new vs({eb:_})):new $t(c.pa),p.Ha(c.J),p}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}e=zu.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function pa(){}pa.prototype.g=function(c,p){return new dn(c,p)};function dn(c,p){pe.call(this),this.g=new fa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!$(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!$(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new yi(this)}V(dn,pe),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){jo(this.g)},dn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wn(c),c=_);p.i.push(new xu(p.Ya++,c)),p.G==3&&ma(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,dn.aa.N.call(this)};function qu(c){ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}V(qu,ki);function Hu(){Ao.call(this),this.status=1}V(Hu,Ao);function yi(c){this.g=c}V(yi,zu),yi.prototype.ua=function(){Zt(this.g,"a")},yi.prototype.ta=function(c){Zt(this.g,new qu(c))},yi.prototype.sa=function(c){Zt(this.g,new Hu)},yi.prototype.ra=function(){Zt(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Uv=function(){return new pa},Pv=function(){return ds()},jv=li,W1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,nh=ps,ji.COMPLETE="complete",kv=ji,wo.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",pe.prototype.listen=pe.prototype.K,kl=wo,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,Lv=$t}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",Iy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new xv("@firebase/firestore");function $a(){return $r.logLevel}function gt(e,...t){if($r.logLevel<=Qt.DEBUG){const i=t.map(Lm);$r.debug(`Firestore (${yo}): ${e}`,...i)}}function hs(e,...t){if($r.logLevel<=Qt.ERROR){const i=t.map(Lm);$r.error(`Firestore (${yo}): ${e}`,...i)}}function ro(e,...t){if($r.logLevel<=Qt.WARN){const i=t.map(Lm);$r.warn(`Firestore (${yo}): ${e}`,...i)}}function Lm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,Bv(e,r,i)}function Bv(e,t,i){let r=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw hs(r),new Error(r)}function Xt(e,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,e||Bv(t,o,r)}function Dt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends po{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class U8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(un.UNAUTHENTICATED))}shutdown(){}}class B8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class z8{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Js,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Js)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new zv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class q8{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H8{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new q8(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G8{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,b8(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=u=>{u.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,gt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Dy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=F8(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function kt(e,t){return e<t?-1:e>t?1:0}function tm(e,t){let i=0;for(;i<e.length&&i<t.length;){const r=e.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return kt(r,o);{const u=qv(),f=Q8(u.encode(My(e,i)),u.encode(My(t,i)));return f!==0?f:kt(r,o)}}i+=r>65535?2:1}return kt(e.length,t.length)}function My(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Q8(e,t){for(let i=0;i<e.length&&i<t.length;++i)if(e[i]!==t[i])return kt(e[i],t[i]);return kt(e.length,t.length)}function ao(e,t,i){return e.length===t.length&&e.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-62135596800,Ny=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(t){return je.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Ny);return new je(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Vy)throw new vt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Vy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new je(0,0))}static max(){return new xt(new je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class Ci{constructor(t,i,r){i===void 0?i=0:i>t.length&&wt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&wt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Ci.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return kt(t.length,i.length)}static compareSegments(t,i){const r=Ci.isNumericId(t),o=Ci.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class he extends Ci{construct(t,i,r){return new he(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new vt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new he(i)}static emptyPath(){return new he([])}}const Y8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ci{construct(t,i,r){return new en(t,i,r)}static isValidIdentifier(t){return Y8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new en([Oy])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new vt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new vt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new vt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new vt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(he.fromString(t))}static fromName(t){return new Tt(he.fromString(t).popFirst(5))}static empty(){return new Tt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new he(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function K8(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(r===1e9?new je(i+1,0):new je(i,r));return new tr(o,Tt.empty(),t)}function $8(e){return new tr(e.readTime,e.key,au)}class tr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new tr(xt.min(),Tt.empty(),au)}static max(){return new tr(xt.max(),Tt.empty(),au)}}function X8(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=Tt.comparator(e.documentKey,t.documentKey),i!==0?i:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(e){if(e.code!==ut.FAILED_PRECONDITION||e.message!==Z8)throw e;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ot((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof ot?i:ot.resolve(i)}catch(i){return ot.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):ot.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):ot.reject(i)}static resolve(t){return new ot((i,r)=>{i(t)})}static reject(t){return new ot((i,r)=>{r(t)})}static waitFor(t){return new ot((i,r)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&i()},y=>r(y))}),f=!0,u===o&&i()})}static or(t){let i=ot.resolve(!1);for(const r of t)i=i.next(o=>o?ot.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new ot((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;i(t[g]).next(v=>{f[g]=v,++m,m===u&&r(f)},v=>o(v))}})}static doWhile(t,i){return new ot((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function W8(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-1;function zh(e){return e==null}function yh(e){return e===0&&1/e==-1/0}function tT(e){return typeof e=="number"&&Number.isInteger(e)&&!yh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="";function eT(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=Ly(t)),t=nT(e.get(i),t);return Ly(t)}function nT(e,t){let i=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case Gv:i+="";break;default:i+=u}}return i}function Ly(e){return e+Gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function ar(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function Fv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qc(this.root,t,this.comparator,!0)}}class Qc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new tn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(t){return new jy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Pe(this.comparator);return i.data=t,i}}class jy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Ln([])}unionWith(t){let i=new Pe(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Ln(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qv("Invalid base64 string: "+u):u}}(t);return new nn(i)}static fromUint8Array(t){const i=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const iT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(e){if(Xt(!!e,39018),typeof e=="string"){let t=0;const i=iT.exec(e);if(Xt(!!i,46558,{timestamp:e}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:be(e.seconds),nanos:be(e.nanos)}}function be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nr(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="server_timestamp",Kv="__type__",$v="__previous_value__",Xv="__local_write_time__";function jm(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Kv])===null||i===void 0?void 0:i.stringValue)===Yv}function qh(e){const t=e.mapValue.fields[$v];return jm(t)?qh(t):t}function ou(e){const t=er(e.mapValue.fields[Xv].timestampValue);return new je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,i,r,o,u,f,m,y,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=v}}const _h="(default)";class lu{constructor(t,i){this.projectId=t,this.database=i||_h}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__type__",rT="__max__",Yc={mapValue:{}},Jv="__vector__",vh="value";function ir(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jm(e)?4:oT(e)?9007199254740991:aT(e)?10:11:wt(28295,{value:e})}function Mi(e,t){if(e===t)return!0;const i=ir(e);if(i!==ir(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ou(e).isEqual(ou(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=er(o.timestampValue),m=er(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return nr(o.bytesValue).isEqual(nr(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return be(o.geoPointValue.latitude)===be(u.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return be(o.integerValue)===be(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=be(o.doubleValue),m=be(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return ao(e.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ky(f)!==ky(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Mi(f[y],m[y])))return!1;return!0}(e,t);default:return wt(52216,{left:e})}}function uu(e,t){return(e.values||[]).find(i=>Mi(i,t))!==void 0}function oo(e,t){if(e===t)return 0;const i=ir(e),r=ir(t);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=be(u.integerValue||u.doubleValue),y=be(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return Py(e.timestampValue,t.timestampValue);case 4:return Py(ou(e),ou(t));case 5:return tm(e.stringValue,t.stringValue);case 6:return function(u,f){const m=nr(u),y=nr(f);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const v=kt(m[g],y[g]);if(v!==0)return v}return kt(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=kt(be(u.latitude),be(f.latitude));return m!==0?m:kt(be(u.longitude),be(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Uy(e.arrayValue,t.arrayValue);case 10:return function(u,f){var m,y,g,v;const T=u.fields||{},b=f.fields||{},x=(m=T[vh])===null||m===void 0?void 0:m.arrayValue,V=(y=b[vh])===null||y===void 0?void 0:y.arrayValue,U=kt(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:Uy(x,V)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},v=Object.keys(g);y.sort(),v.sort();for(let T=0;T<y.length&&T<v.length;++T){const b=tm(y[T],v[T]);if(b!==0)return b;const x=oo(m[y[T]],g[v[T]]);if(x!==0)return x}return kt(y.length,v.length)}(e.mapValue,t.mapValue);default:throw wt(23264,{Pe:i})}}function Py(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const i=er(e),r=er(t),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function Uy(e,t){const i=e.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=oo(i[o],r[o]);if(u)return u}return kt(i.length,r.length)}function lo(e){return em(e)}function em(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return nr(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return Tt.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=em(u);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${em(i.fields[f])}`;return o+"}"}(e.mapValue):wt(61005,{value:e})}function ih(e){switch(ir(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qh(e);return t?16+ih(t):16;case 5:return 2*e.stringValue.length;case 6:return nr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+ih(u),0)}(e.arrayValue);case 10:case 11:return function(r){let o=0;return ar(r.fields,(u,f)=>{o+=u.length+ih(f)}),o}(e.mapValue);default:throw wt(13486,{value:e})}}function nm(e){return!!e&&"integerValue"in e}function Pm(e){return!!e&&"arrayValue"in e}function By(e){return!!e&&"nullValue"in e}function zy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sh(e){return!!e&&"mapValue"in e}function aT(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Zv])===null||i===void 0?void 0:i.stringValue)===Jv}function Ql(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ar(e.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Ql(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ql(e.arrayValue.values[i]);return t}return Object.assign({},e)}function oT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!sh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(i)}setAll(t){let i=en.emptyPath(),r={},o=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=m.popLast()}f?r[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());sh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){ar(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new En(Ql(this.value))}}function Wv(e){const t=[];return ar(e.fields,(i,r)=>{const o=new en([i]);if(sh(r)){const u=Wv(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,i,r,o,u,f,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new cn(t,0,xt.min(),xt.min(),xt.min(),En.empty(),0)}static newFoundDocument(t,i,r,o){return new cn(t,1,i,xt.min(),r,o,0)}static newNoDocument(t,i){return new cn(t,2,i,xt.min(),xt.min(),En.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,xt.min(),xt.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,i){this.position=t,this.inclusive=i}}function qy(e,t,i){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?r=Tt.comparator(Tt.fromName(f.referenceValue),i.key):r=oo(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Mi(e.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i="asc"){this.field=t,this.dir=i}}function lT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{}class ke extends t3{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new cT(t,i,r):i==="array-contains"?new dT(t,r):i==="in"?new mT(t,r):i==="not-in"?new gT(t,r):i==="array-contains-any"?new pT(t,r):new ke(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new hT(t,r):new fT(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(oo(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(oo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends t3{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new Vi(t,i)}matches(t){return e3(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function e3(e){return e.op==="and"}function n3(e){return uT(e)&&e3(e)}function uT(e){for(const t of e.filters)if(t instanceof Vi)return!1;return!0}function im(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+lo(e.value);if(n3(e))return e.filters.map(t=>im(t)).join(",");{const t=e.filters.map(i=>im(i)).join(",");return`${e.op}(${t})`}}function i3(e,t){return e instanceof ke?function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Mi(r.value,o.value)}(e,t):e instanceof Vi?function(r,o){return o instanceof Vi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,m)=>u&&i3(f,o.filters[m]),!0):!1}(e,t):void wt(19439)}function s3(e){return e instanceof ke?function(i){return`${i.field.canonicalString()} ${i.op} ${lo(i.value)}`}(e):e instanceof Vi?function(i){return i.op.toString()+" {"+i.getFilters().map(s3).join(" ,")+"}"}(e):"Filter"}class cT extends ke{constructor(t,i,r){super(t,i,r),this.key=Tt.fromName(r.referenceValue)}matches(t){const i=Tt.comparator(t.key,this.key);return this.matchesComparison(i)}}class hT extends ke{constructor(t,i){super(t,"in",i),this.keys=r3("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class fT extends ke{constructor(t,i){super(t,"not-in",i),this.keys=r3("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function r3(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>Tt.fromName(r.referenceValue))}class dT extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&uu(i.arrayValue,this.value)}}class mT extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&uu(this.value.arrayValue,i)}}class gT extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!uu(this.value.arrayValue,i)}}class pT extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,i=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function Gy(e,t=null,i=[],r=[],o=null,u=null,f=null){return new yT(e,t,i,r,o,u,f)}function Um(e){const t=Dt(e);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>im(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),zh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>lo(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>lo(r)).join(",")),t.Ie=i}return t.Ie}function Bm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!lT(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!i3(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hy(e.startAt,t.startAt)&&Hy(e.endAt,t.endAt)}function sm(e){return Tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,i=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _T(e,t,i,r,o,u,f,m){return new Hh(e,t,i,r,o,u,f,m)}function Gh(e){return new Hh(e)}function Fy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vT(e){return e.collectionGroup!==null}function Yl(e){const t=Dt(e);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe(en.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Th(u,r))}),i.has(en.keyField().canonicalString())||t.Ee.push(new Th(en.keyField(),r))}return t.Ee}function Ri(e){const t=Dt(e);return t.de||(t.de=ET(t,Yl(e))),t.de}function ET(e,t){if(e.limitType==="F")return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const i=e.endAt?new Eh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Eh(e.startAt.position,e.startAt.inclusive):null;return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}}function rm(e,t,i){return new Hh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Fh(e,t){return Bm(Ri(e),Ri(t))&&e.limitType===t.limitType}function a3(e){return`${Um(Ri(e))}|lt:${e.limitType}`}function Xa(e){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>s3(o)).join(", ")}]`),zh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>lo(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>lo(o)).join(",")),`Target(${r})`}(Ri(e))}; limitType=${e.limitType})`}function Qh(e,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Tt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(e,t)&&function(r,o){for(const u of Yl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(f,m,y){const g=qy(f,m,y);return f.inclusive?g<=0:g<0}(r.startAt,Yl(r),o)||r.endAt&&!function(f,m,y){const g=qy(f,m,y);return f.inclusive?g>=0:g>0}(r.endAt,Yl(r),o))}(e,t)}function TT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function o3(e){return(t,i)=>{let r=!1;for(const o of Yl(e)){const u=bT(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function bT(e,t,i){const r=e.field.isKeyField()?Tt.comparator(t.key,i.key):function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?oo(y,g):wt(42886)}(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ar(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new ge(Tt.comparator);function fs(){return ST}const l3=new ge(Tt.comparator);function jl(...e){let t=l3;for(const i of e)t=t.insert(i.key,i);return t}function u3(e){let t=l3;return e.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Yr(){return Kl()}function c3(){return Kl()}function Kl(){return new Jr(e=>e.toString(),(e,t)=>e.isEqual(t))}const wT=new ge(Tt.comparator),AT=new Pe(Tt.comparator);function Bt(...e){let t=AT;for(const i of e)t=t.add(i);return t}const CT=new Pe(kt);function RT(){return CT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function h3(e){return{integerValue:""+e}}function xT(e,t){return tT(t)?h3(t):zm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function IT(e,t,i){return e instanceof bh?function(o,u){const f={fields:{[Kv]:{stringValue:Yv},[Xv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jm(u)&&(u=qh(u)),u&&(f.fields[$v]=u),{mapValue:f}}(i,t):e instanceof cu?d3(e,t):e instanceof hu?m3(e,t):function(o,u){const f=f3(o,u),m=Qy(f)+Qy(o.Re);return nm(f)&&nm(o.Re)?h3(m):zm(o.serializer,m)}(e,t)}function DT(e,t,i){return e instanceof cu?d3(e,t):e instanceof hu?m3(e,t):i}function f3(e,t){return e instanceof Sh?function(r){return nm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class bh extends Yh{}class cu extends Yh{constructor(t){super(),this.elements=t}}function d3(e,t){const i=g3(t);for(const r of e.elements)i.some(o=>Mi(o,r))||i.push(r);return{arrayValue:{values:i}}}class hu extends Yh{constructor(t){super(),this.elements=t}}function m3(e,t){let i=g3(t);for(const r of e.elements)i=i.filter(o=>!Mi(o,r));return{arrayValue:{values:i}}}class Sh extends Yh{constructor(t,i){super(),this.serializer=t,this.Re=i}}function Qy(e){return be(e.integerValue||e.doubleValue)}function g3(e){return Pm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function MT(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof cu&&o instanceof cu||r instanceof hu&&o instanceof hu?ao(r.elements,o.elements,Mi):r instanceof Sh&&o instanceof Sh?Mi(r.Re,o.Re):r instanceof bh&&o instanceof bh}(e.transform,t.transform)}class VT{constructor(t,i){this.version=t,this.transformResults=i}}class xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Kh{}function p3(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _3(e.key,xi.none()):new yu(e.key,e.data,xi.none());{const i=e.data,r=En.empty();let o=new Pe(en.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new or(e.key,r,new Ln(o.toArray()),xi.none())}}function NT(e,t,i){e instanceof yu?function(o,u,f){const m=o.value.clone(),y=Ky(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,i):e instanceof or?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Ky(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(y3(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,i):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function $l(e,t,i,r){return e instanceof yu?function(u,f,m,y){if(!rh(u.precondition,f))return m;const g=u.value.clone(),v=$y(u.fieldTransforms,y,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(e,t,i,r):e instanceof or?function(u,f,m,y){if(!rh(u.precondition,f))return m;const g=$y(u.fieldTransforms,y,f),v=f.data;return v.setAll(y3(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(e,t,i,r):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,i)}function OT(e,t){let i=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=f3(r.transform,o||null);u!=null&&(i===null&&(i=En.empty()),i.set(r.field,u))}return i||null}function Yy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ao(r,o,(u,f)=>MT(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yu extends Kh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends Kh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function y3(e){const t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}}),t}function Ky(e,t,i){const r=new Map;Xt(e.length===i.length,32656,{Ve:i.length,me:e.length});for(let o=0;o<i.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,DT(f,m,i[o]))}return r}function $y(e,t,i){const r=new Map;for(const o of e){const u=o.transform,f=i.data.field(o.field);r.set(o.field,IT(u,f,t))}return r}class _3 extends Kh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LT extends Kh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&NT(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=$l(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=$l(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=c3();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const y=p3(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Bt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,(i,r)=>Yy(i,r))&&ao(this.baseMutations,t.baseMutations,(i,r)=>Yy(i,r))}}class qm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return wT}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new qm(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Ft;function UT(e){switch(e){case ut.OK:return wt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return wt(15467,{code:e})}}function v3(e){if(e===void 0)return hs("GRPC error has no .code"),ut.UNKNOWN;switch(e){case xe.OK:return ut.OK;case xe.CANCELLED:return ut.CANCELLED;case xe.UNKNOWN:return ut.UNKNOWN;case xe.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case xe.INTERNAL:return ut.INTERNAL;case xe.UNAVAILABLE:return ut.UNAVAILABLE;case xe.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case xe.NOT_FOUND:return ut.NOT_FOUND;case xe.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case xe.ABORTED:return ut.ABORTED;case xe.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case xe.DATA_LOSS:return ut.DATA_LOSS;default:return wt(39323,{code:e})}}(Ft=xe||(xe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Zs([4294967295,4294967295],0);function Xy(e){const t=qv().encode(e),i=new Ov;return i.update(t),new Uint8Array(i.digest())}function Zy(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zs([i,r],0),new Zs([o,u],0)]}class Hm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Zs.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(Zs.fromNumber(r)));return o.compare(BT)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=Xy(t),[r,o]=Zy(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);if(!this.be(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Hm(u,o,i);return r.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const i=Xy(t),[r,o]=Zy(i);for(let u=0;u<this.hashCount;u++){const f=this.we(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,_u.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new $h(xt.min(),o,new ge(kt),fs(),Bt())}}class _u{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new _u(r,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class E3{constructor(t,i){this.targetId=t,this.Ce=i}}class T3{constructor(t,i,r=nn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Jy{constructor(){this.Fe=0,this.Me=Wy(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Bt(),i=Bt(),r=Bt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:u})}}),new _u(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=Wy()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class zT{constructor(t){this.ze=t,this.je=new Map,this.He=fs(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new ge(kt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:wt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(sm(u))if(r===0){const f=new Tt(u.path);this.tt(i,f,cn.newNoDocument(f,xt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const f=this.ut(i);if(f!==r){const m=this.ct(t),y=m?this.lt(m,t,f):1;if(y!==0){this.st(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=nr(r).toUint8Array()}catch(y){if(y instanceof Qv)return ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Hm(f,o,u)}catch(y){return ro(y instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.pe===0?null:m}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&sm(m.target)){const y=new Tt(m.target.path);this.Et(y).has(f)||this.dt(f,y)||this.tt(f,y,cn.newNoDocument(y,t))}u.Le&&(i.set(f,u.qe()),u.Qe())}});let r=Bt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const g=this._t(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new $h(t,i,this.Ze,this.He,r);return this.He=fs(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new ge(kt),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new Jy,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Pe(kt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Pe(kt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Jy),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function Kc(){return new ge(Tt.comparator)}function Wy(){return new ge(Tt.comparator)}const qT={asc:"ASCENDING",desc:"DESCENDING"},HT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GT={and:"AND",or:"OR"};class FT{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(e,t){return e.useProto3Json||zh(t)?t:{value:t}}function wh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b3(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function QT(e,t){return wh(e,t.toTimestamp())}function Ii(e){return Xt(!!e,49232),xt.fromTimestamp(function(i){const r=er(i);return new je(r.seconds,r.nanos)}(e))}function Gm(e,t){return om(e,t).canonicalString()}function om(e,t){const i=function(o){return new he(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?i:i.child(t)}function S3(e){const t=he.fromString(e);return Xt(x3(t),10190,{key:t.toString()}),t}function lm(e,t){return Gm(e.databaseId,t.path)}function A1(e,t){const i=S3(t);if(i.get(1)!==e.databaseId.projectId)throw new vt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new vt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new Tt(A3(i))}function w3(e,t){return Gm(e.databaseId,t)}function YT(e){const t=S3(e);return t.length===4?he.emptyPath():A3(t)}function um(e){return new he(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function A3(e){return Xt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function t_(e,t,i){return{name:lm(e,t),fields:i.value.mapValue.fields}}function KT(e,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Xt(v===void 0||typeof v=="string",58123),nn.fromBase64String(v||"")):(Xt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),nn.fromUint8Array(v||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const v=g.code===void 0?ut.UNKNOWN:v3(g.code);return new vt(v,g.message||"")}(f);i=new T3(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=A1(e,r.document.name),u=Ii(r.document.updateTime),f=r.document.createTime?Ii(r.document.createTime):xt.min(),m=new En({mapValue:{fields:r.document.fields}}),y=cn.newFoundDocument(o,u,f,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new ah(g,v,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=A1(e,r.document),u=r.readTime?Ii(r.readTime):xt.min(),f=cn.newNoDocument(o,u),m=r.removedTargetIds||[];i=new ah([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=A1(e,r.document),u=r.removedTargetIds||[];i=new ah([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new PT(o,u),m=r.targetId;i=new E3(m,f)}}return i}function $T(e,t){let i;if(t instanceof yu)i={update:t_(e,t.key,t.value)};else if(t instanceof _3)i={delete:lm(e,t.key)};else if(t instanceof or)i={update:t_(e,t.key,t.data),updateMask:sb(t.fieldMask)};else{if(!(t instanceof LT))return wt(16599,{ft:t.type});i={verify:lm(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,f){const m=f.transform;if(m instanceof bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw wt(20930,{transform:f.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:QT(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)}(e,t.precondition)),i}function XT(e,t){return e&&e.length>0?(Xt(t!==void 0,14353),e.map(i=>function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(xt.min())&&(f=Ii(u)),new VT(f,o.transformResults||[])}(i,t))):[]}function ZT(e,t){return{documents:[w3(e,t.path)]}}function JT(e,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=w3(e,o);const u=function(g){if(g.length!==0)return R3(Vi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Za(b.field),direction:eb(b.dir)}}(v))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=am(e,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function WT(e){let t=YT(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Xt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(T){const b=C3(T);return b instanceof Vi&&n3(b)?b.getFilters():[b]}(i.where));let f=[];i.orderBy&&(f=function(T){return T.map(b=>function(V){return new Th(Ja(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(i.orderBy));let m=null;i.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,zh(b)?null:b}(i.limit));let y=null;i.startAt&&(y=function(T){const b=!!T.before,x=T.values||[];return new Eh(x,b)}(i.startAt));let g=null;return i.endAt&&(g=function(T){const b=!T.before,x=T.values||[];return new Eh(x,b)}(i.endAt)),_T(t,o,f,u,m,"F",y,g)}function tb(e,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function C3(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ja(i.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(i.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(i.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(i.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}}(e):e.fieldFilter!==void 0?function(i){return ke.create(Ja(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return Vi.create(i.compositeFilter.filters.map(r=>C3(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}}(i.compositeFilter.op))}(e):wt(30097,{filter:e})}function eb(e){return qT[e]}function nb(e){return HT[e]}function ib(e){return GT[e]}function Za(e){return{fieldPath:e.canonicalString()}}function Ja(e){return en.fromServerFormat(e.fieldPath)}function R3(e){return e instanceof ke?function(i){if(i.op==="=="){if(zy(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(By(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zy(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(By(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:nb(i.op),value:i.value}}}(e):e instanceof Vi?function(i){const r=i.getFilters().map(o=>R3(o));return r.length===1?r[0]:{compositeFilter:{op:ib(i.op),filters:r}}}(e):wt(54877,{filter:e})}function sb(e){const t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function x3(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,i,r,o,u=xt.min(),f=xt.min(),m=nn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t){this.wt=t}}function ab(e){const t=WT({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Cn=new lb}addToCollectionParentIndex(t,i){return this.Cn.add(i),ot.resolve()}getCollectionParents(t,i){return ot.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ot.resolve()}deleteFieldIndex(t,i){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,i){return ot.resolve()}getDocumentsMatchingTarget(t,i){return ot.resolve(null)}getIndexType(t,i){return ot.resolve(0)}getFieldIndexes(t,i){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,i){return ot.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,i){return ot.resolve(tr.min())}updateCollectionGroup(t,i,r){return ot.resolve()}updateIndexEntries(t,i){return ot.resolve()}}class lb{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Pe(he.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Pe(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I3=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(I3,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new uo(0)}static lr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",ub=1048576;function i_([e,t],[i,r]){const o=kt(e,i);return o===0?kt(t,r):o}class cb{constructor(t){this.Er=t,this.buffer=new Pe(i_),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();i_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hb{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){gt(n_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?gt(n_,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.mr(3e5)})}}class fb{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return ot.resolve(Bh.le);const r=new cb(i);return this.gr.forEachTarget(t,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.gr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(e_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let r,o,u,f,m,y,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(r=T,m=Date.now(),this.removeTargets(t,r,i))).next(T=>(u=T,y=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(g=Date.now(),$a()<=Qt.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${T} documents in `+(g-y)+`ms
Total Duration: ${g-v}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function db(e,t){return new fb(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.changes=new Jr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ot.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&$l(r.mutation,o,Ln.empty(),je.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Bt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Bt()){const o=Yr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let f=jl();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const r=Yr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Bt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,r,o){let u=fs();const f=Kl(),m=function(){return Kl()}();return i.forEach((y,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof or)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),$l(v.mutation,g,v.mutation.getFieldMask(),je.now())):f.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((g,v)=>f.set(g,v)),i.forEach((g,v)=>{var T;return m.set(g,new gb(v,(T=f.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(t,i){const r=Kl();let o=new ge((f,m)=>f-m),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let v=r.get(y)||Ln.empty();v=m.applyToLocalView(g,v),r.set(y,v);const T=(o.get(m.batchId)||Bt()).add(y);o=o.insert(m.batchId,T)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,v=y.value,T=c3();v.forEach(b=>{if(!u.has(b)){const x=p3(i.get(b),r.get(b));x!==null&&T.set(b,x),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return ot.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(f){return Tt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):vT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ot.resolve(Yr());let m=au,y=u;return f.next(g=>ot.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ot.resolve():this.remoteDocumentCache.getEntry(t,v).next(b=>{y=y.insert(v,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,y,g,Bt())).next(v=>({batchId:m,changes:u3(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Tt(i)).next(r=>{let o=jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(t,u).next(m=>ot.forEach(m,y=>{const g=function(T,b){return new Hh(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((T,b)=>{f=f.insert(T,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(f=>{u.forEach((y,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,cn.newInvalidDocument(v)))});let m=jl();return f.forEach((y,g)=>{const v=u.get(y);v!==void 0&&$l(v.mutation,g,Ln.empty(),je.now()),Qh(i,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return ot.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}}(i)),ot.resolve()}getNamedQuery(t,i){return ot.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(o){return{name:o.name,query:ab(o.bundledQuery),readTime:Ii(o.readTime)}}(i)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.overlays=new ge(Tt.comparator),this.Qr=new Map}getOverlay(t,i){return ot.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Yr();return ot.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),ot.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),ot.resolve()}getOverlaysForCollection(t,i,r){const o=Yr(),u=i.length+1,f=new Tt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ot.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ge((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Yr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Yr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ot.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new jT(i,r));let u=this.Qr.get(i);u===void 0&&(u=Bt(),this.Qr.set(i,u)),this.Qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.$r=new Pe(Qe.Ur),this.Kr=new Pe(Qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const r=new Qe(t,i);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.zr(new Qe(t,i))}jr(t,i){t.forEach(r=>this.removeReference(r,i))}Hr(t){const i=new Tt(new he([])),r=new Qe(i,t),o=new Qe(i,t+1),u=[];return this.Kr.forEachInRange([r,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new Tt(new he([])),r=new Qe(i,t),o=new Qe(i,t+1);let u=Bt();return this.Kr.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(t){const i=new Qe(t,0),r=this.$r.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return Tt.comparator(t.key,i.key)||kt(t.Zr,i.Zr)}static Wr(t,i){return kt(t.Zr,i.Zr)||Tt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Pe(Qe.Ur)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new kT(u,i,r,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ot.resolve(f)}lookupMutationBatch(t,i){return ot.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ti(r),u=o<0?0:o;return ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?km:this.nr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Pe(kt);return i.forEach(o=>{const u=new Qe(o,0),f=new Qe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{r=r.add(m.Zr)})}),ot.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Tt.isDocumentKey(u)||(u=u.child(""));const f=new Qe(new Tt(u),0);let m=new Pe(kt);return this.Xr.forEachWhile(y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Zr)),!0)},f),ot.resolve(this.ni(m))}ni(t){const i=[];return t.forEach(r=>{const o=this.ei(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Xt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ot.forEach(i.mutations,o=>{const u=new Qe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,i){const r=new Qe(i,0),o=this.Xr.firstAfterOrEqual(r);return ot.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t){this.ii=t,this.docs=function(){return new ge(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.ii(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ot.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let r=fs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))}),ot.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=fs();const f=i.path,m=new Tt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:v}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||X8($8(v),r)<=0||(o.has(v.key)||Qh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ot.resolve(u)}getAllFromCollectionGroup(t,i,r,o){wt(9500)}si(t,i){return ot.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new bb(this)}getSize(t){return ot.resolve(this.size)}}class bb extends mb{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(t,o)):this.Br.removeEntry(r)}),ot.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.persistence=t,this.oi=new Jr(i=>Um(i),Bm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this._i=0,this.ai=new Fm,this.targetCount=0,this.ui=uo.cr()}forEachTarget(t,i){return this.oi.forEach((r,o)=>i(o)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this._i&&(this._i=i),ot.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new uo(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,ot.resolve()}updateTargetData(t,i){return this.Tr(i),ot.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),ot.waitFor(u).next(()=>o)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,i){const r=this.oi.get(i)||null;return ot.resolve(r)}addMatchingKeys(t,i,r){return this.ai.Gr(i,r),ot.resolve()}removeMatchingKeys(t,i,r){this.ai.jr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),ot.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),ot.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ai.Yr(i);return ot.resolve(r)}containsKey(t,i){return ot.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t,i){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new vb,this.referenceDelegate=t(this),this.Ti=new Sb(this),this.indexManager=new ob,this.remoteDocumentCache=function(o){return new Tb(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new rb(i),this.Ei=new yb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _b,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ci[t.toKey()];return r||(r=new Eb(i,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,r){gt("MemoryPersistence","Starting transaction:",t);const o=new wb(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,i){return ot.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,i)))}}class wb extends J8{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Vi=new Fm,this.mi=null}static fi(t){return new Qm(t)}get gi(){if(this.mi)return this.mi;throw wt(60996)}addReference(t,i,r){return this.Vi.addReference(r,i),this.gi.delete(r.toString()),ot.resolve()}removeReference(t,i,r){return this.Vi.removeReference(r,i),this.gi.add(r.toString()),ot.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),ot.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.gi,r=>{const o=Tt.fromPath(r);return this.pi(t,o).next(u=>{u||i.removeEntry(o,xt.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(r=>{r?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return ot.or([()=>ot.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class Ah{constructor(t,i){this.persistence=t,this.yi=new Jr(r=>eT(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=db(this,i)}static fi(t,i){return new Ah(t,i)}di(){}Ai(t){return ot.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}br(t){let i=0;return this.yr(t,r=>{i++}).next(()=>i)}yr(t,i){return ot.forEach(this.yi,(r,o)=>this.Dr(t,r,o).next(u=>u?ot.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,i).next(m=>{m||(r++,u.removeEntry(f,xt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),ot.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.yi.set(r,t.currentSequenceNumber),ot.resolve()}removeReference(t,i,r){return this.yi.set(r,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),ot.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ih(t.data.value)),i}Dr(t,i,r){return ot.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.yi.get(i);return ot.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ds=r,this.As=o}static Rs(t,i){let r=Bt(),o=Bt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return vE()?8:W8(yE())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ws(t,i).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,i,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Ab;return this.Ss(t,i,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,i,f,m.size)})}).next(()=>u.result)}Ds(t,i,r,o){return r.documentReadCount<this.gs?($a()<=Qt.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ot.resolve()):($a()<=Qt.DEBUG&&gt("QueryEngine","Query:",Xa(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?($a()<=Qt.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):ot.resolve())}ws(t,i){if(Fy(i))return ot.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=Bt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,r).next(y=>{const g=this.vs(i,m);return this.Cs(i,g,f,y.readTime)?this.ws(t,rm(i,null,"F")):this.Fs(t,g,i,y)}))})))}bs(t,i,r,o){return Fy(i)||o.isEqual(xt.min())?ot.resolve(null):this.ys.getDocuments(t,r).next(u=>{const f=this.vs(i,u);return this.Cs(i,f,r,o)?ot.resolve(null):($a()<=Qt.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(i)),this.Fs(t,f,i,K8(o,au)).next(m=>m))})}vs(t,i){let r=new Pe(o3(t));return i.forEach((o,u)=>{Qh(t,u)&&(r=r.add(u))}),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return $a()<=Qt.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.ys.getDocumentsMatchingQuery(t,i,tr.min(),r)}Fs(t,i,r,o){return this.ys.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",Rb=3e8;class xb{constructor(t,i,r,o){this.persistence=t,this.Ms=i,this.serializer=o,this.xs=new ge(kt),this.Os=new Jr(u=>Um(u),Bm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pb(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function Ib(e,t,i,r){return new xb(e,t,i,r)}async function M3(e,t){const i=Dt(e);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Ls(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],m=[];let y=Bt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}return i.localDocuments.getDocuments(r,y).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function Db(e,t){const i=Dt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.Bs.newChangeBuffer({trackRemovals:!0});return function(m,y,g,v){const T=g.batch,b=T.keys();let x=ot.resolve();return b.forEach(V=>{x=x.next(()=>v.getEntry(y,V)).next(U=>{const L=g.docVersions.get(V);Xt(L!==null,48541),U.version.compareTo(L)<0&&(T.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(y,T))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let y=Bt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function V3(e){const t=Dt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function Mb(e,t){const i=Dt(e),r=t.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const m=[];t.targetChanges.forEach((v,T)=>{const b=o.get(T);if(!b)return;m.push(i.Ti.removeMatchingKeys(u,v.removedDocuments,T).next(()=>i.Ti.addMatchingKeys(u,v.addedDocuments,T)));let x=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(nn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),o=o.insert(T,x),function(U,L,q){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=Rb?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(b,x,v)&&m.push(i.Ti.updateTargetData(u,x))});let y=fs(),g=Bt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(Vb(u,f,t.documentUpdates).next(v=>{y=v.qs,g=v.Qs})),!r.isEqual(xt.min())){const v=i.Ti.getLastRemoteSnapshotVersion(u).next(T=>i.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(v)}return ot.waitFor(m).next(()=>f.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(i.xs=o,u))}function Vb(e,t,i){let r=Bt(),o=Bt();return i.forEach(u=>r=r.add(u)),t.getEntries(e,r).next(u=>{let f=fs();return i.forEach((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(xt.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):gt(Km,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{qs:f,Qs:o}})}function Nb(e,t){const i=Dt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Ob(e,t){const i=Dt(e);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Ti.getTargetData(r,t).next(u=>u?(o=u,ot.resolve(o)):i.Ti.allocateTargetId(r).next(f=>(o=new Qs(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(r.targetId,r),i.Os.set(t,r.targetId)),r})}async function cm(e,t,i){const r=Dt(e),o=r.xs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;gt(Km,`Failed to update sequence numbers for target ${t}: ${f}`)}r.xs=r.xs.remove(t),r.Os.delete(o.target)}function s_(e,t,i){const r=Dt(e);let o=xt.min(),u=Bt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(y,g,v){const T=Dt(y),b=T.Os.get(v);return b!==void 0?ot.resolve(T.xs.get(b)):T.Ti.getTargetData(g,v)}(r,f,Ri(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>r.Ms.getDocumentsMatchingQuery(f,t,i?o:xt.min(),i?u:Bt())).next(m=>(Lb(r,TT(t),m),{documents:m,$s:u})))}function Lb(e,t,i){let r=e.Ns.get(t)||xt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),e.Ns.set(t,r)}class r_{constructor(){this.activeTargetIds=RT()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kb{constructor(){this.xo=new r_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,r){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new r_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class o_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){gt(a_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){gt(a_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function hm(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="RestConnection",Pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ub{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(t,i,r,o,u){const f=hm(),m=this.jo(t,i.toUriEncodedString());gt(C1,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,o,u);const{host:g}=new URL(m),v=Nm(g);return this.Jo(t,m,y,r,v).then(T=>(gt(C1,`Received RPC '${t}' ${f}: `,T),T),T=>{throw ro(C1,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",r),T})}Yo(t,i,r,o,u,f){return this.zo(t,i,r,o,u)}Ho(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}jo(t,i){const r=Pb[t];return`${this.Ko}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class zb extends Ub{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const f=hm();return new Promise((m,y)=>{const g=new Lv;g.setWithCredentials(!0),g.listenOnce(kv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nh.NO_ERROR:const T=g.getResponseJson();gt(ln,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case nh.TIMEOUT:gt(ln,`RPC '${t}' ${f} timed out`),y(new vt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const b=g.getStatus();if(gt(ln,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const U=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf($)>=0?$:ut.UNKNOWN}(V.status);y(new vt(U,V.message))}else y(new vt(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new vt(ut.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{h_:t,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{gt(ln,`RPC '${t}' ${f} completed.`)}});const v=JSON.stringify(o);gt(ln,`RPC '${t}' ${f} sending request:`,o),g.send(i,"POST",v,r,15)})}I_(t,i,r){const o=hm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Uv(),m=Pv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const v=u.join("");gt(ln,`Creating RPC '${t}' stream ${o}: ${v}`,y);const T=f.createWebChannel(v,y);this.E_(T);let b=!1,x=!1;const V=new Bb({Zo:L=>{x?gt(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(b||(gt(ln,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),gt(ln,`RPC '${t}' stream ${o} sending:`,L),T.send(L))},Xo:()=>T.close()}),U=(L,q,$)=>{L.listen(q,K=>{try{$(K)}catch(it){setTimeout(()=>{throw it},0)}})};return U(T,kl.EventType.OPEN,()=>{x||(gt(ln,`RPC '${t}' stream ${o} transport opened.`),V.__())}),U(T,kl.EventType.CLOSE,()=>{x||(x=!0,gt(ln,`RPC '${t}' stream ${o} transport closed`),V.u_(),this.d_(T))}),U(T,kl.EventType.ERROR,L=>{x||(x=!0,ro(ln,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),V.u_(new vt(ut.UNAVAILABLE,"The operation could not be completed")))}),U(T,kl.EventType.MESSAGE,L=>{var q;if(!x){const $=L.data[0];Xt(!!$,16349);const K=$,it=(K==null?void 0:K.error)||((q=K[0])===null||q===void 0?void 0:q.error);if(it){gt(ln,`RPC '${t}' stream ${o} received error:`,it);const W=it.status;let F=function(R){const k=xe[R];if(k!==void 0)return v3(k)}(W),D=it.message;F===void 0&&(F=ut.INTERNAL,D="Unknown error status: "+W+" with message "+it.message),x=!0,V.u_(new vt(F,D)),T.close()}else gt(ln,`RPC '${t}' stream ${o} received:`,$),V.c_($)}}),U(m,jv.STAT_EVENT,L=>{L.stat===W1.PROXY?gt(ln,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===W1.NOPROXY&&gt(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(i=>i===t)}}function R1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){return new FT(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t,i,r=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=i,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const i=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-r);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class O3{constructor(t,i,r,o,u,f,m,y){this.xi=t,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new N3(t,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():i&&i.code===ut.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===i&&this.z_(r,o)},r=>{t(()=>{const o=new vt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(t,i){const r=this.G_(this.v_);this.stream=this.H_(t,i),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return gt(l_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return i=>{this.xi.enqueueAndForget(()=>this.v_===t?i():(gt(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qb extends O3{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}H_(t,i){return this.connection.I_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const i=KT(this.serializer,t),r=function(u){if(!("targetChange"in u))return xt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xt.min():f.readTime?Ii(f.readTime):xt.min()}(t);return this.listener.Y_(i,r)}Z_(t){const i={};i.database=um(this.serializer),i.addTarget=function(u,f){let m;const y=f.target;if(m=sm(y)?{documents:ZT(u,y)}:{query:JT(u,y).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=b3(u,f.resumeToken);const g=am(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xt.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const g=am(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const r=tb(this.serializer,t);r&&(i.labels=r),this.Q_(i)}X_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.Q_(i)}}class Hb extends O3{constructor(t,i,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,i){return this.connection.I_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const i=XT(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.ra(r,i)}ia(){const t={};t.database=um(this.serializer),this.Q_(t)}ta(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>$T(this.serializer,r))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class Fb extends Gb{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new vt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,om(i,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(ut.UNKNOWN,u.toString())})}Yo(t,i,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,om(i,r),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new vt(ut.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Qb{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(hs(i),this.ua=!1):gt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="RemoteStore";class Yb{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{r.enqueueAndForget(async()=>{Wr(this)&&(gt(Xr,"Restarting streams for network reachability change."),await async function(y){const g=Dt(y);g.da.add(4),await vu(g),g.Va.set("Unknown"),g.da.delete(4),await Zh(g)}(this))})}),this.Va=new Qb(r,o)}}async function Zh(e){if(Wr(e))for(const t of e.Aa)await t(!0)}async function vu(e){for(const t of e.Aa)await t(!1)}function L3(e,t){const i=Dt(e);i.Ea.has(t.targetId)||(i.Ea.set(t.targetId,t),Jm(i)?Zm(i):Eo(i).N_()&&Xm(i,t))}function $m(e,t){const i=Dt(e),r=Eo(i);i.Ea.delete(t),r.N_()&&k3(i,t),i.Ea.size===0&&(r.N_()?r.k_():Wr(i)&&i.Va.set("Unknown"))}function Xm(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Eo(e).Z_(t)}function k3(e,t){e.ma.Ke(t),Eo(e).X_(t)}function Zm(e){e.ma=new zT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Eo(e).start(),e.Va.ca()}function Jm(e){return Wr(e)&&!Eo(e).O_()&&e.Ea.size>0}function Wr(e){return Dt(e).da.size===0}function j3(e){e.ma=void 0}async function Kb(e){e.Va.set("Online")}async function $b(e){e.Ea.forEach((t,i)=>{Xm(e,t)})}async function Xb(e,t){j3(e),Jm(e)?(e.Va.Pa(t),Zm(e)):e.Va.set("Unknown")}async function Zb(e,t,i){if(e.Va.set("Online"),t instanceof T3&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(e,t)}catch(r){gt(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ch(e,r)}else if(t instanceof ah?e.ma.Xe(t):t instanceof E3?e.ma.ot(t):e.ma.nt(t),!i.isEqual(xt.min()))try{const r=await V3(e.localStore);i.compareTo(r)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const v=u.Ea.get(g);v&&u.Ea.set(g,v.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,g)=>{const v=u.Ea.get(y);if(!v)return;u.Ea.set(y,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),k3(u,y);const T=new Qs(v.target,y,g,v.sequenceNumber);Xm(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(e,i)}catch(r){gt(Xr,"Failed to raise snapshot:",r),await Ch(e,r)}}async function Ch(e,t,i){if(!vo(t))throw t;e.da.add(1),await vu(e),e.Va.set("Offline"),i||(i=()=>V3(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gt(Xr,"Retrying IndexedDB access"),await i(),e.da.delete(1),await Zh(e)})}function P3(e,t){return t().catch(i=>Ch(e,i,t))}async function Jh(e){const t=Dt(e),i=sr(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:km;for(;Jb(t);)try{const o=await Nb(t.localStore,r);if(o===null){t.Ia.length===0&&i.k_();break}r=o.batchId,Wb(t,o)}catch(o){await Ch(t,o)}U3(t)&&B3(t)}function Jb(e){return Wr(e)&&e.Ia.length<10}function Wb(e,t){e.Ia.push(t);const i=sr(e);i.N_()&&i.ea&&i.ta(t.mutations)}function U3(e){return Wr(e)&&!sr(e).O_()&&e.Ia.length>0}function B3(e){sr(e).start()}async function tS(e){sr(e).ia()}async function eS(e){const t=sr(e);for(const i of e.Ia)t.ta(i.mutations)}async function nS(e,t,i){const r=e.Ia.shift(),o=qm.from(r,t,i);await P3(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Jh(e)}async function iS(e,t){t&&sr(e).ea&&await async function(r,o){if(function(f){return UT(f)&&f!==ut.ABORTED}(o.code)){const u=r.Ia.shift();sr(r).L_(),await P3(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jh(r)}}(e,t),U3(e)&&B3(e)}async function u_(e,t){const i=Dt(e);i.asyncQueue.verifyOperationInProgress(),gt(Xr,"RemoteStore received new credentials");const r=Wr(i);i.da.add(3),await vu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.da.delete(3),await Zh(i)}async function sS(e,t){const i=Dt(e);t?(i.da.delete(2),await Zh(i)):t||(i.da.add(2),await vu(i),i.Va.set("Unknown"))}function Eo(e){return e.fa||(e.fa=function(i,r,o){const u=Dt(i);return u.oa(),new qb(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{e_:Kb.bind(null,e),n_:$b.bind(null,e),i_:Xb.bind(null,e),Y_:Zb.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Jm(e)?Zm(e):e.Va.set("Unknown")):(await e.fa.stop(),j3(e))})),e.fa}function sr(e){return e.ga||(e.ga=function(i,r,o){const u=Dt(i);return u.oa(),new Hb(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:tS.bind(null,e),i_:iS.bind(null,e),na:eS.bind(null,e),ra:nS.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Jh(e)):(await e.ga.stop(),e.Ia.length>0&&(gt(Xr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,m=new Wm(t,i,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(e,t){if(hs("AsyncQueue",`${t}: ${e}`),vo(e))return new vt(ut.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Tt.comparator(i.key,r.key):(i,r)=>Tt.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new no;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.pa=new ge(Tt.comparator)}track(t){const i=t.doc.key,r=this.pa.get(i);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(i,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(i):t.type===1&&r.type===2?this.pa=this.pa.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):wt(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(i,t)}wa(){const t=[];return this.pa.inorderTraversal((i,r)=>{t.push(r)}),t}}class co{constructor(t,i,r,o,u,f,m,y,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new co(t,i,no.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class aS{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Dt(i),u=o.queries;o.queries=h_(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(r)})})(this,new vt(ut.ABORTED,"Firestore shutting down"))}}function h_(){return new Jr(e=>a3(e),Fh)}async function z3(e,t){const i=Dt(e);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Da()&&t.va()&&(r=2):(u=new rS,r=t.va()?0:1);try{switch(r){case 0:u.ba=await i.onListen(o,!0);break;case 1:u.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=tg(f,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.Fa(i.onlineState),u.ba&&t.Ma(u.ba)&&eg(i)}async function q3(e,t){const i=Dt(e),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function oS(e,t){const i=Dt(e);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(r=!0);f.ba=o}}r&&eg(i)}function lS(e,t,i){const r=Dt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function eg(e){e.Ca.forEach(t=>{t.next()})}var fm,f_;(f_=fm||(fm={})).xa="default",f_.Cache="cache";class H3{constructor(t,i,r){this.query=t,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new co(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Na?this.La(t)&&(this.Oa.next(t),i=!0):this.ka(t,this.onlineState)&&(this.qa(t),i=!0),this.Ba=t,i}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),i=!0),i}ka(t,i){if(!t.fromCache||!this.va())return!0;const r=i!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}La(t){if(t.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t){this.key=t}}class F3{constructor(t){this.key=t}}class uS{constructor(t,i){this.query=t,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.Za=o3(t),this.Xa=new no(this.Za)}get eu(){return this.Ha}tu(t,i){const r=i?i.nu:new c_,o=i?i.Xa:this.Xa;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,T)=>{const b=o.get(v),x=Qh(this.query,T)?T:null,V=!!b&&this.mutatedKeys.has(b.key),U=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;b&&x?b.data.isEqual(x.data)?V!==U&&(r.track({type:3,doc:x}),L=!0):this.ru(b,x)||(r.track({type:2,doc:x}),L=!0,(y&&this.Za(x,y)>0||g&&this.Za(x,g)<0)&&(m=!0)):!b&&x?(r.track({type:0,doc:x}),L=!0):b&&!x&&(r.track({type:1,doc:b}),L=!0,(y||g)&&(m=!0)),L&&(x?(f=f.add(x),u=U?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{Xa:f,nu:r,Cs:m,mutatedKeys:u}}ru(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((v,T)=>function(x,V){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:L})}};return U(x)-U(V)}(v.type,T.type)||this.Za(v.doc,T.doc)),this.iu(r),o=o!=null&&o;const m=i&&!o?this.su():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Ja;return this.Ja=y,f.length!==0||g?{snapshot:new co(this.query,t.Xa,u,f,t.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Bt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const i=[];return t.forEach(r=>{this.Ya.has(r)||i.push(new F3(r))}),this.Ya.forEach(r=>{t.has(r)||i.push(new G3(r))}),i}au(t){this.Ha=t.$s,this.Ya=Bt();const i=this.tu(t.documents);return this.applyChanges(i,!0)}uu(){return co.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ng="SyncEngine";class cS{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class hS{constructor(t){this.key=t,this.cu=!1}}class fS{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Jr(m=>a3(m),Fh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ge(Tt.comparator),this.Eu=new Map,this.du=new Fm,this.Au={},this.Ru=new Map,this.Vu=uo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function dS(e,t,i=!0){const r=Z3(e);let o;const u=r.hu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await Q3(r,t,i,!0),o}async function mS(e,t){const i=Z3(e);await Q3(i,t,!0,!1)}async function Q3(e,t,i,r){const o=await Ob(e.localStore,Ri(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await gS(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&i&&L3(e.remoteStore,o),m}async function gS(e,t,i,r,o){e.fu=(T,b,x)=>async function(U,L,q,$){let K=L.view.tu(q);K.Cs&&(K=await s_(U.localStore,L.query,!1).then(({documents:D})=>L.view.tu(D,K)));const it=$&&$.targetChanges.get(L.targetId),W=$&&$.targetMismatches.get(L.targetId)!=null,F=L.view.applyChanges(K,U.isPrimaryClient,it,W);return m_(U,L.targetId,F.ou),F.snapshot}(e,T,b,x);const u=await s_(e.localStore,t,!0),f=new uS(t,u.$s),m=f.tu(u.documents),y=_u.createSynthesizedTargetChangeForCurrentChange(i,r&&e.onlineState!=="Offline",o),g=f.applyChanges(m,e.isPrimaryClient,y);m_(e,i,g.ou);const v=new cS(t,i,f);return e.hu.set(t,v),e.Pu.has(i)?e.Pu.get(i).push(t):e.Pu.set(i,[t]),g.snapshot}async function pS(e,t,i){const r=Dt(e),o=r.hu.get(t),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(f=>!Fh(f,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&$m(r.remoteStore,o.targetId),dm(r,o.targetId)}).catch(_o)):(dm(r,o.targetId),await cm(r.localStore,o.targetId,!0))}async function yS(e,t){const i=Dt(e),r=i.hu.get(t),o=i.Pu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),$m(i.remoteStore,r.targetId))}async function _S(e,t,i){const r=AS(e);try{const o=await function(f,m){const y=Dt(f),g=je.now(),v=m.reduce((x,V)=>x.add(V.key),Bt());let T,b;return y.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=fs(),U=Bt();return y.Bs.getEntries(x,v).next(L=>{V=L,V.forEach((q,$)=>{$.isValidDocument()||(U=U.add(q))})}).next(()=>y.localDocuments.getOverlayedDocuments(x,V)).next(L=>{T=L;const q=[];for(const $ of m){const K=OT($,T.get($.key).overlayedDocument);K!=null&&q.push(new or($.key,K,Wv(K.value.mapValue),xi.exists(!0)))}return y.mutationQueue.addMutationBatch(x,g,q,m)}).next(L=>{b=L;const q=L.applyToLocalDocumentSet(T,U);return y.documentOverlayCache.saveOverlays(x,L.batchId,q)})}).then(()=>({batchId:b.batchId,changes:u3(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let g=f.Au[f.currentUser.toKey()];g||(g=new ge(kt)),g=g.insert(m,y),f.Au[f.currentUser.toKey()]=g}(r,o.batchId,i),await Eu(r,o.changes),await Jh(r.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");i.reject(u)}}async function Y3(e,t){const i=Dt(e);try{const r=await Mb(i.localStore,t);t.targetChanges.forEach((o,u)=>{const f=i.Eu.get(u);f&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Xt(f.cu,14607):o.removedDocuments.size>0&&(Xt(f.cu,42227),f.cu=!1))}),await Eu(i,r,t)}catch(r){await _o(r)}}function d_(e,t,i){const r=Dt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.hu.forEach((u,f)=>{const m=f.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Dt(f);y.onlineState=m;let g=!1;y.queries.forEach((v,T)=>{for(const b of T.Sa)b.Fa(m)&&(g=!0)}),g&&eg(y)}(r.eventManager,t),o.length&&r.lu.Y_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vS(e,t,i){const r=Dt(e);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Eu.get(t),u=o&&o.key;if(u){let f=new ge(Tt.comparator);f=f.insert(u,cn.newNoDocument(u,xt.min()));const m=Bt().add(u),y=new $h(xt.min(),new Map,new ge(kt),f,m);await Y3(r,y),r.Iu=r.Iu.remove(u),r.Eu.delete(t),ig(r)}else await cm(r.localStore,t,!1).then(()=>dm(r,t,i)).catch(_o)}async function ES(e,t){const i=Dt(e),r=t.batch.batchId;try{const o=await Db(i.localStore,t);$3(i,r,null),K3(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(i,o)}catch(o){await _o(o)}}async function TS(e,t,i){const r=Dt(e);try{const o=await function(f,m){const y=Dt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return y.mutationQueue.lookupMutationBatch(g,m).next(T=>(Xt(T!==null,37113),v=T.keys(),y.mutationQueue.removeMutationBatch(g,T))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>y.localDocuments.getDocuments(g,v))})}(r.localStore,t);$3(r,t,i),K3(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Eu(r,o)}catch(o){await _o(o)}}function K3(e,t){(e.Ru.get(t)||[]).forEach(i=>{i.resolve()}),e.Ru.delete(t)}function $3(e,t,i){const r=Dt(e);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Au[r.currentUser.toKey()]=o}}function dm(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),i&&e.lu.gu(r,i);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(r=>{e.du.containsKey(r)||X3(e,r)})}function X3(e,t){e.Tu.delete(t.path.canonicalString());const i=e.Iu.get(t);i!==null&&($m(e.remoteStore,i),e.Iu=e.Iu.remove(t),e.Eu.delete(i),ig(e))}function m_(e,t,i){for(const r of i)r instanceof G3?(e.du.addReference(r.key,t),bS(e,r)):r instanceof F3?(gt(ng,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||X3(e,r.key)):wt(19791,{pu:r})}function bS(e,t){const i=t.key,r=i.path.canonicalString();e.Iu.get(i)||e.Tu.has(r)||(gt(ng,"New document in limbo: "+i),e.Tu.add(r),ig(e))}function ig(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const i=new Tt(he.fromString(t)),r=e.Vu.next();e.Eu.set(r,new hS(i)),e.Iu=e.Iu.insert(i,r),L3(e.remoteStore,new Qs(Ri(Gh(i.path)),r,"TargetPurposeLimboResolution",Bh.le))}}async function Eu(e,t,i){const r=Dt(e),o=[],u=[],f=[];r.hu.isEmpty()||(r.hu.forEach((m,y)=>{f.push(r.fu(y,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const T=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(y.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Ym.Rs(y.targetId,g);u.push(T)}}))}),await Promise.all(f),r.lu.Y_(o),await async function(y,g){const v=Dt(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ot.forEach(g,b=>ot.forEach(b.ds,x=>v.persistence.referenceDelegate.addReference(T,b.targetId,x)).next(()=>ot.forEach(b.As,x=>v.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))}catch(T){if(!vo(T))throw T;gt(Km,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const x=v.xs.get(b),V=x.snapshotVersion,U=x.withLastLimboFreeSnapshotVersion(V);v.xs=v.xs.insert(b,U)}}}(r.localStore,u))}async function SS(e,t){const i=Dt(e);if(!i.currentUser.isEqual(t)){gt(ng,"User change. New user:",t.toKey());const r=await M3(i.localStore,t);i.currentUser=t,function(u,f){u.Ru.forEach(m=>{m.forEach(y=>{y.reject(new vt(ut.CANCELLED,f))})}),u.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Eu(i,r.ks)}}function wS(e,t){const i=Dt(e),r=i.Eu.get(t);if(r&&r.cu)return Bt().add(r.key);{let o=Bt();const u=i.Pu.get(t);if(!u)return o;for(const f of u){const m=i.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function Z3(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Y3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vS.bind(null,t),t.lu.Y_=oS.bind(null,t.eventManager),t.lu.gu=lS.bind(null,t.eventManager),t}function AS(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ES.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TS.bind(null,t),t}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,i){return null}Cu(t,i){return null}Du(t){return Ib(this.persistence,new Cb,t.initialUser,this.serializer)}Su(t){return new D3(Qm.fi,this.serializer)}bu(t){return new kb}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class CS extends Rh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,i){Xt(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hb(r,t.asyncQueue,i)}Su(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new D3(r=>Ah.fi(r,i),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SS.bind(null,this.syncEngine),await sS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new aS}()}createDatastore(t){const i=Xh(t.databaseInfo.databaseId),r=function(u){return new zb(u)}(t.databaseInfo);return function(u,f,m,y){return new Fb(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,f,m){return new Yb(r,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>d_(this.syncEngine,i,0),function(){return o_.C()?new o_:new jb}())}createSyncEngine(t,i){return function(o,u,f,m,y,g,v){const T=new fS(o,u,f,m,y,g);return v&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=Dt(o);gt(Xr,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class RS{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{gt(rr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(gt(rr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=tg(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function x1(e,t){e.asyncQueue.verifyOperationInProgress(),gt(rr,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await M3(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function g_(e,t){e.asyncQueue.verifyOperationInProgress();const i=await xS(e);gt(rr,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener(r=>u_(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>u_(t.remoteStore,o)),e._onlineComponents=t}async function xS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gt(rr,"Using user provided OfflineComponentProvider");try{await x1(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await x1(e,new Rh)}}else gt(rr,"Using default OfflineComponentProvider"),await x1(e,new CS(void 0));return e._offlineComponents}async function W3(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gt(rr,"Using user provided OnlineComponentProvider"),await g_(e,e._uninitializedComponentsProvider._online)):(gt(rr,"Using default OnlineComponentProvider"),await g_(e,new mm))),e._onlineComponents}function IS(e){return W3(e).then(t=>t.syncEngine)}async function gm(e){const t=await W3(e),i=t.eventManager;return i.onListen=dS.bind(null,t.syncEngine),i.onUnlisten=pS.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mS.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yS.bind(null,t.syncEngine),i}function DS(e,t,i={}){const r=new Js;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,g){const v=new J3({next:b=>{v.xu(),f.enqueueAndForget(()=>q3(u,T));const x=b.docs.has(m);!x&&b.fromCache?g.reject(new vt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&y&&y.source==="server"?g.reject(new vt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new H3(Gh(m.path),v,{includeMetadataChanges:!0,Qa:!0});return z3(u,T)}(await gm(e),e.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(e,t,i){if(!i)throw new vt(ut.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function MS(e,t,i,r){if(t===!0&&r===!0)throw new vt(ut.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function y_(e){if(!Tt.isDocumentKey(e))throw new vt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function __(e){if(Tt.isDocumentKey(e))throw new vt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function ls(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sg(e);throw new vt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firestore.googleapis.com",v_=!0;class E_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n4,this.ssl=v_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:v_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=I3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ub)throw new vt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t4((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U8;switch(r.type){case"firstParty":return new H8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=p_.get(i);r&&(gt("ComponentProvider","Removing Datastore"),p_.delete(i),r.terminate())}(this),Promise.resolve()}}function VS(e,t,i,r={}){var o;e=ls(e,Wh);const u=Nm(t),f=e._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:e._getEmulatorOptions()}),y=`${t}:${i}`;u&&(fE(`https://${y}`),pE("Firestore",!0)),f.host!==n4&&f.host!==y&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:y,ssl:u,emulatorOptions:r});if(!mh(g,m)&&(e._setSettings(g),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=un.MOCK_USER;else{v=dE(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new vt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(b)}e._authCredentials=new B8(new zv(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new tf(this.firestore,t,this._query)}}class Tn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Tn(this.firestore,t,this._key)}}class Ws extends tf{constructor(t,i,r){super(t,i,Gh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Tn(this.firestore,null,new Tt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function NS(e,t,...i){if(e=us(e),e4("collection","path",t),e instanceof Wh){const r=he.fromString(t,...i);return __(r),new Ws(e,null,r)}{if(!(e instanceof Tn||e instanceof Ws))throw new vt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(he.fromString(t,...i));return __(r),new Ws(e.firestore,null,r)}}function ef(e,t,...i){if(e=us(e),arguments.length===1&&(t=Hv.newId()),e4("doc","path",t),e instanceof Wh){const r=he.fromString(t,...i);return y_(r),new Tn(e,null,new Tt(r))}{if(!(e instanceof Tn||e instanceof Ws))throw new vt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(he.fromString(t,...i));return y_(r),new Tn(e.firestore,e instanceof Ws?e.converter:null,new Tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="AsyncQueue";class b_{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new N3(this,"async_queue_retry"),this.rc=()=>{const r=R1();r&&gt(T_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const i=R1();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const i=R1();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Js;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!vo(t))throw t;gt(T_,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const i=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,hs("INTERNAL UNHANDLED ERROR: ",S_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=i,i}enqueueAfterDelay(t,i,r){this.oc(),this.nc.indexOf(t)>-1&&(i=0);const o=Wm.createAndSchedule(this,t,i,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&wt(47125,{cc:S_(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const i of this.Zu)if(i.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const i=this.Zu.indexOf(t);this.Zu.splice(i,1)}}function S_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){return function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class ho extends Wh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new b_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new b_(t),this._firestoreClient=void 0,await t}}}function OS(e,t){const i=typeof e=="object"?e:C8(),r=typeof e=="string"?e:_h,o=T8(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=cE("firestore");u&&VS(o,...u)}return o}function rg(e){if(e._terminated)throw new vt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||LS(e),e._firestoreClient}function LS(e){var t,i,r;const o=e._freezeSettings(),u=function(m,y,g,v){return new sT(m,y,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,t4(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new RS(e._authCredentials,e._appCheckCredentials,e._queue,u,e._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fo(nn.fromBase64String(t))}catch(i){throw new vt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new fo(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=/^__.*__$/;class jS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new or(t,this.data,this.fieldMask,i,this.fieldTransforms):new yu(t,this.data,i,this.fieldTransforms)}}class i4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new or(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function s4(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ic:e})}}class ug{constructor(t,i,r,o,u,f){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:r,Rc:!1});return o.Vc(t),o}mc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return xh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(s4(this.Ic)&&kS.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class PS{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Xh(t)}bc(t,i,r,o=!1){return new ug({Ic:t,methodName:i,wc:r,path:en.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r4(e){const t=e._freezeSettings(),i=Xh(e._databaseId);return new PS(e._databaseId,!!t.ignoreUndefinedProperties,i)}function US(e,t,i,r,o,u={}){const f=e.bc(u.merge||u.mergeFields?2:0,t,i,o);cg("Data must be an object, but it was:",f,r);const m=a4(r,f);let y,g;if(u.merge)y=new Ln(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=pm(t,T,i);if(!f.contains(b))throw new vt(ut.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);l4(v,b)||v.push(b)}y=new Ln(v),g=f.fieldTransforms.filter(T=>y.covers(T.field))}else y=null,g=f.fieldTransforms;return new jS(new En(m),y,g)}class sf extends ag{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sf}}function BS(e,t,i,r){const o=e.bc(1,t,i);cg("Data must be an object, but it was:",o,r);const u=[],f=En.empty();ar(r,(y,g)=>{const v=hg(t,y,i);g=us(g);const T=o.mc(v);if(g instanceof sf)u.push(v);else{const b=rf(g,T);b!=null&&(u.push(v),f.set(v,b))}});const m=new Ln(u);return new i4(f,m,o.fieldTransforms)}function zS(e,t,i,r,o,u){const f=e.bc(1,t,i),m=[pm(t,r,i)],y=[o];if(u.length%2!=0)throw new vt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(pm(t,u[b])),y.push(u[b+1]);const g=[],v=En.empty();for(let b=m.length-1;b>=0;--b)if(!l4(g,m[b])){const x=m[b];let V=y[b];V=us(V);const U=f.mc(x);if(V instanceof sf)g.push(x);else{const L=rf(V,U);L!=null&&(g.push(x),v.set(x,L))}}const T=new Ln(g);return new i4(v,T,f.fieldTransforms)}function rf(e,t){if(o4(e=us(e)))return cg("Unsupported field value:",t,e),a4(e,t);if(e instanceof ag)return function(r,o){if(!s4(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const m of r){let y=rf(m,o.fc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(r,o){if((r=us(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=je.fromDate(r);return{timestampValue:wh(o.serializer,u)}}if(r instanceof je){const u=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(r instanceof og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fo)return{bytesValue:b3(o.serializer,r._byteString)};if(r instanceof Tn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof lg)return function(f,m){return{mapValue:{fields:{[Zv]:{stringValue:Jv},[vh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return zm(m.serializer,g)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${sg(r)}`)}(e,t)}function a4(e,t){const i={};return Fv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ar(e,(r,o)=>{const u=rf(o,t.Ac(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function o4(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof je||e instanceof og||e instanceof fo||e instanceof Tn||e instanceof ag||e instanceof lg)}function cg(e,t,i){if(!o4(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=sg(i);throw r==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function pm(e,t,i){if((t=us(t))instanceof nf)return t._internalPath;if(typeof t=="string")return hg(e,t);throw xh("Field path arguments must be of type string or ",e,!1,void 0,i)}const qS=new RegExp("[~\\*/\\[\\]]");function hg(e,t,i){if(t.search(qS)>=0)throw xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new nf(...t.split("."))._internalPath}catch{throw xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function xh(e,t,i,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new vt(ut.INVALID_ARGUMENT,m+e+y)}function l4(e,t){return e.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(c4("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HS extends u4{data(){return super.data()}}function c4(e,t){return typeof t=="string"?hg(e,t):t instanceof nf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new vt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FS{convertValue(t,i="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ar(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[vh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>be(f.doubleValue));return new lg(u)}convertGeoPoint(t){return new og(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=qh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ou(t));default:return null}}convertTimestamp(t){const i=er(t);return new je(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=he.fromString(t);Xt(x3(r),9688,{name:t});const o=new lu(r.get(1),r.get(3)),u=new Tt(r.popFirst(5));return o.isEqual(i)||hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(e,t,i){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class h4 extends u4{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(c4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class oh extends h4{data(t={}){return super.data(t)}}class YS{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new oh(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:KS(m.type),doc:y,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function KS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e){e=ls(e,Tn);const t=ls(e.firestore,ho);return DS(rg(t),e._key).then(i=>m4(t,e,i))}class f4 extends FS{constructor(t){super(),this.firestore=t}convertBytes(t){return new fo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Tn(this.firestore,null,i)}}function XS(e,t,i,...r){e=ls(e,Tn);const o=ls(e.firestore,ho),u=r4(o);let f;return f=typeof(t=us(t))=="string"||t instanceof nf?zS(u,"updateDoc",e._key,t,i,r):BS(u,"updateDoc",e._key,t),d4(o,[f.toMutation(e._key,xi.exists(!0))])}function ZS(e,t){const i=ls(e.firestore,ho),r=ef(e),o=QS(e.converter,t);return d4(i,[US(r4(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function JS(e,...t){var i,r,o;e=us(e);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||w_(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(w_(t[f])){const T=t[f];t[f]=(i=T.next)===null||i===void 0?void 0:i.bind(T),t[f+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let y,g,v;if(e instanceof Tn)g=ls(e.firestore,ho),v=Gh(e._key.path),y={next:T=>{t[f]&&t[f](m4(g,e,T))},error:t[f+1],complete:t[f+2]};else{const T=ls(e,tf);g=ls(T.firestore,ho),v=T._query;const b=new f4(g);y={next:x=>{t[f]&&t[f](new YS(g,b,T,x))},error:t[f+1],complete:t[f+2]},GS(e._query)}return function(b,x,V,U){const L=new J3(U),q=new H3(x,L,V);return b.asyncQueue.enqueueAndForget(async()=>z3(await gm(b),q)),()=>{L.xu(),b.asyncQueue.enqueueAndForget(async()=>q3(await gm(b),q))}}(rg(g),v,m,y)}function d4(e,t){return function(r,o){const u=new Js;return r.asyncQueue.enqueueAndForget(async()=>_S(await IS(r),o,u)),u.promise}(rg(e),t)}function m4(e,t,i){const r=i.docs.get(t._key),o=new f4(e);return new h4(e,o,t._key,r,new Ul(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){yo=o})(A8),ph(new su("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new ho(new z8(r.getProvider("auth-internal")),new G8(f,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new vt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),eo(xy,Iy,t),eo(xy,Iy,"esm2017")})();const WS={apiKey:"AIzaSyA1YHZuK7xQzrGf2sVPo8Qax__FqLaFg_g",authDomain:"boop-chat.firebaseapp.com",projectId:"boop-chat",storageBucket:"boop-chat.firebasestorage.app",messagingSenderId:"86390385381",appId:"1:86390385381:web:899e240ed5dedab2a8c20c",measurementId:"G-R49YGVYMFQ"},tw=Mv(WS),af=OS(tw),ew=async e=>(await ZS(NS(af,"sessions"),e)).id,nw=async e=>{const t=await $S(ef(af,"sessions",e));return t.exists()?(console.log("The data has been found at Firestore!"),t.data()):(console.log("The data doesn't exist at Firestore!"),null)},iw=async(e,t)=>{XS(ef(af,"sessions",e),t)},sw=async(e,t,i)=>{const r=ef(af,"sessions",e),o=JS(r,async u=>{var m;if(!u.exists())return;const f=u.data();f.receiverDescription&&((m=f.receiverCandidates)==null?void 0:m.length)>0&&(console.log("Receiver info available:",f),i.current=f.receiverName,t(f),o())});return o},A_=async(e,t,i,r,o,u,f,m,y)=>{console.log(t.current),t.current.onicecandidate=v=>{v.candidate?(console.log("Ice candidate found! Candidate = ",v.candidate),console.log(u.current),u.current.push(v.candidate.toJSON())):(console.log("The ice gathering state might have been completed by this time!"),console.log("State = ",t.current.iceGatheringState))},t.current.onicecandidateerror=v=>{console.warn("ICE candidate error:",v.errorCode,v.port,v.url)};const g=t.current.getConfiguration();if(console.log("ICE servers configured on this PC:",g.iceServers),e==="sender"){t.current.addTransceiver("video",{direction:"sendrecv"}),t.current.addTransceiver("audio",{direction:"sendrecv"}),i.current=t.current.createDataChannel("chat"),r.current=t.current.createDataChannel("image"),o.current=t.current.createDataChannel("video"),i.current.onopen=()=>{console.log("The data channel has been established!"),f(!0)},r.current.onopen=()=>{console.log("The image channel has been established!")},o.current.onopen=()=>{console.log("The video channel has been established!")};let v=await t.current.createOffer();console.log("The offer has been created!"),await t.current.setLocalDescription(v),console.log("The local description has been added!")}else{console.log(t.current);let v=await nw(y);if(!v)return null;m.current=v.senderName,await rw(t,v),console.log("The state of the peer connection = ",t.current.iceGatheringState)}console.log("The initial setup of the connection has been established.")},rw=async(e,t)=>{console.log(t.senderDescription),await e.current.setRemoteDescription(t.senderDescription),console.log("The remote description has been added!"),e.current.getTransceivers().forEach(o=>{o.direction="sendrecv"});let r=await e.current.createAnswer();console.log("The answer has been created!"),await e.current.setLocalDescription(r),console.log("The local description has been added!");for(const o of t.senderCandidates)try{await e.current.addIceCandidate(o)}catch(u){console.error("Error adding ICE candidate:",u)}};async function aw(e,t,i,r){console.log("Starting the createLink function! At the beginning of the function, the state = ",e.iceGatheringState),console.log("The iceCandidate object looks like this: ",t.current);let o=await ew({senderName:i,senderDescription:{type:e.current.localDescription.type,sdp:e.current.localDescription.sdp},senderCandidates:t.current,receiverName:"",receiverDescription:"",receiverCandidates:""});return console.log("The session has been added to Firebase by the sender! Now, waiting for the receiver!"),sw(o,async u=>{await e.current.setRemoteDescription(new RTCSessionDescription(u.receiverDescription));for(const f of u.receiverCandidates)await e.current.addIceCandidate(new RTCIceCandidate(f))},r),o}async function ow(e,t,i,r){return console.log("After the waiting, the state = ",e.current.iceGatheringState),await iw(r,{receiverName:i,receiverDescription:{type:e.current.localDescription.type,sdp:e.current.localDescription.sdp},receiverCandidates:t.current}),"success"}const lw=new URLSearchParams(window.location.search),qs=lw.get("link"),uw=()=>{const{peerConnection:e,iceCandidates:t,dataChannel:i,imageChannel:r,videoChannel:o,peerName:u,setConnected:f}=J.useContext(bn),{showNotification:m}=pu(),[y,g]=J.useState(!1),v=J.useRef(null);function T(x){x.preventDefault(),navigator.clipboard.writeText(x.target.elements.link.value),m("The link has been copied!")}const b=async x=>{if(x.preventDefault(),g(!0),qs){let V=await ow(e,t,v.current.value,qs);console.log(V),V?V=="success"&&(e.current.ondatachannel=U=>{U.channel.label==="chat"&&(i.current=U.channel,console.log("The data channel has been established!"),f(!0)),U.channel.label==="image"&&(r.current=U.channel,console.log("The image channel has been established!")),U.channel.label==="video"&&(o.current=U.channel,console.log("The video channel has been established!"))}):alert("The link you gave doesn't exist.")}else{let V=await aw(e,t,v.current.value,u);v.current.value=`https://www.mukesharyal.com.np/boop?link=${V}`,v.current.disabled=!0,navigator.clipboard.writeText(v.current.value),m("The link has been copied!")}};return J.useEffect(()=>{A_(qs?"receiver":"sender",e,i,r,o,t,f,u,qs)},[]),A.jsxs(A.Fragment,{children:[A.jsx(K7,{}),A.jsx("main",{className:Vl.mainContainer,children:A.jsx("section",{className:Vl.inputCard,children:y?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:Vl.loaderWrapper,children:A.jsx("div",{className:Vl.loader})}),A.jsx("h1",{children:qs?"Joining the chat":"Waiting for other person to join"}),!qs&&A.jsxs("form",{onSubmit:T,children:[A.jsx("input",{autoFocus:!0,spellCheck:!1,autoComplete:"off",name:"link",ref:v,title:"Copy this link",className:Vl.linkInput}),A.jsx("br",{}),A.jsx("button",{name:"copyLinkButton",children:"Copy Link"})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("h1",{children:["Welcome to Boop.",A.jsx("br",{}),"Let's Get Started!"]}),A.jsxs("form",{onSubmit:b,children:[A.jsx("input",{name:"name",required:!0,minLength:2,maxLength:20,autoComplete:"off",type:"text",spellCheck:!1,placeholder:"Your Name",title:"Enter your name",id:"name",ref:v}),A.jsx("br",{}),qs?A.jsx("button",{type:"submit",children:"Join Chat"}):A.jsx("button",{type:"submit",children:"Create Link"})]})]})})})]})},cw="_chatPage_1wcvs_1",hw="_videoContainer_1wcvs_7",fw="_settingsContainer_1wcvs_12",dw="_chatContainer_1wcvs_20",mw="_shownOnMobile_1wcvs_39",Nl={chatPage:cw,videoContainer:hw,settingsContainer:fw,chatContainer:dw,shownOnMobile:mw},gw="_actionList_1e7p7_1",pw="_sent_1e7p7_21",yw="_received_1e7p7_25",I1={actionList:gw,sent:pw,received:yw};function _w(){const e=Se.c(26);console.log("Actions List rendered!");const{dataChannel:t}=J.useContext(bn),{selectedMessage:i}=J.useContext(Zn),r=Vt(Ew),o=Vt(vw),{showNotification:u}=pu();let f;e[0]!==i.current.content||e[1]!==i.current.type||e[2]!==u?(f=()=>{i.current.type==="text"?(navigator.clipboard.writeText(i.current.content),u("The message has been copied!")):u("This message cannot be copied!")},e[0]=i.current.content,e[1]=i.current.type,e[2]=u,e[3]=f):f=e[3];const m=f;let y;e[4]!==i.current||e[5]!==r?(y=()=>{r(i.current)},e[4]=i.current,e[5]=r,e[6]=y):y=e[6];const g=y;let v;e[7]!==t||e[8]!==o||e[9]!==i.current.receivedId||e[10]!==i.current.sentId?(v=()=>{if(i.current.sentId===null)o(i.current.sentId,i.current.receivedId);else{const it={type:"delete",sentId:i.current.sentId};t.current.send(JSON.stringify(it))}},e[7]=t,e[8]=o,e[9]=i.current.receivedId,e[10]=i.current.sentId,e[11]=v):v=e[11];const T=v,b=`${I1.actionList} ${i.current.sentId===null?I1.received:I1.sent}`;let x;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=A.jsxs("svg",{fill:"#000000",width:"2rem",height:"2rem",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("title",{children:"reply"}),A.jsx("path",{d:"M3.488 15.136q0 0.96 0.8 1.472l10.72 7.136q0.416 0.288 0.896 0.32t0.928-0.224 0.704-0.672 0.256-0.896v-3.584q3.456 0 6.208 1.984t3.872 5.152q0.64-1.792 0.64-3.552 0-2.912-1.44-5.376t-3.904-3.904-5.376-1.44v-3.584q0-0.48-0.256-0.896t-0.704-0.672-0.928-0.224-0.896 0.32l-10.72 7.136q-0.8 0.512-0.8 1.504z"})]}),e[12]=x):x=e[12];let V;e[13]!==g?(V=A.jsxs("li",{onClick:g,children:[x,"Reply"]}),e[13]=g,e[14]=V):V=e[14];let U;e[15]===Symbol.for("react.memo_cache_sentinel")?(U=A.jsxs("svg",{width:"2rem",height:"2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M16 12.9V17.1C16 20.6 14.6 22 11.1 22H6.9C3.4 22 2 20.6 2 17.1V12.9C2 9.4 3.4 8 6.9 8H11.1C14.6 8 16 9.4 16 12.9Z",fill:"#292D32"}),A.jsx("path",{d:"M17.0998 2H12.8998C9.81668 2 8.37074 3.09409 8.06951 5.73901C8.00649 6.29235 8.46476 6.75 9.02167 6.75H11.0998C15.2998 6.75 17.2498 8.7 17.2498 12.9V14.9781C17.2498 15.535 17.7074 15.9933 18.2608 15.9303C20.9057 15.629 21.9998 14.1831 21.9998 11.1V6.9C21.9998 3.4 20.5998 2 17.0998 2Z",fill:"#292D32"})]}),e[15]=U):U=e[15];let L;e[16]!==m?(L=A.jsxs("li",{onClick:m,children:[U,"Copy"]}),e[16]=m,e[17]=L):L=e[17];let q;e[18]===Symbol.for("react.memo_cache_sentinel")?(q=A.jsx("svg",{width:"2rem",height:"2rem",viewBox:"-0.5 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{id:"out",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:A.jsx("path",{d:"M4.91666667,14.8888889 C4.91666667,15.3571429 5.60416667,16 6.0625,16 L12.9375,16 C13.3958333,16 14.0833333,15.3571429 14.0833333,14.8888889 L14.0833333,6 L4.91666667,6 L4.91666667,14.8888889 L4.91666667,14.8888889 L4.91666667,14.8888889 Z M15,3.46500003 L12.5555556,3.46500003 L11.3333333,2 L7.66666667,2 L6.44444444,3.46500003 L4,3.46500003 L4,4.93000007 L15,4.93000007 L15,3.46500003 L15,3.46500003 L15,3.46500003 Z",id:"path",fill:"#000000","sketch:type":"MSShapeGroup"})})}),e[18]=q):q=e[18];let $;e[19]!==T?($=A.jsxs("li",{onClick:T,children:[q,"Delete"]}),e[19]=T,e[20]=$):$=e[20];let K;return e[21]!==b||e[22]!==V||e[23]!==L||e[24]!==$?(K=A.jsxs("ul",{className:b,children:[V,L,$]}),e[21]=b,e[22]=V,e[23]=L,e[24]=$,e[25]=K):K=e[25],K}function vw(e){return e.removeMessage}function Ew(e){return e.setReplying}const Tw="_reactionList_qim9b_1",bw="_selectedReaction_qim9b_34",C_={reactionList:Tw,selectedReaction:bw},Sw=["","","","","",""];function ww(){const e=Se.c(12);console.log("Reactions list rendered!");const{dataChannel:t}=J.useContext(bn),{selectedMessage:i,pointerPosition:r}=J.useContext(Zn);let o=r.current.y-70,u=r.current.x-90;o<0&&(o=10),u<0&&(u=10);let f;e[0]!==t||e[1]!==i?(f=T=>{T===i.current.reaction&&(T=-1);const x={type:"reaction",id:i.current.receivedId,reaction:T};t.current.send(JSON.stringify(x))},e[0]=t,e[1]=i,e[2]=f):f=e[2];const m=f;let y;e[3]!==u||e[4]!==o?(y={top:o,left:u},e[3]=u,e[4]=o,e[5]=y):y=e[5];let g;e[6]!==i||e[7]!==m?(g=Sw.map((T,b)=>A.jsx("li",{onClick:()=>{m(b)},className:i.current.reaction===b?C_.selectedReaction:"",children:T},b)),e[6]=i,e[7]=m,e[8]=g):g=e[8];let v;return e[9]!==y||e[10]!==g?(v=A.jsx("ul",{className:C_.reactionList,style:y,children:g}),e[9]=y,e[10]=g,e[11]=v):v=e[11],v}const Aw="_replyInfo_oczyu_1",Cw="_replyingTo_oczyu_34",Rw="_selectedMessage_oczyu_39",Xc={replyInfo:Aw,replyingTo:Cw,selectedMessage:Rw};function xw(){const e=Se.c(15),{peerName:t}=J.useContext(bn),{selectedMessage:i}=J.useContext(Zn),r=Vt(Iw),o=i.current.receivedId===null?"yourself":t.current,u=i.current.type==="image"?"Image":i.current.content;let f;e[0]!==r?(f=()=>{r(null)},e[0]=r,e[1]=f):f=e[1];const m=f;let y;e[2]!==o?(y=A.jsxs("p",{className:Xc.replyingTo,children:["Replying to ",o]}),e[2]=o,e[3]=y):y=e[3];let g;e[4]!==u?(g=A.jsx("p",{className:Xc.selectedMessage,children:u}),e[4]=u,e[5]=g):g=e[5];let v;e[6]!==y||e[7]!==g?(v=A.jsxs("div",{className:Xc.messageContents,children:[y,g]}),e[6]=y,e[7]=g,e[8]=v):v=e[8];let T;e[9]===Symbol.for("react.memo_cache_sentinel")?(T=A.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"}),e[9]=T):T=e[9];let b;e[10]!==m?(b=A.jsx("svg",{width:"1rem",height:"1rem",onClick:m,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:T}),e[10]=m,e[11]=b):b=e[11];let x;return e[12]!==v||e[13]!==b?(x=A.jsxs("div",{className:Xc.replyInfo,children:[v,b]}),e[12]=v,e[13]=b,e[14]=x):x=e[14],x}function Iw(e){return e.setReplying}const Dw="_sent_1dofm_13",Mw="_received_1dofm_17",Vw="_actionsContainer_1dofm_25",D1={sent:Dw,received:Mw,actionsContainer:Vw};function Nw(e){const t=Se.c(16),{imageSource:i,imageAlt:r,imageSent:o}=e,u=r===void 0?"Image":r;console.log("Image dialog rendered!");const f=Vt(Lw),m=J.useRef(null),y=Ow;let g;t[0]!==i?(g=()=>{window.open(i,"_blank")},t[0]=i,t[1]=g):g=t[1];const v=g;let T;t[2]!==f?(T=()=>{window.history.pushState("image","",null);const K=m.current;if(!K)return;const it=F=>{F.target===K&&y()},W=F=>{F.state==="image"&&f(null)};return K.addEventListener("click",it),window.addEventListener("popstate",W),()=>{K.removeEventListener("click",it),window.removeEventListener("popstate",W)}},t[2]=f,t[3]=T):T=t[3];let b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=[],t[4]=b):b=t[4],J.useEffect(T,b);const x=o?D1.sent:D1.received;let V;t[5]===Symbol.for("react.memo_cache_sentinel")?(V=A.jsx("button",{onClick:y,children:A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})}),t[5]=V):V=t[5];let U;t[6]===Symbol.for("react.memo_cache_sentinel")?(U=A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.163 2.819C9 3.139 9 3.559 9 4.4V11H7.803c-.883 0-1.325 0-1.534.176a.75.75 0 0 0-.266.62c.017.274.322.593.931 1.232l4.198 4.401c.302.318.453.476.63.535a.749.749 0 0 0 .476 0c.177-.059.328-.217.63-.535l4.198-4.4c.61-.64.914-.96.93-1.233a.75.75 0 0 0-.265-.62C17.522 11 17.081 11 16.197 11H15V4.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 0 0-.655-.656C13.861 2 13.441 2 12.6 2h-1.2c-.84 0-1.26 0-1.581.163a1.5 1.5 0 0 0-.656.656zM5 21a1 1 0 0 0 1 1h12a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1z",fill:"#000000"})}),t[6]=U):U=t[6];let L;t[7]!==v?(L=A.jsxs("div",{className:D1.actionsContainer,children:[V,A.jsx("button",{onClick:v,children:U})]}),t[7]=v,t[8]=L):L=t[8];let q;t[9]!==u||t[10]!==i?(q=A.jsx("img",{src:i,alt:u}),t[9]=u,t[10]=i,t[11]=q):q=t[11];let $;return t[12]!==x||t[13]!==L||t[14]!==q?($=A.jsxs("dialog",{ref:m,className:x,children:[L,q]}),t[12]=x,t[13]=L,t[14]=q,t[15]=$):$=t[15],$}function Ow(){window.history.back()}function Lw(e){return e.setImageDialog}const kw="_navContainer_jqxvx_1",jw="_profileContainer_jqxvx_17",Pw="_actionsContainer_jqxvx_31",Ol={navContainer:kw,profileContainer:jw,actionsContainer:Pw};function Uw(){const e=Se.c(19);console.log("Chat header rendered!");const{peerName:t}=J.useContext(bn),i=Vt(qw),r=Vt(zw),o=Vt(Bw);let u;e[0]!==r?(u=()=>{r("idle")},e[0]=r,e[1]=u):u=e[1];const f=u;let m;e[2]!==o?(m=()=>{o()},e[2]=o,e[3]=m):m=e[3];const y=m;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=A.jsx("img",{src:"./pp.svg",width:32,height:32,className:Ol.profileImage}),e[4]=g):g=e[4];const v=t.current?t.current:"Receiver";let T;e[5]!==v?(T=A.jsxs("div",{className:Ol.profileContainer,children:[g,A.jsx("p",{children:v})]}),e[5]=v,e[6]=T):T=e[6];let b;e[7]!==f||e[8]!==i?(b=i==="hidden"&&A.jsx("button",{className:Ol.videoCallButton,onClick:f,children:A.jsx("svg",{width:"1.25rem",height:"1.25rem",viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"})})}),e[7]=f,e[8]=i,e[9]=b):b=e[9];let x;e[10]===Symbol.for("react.memo_cache_sentinel")?(x=A.jsx("svg",{width:"1.25rem",height:"1.25rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2788 2.15224C13.9085 2 13.439 2 12.5 2C11.561 2 11.0915 2 10.7212 2.15224C10.2274 2.35523 9.83509 2.74458 9.63056 3.23463C9.53719 3.45834 9.50065 3.7185 9.48635 4.09799C9.46534 4.65568 9.17716 5.17189 8.69017 5.45093C8.20318 5.72996 7.60864 5.71954 7.11149 5.45876C6.77318 5.2813 6.52789 5.18262 6.28599 5.15102C5.75609 5.08178 5.22018 5.22429 4.79616 5.5472C4.47814 5.78938 4.24339 6.1929 3.7739 6.99993C3.30441 7.80697 3.06967 8.21048 3.01735 8.60491C2.94758 9.1308 3.09118 9.66266 3.41655 10.0835C3.56506 10.2756 3.77377 10.437 4.0977 10.639C4.57391 10.936 4.88032 11.4419 4.88029 12C4.88026 12.5581 4.57386 13.0639 4.0977 13.3608C3.77372 13.5629 3.56497 13.7244 3.41645 13.9165C3.09108 14.3373 2.94749 14.8691 3.01725 15.395C3.06957 15.7894 3.30432 16.193 3.7738 17C4.24329 17.807 4.47804 18.2106 4.79606 18.4527C5.22008 18.7756 5.75599 18.9181 6.28589 18.8489C6.52778 18.8173 6.77305 18.7186 7.11133 18.5412C7.60852 18.2804 8.2031 18.27 8.69012 18.549C9.17714 18.8281 9.46533 19.3443 9.48635 19.9021C9.50065 20.2815 9.53719 20.5417 9.63056 20.7654C9.83509 21.2554 10.2274 21.6448 10.7212 21.8478C11.0915 22 11.561 22 12.5 22C13.439 22 13.9085 22 14.2788 21.8478C14.7726 21.6448 15.1649 21.2554 15.3694 20.7654C15.4628 20.5417 15.4994 20.2815 15.5137 19.902C15.5347 19.3443 15.8228 18.8281 16.3098 18.549C16.7968 18.2699 17.3914 18.2804 17.8886 18.5412C18.2269 18.7186 18.4721 18.8172 18.714 18.8488C19.2439 18.9181 19.7798 18.7756 20.2038 18.4527C20.5219 18.2105 20.7566 17.807 21.2261 16.9999C21.6956 16.1929 21.9303 15.7894 21.9827 15.395C22.0524 14.8691 21.9088 14.3372 21.5835 13.9164C21.4349 13.7243 21.2262 13.5628 20.9022 13.3608C20.4261 13.0639 20.1197 12.558 20.1197 11.9999C20.1197 11.4418 20.4261 10.9361 20.9022 10.6392C21.2263 10.4371 21.435 10.2757 21.5836 10.0835C21.9089 9.66273 22.0525 9.13087 21.9828 8.60497C21.9304 8.21055 21.6957 7.80703 21.2262 7C20.7567 6.19297 20.522 5.78945 20.2039 5.54727C19.7799 5.22436 19.244 5.08185 18.7141 5.15109C18.4722 5.18269 18.2269 5.28136 17.8887 5.4588C17.3915 5.71959 16.7969 5.73002 16.3099 5.45096C15.8229 5.17191 15.5347 4.65566 15.5136 4.09794C15.4993 3.71848 15.4628 3.45833 15.3694 3.23463C15.1649 2.74458 14.7726 2.35523 14.2788 2.15224ZM12.5 15C14.1695 15 15.5228 13.6569 15.5228 12C15.5228 10.3431 14.1695 9 12.5 9C10.8305 9 9.47716 10.3431 9.47716 12C9.47716 13.6569 10.8305 15 12.5 15Z",fill:"#1C274C"})}),e[10]=x):x=e[10];let V;e[11]!==y?(V=A.jsx("button",{onClick:y,children:x}),e[11]=y,e[12]=V):V=e[12];let U;e[13]!==b||e[14]!==V?(U=A.jsxs("ul",{className:Ol.actionsContainer,children:[b,V]}),e[13]=b,e[14]=V,e[15]=U):U=e[15];let L;return e[16]!==T||e[17]!==U?(L=A.jsxs("nav",{"aria-label":"Main Navigation",className:Ol.navContainer,children:[T,U]}),e[16]=T,e[17]=U,e[18]=L):L=e[18],L}function Bw(e){return e.reverseSettings}function zw(e){return e.setVideoCall}function qw(e){return e.videoCall}const Hw="_chatContainer_pygrn_1",Gw="_chatBottom_pygrn_18",R_={chatContainer:Hw,chatBottom:Gw},Fw="_textMessage_qznyh_1",Qw="_sentMessage_qznyh_31",Yw="_receivedMessage_qznyh_36",Kw="_sending_qznyh_41",$w="_sent_qznyh_31",Xw="_deletedMessage_qznyh_49",Zw="_topMessage_qznyh_55",Jw="_bottomMessage_qznyh_60",Ww="_repliedMessage_qznyh_73",tA="_hasImage_qznyh_78",eA="_hasReaction_qznyh_84",nA="_emoji_qznyh_88",iA="_optionsButton_qznyh_98",Nn={textMessage:Fw,sentMessage:Qw,receivedMessage:Yw,sending:Kw,sent:$w,deletedMessage:Xw,topMessage:Zw,bottomMessage:Jw,repliedMessage:Ww,hasImage:tA,hasReaction:eA,emoji:nA,optionsButton:iA},sA="_reaction_1ib9n_1",rA="_sentReaction_1ib9n_11",aA="_receivedReaction_1ib9n_16",M1={reaction:sA,sentReaction:rA,receivedReaction:aA},oA=["","","","","",""];function lA(e){const t=Se.c(8),{reaction:i,origin:r}=e,[o,u]=go(uA);let f;t[0]!==u?(f=()=>{u.start({from:{scale:0},to:{scale:1},config:{tension:300,friction:15}})},t[0]=u,t[1]=f):f=t[1];let m;t[2]!==i?(m=[i],t[2]=i,t[3]=m):m=t[3],J.useEffect(f,m);let y;return t[4]!==r||t[5]!==i||t[6]!==o?(y=i!==-1?A.jsx(Ks.span,{className:`${M1.reaction} ${r==="sent"?M1.sentReaction:M1.receivedReaction}`,style:{...o},children:oA[i]}):A.jsx(A.Fragment,{}),t[4]=r,t[5]=i,t[6]=o,t[7]=y):y=t[7],y}function uA(){return{scale:1}}const cA="_requestDiv_1axuz_1",hA="_decisionBox_1axuz_9",fA="_loading_1axuz_35",V1={requestDiv:cA,decisionBox:hA,loading:fA};function dA(e){const t=Se.c(16),{sentId:i,receivedId:r}=e;console.log("Image request rendered!");const{dataChannel:o,peerName:u}=J.useContext(bn),f=Vt(mA),{receivingImage:m}=J.useContext(Zn),{showNotification:y}=pu(),[g,v]=J.useState(!1);let T;t[0]!==o.current||t[1]!==r||t[2]!==m.current||t[3]!==i||t[4]!==y?(T=()=>{m.current===null?(o.current.send(JSON.stringify({type:"imageAccept",sentId:r,receivedId:i})),v(!0)):y("Please wait for a while!")},t[0]=o.current,t[1]=r,t[2]=m.current,t[3]=i,t[4]=y,t[5]=T):T=t[5];const b=T;let x;t[6]!==o.current||t[7]!==r||t[8]!==f||t[9]!==i?(x=()=>{o.current.send(JSON.stringify({type:"imageReject",sentId:r,receivedId:i})),f(i,r)},t[6]=o.current,t[7]=r,t[8]=f,t[9]=i,t[10]=x):x=t[10];const V=x;let U;return t[11]!==b||t[12]!==g||t[13]!==u||t[14]!==V?(U=g?A.jsxs("div",{className:V1.loading,children:[A.jsx("span",{children:"L"}),A.jsx("span",{children:"o"}),A.jsx("span",{children:"a"}),A.jsx("span",{children:"d"}),A.jsx("span",{children:"i"}),A.jsx("span",{children:"n"}),A.jsx("span",{children:"g"}),A.jsx("span",{children:""}),A.jsx("span",{children:"i"}),A.jsx("span",{children:"m"}),A.jsx("span",{children:"a"}),A.jsx("span",{children:"g"}),A.jsx("span",{children:"e"})]}):A.jsxs("div",{className:V1.requestDiv,children:[A.jsxs("div",{children:[u.current," wants to send you an image"]}),A.jsxs("div",{className:V1.decisionBox,children:[A.jsx("button",{onClick:b,children:"Accept"}),A.jsx("button",{onClick:V,children:"Reject"})]})]}),t[11]=b,t[12]=g,t[13]=u,t[14]=V,t[15]=U):U=t[15],U}function mA(e){return e.removeMessage}const gA="_wrapperContainer_1jaxu_1",pA="_show_1jaxu_13",N1={wrapperContainer:gA,show:pA};function fg({imageData:e,imageSource:t,imageAlt:i="Image",backgroundColor:r,clickHandler:o}){const[u,f]=J.useState(!1),m={[`data-${e==null?void 0:e.label}`]:e==null?void 0:e.value};return A.jsx("div",{style:{backgroundColor:u?"transparent":r},className:`${N1.wrapperContainer} ${u?N1.stopAnimation:""}`,children:A.jsx("img",{onClick:o,...m,className:u?N1.show:"",onLoad:()=>{f(!0)},src:t,alt:i})})}const g4=J.memo(({message:e,prevMessageSentId:t,prevMessageReceivedId:i,prevMessageReaction:r,nextMessageSentId:o,nextMessageReceivedId:u,nextMessageReplyTo:f})=>{const{dataChannel:m}=J.useContext(bn),y=Vt(rt=>rt.setReplying),g=Vt(rt=>rt.setActionsShown),v=Vt(rt=>rt.setReactionsShown),T=Vt(rt=>rt.setImageDialog),{chatBottom:b,pointerPosition:x,selectedMessage:V,longPressed:U,atBottomRef:L}=J.useContext(Zn),{sentId:q,receivedId:$,type:K,status:it,content:W,reaction:F,deleted:D,highlight:C,replyTo:R}=e;console.log("Rendering message ",e);const k=()=>{T({src:W,sent:$===null})},N={text:()=>A.jsx("p",{children:W}),image:()=>A.jsx(fg,{imageSource:W,backgroundColor:$===null?"#FFD1B3":"#B3E0FF",clickHandler:k}),imageRequest:()=>A.jsx(dA,{sentId:q,receivedId:$})},[j,I]=go(()=>({scale:1,x:0})),Rt=J.useRef(null),It=J.useRef(!1),X=J.useRef(!0),ct=J.useRef(0),mt=J.useRef(null);J.useEffect(()=>{L.current&&(b.current.scrollIntoView({behavior:"smooth"}),L.current=!1),I.start({from:{scale:0,opacity:0},to:[{scale:1,opacity:1}],reset:!1,config:U1.stiff})},[]),J.useEffect(()=>{if(X.current){X.current=!1;return}(async()=>(mt.current.scrollIntoView({behavior:"instant"}),await new Promise(rt=>setTimeout(rt,100)),I.start({from:{scale:1},to:[{scale:1.2},{scale:1}],config:U1.stiff})))()},[C]);const Ct=()=>{if(q===null&&F!==1){let rt={type:"reaction",id:$,reaction:1};m.current.send(JSON.stringify(rt))}},O=I7({onPointerDown:({event:rt})=>{It.current=!1,Rt.current=setTimeout(()=>{It.current||(x.current.x=rt.clientX,x.current.y=rt.clientY,U.current=!0,I.start({from:{scale:1},to:[{scale:1.1},{scale:1}],config:{duration:150},onRest:()=>{g(!0),y(null),q===null&&v(!0),V.current=e}}))},500)},onPointerUp:()=>{setTimeout(()=>{U.current=!1},100),clearTimeout(Rt.current);const rt=Date.now();rt-ct.current<500?(Ct(),ct.current=0):ct.current=rt},onPointerLeave:()=>{clearTimeout(Rt.current)},onDrag:({last:rt,movement:[at]})=>{if(q===null){if(at<0)return}else if(at>0)return;if(Math.abs(at)<5)return;It.current=Math.abs(at)>5;let pt=$===null?Math.min(0,at):Math.max(0,at);I.start({x:pt,onRest:()=>{Math.abs(at)>60&&(V.current=e,y(V.current),g(!1),v(!1))}}),It.current&&Rt.current&&(clearTimeout(Rt.current),Rt.current=null),rt&&I.start({x:0,config:{tension:500,friction:20}})}},{eventOptions:{passive:!1}}),et=rt=>{rt.stopPropagation(),!(D===2||K==="imageRequest"||it==="sending")&&(V.current=e,g(!0),$!==null&&(x.current.x=rt.clientX-mt.current.clientWidth/2-36,x.current.y=rt.clientY,v(!0)))};return A.jsxs(Ks.div,{ref:mt,...D!==0||K==="imageRequest"||it==="sending"?{}:O(),style:{...j},className:`
        ${Nn.textMessage}
        ${it==="sending"?Nn.sending:Nn.sent}
        ${$===null?Nn.sentMessage:Nn.receivedMessage}
        ${(o===q||u===$)&&e.reaction===-1&&!f?Nn.topMessage:""}
        ${(t===q||i===$)&&!r?Nn.bottomMessage:""}
        ${R?Nn.repliedMessage:""}
        ${D===2?Nn.deletedMessage:""}
        ${F!==-1&&D!==2?Nn.hasReaction:""}
        ${K==="image"?Nn.hasImage:""}
        ${U7(W)?Nn.emoji:""}
      `,children:[(N[K]||(()=>A.jsx("p",{children:A.jsx("span",{children:"Unknown type"})})))(),D!==2&&A.jsx(lA,{reaction:F,origin:q===null?"received":"sent"}),A.jsx("button",{onClick:()=>{et(event)},className:Nn.optionsButton,children:A.jsxs("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M0 0h48v48H0z",fill:"none"}),A.jsxs("g",{children:[A.jsx("circle",{cx:"24",cy:"24",r:"5"}),A.jsx("circle",{cx:"24",cy:"11",r:"5"}),A.jsx("circle",{cx:"24",cy:"37",r:"5"})]})]})})]})}),yA="_replyToMessage_1f615_1",_A="_sentMessage_1f615_20",vA="_receivedMessage_1f615_25",Zc={replyToMessage:yA,sentMessage:_A,receivedMessage:vA};function EA(e){const t=Se.c(18),{message:i,nextMessageSentId:r,nextMessageReceivedId:o,nextMessageReplyTo:u}=e,f=Vt(TA);let m;t[0]!==f||t[1]!==i.replyTo.receivedId||t[2]!==i.replyTo.sentId?(m=()=>{setTimeout(()=>{f(i.replyTo.sentId,i.replyTo.receivedId)},100)},t[0]=f,t[1]=i.replyTo.receivedId,t[2]=i.replyTo.sentId,t[3]=m):m=t[3];const y=m,g=`
          ${Zc.replyToMessage}
          ${i.receivedId===null?Zc.sentMessage:Zc.receivedMessage}
          ${i.reaction!==-1?Zc.hasReaction:""}
        `,v=i.replyTo.type==="image"?"Image":i.replyTo.content;let T;t[4]!==v?(T=A.jsx("p",{children:v}),t[4]=v,t[5]=T):T=t[5];let b;t[6]!==y||t[7]!==g||t[8]!==T?(b=A.jsx("a",{onClick:y,className:g,children:T}),t[6]=y,t[7]=g,t[8]=T,t[9]=b):b=t[9];let x;t[10]!==i||t[11]!==o||t[12]!==u||t[13]!==r?(x=A.jsx(g4,{message:i,replied:!0,nextMessageSentId:r,nextMessageReceivedId:o,nextMessageReplyTo:u}),t[10]=i,t[11]=o,t[12]=u,t[13]=r,t[14]=x):x=t[14];let V;return t[15]!==b||t[16]!==x?(V=A.jsxs(A.Fragment,{children:[b,x]}),t[15]=b,t[16]=x,t[17]=V):V=t[17],V}function TA(e){return e.highlightMessage}const bA="_typingIndicator_1e28p_1",SA="_dot_1e28p_14",Jc={typingIndicator:bA,dot:SA};function wA(){const e=Se.c(1),{chatBottom:t}=J.useContext(Zn);Gl(t)&&setTimeout(()=>{t.current.scrollIntoView({behavior:"smooth"})},300);let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=A.jsxs("div",{className:Jc.typingIndicator,children:[A.jsx("span",{className:Jc.dot}),A.jsx("span",{className:Jc.dot}),A.jsx("span",{className:Jc.dot})]}),e[0]=i):i=e[0],i}const AA="_newMessageContainer_p3j2r_1",CA="_newMessage_p3j2r_1",x_={newMessageContainer:AA,newMessage:CA};function RA(){const e=Se.c(4);console.log("New Message component rendered!");const{chatBottom:t}=J.useContext(Zn);let i;e[0]!==t.current?(i=()=>{t.current.scrollIntoView({behavior:"smooth"})},e[0]=t.current,e[1]=i):i=e[1];const r=i;let o;return e[2]!==r?(o=A.jsx("div",{className:x_.newMessageContainer,children:A.jsx("div",{className:x_.newMessage,onClick:r,children:"New Message"})}),e[2]=r,e[3]=o):o=e[3],o}function xA(){const e=Se.c(17);console.log("Chat component rendered!");const{chatBottom:t}=J.useContext(Zn),i=Vt(NA),r=Vt(VA),o=Vt(MA),u=Vt(DA);let f;e[0]!==t||e[1]!==u?(f=()=>{const x=new IntersectionObserver(U=>{U.forEach(L=>{L.isIntersecting&&u(!1)})},{threshold:.1}),V=t.current;return V&&x.observe(V),()=>{V&&x.unobserve(V)}},e[0]=t,e[1]=u,e[2]=f):f=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[3]=m):m=e[3],J.useLayoutEffect(f,m);let y;e[4]!==i?(y=i.map(IA),e[4]=i,e[5]=y):y=e[5];let g;e[6]!==r?(g=r&&A.jsx(wA,{}),e[6]=r,e[7]=g):g=e[7];let v;e[8]!==o?(v=o&&A.jsx(RA,{}),e[8]=o,e[9]=v):v=e[9];let T;e[10]!==t?(T=A.jsx("div",{ref:t,className:R_.chatBottom,children:"Hehe"},"chatBottom"),e[10]=t,e[11]=T):T=e[11];let b;return e[12]!==y||e[13]!==g||e[14]!==v||e[15]!==T?(b=A.jsxs("div",{className:R_.chatContainer,children:[y,g,v,T]}),e[12]=y,e[13]=g,e[14]=v,e[15]=T,e[16]=b):b=e[16],b}function IA(e,t,i){var r,o,u,f,m,y,g,v,T;return e.replyTo?A.jsx(EA,{message:e,nextMessageSentId:(r=i[t+1])==null?void 0:r.sentId,nextMessageReceivedId:(o=i[t+1])==null?void 0:o.receivedId,nextMessageReplyTo:(u=i[t+1])==null?void 0:u.replyTo},`${e.sentId} m ${e.receivedId}`):A.jsx(g4,{message:e,nextMessageSentId:(f=i[t+1])==null?void 0:f.sentId,nextMessageReceivedId:(m=i[t+1])==null?void 0:m.receivedId,nextMessageReplyTo:(y=i[t+1])==null?void 0:y.replyTo,prevMessageSentId:(g=i[t-1])==null?void 0:g.sentId,prevMessageReceivedId:(v=i[t-1])==null?void 0:v.receivedId,prevMessageReaction:((T=i[t-1])==null?void 0:T.reaction)!==-1},`${e.sentId} m ${e.receivedId}`)}function DA(e){return e.setNewMessage}function MA(e){return e.newMessage}function VA(e){return e.typing}function NA(e){return e.messages}const OA="_inputSpaceContainer_kksll_1",LA="_textAreaWrapper_kksll_10",kA="_gifSelector_kksll_47",jA="_inputOptions_kksll_60",PA="_sendButton_kksll_82",UA="_imageBox_kksll_102",BA="_inputImage_kksll_115",zA="_closeImage_kksll_122",Hs={inputSpaceContainer:OA,textAreaWrapper:LA,gifSelector:kA,inputOptions:jA,sendButton:PA,imageBox:UA,inputImage:BA,closeImage:zA},qA="_gifBox_v6ql1_1",HA="_inputDiv_v6ql1_19",GA="_closeButton_v6ql1_25",FA="_gifInput_v6ql1_36",QA="_gifsContainer_v6ql1_56",YA="_containerColumn_v6ql1_67",qr={gifBox:qA,inputDiv:HA,closeButton:GA,gifInput:FA,gifsContainer:QA,containerColumn:YA},KA="AIzaSyAnvUI0Ka40pbNu4COdmUoeMiIrf3gPg3k",$A="client_key=boop-chat&media_filter=tinygif,gif&contentfilter=low";function XA(e){const t=Se.c(45),{setGifPicker:i}=e;console.log("Gif Picker rendered!");const{dataChannel:r,featuredGifs:o}=J.useContext(bn),{sentId:u,selectedMessage:f,atBottomRef:m}=J.useContext(Zn),y=Vt(rC),g=Vt(sC),v=Vt(iC),[T,b]=J.useState(o.current),x=J.useRef(null),[V,U]=go(nC),{h:L}=V;let q;t[0]!==i?(q=lt=>{console.log(lt.state),lt.state==="gifs"&&i(!1)},t[0]=i,t[1]=q):q=t[1];const $=q;let K;t[2]!==U?(K=()=>{U.start({h:0,immediate:!1,onRest:eC})},t[2]=U,t[3]=K):K=t[3];const it=K;let W;t[4]!==U||t[5]!==it?(W=lt=>{const{movement:dt,last:Et}=lt,[,Mt]=dt;Math.abs(Mt)<2&&!Et||(Et?Mt>60?it():U.start({h:85,immediate:!1}):Mt>0&&U.start({h:85-Mt/window.innerHeight*100,immediate:!0}))},t[4]=U,t[5]=it,t[6]=W):W=t[6];const F=Uh(W);let D;t[7]===Symbol.for("react.memo_cache_sentinel")?(D=async lt=>{const dt=`https://tenor.googleapis.com/v2/search?q=${lt}&key=${KA}&${$A}`,Et=await fetch(dt).then(tC);b(Et.results)},t[7]=D):D=t[7];const C=D;let R;t[8]===Symbol.for("react.memo_cache_sentinel")?(R=k7(C,200),t[8]=R):R=t[8];const k=J.useRef(R);let N;t[9]!==o.current?(N=()=>{const lt=x.current.value.trimEnd();lt.length===0?b(o.current):k.current(lt)},t[9]=o.current,t[10]=N):N=t[10];const j=N;let I;t[11]!==y||t[12]!==m||t[13]!==r||t[14]!==g||t[15]!==f||t[16]!==u||t[17]!==i||t[18]!==v?(I=lt=>{console.log("Clicked!"),lt.target.dataset.url&&(Y1({type:"gif",content:lt.target.dataset.url,replying:g,setReplying:v,selectedMessage:f.current,dataChannel:r.current,addMessage:y,sentId:u,inputRef:null,atBottomRef:m}),i(!1))},t[11]=y,t[12]=m,t[13]=r,t[14]=g,t[15]=f,t[16]=u,t[17]=i,t[18]=v,t[19]=I):I=t[19];const Rt=I;let It;t[20]!==U||t[21]!==$?(It=()=>(U.start({from:{h:0},to:[{h:85}],reset:!1}),window.history.pushState("gifs","",null),window.addEventListener("popstate",$),()=>{window.removeEventListener("popstate",$)}),t[20]=U,t[21]=$,t[22]=It):It=t[22];let X;t[23]===Symbol.for("react.memo_cache_sentinel")?(X=[],t[23]=X):X=t[23],J.useEffect(It,X);let ct;t[24]!==F?(ct=F(),t[24]=F,t[25]=ct):ct=t[25];let mt;t[26]!==L?(mt=L.to(WA),t[26]=L,t[27]=mt):mt=t[27];let Ct;t[28]!==mt?(Ct={height:mt},t[28]=mt,t[29]=Ct):Ct=t[29];let O;t[30]!==j?(O=A.jsx("input",{ref:x,autoComplete:"off",placeholder:"Search",spellCheck:!1,name:"query",title:"Search for GIFs",className:qr.gifInput,onChange:j}),t[30]=j,t[31]=O):O=t[31];let et;t[32]!==it?(et=A.jsx("button",{onClick:it,className:qr.closeButton,children:" Close "}),t[32]=it,t[33]=et):et=t[33];let rt;t[34]!==O||t[35]!==et?(rt=A.jsxs("div",{className:qr.inputDiv,children:[O,et]}),t[34]=O,t[35]=et,t[36]=rt):rt=t[36];let at;t[37]!==T||t[38]!==Rt?(at=T.length>0?A.jsxs("div",{className:qr.gifsContainer,onClick:lt=>Rt(lt),children:[A.jsx("div",{className:qr.containerColumn,children:T.map(JA)}),A.jsx("div",{className:qr.containerColumn,children:T.map(ZA)})]}):A.jsx(A.Fragment,{}),t[37]=T,t[38]=Rt,t[39]=at):at=t[39];let pt;return t[40]!==ct||t[41]!==Ct||t[42]!==rt||t[43]!==at?(pt=A.jsxs(Ks.div,{...ct,style:Ct,className:qr.gifBox,children:[rt,at]}),t[40]=ct,t[41]=Ct,t[42]=rt,t[43]=at,t[44]=pt):pt=t[44],pt}function ZA(e,t){return t%2===1&&A.jsx(fg,{imageData:{label:"url",value:e.media_formats.gif.url},imageSource:e.media_formats.tinygif.url,imageAlt:e.content_description,backgroundColor:"var(--opaque-background)"},e.id+t)}function JA(e,t){return t%2===0&&A.jsx(fg,{imageData:{label:"url",value:e.media_formats.gif.url},imageSource:e.media_formats.tinygif.url,imageAlt:e.content_description,backgroundColor:"var(--opaque-background)"},e.id+t)}function WA(e){return`${e}vh`}function tC(e){return e.json()}function eC(){window.history.back()}function nC(){return{h:85}}function iC(e){return e.setReplying}function sC(e){return e.replying}function rC(e){return e.addMessage}function aC(){const e=Se.c(62);console.log("Input space rendered!");const{showNotification:t}=pu(),{dataChannel:i}=J.useContext(bn),{sentId:r,atBottomRef:o,images:u,chatBottom:f,selectedMessage:m}=J.useContext(Zn),y=Vt(uC),g=Vt(lC),v=Vt(oC),T=J.useRef(""),b=J.useRef(null),x=J.useRef(null),V=J.useRef(null),[U,L]=J.useState(!1),[q,$]=J.useState(null),[K,it]=J.useState(!1);let W,F;e[0]!==y?(W=()=>{y&&b.current&&b.current.focus()},F=[y],e[0]=y,e[1]=W,e[2]=F):(W=e[1],F=e[2]),J.useLayoutEffect(W,F);let D;e[3]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{it(!0)},e[3]=D):D=e[3];const C=D;let R;e[4]!==i?(R=()=>{i.current.send(JSON.stringify({type:"typing"}))},e[4]=i,e[5]=R):R=e[5];const k=R;let N;e[6]!==k?(N=L7(k,800),e[6]=k,e[7]=N):N=e[7];const j=J.useRef(N);let I;e[8]!==f?(I=()=>{j.current(),L(!0),b.current.style.height="auto",b.current.scrollHeight>b.current.clientHeight&&(b.current.style.height=b.current.scrollHeight+"px"),T.current=b.current.value,Gl(f)&&setTimeout(()=>{f.current.scrollIntoView({behavior:"smooth"})},200)},e[8]=f,e[9]=I):I=e[9];const Rt=I;let It;e[10]!==u.current||e[11]!==r||e[12]!==t?(It=async Ke=>{const fe=Ke.target.files[0];if(!fe)return;const Ni=await j7(fe);if(Ni.length>64){t("Please upload images upto 2 MB!");return}u.current.push({sentId:r.current,receivedId:null,fileType:fe.type,chunks:Ni}),$(URL.createObjectURL(fe))},e[10]=u.current,e[11]=r,e[12]=t,e[13]=It):It=e[13];const X=It;let ct;e[14]!==v||e[15]!==o||e[16]!==i||e[17]!==y||e[18]!==m||e[19]!==r||e[20]!==g?(ct=()=>{T.current.trim().length!==0&&(Y1({type:"text",content:T.current.trimEnd(),replying:y,setReplying:g,selectedMessage:m.current,dataChannel:i.current,addMessage:v,sentId:r,inputRef:b,atBottomRef:o}),T.current="")},e[14]=v,e[15]=o,e[16]=i,e[17]=y,e[18]=m,e[19]=r,e[20]=g,e[21]=ct):ct=e[21];const mt=ct;let Ct;e[22]!==v||e[23]!==o||e[24]!==i||e[25]!==q||e[26]!==y||e[27]!==m||e[28]!==r||e[29]!==g?(Ct=()=>{q!==null&&(Y1({type:"imageRequest",content:q,replying:y,setReplying:g,selectedMessage:m.current,dataChannel:i.current,addMessage:v,sentId:r,inputRef:V,atBottomRef:o}),$(null))},e[22]=v,e[23]=o,e[24]=i,e[25]=q,e[26]=y,e[27]=m,e[28]=r,e[29]=g,e[30]=Ct):Ct=e[30];const O=Ct;let et;e[31]===Symbol.for("react.memo_cache_sentinel")?(et=()=>{L(!1),b.current.style.height="unset",b.current.scrollTop=b.current.scrollHeight},e[31]=et):et=e[31];const rt=et;let at;e[32]!==u.current||e[33]!==r?(at=()=>{V.current.value="";const Ke=u.current.findIndex(fe=>fe.sentId===r.current&&fe.receivedId===null);u.current.splice(Ke,1),$(null)},e[32]=u.current,e[33]=r,e[34]=at):at=e[34];const pt=at;let lt;e[35]!==q||e[36]!==O||e[37]!==mt?(lt=()=>{q===null?mt():O()},e[35]=q,e[36]=O,e[37]=mt,e[38]=lt):lt=e[38];const dt=lt;let Et;e[39]!==mt?(Et=Ke=>{Ke.key==="Enter"&&(Ke.shiftKey||(Ke.preventDefault(),mt(),b.current.blur()))},e[39]=mt,e[40]=Et):Et=e[40];const Mt=Et;let oe;e[41]!==K?(oe=K?A.jsx(XA,{setGifPicker:it}):null,e[41]=K,e[42]=oe):oe=e[42];let Ue;e[43]!==U||e[44]!==X?(Ue=!U&&A.jsxs("div",{className:Hs.inputOptions,children:[A.jsx("label",{htmlFor:"fileInput",children:A.jsx("svg",{width:"1.125rem",height:"1.125rem",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M0 26.016q0 2.496 1.76 4.224t4.256 1.76h20q2.464 0 4.224-1.76t1.76-4.224v-20q0-2.496-1.76-4.256t-4.224-1.76h-20q-2.496 0-4.256 1.76t-1.76 4.256v20zM4 26.016v-20q0-0.832 0.576-1.408t1.44-0.608h20q0.8 0 1.408 0.608t0.576 1.408v20q0 0.832-0.576 1.408t-1.408 0.576h-20q-0.832 0-1.44-0.576t-0.576-1.408zM6.016 24q0 0.832 0.576 1.44t1.408 0.576h16q0.832 0 1.408-0.576t0.608-1.44v-0.928q-0.224-0.448-1.12-2.688t-1.6-3.584-1.28-2.112q-0.544-0.576-1.12-0.608t-1.152 0.384-1.152 1.12-1.184 1.568-1.152 1.696-1.152 1.6-1.088 1.184-1.088 0.448q-0.576 0-1.664-1.44-0.16-0.192-0.48-0.608-1.12-1.504-1.6-1.824-0.768-0.512-1.184 0.352-0.224 0.512-0.928 2.24t-1.056 2.56v0.64zM6.016 9.024q0 1.248 0.864 2.112t2.112 0.864 2.144-0.864 0.864-2.112-0.864-2.144-2.144-0.864-2.112 0.864-0.864 2.144z"})})}),A.jsx("input",{ref:V,id:"fileInput",type:"file",accept:"image/*",onChange:Ke=>X(Ke)}),A.jsx("svg",{width:"1.125rem",height:"1.125rem",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"iconify iconify--twemoji",preserveAspectRatio:"xMidYMid meet",children:A.jsx("path",{fill:"#FFAC33",d:"M27.287 34.627c-.404 0-.806-.124-1.152-.371L18 28.422l-8.135 5.834a1.97 1.97 0 0 1-2.312-.008a1.971 1.971 0 0 1-.721-2.194l3.034-9.792l-8.062-5.681a1.98 1.98 0 0 1-.708-2.203a1.978 1.978 0 0 1 1.866-1.363L12.947 13l3.179-9.549a1.976 1.976 0 0 1 3.749 0L23 13l10.036.015a1.975 1.975 0 0 1 1.159 3.566l-8.062 5.681l3.034 9.792a1.97 1.97 0 0 1-.72 2.194a1.957 1.957 0 0 1-1.16.379z"})})]}),e[43]=U,e[44]=X,e[45]=Ue):Ue=e[45];let De;e[46]!==U||e[47]!==Rt||e[48]!==Mt||e[49]!==q||e[50]!==pt?(De=q?A.jsxs("div",{className:Hs.imageBox,children:[A.jsx("img",{src:q,className:Hs.inputImage}),A.jsx("svg",{className:Hs.closeImage,width:"1rem",height:"1rem",onClick:pt,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})]}):A.jsxs("div",{className:Hs.textAreaWrapper,children:[A.jsx("textarea",{onChange:Rt,onFocus:Rt,onBlur:rt,ref:b,name:"textMessage",placeholder:"Message",rows:1,spellCheck:!1,onKeyDown:Mt}),!U&&A.jsx("svg",{className:Hs.gifSelector,onClick:C,width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{id:"ic_fluent_gif_24_filled",fillRule:"nonzero",children:A.jsx("path",{d:"M18.75,3.50054297 C20.5449254,3.50054297 22,4.95561754 22,6.75054297 L22,17.2531195 C22,19.048045 20.5449254,20.5031195 18.75,20.5031195 L5.25,20.5031195 C3.45507456,20.5031195 2,19.048045 2,17.2531195 L2,6.75054297 C2,4.95561754 3.45507456,3.50054297 5.25,3.50054297 L18.75,3.50054297 Z M8.01459972,8.87193666 C6.38839145,8.87193666 5.26103525,10.2816525 5.26103525,11.9943017 C5.26103525,13.707564 6.38857781,15.1202789 8.01459972,15.1202789 C8.90237918,15.1202789 9.71768065,14.6931811 10.1262731,13.9063503 L10.2024697,13.7442077 L10.226,13.674543 L10.2440163,13.5999276 L10.2440163,13.5999276 L10.2516169,13.5169334 L10.2518215,11.9961937 L10.2450448,11.9038358 C10.2053646,11.6359388 9.99569349,11.4234501 9.72919932,11.3795378 L9.62682145,11.3711937 L8.62521827,11.3711937 L8.53286035,11.3779703 C8.26496328,11.4176506 8.05247466,11.6273217 8.00856234,11.8938159 L8.00021827,11.9961937 L8.00699487,12.0885517 C8.0466751,12.3564487 8.25634623,12.5689373 8.5228404,12.6128497 L8.62521827,12.6211937 L9.00103525,12.6209367 L9.00103525,13.3549367 L8.99484486,13.3695045 C8.80607251,13.6904125 8.44322427,13.8702789 8.01459972,13.8702789 C7.14873038,13.8702789 6.51103525,13.0713011 6.51103525,11.9943017 C6.51103525,10.9182985 7.14788947,10.1219367 8.01459972,10.1219367 C8.43601415,10.1219367 8.67582824,10.1681491 8.97565738,10.3121334 C9.28681641,10.4615586 9.6601937,10.3304474 9.80961888,10.0192884 C9.95904407,9.70812933 9.82793289,9.33475204 9.51677386,9.18532686 C9.03352891,8.95326234 8.61149825,8.87193666 8.01459972,8.87193666 Z M12.6289445,8.99393497 C12.3151463,8.99393497 12.0553614,9.22519285 12.0107211,9.52657705 L12.0039445,9.61893497 L12.0039445,14.381065 L12.0107211,14.4734229 C12.0553614,14.7748072 12.3151463,15.006065 12.6289445,15.006065 C12.9427427,15.006065 13.2025276,14.7748072 13.2471679,14.4734229 L13.2539445,14.381065 L13.2539445,9.61893497 L13.2471679,9.52657705 C13.2025276,9.22519285 12.9427427,8.99393497 12.6289445,8.99393497 Z M17.6221579,9.00083497 L15.6247564,8.99393111 C15.3109601,8.99285493 15.0503782,9.22321481 15.0046948,9.52444312 L14.9975984,9.61677709 L14.9975984,14.3649711 L15.0043751,14.4573291 C15.0440553,14.7252261 15.2537265,14.9377148 15.5202206,14.9816271 L15.6225985,14.9899711 L15.7149564,14.9831945 C15.9828535,14.9435143 16.1953421,14.7338432 16.2392544,14.467349 L16.2475985,14.3649711 L16.2470353,13.2499367 L17.37,13.2504012 L17.4623579,13.2436246 C17.730255,13.2039444 17.9427436,12.9942732 17.9866559,12.7277791 L17.995,12.6254012 L17.9882234,12.5330433 C17.9485432,12.2651462 17.738872,12.0526576 17.4723779,12.0087453 L17.37,12.0004012 L16.2470353,11.9999367 L16.2470353,10.2449367 L17.6178421,10.2508313 L17.7102229,10.2443727 C18.0117595,10.2007704 18.2439132,9.94178541 18.2450039,9.62798912 C18.24608,9.31419284 18.0157202,9.05361096 17.7144919,9.00793041 L17.6221579,9.00083497 L15.6247564,8.99393111 L17.6221579,9.00083497 Z",id:"-Color"})})})]}),e[46]=U,e[47]=Rt,e[48]=Mt,e[49]=q,e[50]=pt,e[51]=De):De=e[51];let sn;e[52]===Symbol.for("react.memo_cache_sentinel")?(sn=A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"send",className:"icon glyph",children:A.jsx("path",{d:"M21.66,12a2,2,0,0,1-1.14,1.81L5.87,20.75A2.08,2.08,0,0,1,5,21a2,2,0,0,1-1.82-2.82L5.46,13H11a1,1,0,0,0,0-2H5.46L3.18,5.87A2,2,0,0,1,5.86,3.25h0l14.65,6.94A2,2,0,0,1,21.66,12Z"})}),e[52]=sn):sn=e[52];let Be;e[53]!==dt?(Be=A.jsx("button",{className:Hs.sendButton,onClick:dt,children:sn}),e[53]=dt,e[54]=Be):Be=e[54];let Ye;e[55]!==Ue||e[56]!==De||e[57]!==Be?(Ye=A.jsxs("div",{className:Hs.inputSpaceContainer,ref:x,children:[Ue,De,Be]}),e[55]=Ue,e[56]=De,e[57]=Be,e[58]=Ye):Ye=e[58];let Sn;return e[59]!==oe||e[60]!==Ye?(Sn=A.jsxs(A.Fragment,{children:[oe,Ye]}),e[59]=oe,e[60]=Ye,e[61]=Sn):Sn=e[61],Sn}function oC(e){return e.addMessage}function lC(e){return e.setReplying}function uC(e){return e.replying}const cC="_containingDiv_1m6wd_1",hC="_incomingCall_1m6wd_8",fC="_incomingCallText_1m6wd_25",dC="_callingText_1m6wd_31",mC="_callActions_1m6wd_42",gC="_acceptCall_1m6wd_49",pC="_rejectCall_1m6wd_53",as={containingDiv:cC,incomingCall:hC,incomingCallText:fC,callingText:dC,callActions:mC,acceptCall:gC,rejectCall:pC};function yC(){const e=Se.c(34);console.log("Incoming call rendered!");const{peerName:t,dataChannel:i}=J.useContext(bn),r=Vt(EC),o=Vt(vC),[u,f]=go(_C),{x:m,y,opacity:g}=u;let v;e[0]!==i.current||e[1]!==r||e[2]!==o?(v=()=>{i.current.send(JSON.stringify({type:"callAccept"})),r(!1),o("connected")},e[0]=i.current,e[1]=r,e[2]=o,e[3]=v):v=e[3];const T=v;let b;e[4]!==i.current||e[5]!==r?(b=()=>{i.current.send(JSON.stringify({type:"callReject"})),r(!1)},e[4]=i.current,e[5]=r,e[6]=b):b=e[6];const x=b;let V;e[7]!==f||e[8]!==x?(V=N=>{const{down:j,movement:I,direction:Rt}=N,[It]=I,[X]=Rt;if(!j&&Math.abs(It)>100){f.start({x:X>0?500:-500,opacity:0,onRest:x});return}f.start({x:j?It:0,opacity:1})},e[7]=f,e[8]=x,e[9]=V):V=e[9];const U=Uh(V);let L;e[10]!==U?(L=U(),e[10]=U,e[11]=L):L=e[11];let q;e[12]!==g||e[13]!==m||e[14]!==y?(q={x:m,y,opacity:g},e[12]=g,e[13]=m,e[14]=y,e[15]=q):q=e[15];let $,K;e[16]===Symbol.for("react.memo_cache_sentinel")?($=A.jsx("div",{className:as.profileImage,children:A.jsx("img",{src:"./pp.svg",width:50,height:50,className:as.profileImage})}),K=A.jsx("p",{className:as.incomingCallText,children:"Incoming Call"}),e[16]=$,e[17]=K):($=e[16],K=e[17]);let it;e[18]!==t.current?(it=A.jsxs("div",{children:[K,A.jsxs("p",{className:as.callingText,children:[t.current," is calling you"]})]}),e[18]=t.current,e[19]=it):it=e[19];let W;e[20]===Symbol.for("react.memo_cache_sentinel")?(W=A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M9 16C2.814 9.813 3.11 5.134 5.94 3.012l.627-.467a1.483 1.483 0 0 1 2.1.353l1.579 2.272a1.5 1.5 0 0 1-.25 1.99L8.476 8.474c-.38.329-.566.828-.395 1.301.316.88 1.083 2.433 2.897 4.246 1.814 1.814 3.366 2.581 4.246 2.898.474.17.973-.015 1.302-.396l1.314-1.518a1.5 1.5 0 0 1 1.99-.25l2.276 1.58a1.48 1.48 0 0 1 .354 2.096l-.47.633C19.869 21.892 15.188 22.187 9 16z"})}),e[20]=W):W=e[20];let F;e[21]!==T?(F=A.jsx("button",{className:as.acceptCall,onClick:T,children:W}),e[21]=T,e[22]=F):F=e[22];let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})}),e[23]=D):D=e[23];let C;e[24]!==x?(C=A.jsx("button",{className:as.rejectCall,onClick:x,children:D}),e[24]=x,e[25]=C):C=e[25];let R;e[26]!==F||e[27]!==C?(R=A.jsxs("div",{className:as.callActions,children:[F,C]}),e[26]=F,e[27]=C,e[28]=R):R=e[28];let k;return e[29]!==R||e[30]!==L||e[31]!==q||e[32]!==it?(k=A.jsx("div",{className:as.containingDiv,children:A.jsxs(Ks.div,{...L,className:as.incomingCall,style:q,children:[$,it,R]})}),e[29]=R,e[30]=L,e[31]=q,e[32]=it,e[33]=k):k=e[33],k}function _C(){return{from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}}}function vC(e){return e.setVideoCall}function EC(e){return e.setIncomingCall}const TC="_videoCallContainer_1wgnk_1",bC="_actionList_1wgnk_17",SC="_cancelButton_1wgnk_21",wC="_expanded_1wgnk_40",AC="_videoContainer_1wgnk_44",CC="_contracted_1wgnk_62",RC="_video_1wgnk_1",xC="_expandButton_1wgnk_78",IC="_mutedButton_1wgnk_83",DC="_sendingVideo_1wgnk_88",MC="_receivingVideo_1wgnk_93",VC="_shown_1wgnk_120",NC="_hidden_1wgnk_124",OC="_startCall_1wgnk_140",LC="_endCall_1wgnk_153",kC="_rotateLogo_1wgnk_166",jC="_mini_1wgnk_243",PC="_callingIndicatorContainer_1wgnk_263",UC="_callingIndicator_1wgnk_263",se={videoCallContainer:TC,actionList:bC,cancelButton:SC,expanded:wC,videoContainer:AC,contracted:CC,video:RC,expandButton:xC,mutedButton:IC,sendingVideo:DC,receivingVideo:MC,shown:VC,hidden:NC,startCall:OC,endCall:LC,rotateLogo:kC,mini:jC,callingIndicatorContainer:PC,callingIndicator:UC};function BC({callState:e}){console.log("Call screen rendered!");const{peerConnection:t,remoteStream:i,videoChannel:r,dataChannel:o}=J.useContext(bn),u=Vt(lt=>lt.setVideoCall),[f,m]=J.useState(!1),[y,g]=J.useState(!1),[v,T]=J.useState(!1),[b,x]=J.useState(!1),[V,U]=J.useState("front"),[L,q]=J.useState("normal"),[$,K]=J.useState(!0),it=J.useRef(null),W=J.useRef(null),F=J.useRef({x:0,y:0}),D=J.useRef(null),C=J.useRef(null),R=J.useRef(null),k=J.useRef(null),N=J.useRef(null),j=J.useRef(null),[{x:I,y:Rt},It]=go(()=>({x:F.current.x,y:F.current.y,config:{tension:300,friction:15}}));J.useEffect(()=>{window.history.pushState("call","",null),r.current.onmessage=dt=>{let Et=JSON.parse(dt.data);Et.message==="audioOn"?T(!0):Et.message==="audioOff"?T(!1):Et.message==="videoOn"?x(!0):Et.message==="videoOff"&&x(!1)},N.current=new MediaStream;const lt=t.current.getTransceivers();return W.current=lt.find(dt=>{var Et,Mt,oe;return((Et=dt.receiver.track)==null?void 0:Et.kind)==="video"||((Mt=dt.sender.track)==null?void 0:Mt.kind)==="video"||((oe=dt.mid)==null?void 0:oe.includes("video"))}),it.current=lt.find(dt=>{var Et,Mt,oe;return((Et=dt.receiver.track)==null?void 0:Et.kind)==="audio"||((Mt=dt.sender.track)==null?void 0:Mt.kind)==="audio"||((oe=dt.mid)==null?void 0:oe.includes("audio"))}),window.addEventListener("popstate",ct),()=>{var dt;(dt=N.current)==null||dt.getTracks().forEach(Et=>{Et.stop()}),window.removeEventListener("popstate",ct)}},[]),J.useEffect(()=>{(async()=>{N.current.getTracks().forEach(Et=>Et.stop()),N.current.getTracks().forEach(Et=>N.current.removeTrack(Et));const lt=V==="front"?"user":"environment";(await navigator.mediaDevices.getUserMedia({video:{facingMode:lt},audio:!0})).getTracks().forEach(Et=>{N.current.addTrack(Et)}),e==="connected"&&(W.current.sender.replaceTrack(f?N.current.getVideoTracks()[0]:null),it.current.sender.replaceTrack(y?N.current.getAudioTracks()[0]:null))})()},[V]),J.useEffect(()=>{e==="connected"&&r.current.send(JSON.stringify({message:y?"audioOn":"audioOff"}))},[y]),J.useEffect(()=>{e==="connected"&&r.current.send(JSON.stringify({message:f?"videoOn":"videoOff"}))},[f]);const X=Uh(({down:lt,offset:[dt,Et],movement:[Mt],last:oe})=>{if(!(Math.abs(Mt)<2)){if(lt)F.current={x:dt,y:Et},It.start({x:dt,y:Et,immediate:!0});else if(oe){k.current=!0;const Ue=L==="mini"?window.innerWidth:R.current.clientWidth,De=L==="mini"?window.innerHeight:R.current.clientHeight,sn=window.innerWidth,Be=sn>1400?.35*(.3*sn):.35*sn,Ye=Be,Sn=16,Ke=16,fe=16,Ni=128;let Oi=0;dt>(Ue-(fe+Ke)-Be)/2&&(Oi=Ue-(fe+Ke)-Be);let Jn=Et;Et<0&&(Jn=0),Et>De-(Sn+Ni+Ye)&&(Jn=De-(Sn+Ni+Ye)),F.current={x:Oi,y:Jn},It.start({x:Oi,y:Jn,immediate:!1,onRest:()=>{k.current=!1}})}}},{from:()=>[I.get(),Rt.get()]});J.useEffect(()=>{D.current.srcObject=b?i.current:null},[b]),J.useEffect(()=>{var lt;C.current.srcObject=f?N.current:null,(lt=W.current)==null||lt.sender.replaceTrack(f?N.current.getVideoTracks()[0]:null)},[f]),J.useEffect(()=>{var lt;(lt=it.current)==null||lt.sender.replaceTrack(y?N.current.getAudioTracks()[0]:null)},[y]),J.useLayoutEffect(()=>{It.start({x:I.get(),y:Rt.get(),immediate:!0})}),J.useEffect(()=>{j.current=e,e==="connected"&&(r.current.send(JSON.stringify({message:y?"audioOn":"audioOff"})),r.current.send(JSON.stringify({message:f?"videoOn":"videoOff"})))},[e]);const ct=lt=>{lt.state==="call"&&((j.current==="connected"||j.current==="calling")&&window.innerWidth<=1400?q("mini"):O())},mt=lt=>{lt.stopPropagation(),g(dt=>!dt)},Ct=lt=>{lt.stopPropagation(),m(dt=>!dt)},O=lt=>{lt&&lt.stopPropagation(),e==="connected"?o.current.send(JSON.stringify({type:"callEnd"})):o.current.send(JSON.stringify({type:"callCancel"})),u("hidden")},et=lt=>{lt.stopPropagation(),o.current.send(JSON.stringify({type:"callRequest"})),console.log("I am attempting a call!"),u("calling")},rt=lt=>{lt.stopPropagation(),U(V==="front"?"back":"front")},at=()=>{k.current||K(lt=>!lt)},pt=(lt,dt)=>{lt.stopPropagation(),dt==="sending"?(console.log("The selected video was sending video!"),q(L==="expandSending"?"normal":"expandSending")):(console.log("The selected video was receiving video!"),q(L==="expandReceiving"?"normal":"expandReceiving"))};return A.jsxs(Ks.div,{className:`
                ${se.videoCallContainer}
                ${L==="mini"?se.mini:""}
                ${L==="expandSending"||L==="expandReceiving"?se.expanded:""}
            `,onClick:at,ref:R,...L==="mini"?X():{},style:L==="mini"?{x:I,y:Rt}:{},children:[A.jsxs(Ks.div,{className:`
                    ${se.videoContainer}
                    ${se.receivingVideo}
                    ${L==="expandReceiving"?se.expanded:""}
                    ${L==="expandSending"?se.contracted:""}
                `,...L==="expandSending"?X():{},style:L==="expandSending"?{x:I,y:Rt}:{},children:[A.jsx("video",{className:se.video,autoPlay:!0,ref:D,poster:"./pp.svg"}),!v&&A.jsx("button",{className:se.mutedButton,children:A.jsx("svg",{width:"0.75rem",height:"0.75rem",viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:A.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:A.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),A.jsx("button",{className:se.expandButton,onClick:lt=>{pt(lt,"receiving")},children:A.jsxs("svg",{width:"0.75rem",height:"0.75rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M23 4C23 2.34315 21.6569 1 20 1H16C15.4477 1 15 1.44772 15 2C15 2.55228 15.4477 3 16 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 21.4477 9 22 9C22.5523 9 23 8.55228 23 8V4Z"}),A.jsx("path",{d:"M23 16C23 15.4477 22.5523 15 22 15C21.4477 15 21 15.4477 21 16V20C21 20.5523 20.5523 21 20 21H16C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23H20C21.6569 23 23 21.6569 23 20V16Z"}),A.jsx("path",{d:"M4 21H8C8.55228 21 9 21.4477 9 22C9 22.5523 8.55228 23 8 23H4C2.34315 23 1 21.6569 1 20V16C1 15.4477 1.44772 15 2 15C2.55228 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21Z"}),A.jsx("path",{d:"M1 8C1 8.55228 1.44772 9 2 9C2.55228 9 3 8.55228 3 8L3 4C3 3.44772 3.44772 3 4 3H8C8.55228 3 9 2.55228 9 2C9 1.44772 8.55228 1 8 1H4C2.34315 1 1 2.34315 1 4V8Z"})]})})]}),L!=="mini"&&A.jsxs(A.Fragment,{children:[A.jsxs(Ks.div,{className:`
                            ${se.videoContainer} 
                            ${se.sendingVideo}
                            ${L==="expandSending"?se.expanded:""}
                            ${L==="expandReceiving"?se.contracted:""}
                            `,...L==="expandReceiving"?X():{},style:L==="expandReceiving"?{x:I,y:Rt}:{},children:[A.jsx("video",{className:se.video,autoPlay:!0,poster:"./pp.svg",ref:C,muted:!0}),!y&&A.jsx("button",{className:se.mutedButton,children:A.jsx("svg",{width:"0.75rem",height:"0.75rem",viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:A.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:A.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),A.jsx("button",{className:se.expandButton,onClick:lt=>{pt(lt,"sending")},children:A.jsxs("svg",{width:"0.75rem",height:"0.75rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M23 4C23 2.34315 21.6569 1 20 1H16C15.4477 1 15 1.44772 15 2C15 2.55228 15.4477 3 16 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 21.4477 9 22 9C22.5523 9 23 8.55228 23 8V4Z"}),A.jsx("path",{d:"M23 16C23 15.4477 22.5523 15 22 15C21.4477 15 21 15.4477 21 16V20C21 20.5523 20.5523 21 20 21H16C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23H20C21.6569 23 23 21.6569 23 20V16Z"}),A.jsx("path",{d:"M4 21H8C8.55228 21 9 21.4477 9 22C9 22.5523 8.55228 23 8 23H4C2.34315 23 1 21.6569 1 20V16C1 15.4477 1.44772 15 2 15C2.55228 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21Z"}),A.jsx("path",{d:"M1 8C1 8.55228 1.44772 9 2 9C2.55228 9 3 8.55228 3 8L3 4C3 3.44772 3.44772 3 4 3H8C8.55228 3 9 2.55228 9 2C9 1.44772 8.55228 1 8 1H4C2.34315 1 1 2.34315 1 4V8Z"})]})})]}),A.jsxs("ul",{className:`${se.actionList} ${$?se.shown:se.hidden}`,children:[A.jsx("li",{onClick:lt=>{mt(lt)},children:y?A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"-5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:A.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-107.000000, -309.000000)",children:A.jsx("path",{d:"M118,333 C121.866,333 125,329.866 125,326 L125,316 C125,312.134 121.866,309 118,309 C114.134,309 111,312.134 111,316 L111,326 C111,329.866 114.134,333 118,333 L118,333 Z M129,328 L127,328 C126.089,332.007 122.282,335 118,335 C113.718,335 109.911,332.007 109,328 L107,328 C107.883,332.799 112.063,336.51 117,336.955 L117,339 L116,339 C115.448,339 115,339.448 115,340 C115,340.553 115.448,341 116,341 L120,341 C120.552,341 121,340.553 121,340 C121,339.448 120.552,339 120,339 L119,339 L119,336.955 C123.937,336.51 128.117,332.799 129,328 L129,328 Z",id:"microphone","sketch:type":"MSShapeGroup"})})})}):A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"-3.5 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:A.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-156.000000, -309.000000)",children:A.jsx("path",{d:"M169,335 C167.061,335 165.236,334.362 163.716,333.318 L162.31,334.742 C163.944,335.953 165.892,336.765 168,336.955 L168,339 L167,339 C166.448,339 166,339.448 166,340 C166,340.553 166.448,341 167,341 L171,341 C171.552,341 172,340.553 172,340 C172,339.448 171.552,339 171,339 L170,339 L170,336.955 C174.938,336.51 179.117,332.799 180,328 L178,328 C177.089,332.007 173.282,335 169,335 L169,335 Z M176,326 L176,320.739 L164.735,331.515 C165.918,332.432 167.386,333 169,333 C172.866,333 176,329.866 176,326 L176,326 Z M160.047,328.145 L160,328 L158,328 C158.109,328.596 158.271,329.175 158.478,329.733 L160.047,328.145 L160.047,328.145 Z M179.577,312.013 L155.99,334.597 L157.418,336.005 L181.014,313.433 L179.577,312.013 L179.577,312.013 Z M169,309 C165.134,309 162,312.134 162,316 L161.997,326.309 L175.489,313.401 C174.456,310.825 171.946,309 169,309 L169,309 Z",id:"microphone-off"})})})})}),A.jsx("li",{onClick:lt=>{Ct(lt)},children:f?A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M21.15 6.17C20.74 5.95 19.88 5.72 18.71 6.54L17.24 7.58C17.13 4.47 15.78 3.25 12.5 3.25H6.5C3.08 3.25 1.75 4.58 1.75 8V16C1.75 18.3 3 20.75 6.5 20.75H12.5C15.78 20.75 17.13 19.53 17.24 16.42L18.71 17.46C19.33 17.9 19.87 18.04 20.3 18.04C20.67 18.04 20.96 17.93 21.15 17.83C21.56 17.62 22.25 17.05 22.25 15.62V8.38C22.25 6.95 21.56 6.38 21.15 6.17ZM11 11.38C9.97 11.38 9.12 10.54 9.12 9.5C9.12 8.46 9.97 7.62 11 7.62C12.03 7.62 12.88 8.46 12.88 9.5C12.88 10.54 12.03 11.38 11 11.38Z",fill:"#292D32"})}):A.jsxs("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{opacity:"0.4",d:"M17.7405 7.57031C17.7505 7.64031 17.7505 7.72031 17.7405 7.79031C17.7405 7.72031 17.7305 7.65031 17.7305 7.58031L17.7405 7.57031Z",fill:"#292D32"}),A.jsx("path",{d:"M17.2789 6.56L3.82891 20.01C2.42891 19.12 1.87891 17.53 1.87891 16V8C1.87891 4.58 3.20891 3.25 6.62891 3.25H12.6289C15.5189 3.25 16.9089 4.2 17.2789 6.56Z",fill:"#292D32"}),A.jsx("path",{d:"M21.4 2.22891C21.1 1.92891 20.61 1.92891 20.31 2.22891L1.85 20.6889C1.55 20.9889 1.55 21.4789 1.85 21.7789C2 21.9189 2.2 21.9989 2.39 21.9989C2.59 21.9989 2.78 21.9189 2.93 21.7689L21.4 3.30891C21.7 3.00891 21.7 2.52891 21.4 2.22891Z",fill:"#292D32"}),A.jsx("path",{d:"M22.3802 8.38047V15.6205C22.3802 17.0505 21.6802 17.6205 21.2802 17.8305C21.0902 17.9305 20.7902 18.0405 20.4202 18.0405C19.9902 18.0405 19.4602 17.9005 18.8402 17.4605L17.3602 16.4205C17.2902 18.6305 16.5902 19.8905 15.0002 20.4205C14.3602 20.6505 13.5702 20.7505 12.6202 20.7505H6.62016C6.38016 20.7505 6.15016 20.7405 5.91016 20.7105L15.0002 11.6305L20.6502 5.98047C20.9102 6.00047 21.1202 6.08047 21.2802 6.17047C21.6802 6.38047 22.3802 6.95047 22.3802 8.38047Z",fill:"#292D32"})]})}),A.jsx("li",{onClick:lt=>rt(lt),children:A.jsxs("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M9.77778 21H14.2222C17.3433 21 18.9038 21 20.0248 20.2646C20.51 19.9462 20.9267 19.5371 21.251 19.0607C22 17.9601 22 16.4279 22 13.3636C22 10.2994 22 8.76721 21.251 7.6666C20.9267 7.19014 20.51 6.78104 20.0248 6.46268C19.3044 5.99013 18.4027 5.82123 17.022 5.76086C16.3631 5.76086 15.7959 5.27068 15.6667 4.63636C15.4728 3.68489 14.6219 3 13.6337 3H10.3663C9.37805 3 8.52715 3.68489 8.33333 4.63636C8.20412 5.27068 7.63685 5.76086 6.978 5.76086C5.59733 5.82123 4.69555 5.99013 3.97524 6.46268C3.48995 6.78104 3.07328 7.19014 2.74902 7.6666C2 8.76721 2 10.2994 2 13.3636C2 16.4279 2 17.9601 2.74902 19.0607C3.07328 19.5371 3.48995 19.9462 3.97524 20.2646C5.09624 21 6.65675 21 9.77778 21Z"}),A.jsx("path",{className:se.rotateLogo,d:"M14.5197 8.84961C14.9339 8.84961 15.2697 9.1854 15.2697 9.59961V11.2796C15.2697 11.6342 15.0213 11.9404 14.6743 12.0135L13.1546 12.3335C12.7492 12.4189 12.3515 12.1595 12.2661 11.7542C12.1928 11.4061 12.3737 11.0637 12.6828 10.9198C11.8617 10.6788 10.9379 10.8822 10.2902 11.5299C9.34598 12.4741 9.34598 14.0049 10.2902 14.9491C11.2344 15.8933 12.7652 15.8933 13.7094 14.9491C14.112 14.5465 14.3422 14.0392 14.4019 13.5148C14.4487 13.1033 14.8203 12.8076 15.2319 12.8544C15.6434 12.9012 15.9391 13.2728 15.8923 13.6844C15.7957 14.5337 15.421 15.3588 14.77 16.0098C13.2401 17.5397 10.7595 17.5397 9.22951 16.0098C7.69954 14.4798 7.69954 11.9992 9.22951 10.4692C10.4581 9.24066 12.2996 8.99864 13.7697 9.74316V9.59961C13.7697 9.1854 14.1055 8.84961 14.5197 8.84961Z"})]})}),e==="calling"||e==="connected"?A.jsx("li",{className:se.endCall,onClick:lt=>{O(lt)},children:A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M8 13.4782L8 12.8617C8 12.8617 8 11.3963 12 11.3963C16 11.3963 16 12.8617 16 12.8617V13.25C16 14.2064 16.7227 15.0192 17.7004 15.1625L19.7004 15.4556C20.9105 15.6329 22 14.7267 22 13.5429V11.4183C22 10.8313 21.8162 10.2542 21.3703 9.85601C20.2296 8.83732 17.4208 7 12 7C6.25141 7 3.44027 9.58269 2.44083 10.7889C2.1247 11.1704 2 11.6525 2 12.1414L2 14.0643C2 15.3623 3.29561 16.292 4.57997 15.9156L6.57997 15.3295C7.42329 15.0823 8 14.3305 8 13.4782Z"})})}):A.jsx("li",{className:se.startCall,onClick:lt=>{et(lt)},children:A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M9 16C2.814 9.813 3.11 5.134 5.94 3.012l.627-.467a1.483 1.483 0 0 1 2.1.353l1.579 2.272a1.5 1.5 0 0 1-.25 1.99L8.476 8.474c-.38.329-.566.828-.395 1.301.316.88 1.083 2.433 2.897 4.246 1.814 1.814 3.366 2.581 4.246 2.898.474.17.973-.015 1.302-.396l1.314-1.518a1.5 1.5 0 0 1 1.99-.25l2.276 1.58a1.48 1.48 0 0 1 .354 2.096l-.47.633C19.869 21.892 15.188 22.187 9 16z"})})})]}),e==="idle"&&A.jsx("button",{onClick:()=>{u("hidden")},className:`${se.cancelButton} ${$?se.shown:se.hidden}`,children:A.jsx("svg",{width:"1.5rem",height:"1.5rem",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})})]}),e==="calling"&&A.jsx("div",{className:se.callingIndicatorContainer,children:A.jsx("span",{className:se.callingIndicator,children:"Calling"})})]})}const zC="_videoCallContainer_1bhfk_1",qC="_videoContainer_1bhfk_13",HC="_image_1bhfk_18",GC="_sendingImage_1bhfk_25",FC="_receivingImage_1bhfk_29",Hr={videoCallContainer:zC,videoContainer:qC,image:HC,sendingImage:GC,receivingImage:FC};function QC(){const e=Se.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=A.jsx("div",{className:Hr.videoContainer,children:A.jsx("img",{className:`${Hr.image} ${Hr.receivingImage}`,src:"./pp.svg",alt:"Profile picture of receiver"})}),e[0]=t):t=e[0];let i;return e[1]===Symbol.for("react.memo_cache_sentinel")?(i=A.jsxs("div",{className:Hr.videoCallContainer,children:[t,A.jsx("div",{className:Hr.videoContainer,children:A.jsx("img",{className:`${Hr.image} ${Hr.sendingImage}`,src:"./pp.svg",alt:"Profile picture of sender"})})]}),e[1]=i):i=e[1],i}const YC="_settingsContainer_f8um8_1",KC="_themeOption_f8um8_31",$C="_themes_f8um8_31",XC="_selected_f8um8_38",Ka={settingsContainer:YC,themeOption:KC,themes:$C,selected:XC};function ZC(){const e=Se.c(25),[t,i]=J.useState("default");let r,o;e[0]!==t?(r=()=>{localStorage.setItem("theme",t),document.body.className=t==="default"?"":t},o=[t],e[0]=t,e[1]=r,e[2]=o):(r=e[1],o=e[2]),J.useEffect(r,o);let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>i("default"),e[3]=u):u=e[3];const f=t==="default"?Ka.selected:"";let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=A.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M21 16V7.2C21 6.0799 21 5.51984 20.782 5.09202C20.5903 4.71569 20.2843 4.40973 19.908 4.21799C19.4802 4 18.9201 4 17.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V16M4.66667 20H19.3333C19.9533 20 20.2633 20 20.5176 19.9319C21.2078 19.7469 21.7469 19.2078 21.9319 18.5176C22 18.2633 22 17.9533 22 17.3333C22 17.0233 22 16.8683 21.9659 16.7412C21.8735 16.3961 21.6039 16.1265 21.2588 16.0341C21.1317 16 20.9767 16 20.6667 16H3.33333C3.02334 16 2.86835 16 2.74118 16.0341C2.39609 16.1265 2.12654 16.3961 2.03407 16.7412C2 16.8683 2 17.0233 2 17.3333C2 17.9533 2 18.2633 2.06815 18.5176C2.25308 19.2078 2.79218 19.7469 3.48236 19.9319C3.73669 20 4.04669 20 4.66667 20Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e[4]=m):m=e[4];let y;e[5]!==f?(y=A.jsx("li",{children:A.jsx("button",{onClick:u,className:f,children:m})}),e[5]=f,e[6]=y):y=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=()=>i("light"),e[7]=g):g=e[7];const v=t==="light"?Ka.selected:"";let T;e[8]===Symbol.for("react.memo_cache_sentinel")?(T=A.jsxs("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3432 15 9.00004 13.6569 9.00004 12C9.00004 10.3432 10.3432 9.00004 12 9.00004C13.6569 9.00004 15 10.3432 15 12Z",strokeWidth:"2",strokeLineCap:"round",strokeLineJoin:"round"}),A.jsx("path",{d:"M7.64338 5.18899L7.56701 6.10541C7.52707 6.58478 7.50709 6.82447 7.40373 7.01167C7.31261 7.1767 7.1767 7.31261 7.01167 7.40373C6.82447 7.50709 6.58477 7.52707 6.10541 7.56701L5.18898 7.64338C4.16259 7.72892 3.6494 7.77168 3.39642 8.00615C3.17627 8.21018 3.05941 8.50232 3.07812 8.8019C3.09961 9.14615 3.44174 9.53105 4.126 10.3008L4.69153 10.9371C5.02586 11.3132 5.19302 11.5012 5.2565 11.7135C5.31243 11.9004 5.31243 12.0997 5.2565 12.2866C5.19302 12.4988 5.02586 12.6869 4.69153 13.063L4.126 13.6992C3.44174 14.469 3.09961 14.8539 3.07812 15.1982C3.05941 15.4978 3.17627 15.7899 3.39642 15.9939C3.6494 16.2284 4.16259 16.2712 5.18899 16.3567L6.10541 16.4331C6.58478 16.473 6.82446 16.493 7.01167 16.5964C7.1767 16.6875 7.31261 16.8234 7.40373 16.9884C7.50709 17.1756 7.52707 17.4153 7.56701 17.8947L7.64338 18.8111C7.72892 19.8375 7.77168 20.3507 8.00615 20.6037C8.21018 20.8238 8.50232 20.9407 8.8019 20.922C9.14615 20.9005 9.53105 20.5583 10.3008 19.8741L10.9371 19.3085C11.3132 18.9742 11.5012 18.8071 11.7135 18.7436C11.9004 18.6876 12.0997 18.6876 12.2866 18.7436C12.4988 18.8071 12.6869 18.9742 13.063 19.3085L13.6992 19.8741C14.469 20.5583 14.8539 20.9005 15.1982 20.922C15.4978 20.9407 15.7899 20.8238 15.9939 20.6037C16.2284 20.3507 16.2712 19.8375 16.3567 18.8111L16.4331 17.8947C16.473 17.4153 16.493 17.1756 16.5964 16.9884C16.6875 16.8234 16.8234 16.6875 16.9884 16.5964C17.1756 16.493 17.4153 16.473 17.8947 16.4331L18.8111 16.3567C19.8375 16.2712 20.3507 16.2284 20.6037 15.9939C20.8238 15.7899 20.9407 15.4978 20.922 15.1982C20.9005 14.8539 20.5583 14.469 19.8741 13.6992L19.3085 13.063C18.9742 12.6869 18.8071 12.4988 18.7436 12.2866C18.6876 12.0997 18.6876 11.9004 18.7436 11.7135C18.8071 11.5012 18.9742 11.3132 19.3085 10.9371L19.8741 10.3008C20.5583 9.53105 20.9005 9.14615 20.922 8.8019C20.9407 8.50232 20.8238 8.21018 20.6037 8.00615C20.3507 7.77168 19.8375 7.72892 18.8111 7.64338L17.8947 7.56701C17.4153 7.52707 17.1756 7.50709 16.9884 7.40373C16.8234 7.31261 16.6875 7.1767 16.5964 7.01167C16.493 6.82446 16.473 6.58478 16.4331 6.10541L16.3567 5.18898C16.2712 4.16259 16.2284 3.6494 15.9939 3.39642C15.7899 3.17627 15.4978 3.05941 15.1982 3.07812C14.8539 3.09961 14.469 3.44174 13.6992 4.126L13.063 4.69153C12.6869 5.02586 12.4988 5.19302 12.2866 5.2565C12.0997 5.31243 11.9004 5.31243 11.7135 5.2565C11.5012 5.19302 11.3132 5.02586 10.9371 4.69153L10.3008 4.126C9.53105 3.44174 9.14615 3.09961 8.8019 3.07812C8.50232 3.05941 8.21018 3.17627 8.00615 3.39642C7.77168 3.6494 7.72892 4.16259 7.64338 5.18899Z",strokeWidth:"2",strokeLineCap:"round",strokeLineJoin:"round"})]}),e[8]=T):T=e[8];let b;e[9]!==v?(b=A.jsx("li",{children:A.jsx("button",{onClick:g,className:v,children:T})}),e[9]=v,e[10]=b):b=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=()=>i("dark"),e[11]=x):x=e[11];const V=t==="dark"?Ka.selected:"";let U;e[12]===Symbol.for("react.memo_cache_sentinel")?(U=A.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"var(--icon-color)"})}),e[12]=U):U=e[12];let L;e[13]!==V?(L=A.jsx("li",{children:A.jsx("button",{onClick:x,className:V,children:U})}),e[13]=V,e[14]=L):L=e[14];let q;e[15]!==L||e[16]!==y||e[17]!==b?(q=A.jsxs("li",{className:Ka.themeOption,children:["Theme",A.jsxs("ul",{className:Ka.themes,children:[y,b,L]})]}),e[15]=L,e[16]=y,e[17]=b,e[18]=q):q=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=A.jsxs("li",{children:["Disconnect from user",A.jsx("button",{children:A.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z",fill:"var(--icon-color)"})})})]}),e[19]=$):$=e[19];let K;e[20]===Symbol.for("react.memo_cache_sentinel")?(K=A.jsxs("li",{children:["Connect to next user",A.jsx("button",{children:A.jsx("svg",{width:"1.2rem",height:"1.2rem",viewBox:"0 -2 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:A.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:A.jsx("g",{transform:"translate(-144.000000, -3805.000000)",fill:"var(--icon-color)",children:A.jsx("g",{transform:"translate(56.000000, 160.000000)",children:A.jsx("path",{d:"M99.684,3649.69353 L95.207,3652.82453 C94.571,3653.25353 94,3652.84553 94,3652.13153 L94,3650.14053 L89.78,3652.82453 C89.145,3653.25353 88,3652.84553 88,3652.13153 L88,3645.86853 C88,3645.15453 89.145,3644.74653 89.78,3645.17453 L94,3647.85953 L94,3645.86853 C94,3645.15453 94.571,3644.74653 95.207,3645.17453 L99.516,3648.30653 C100.03,3648.65353 100.198,3649.34653 99.684,3649.69353"})})})})})})]}),e[20]=K):K=e[20];let it;e[21]===Symbol.for("react.memo_cache_sentinel")?(it=A.jsxs("li",{children:["Download web app",A.jsx("button",{children:A.jsx("svg",{fill:"var(--icon-color)",width:"1.2rem",height:"1.2rem",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M 43.3749 20.7812 C 47.8048 20.7812 51.4844 17.1016 51.4844 12.6485 C 51.4844 8.1953 47.8283 4.5156 43.3749 4.5156 C 38.8984 4.5156 35.2421 8.1953 35.2421 12.6485 C 35.2421 17.1016 38.8984 20.7812 43.3749 20.7812 Z M 17.0312 51.4844 L 34.6796 51.4844 C 38.6640 51.4844 42.0390 51.1094 44.4296 48.7187 C 46.8203 46.3281 47.1716 43.0000 47.1716 38.9922 L 47.1716 23.2890 C 45.9765 23.7344 44.6874 23.9687 43.3749 23.9687 C 37.1405 23.9687 32.0312 18.8594 32.0312 12.6485 C 32.0312 11.3125 32.2656 10.0234 32.7109 8.8516 L 16.9609 8.8516 C 13.0234 8.8516 9.6484 9.2266 7.2578 11.6172 C 4.8671 14.0078 4.5156 17.3594 4.5156 21.2734 L 4.5156 38.9922 C 4.5156 43.0000 4.8671 46.3281 7.2578 48.7187 C 9.6484 51.1094 13.0234 51.4844 17.0312 51.4844 Z"})})})]}),e[21]=it):it=e[21];let W;e[22]===Symbol.for("react.memo_cache_sentinel")?(W=A.jsxs("li",{children:["Report for abuse",A.jsx("button",{children:A.jsx("svg",{fill:"var(--icon-color)",width:"1.2rem",height:"1.2rem",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M6.002 14a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm.195-12.01a1.81 1.81 0 1 1 3.602 0l-.701 7.015a1.105 1.105 0 0 1-2.2 0l-.7-7.015z"})})})]}),e[22]=W):W=e[22];let F;return e[23]!==q?(F=A.jsxs("ul",{className:Ka.settingsContainer,children:[q,$,K,it,W]}),e[23]=q,e[24]=F):F=e[24],F}function JC(){const e=Se.c(36);console.log("Chat Page rendered!");const{longPressed:t}=J.useContext(Zn),i=Vt(lR),r=Vt(oR),o=Vt(aR),u=Vt(rR),f=Vt(sR),m=Vt(iR),y=Vt(nR),g=Vt(eR),v=Vt(tR),T=Vt(WC);let b;e[0]!==T?(b=()=>{T()},e[0]=T,e[1]=b):b=e[1];const x=b;let V;e[2]!==t||e[3]!==g||e[4]!==v?(V=()=>{const Rt=()=>{t.current===!1&&(g(!1),v(!1))};return document.addEventListener("click",Rt),()=>{document.removeEventListener("click",Rt)}},e[2]=t,e[3]=g,e[4]=v,e[5]=V):V=e[5];let U;e[6]===Symbol.for("react.memo_cache_sentinel")?(U=[],e[6]=U):U=e[6],J.useLayoutEffect(V,U);let L;e[7]!==f?(L=A.jsx("div",{className:Nl.videoContainer,children:f!=="hidden"?A.jsx(BC,{callState:f}):A.jsx(QC,{})}),e[7]=f,e[8]=L):L=e[8];let q,$;e[9]===Symbol.for("react.memo_cache_sentinel")?(q=A.jsx(Uw,{}),$=A.jsx(xA,{}),e[9]=q,e[10]=$):(q=e[9],$=e[10]);let K;e[11]!==i?(K=i&&A.jsx(xw,{}),e[11]=i,e[12]=K):K=e[12];let it;e[13]===Symbol.for("react.memo_cache_sentinel")?(it=A.jsx(aC,{}),e[13]=it):it=e[13];let W;e[14]!==r?(W=r&&A.jsx(ww,{}),e[14]=r,e[15]=W):W=e[15];let F;e[16]!==o?(F=o&&A.jsx(_w,{}),e[16]=o,e[17]=F):F=e[17];let D;e[18]!==u?(D=u&&A.jsx(Nw,{imageSource:u.src,imageSent:u.sent}),e[18]=u,e[19]=D):D=e[19];let C;e[20]!==y?(C=y&&A.jsx(yC,{}),e[20]=y,e[21]=C):C=e[21];let R;e[22]!==D||e[23]!==C||e[24]!==K||e[25]!==W||e[26]!==F?(R=A.jsxs("div",{className:Nl.chatContainer,children:[q,$,K,it,W,F,D,C]}),e[22]=D,e[23]=C,e[24]=K,e[25]=W,e[26]=F,e[27]=R):R=e[27];const k=`${Nl.settingsContainer} ${m?Nl.shownOnMobile:""}`;let N;e[28]===Symbol.for("react.memo_cache_sentinel")?(N=A.jsx(ZC,{}),e[28]=N):N=e[28];let j;e[29]!==x||e[30]!==k?(j=A.jsx("div",{onClick:x,className:k,children:N}),e[29]=x,e[30]=k,e[31]=j):j=e[31];let I;return e[32]!==R||e[33]!==j||e[34]!==L?(I=A.jsxs("div",{className:Nl.chatPage,children:[L,R,j]}),e[32]=R,e[33]=j,e[34]=L,e[35]=I):I=e[35],I}function WC(e){return e.reverseSettings}function tR(e){return e.setReactionsShown}function eR(e){return e.setActionsShown}function nR(e){return e.incomingCall}function iR(e){return e.settings}function sR(e){return e.videoCall}function rR(e){return e.imageDialog}function aR(e){return e.actionsShown}function oR(e){return e.reactionsShown}function lR(e){return e.replying}function uR(){const e=Se.c(5),{connected:t,peerConnection:i}=J.useContext(bn);let r;e[0]!==i.current?(r=()=>{const f=hR;return document.addEventListener("contextmenu",f),document.addEventListener("touchstart",cR,{passive:!1}),()=>{var m;document.removeEventListener("contextmenu",f),document.removeEventListener("touchstart",f),(m=i.current)==null||m.close()}},e[0]=i.current,e[1]=r):r=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[],e[2]=o):o=e[2],J.useEffect(r,o);let u;return e[3]!==t?(u=A.jsx(O7,{children:t?A.jsx(H7,{children:A.jsx(JC,{})}):A.jsx(uw,{})}),e[3]=t,e[4]=u):u=e[4],u}function cR(e){e.touches.length>1&&e.preventDefault()}function hR(e){return e.preventDefault()}$6.createRoot(document.getElementById("root")).render(A.jsx(W6,{children:A.jsx(J.StrictMode,{children:A.jsx(uR,{})})}));
