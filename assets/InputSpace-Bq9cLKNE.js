import{r as n,C,j as e}from"./index-DiI5znZP.js";const v="_inputSpaceContainer_1x60q_1",j="_inputOptions_1x60q_34",_="_sendImage_1x60q_47",w="_likeImage_1x60q_47",i={inputSpaceContainer:v,inputOptions:j,sendImage:_,likeImage:w};function S({setMessages:u}){const{dataChannel:c,sentId:h}=n.useContext(C);console.log(c);const[r,o]=n.useState(!1),t=n.useRef(null),[a,p]=n.useState(""),d=n.useRef(null),l=s=>{r||o(!0),t.current.style.height="auto",t.current.scrollHeight>t.current.clientHeight&&(t.current.style.height=t.current.scrollHeight/1.5+"px"),p(s.target.value)},m=()=>{o(!1),t.current.style.height="1.5rem"},x=()=>{o(!1),t.current.style.height="1.5rem"},f=()=>{const s={type:"text",content:a},g={sentId:h.current,type:"text",origin:"sent",status:"sending",reaction:null,content:a};console.log("The message I am sending looks like: ",s),c.current.send(JSON.stringify(s)),console.log("The message I am saving looks like this: ",g),u(k=>[...k,g]),t.current.value=""},I=()=>{};return e.jsxs("div",{className:i.inputSpaceContainer,ref:d,children:[e.jsx("div",{className:i.inputOptions,children:r?e.jsx("img",{src:"./next.svg",width:20,height:20,onClick:m,onMouseDown:s=>{s.preventDefault()}}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"./files.svg",width:20,height:20}),e.jsx("img",{src:"./photos.svg",width:20,height:20}),e.jsx("img",{src:"./microphone.svg",width:20,height:20})]})}),e.jsx("textarea",{rows:1,placeholder:"Message",onClick:s=>{l(s)},onChange:s=>{l(s)},onBlur:x,ref:t}),a?e.jsx("img",{src:"./send.svg",width:24,height:24,className:i.sendImage,onClick:f}):e.jsx("img",{src:"./like.svg",width:24,height:24,className:i.likeImage,onClick:I})]})}export{S as default};
