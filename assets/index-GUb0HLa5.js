const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LandingPage-DFCc_mRa.js","./LandingPage-CuW6pEb8.css","./ChatPage-GyaKP9Cg.js","./ChatPage-Cfdzie_g.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function IE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _f={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function OE(){if(Fp)return Il;Fp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Xp;function NE(){return Xp||(Xp=1,_f.exports=OE()),_f.exports}var Ci=NE(),vf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function ME(){if(Kp)return Tt;Kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function K(V,Z,nt){this.props=V,this.context=Z,this.refs=W,this.updater=nt||H}K.prototype.isReactComponent={},K.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function mt(){}mt.prototype=K.prototype;function pt(V,Z,nt){this.props=V,this.context=Z,this.refs=W,this.updater=nt||H}var ft=pt.prototype=new mt;ft.constructor=pt,j(ft,K.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function N(V,Z,nt,J,ut,bt){return nt=bt.ref,{$$typeof:s,type:V,key:Z,ref:nt!==void 0?nt:null,props:bt}}function S(V,Z){return N(V.type,Z,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function O(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Z[nt]})}var M=/\/+/g;function U(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):Z.toString(36)}function R(){}function Oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ne(V,Z,nt,J,ut){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var yt=!1;if(V===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(V.$$typeof){case s:case e:yt=!0;break;case A:return yt=V._init,ne(yt(V._payload),Z,nt,J,ut)}}if(yt)return ut=ut(V),yt=J===""?"."+U(V,0):J,xt(ut)?(nt="",yt!=null&&(nt=yt.replace(M,"$&/")+"/"),ne(ut,Z,nt,"",function(Nn){return Nn})):ut!=null&&(w(ut)&&(ut=S(ut,nt+(ut.key==null||V&&V.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+yt)),Z.push(ut)),1;yt=0;var be=J===""?".":J+":";if(xt(V))for(var Kt=0;Kt<V.length;Kt++)J=V[Kt],bt=be+U(J,Kt),yt+=ne(J,Z,nt,bt,ut);else if(Kt=D(V),typeof Kt=="function")for(V=Kt.call(V),Kt=0;!(J=V.next()).done;)J=J.value,bt=be+U(J,Kt++),yt+=ne(J,Z,nt,bt,ut);else if(bt==="object"){if(typeof V.then=="function")return ne(Oe(V),Z,nt,J,ut);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(V,Z,nt){if(V==null)return V;var J=[],ut=0;return ne(V,J,"","",function(bt){return Z.call(nt,bt,ut++)}),J}function et(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function zt(){}return Tt.Children={map:G,forEach:function(V,Z,nt){G(V,function(){Z.apply(this,arguments)},nt)},count:function(V){var Z=0;return G(V,function(){Z++}),Z},toArray:function(V){return G(V,function(Z){return Z})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Tt.Component=K,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=pt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Et.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cloneElement=function(V,Z,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=j({},V.props),ut=V.key,bt=void 0;if(Z!=null)for(yt in Z.ref!==void 0&&(bt=void 0),Z.key!==void 0&&(ut=""+Z.key),Z)!Lt.call(Z,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Z.ref===void 0||(J[yt]=Z[yt]);var yt=arguments.length-2;if(yt===1)J.children=nt;else if(1<yt){for(var be=Array(yt),Kt=0;Kt<yt;Kt++)be[Kt]=arguments[Kt+2];J.children=be}return N(V.type,ut,void 0,void 0,bt,J)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,Z,nt){var J,ut={},bt=null;if(Z!=null)for(J in Z.key!==void 0&&(bt=""+Z.key),Z)Lt.call(Z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=Z[J]);var yt=arguments.length-2;if(yt===1)ut.children=nt;else if(1<yt){for(var be=Array(yt),Kt=0;Kt<yt;Kt++)be[Kt]=arguments[Kt+2];ut.children=be}if(V&&V.defaultProps)for(J in yt=V.defaultProps,yt)ut[J]===void 0&&(ut[J]=yt[J]);return N(V,bt,void 0,void 0,null,ut)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:g,render:V}},Tt.isValidElement=w,Tt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:et}},Tt.memo=function(V,Z){return{$$typeof:v,type:V,compare:Z===void 0?null:Z}},Tt.startTransition=function(V){var Z=Et.T,nt={};Et.T=nt;try{var J=V(),ut=Et.S;ut!==null&&ut(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,lt)}catch(bt){lt(bt)}finally{Et.T=Z}},Tt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Tt.use=function(V){return Et.H.use(V)},Tt.useActionState=function(V,Z,nt){return Et.H.useActionState(V,Z,nt)},Tt.useCallback=function(V,Z){return Et.H.useCallback(V,Z)},Tt.useContext=function(V){return Et.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,Z){return Et.H.useDeferredValue(V,Z)},Tt.useEffect=function(V,Z,nt){var J=Et.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(V,Z)},Tt.useId=function(){return Et.H.useId()},Tt.useImperativeHandle=function(V,Z,nt){return Et.H.useImperativeHandle(V,Z,nt)},Tt.useInsertionEffect=function(V,Z){return Et.H.useInsertionEffect(V,Z)},Tt.useLayoutEffect=function(V,Z){return Et.H.useLayoutEffect(V,Z)},Tt.useMemo=function(V,Z){return Et.H.useMemo(V,Z)},Tt.useOptimistic=function(V,Z){return Et.H.useOptimistic(V,Z)},Tt.useReducer=function(V,Z,nt){return Et.H.useReducer(V,Z,nt)},Tt.useRef=function(V){return Et.H.useRef(V)},Tt.useState=function(V){return Et.H.useState(V)},Tt.useSyncExternalStore=function(V,Z,nt){return Et.H.useSyncExternalStore(V,Z,nt)},Tt.useTransition=function(){return Et.H.useTransition()},Tt.version="19.1.0",Tt}var Zp;function ed(){return Zp||(Zp=1,vf.exports=ME()),vf.exports}var oe=ed();const d_=IE(oe);var Ef={exports:{}},Ol={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function xE(){return $p||($p=1,function(s){function e(G,et){var lt=G.length;G.push(et);t:for(;0<lt;){var zt=lt-1>>>1,V=G[zt];if(0<u(V,et))G[zt]=et,G[lt]=V,lt=zt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],lt=G.pop();if(lt!==et){G[0]=lt;t:for(var zt=0,V=G.length,Z=V>>>1;zt<Z;){var nt=2*(zt+1)-1,J=G[nt],ut=nt+1,bt=G[ut];if(0>u(J,lt))ut<V&&0>u(bt,J)?(G[zt]=bt,G[ut]=lt,zt=ut):(G[zt]=J,G[nt]=lt,zt=nt);else if(ut<V&&0>u(bt,lt))G[zt]=bt,G[ut]=lt,zt=ut;else break t}}return et}function u(G,et){var lt=G.sortIndex-et.sortIndex;return lt!==0?lt:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,C=null,D=3,H=!1,j=!1,W=!1,K=!1,mt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(G){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=G)a(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function Et(G){if(W=!1,xt(G),!j)if(i(_)!==null)j=!0,Lt||(Lt=!0,U());else{var et=i(v);et!==null&&ne(Et,et.startTime-G)}}var Lt=!1,N=-1,S=5,w=-1;function O(){return K?!0:!(s.unstable_now()-w<S)}function M(){if(K=!1,Lt){var G=s.unstable_now();w=G;var et=!0;try{t:{j=!1,W&&(W=!1,pt(N),N=-1),H=!0;var lt=D;try{e:{for(xt(G),C=i(_);C!==null&&!(C.expirationTime>G&&O());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,D=C.priorityLevel;var V=zt(C.expirationTime<=G);if(G=s.unstable_now(),typeof V=="function"){C.callback=V,xt(G),et=!0;break e}C===i(_)&&a(_),xt(G)}else a(_);C=i(_)}if(C!==null)et=!0;else{var Z=i(v);Z!==null&&ne(Et,Z.startTime-G),et=!1}}break t}finally{C=null,D=lt,H=!1}et=void 0}}finally{et?U():Lt=!1}}}var U;if(typeof ft=="function")U=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=M,U=function(){Oe.postMessage(null)}}else U=function(){mt(M,0)};function ne(G,et){N=mt(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var lt=D;D=et;try{return G()}finally{D=lt}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=D;D=G;try{return et()}finally{D=lt}},s.unstable_scheduleCallback=function(G,et,lt){var zt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=lt+V,G={id:A++,callback:et,priorityLevel:G,startTime:lt,expirationTime:V,sortIndex:-1},lt>zt?(G.sortIndex=lt,e(v,G),i(_)===null&&G===i(v)&&(W?(pt(N),N=-1):W=!0,ne(Et,lt-zt))):(G.sortIndex=V,e(_,G),j||H||(j=!0,Lt||(Lt=!0,U()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var et=D;return function(){var lt=D;D=et;try{return G.apply(this,arguments)}finally{D=lt}}}}(Af)),Af}var Jp;function UE(){return Jp||(Jp=1,Tf.exports=xE()),Tf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function LE(){if(Wp)return He;Wp=1;var s=ed();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:C,integrity:D,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var ty;function zE(){if(ty)return Sf.exports;ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=LE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function PE(){if(ey)return Ol;ey=1;var s=UE(),e=ed(),i=zE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case K:return"Profiler";case W:return"StrictMode";case Et:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case pt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ne=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],V=-1;function Z(t){return{current:t}}function nt(t){0>V||(t.current=zt[V],zt[V]=null,V--)}function J(t,n){V++,zt[V]=t.current,t.current=n}var ut=Z(null),bt=Z(null),yt=Z(null),be=Z(null);function Kt(t,n){switch(J(yt,n),J(bt,t),J(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Tp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Tp(n),t=Ap(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),J(ut,t)}function Nn(){nt(ut),nt(bt),nt(yt)}function Mi(t){t.memoizedState!==null&&J(be,t);var n=ut.current,r=Ap(n,t.type);n!==r&&(J(bt,t),J(ut,r))}function ei(t){bt.current===t&&(nt(ut),nt(bt)),be.current===t&&(nt(be),Rl._currentValue=lt)}var Ar=Object.prototype.hasOwnProperty,Sr=s.unstable_scheduleCallback,br=s.unstable_cancelCallback,As=s.unstable_shouldYield,Wl=s.unstable_requestPaint,dn=s.unstable_now,yc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,ha=s.unstable_UserBlockingPriority,Rr=s.unstable_NormalPriority,_c=s.unstable_LowPriority,fa=s.unstable_IdlePriority,bs=s.log,tu=s.unstable_setDisableYieldValue,ie=null,qt=null;function nn(t){if(typeof bs=="function"&&tu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ie,t)}catch{}}var ke=Math.clz32?Math.clz32:wr,eu=Math.log,vc=Math.LN2;function wr(t){return t>>>=0,t===0?32:31-(eu(t)/vc|0)|0}var Cr=256,Dr=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Vr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Cs(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function ni(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ds(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-ke(r),F=1<<Q;E[Q]=0,b[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var k=B[Q];k!==null&&(k.lane&=-536870913)}r&=~F}l!==0&&Mn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Mn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:qp(t.type))}function nu(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var $t=Math.random().toString(36).slice(2),pe="__reactFiber$"+$t,he="__reactProps$"+$t,mn="__reactContainer$"+$t,Is="__reactEvents$"+$t,Ec="__reactListeners$"+$t,Li="__reactHandles$"+$t,iu="__reactResources$"+$t,Ir="__reactMarker$"+$t;function zi(t){delete t[pe],delete t[he],delete t[Is],delete t[Ec],delete t[Li]}function ri(t){var n=t[pe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=wp(t);t!==null;){if(r=t[pe])return r;t=wp(t)}return n}t=r,r=t.parentNode}return null}function xn(t){if(t=t[pe]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(t){t[Ir]=!0}var Os=new Set,ga={};function Cn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(ga[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Or={};function su(t){return Ar.call(Or,t)?!0:Ar.call(au,t)?!1:ru.test(t)?Or[t]=!0:(au[t]=!0,!1)}function Pi(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ln(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ne(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Nr,lu;function si(t){if(Nr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Nr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+t+lu}var pa=!1;function ya(t,n){if(!t||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var Q=`
`+b[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?si(r):""}function Ns(t){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return si("Activity");default:return""}}function _a(t){try{var n="";do n+=Ns(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tc(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function va(t){t._valueTracker||(t._valueTracker=Tc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function fe(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Bi(t,y,Fe(n)):r!=null?Bi(t,y,Fe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function xr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Bi(t,n,r){n==="number"&&Mr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function li(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Ur(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Lr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Us(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function zs(t){var n=xn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&li(t,!!r.multiple,n,!1)}}}var zn=!1;function ou(t,n,r){if(zn)return t(n,r);zn=!0;try{var l=t(n);return l}finally{if(zn=!1,(oi!==null||ci!==null)&&(no(),oi&&(n=oi,t=ci,ci=oi=null,zs(n),t)))for(n=0;n<t.length;n++)zs(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Dn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{yn=!1}var Pn=null,ki=null,hi=null;function Ps(){if(hi)return hi;var t,n=ki,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function Bn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Bs(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Re(Bt),Br=A({},Bt,{view:0,detail:0}),cu=Re(Br),Aa,Sa,qn,kr=A({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(Aa=t.screenX-qn.screenX,Sa=t.screenY-qn.screenY):Sa=Aa=0,qn=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),_n=Re(kr),hu=A({},kr,{dataTransfer:0}),Rc=Re(hu),qr=A({},Br,{relatedTarget:0}),ba=Re(qr),ks=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Re(ks),fu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Re(fu),wc=A({},Bt,{data:0}),qs=Re(wc),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function jr(){return Hs}var gu=A({},Br,{key:function(t){if(t.key){var n=Hr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Bn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Bn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Re(gu),pu=A({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=Re(pu),fi=A({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),yu=Re(fi),_u=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Re(_u),Eu=A({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Re(Eu),Xe=A({},Bt,{newState:0,oldState:0}),Tu=Re(Xe),Au=[9,13,27,32],Hn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,p=Dn&&(!Hn||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ye(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Hn&&q(t,n)?(t=Ps(),hi=ki=Pn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function di(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=uo(n,"onChange"),0<n.length&&(r=new Ta("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,jn=null;function Gs(t){pp(t,0)}function Su(t){var n=Un(t);if(xs(n))return t}function zd(t,n){if(t==="change")return n}var Pd=!1;if(Dn){var Cc;if(Dn){var Dc="oninput"in document;if(!Dc){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Dc=typeof Bd.oninput=="function"}Cc=Dc}else Cc=!1;Pd=Cc&&(!document.documentMode||9<document.documentMode)}function kd(){Me&&(Me.detachEvent("onpropertychange",qd),jn=Me=null)}function qd(t){if(t.propertyName==="value"&&Su(jn)){var n=[];di(n,jn,t,pn(t)),ou(Gs,n)}}function s0(t,n,r){t==="focusin"?(kd(),Me=n,jn=r,Me.attachEvent("onpropertychange",qd)):t==="focusout"&&kd()}function l0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(jn)}function u0(t,n){if(t==="click")return Su(n)}function o0(t,n){if(t==="input"||t==="change")return Su(n)}function c0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:c0;function Qs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ar.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jd(t,n){var r=Hd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Hd(r)}}function Gd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Gd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mr(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h0=Dn&&"documentMode"in document&&11>=document.documentMode,Va=null,Ic=null,Ys=null,Oc=!1;function Yd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oc||Va==null||Va!==Mr(l)||(l=Va,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Qs(Ys,l)||(Ys=l,l=uo(Ic,"onSelect"),0<l.length&&(n=new Ta("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Va)))}function Gr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ia={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Nc={},Fd={};Dn&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Qr(t){if(Nc[t])return Nc[t];if(!Ia[t])return t;var n=Ia[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Fd)return Nc[t]=n[r];return t}var Xd=Qr("animationend"),Kd=Qr("animationiteration"),Zd=Qr("animationstart"),f0=Qr("transitionrun"),d0=Qr("transitionstart"),m0=Qr("transitioncancel"),$d=Qr("transitionend"),Jd=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Vn(t,n){Jd.set(t,n),Cn(n,[t])}var Wd=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Wd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_a(n)},Wd.set(t,n),n)}return{value:t,source:n,stack:_a(n)}}var En=[],Oa=0,xc=0;function bu(){for(var t=Oa,n=xc=Oa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&tm(r,c,f)}}function Ru(t,n,r,l){En[Oa++]=t,En[Oa++]=n,En[Oa++]=r,En[Oa++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Na(t,n){return Ru(t,null,null,n),wu(t)}function tm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<yl)throw yl=0,qh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function g0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new g0(t,n,r,l)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function em(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Lc(t)&&(y=1);else if(typeof t=="string")y=yE(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case j:return Yr(r.children,c,f,n);case W:y=8,c|=24;break;case K:return t=sn(12,r,n,c|2),t.elementType=K,t.lanes=f,t;case Et:return t=sn(13,r,n,c),t.elementType=Et,t.lanes=f,t;case Lt:return t=sn(19,r,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:case ft:y=10;break t;case pt:y=9;break t;case xt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function zc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Pc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xa=[],Ua=0,Du=null,Vu=0,Tn=[],An=0,Fr=null,gi=1,pi="";function Xr(t,n){xa[Ua++]=Vu,xa[Ua++]=Du,Du=t,Vu=n}function nm(t,n,r){Tn[An++]=gi,Tn[An++]=pi,Tn[An++]=Fr,Fr=t;var l=gi;t=pi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,gi=1<<32-ke(n)+c|r<<c|l,pi=f+t}else gi=1<<f|r<<c|l,pi=t}function Bc(t){t.return!==null&&(Xr(t,1),nm(t,1,0))}function kc(t){for(;t===Du;)Du=xa[--Ua],xa[Ua]=null,Vu=xa[--Ua],xa[Ua]=null;for(;t===Fr;)Fr=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null,gi=Tn[--An],Tn[An]=null}var Ke=null,re=null,Pt=!1,Kr=null,Gn=!1,qc=Error(a(519));function Zr(t){var n=Error(a(418,""));throw Ks(vn(n,t)),qc}function im(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[pe]=t,n[he]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Ct(vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),xr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ur(n,l.value,l.defaultValue,l.children),va(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ep(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Zr(t)}function rm(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ke=Ke.return}}function Fs(t){if(t!==Ke)return!1;if(!Pt)return rm(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||rf(t.type,t.memoizedProps)),r=!r),r&&re&&Zr(t),rm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){re=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,nr(t.type)?(t=uf,uf=null,re=t):re=n):re=Ke?On(t.stateNode.nextSibling):null;return!0}function Xs(){re=Ke=null,Pt=!1}function am(){var t=Kr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Kr=null),t}function Ks(t){Kr===null?Kr=[t]:Kr.push(t)}var Hc=Z(null),$r=null,yi=null;function qi(t,n,r){J(Hc,n._currentValue),n._currentValue=r}function _i(t){t._currentValue=Hc.current,nt(Hc)}function jc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Gc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),jc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),jc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Gc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){$r=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return sm($r,t)}function Ou(t,n){return $r===null&&Jr(t),sm(t,n)}function sm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},yi===null){if(t===null)throw Error(a(308));yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else yi=yi.next=n;return r}var p0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},y0=s.unstable_scheduleCallback,_0=s.unstable_NormalPriority,ve={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new p0,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&y0(_0,function(){t.controller.abort()})}var Js=null,Yc=0,La=0,za=null;function v0(t,n){if(Js===null){var r=Js=[];Yc=0,La=Xh(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,n.then(lm,lm),n}function lm(){if(--Yc===0&&Js!==null){za!==null&&(za.status="fulfilled");var t=Js;Js=null,La=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function E0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var um=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&v0(t,n),um!==null&&um(t,n)};var Wr=Z(null);function Fc(){var t=Wr.current;return t!==null?t:Zt.pooledCache}function Nu(t,n){n===null?J(Wr,Wr.current):J(Wr,n.pool)}function om(){var t=Fc();return t===null?null:{parent:ve._currentValue,pool:t}}var Ws=Error(a(460)),cm=Error(a(474)),Mu=Error(a(542)),Xc={then:function(){}};function hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function fm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mm(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mm(t),t}throw tl=n,Ws}}var tl=null;function dm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function mm(t){if(t===Ws||t===Mu)throw Error(a(483))}var Hi=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),tm(t,null,r),n}return Ru(t,l,n,r),wu(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function $c(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Jc=!1;function nl(){if(Jc){var t=za;if(t!==null)throw t}}function il(t,n,r,l){Jc=!1;var c=t.updateQueue;Hi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,Q=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===La&&(Jc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ct=E;B=n;var Ft=r;switch(ct.tag){case 1:if(gt=ct.payload,typeof gt=="function"){F=gt.call(Ft,F,B);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ct.payload,B=typeof gt=="function"?gt.call(Ft,F,B):gt,B==null)break t;F=A({},F,B);break t;case 2:Hi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=k,b=F):Q=Q.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Ji|=y,t.lanes=y,t.memoizedState=F}}function gm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function pm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)gm(r[t],n)}var Pa=Z(null),Uu=Z(0);function ym(t,n){t=Ri,J(Uu,t),J(Pa,n),Ri=t|n.baseLanes}function Wc(){J(Uu,Ri),J(Pa,Pa.current)}function th(){Ri=Uu.current,nt(Pa),nt(Uu)}var Qi=0,At=null,Qt=null,de=null,Lu=!1,Ba=!1,ta=!1,zu=0,rl=0,ka=null,T0=0;function le(){throw Error(a(321))}function eh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function nh(t,n,r,l,c,f){return Qi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?tg:eg,ta=!1,f=r(l,c),ta=!1,Ba&&(f=vm(n,r,l,c)),_m(t),f}function _m(t){G.H=ju;var n=Qt!==null&&Qt.next!==null;if(Qi=0,de=Qt=At=null,Lu=!1,rl=0,ka=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&Iu(t)&&(Ce=!0))}function vm(t,n,r,l){At=t;var c=0;do{if(Ba&&(ka=null),rl=0,Ba=!1,25<=c)throw Error(a(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=D0,f=n(r,l)}while(Ba);return f}function A0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function ih(){var t=zu!==0;return zu=0,t}function rh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ah(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}Qi=0,de=Qt=At=null,Ba=!1,rl=zu=0,ka=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?At.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?At.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?At.memoizedState=de=t:de=de.next=t}return de}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,ka===null&&(ka=[]),t=fm(ka,t,n),n=At,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?tg:eg),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ft)return qe(t)}throw Error(a(438,String(t)))}function lh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=sh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=me();return uh(n,Qt,t)}function uh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,Q=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ot&F)===F:(Qi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===La&&(Q=!0);else if((Qi&B)===B){P=P.next,B===La&&(Q=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,At.lanes|=B,Ji|=B;F=P.action,ta&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,At.lanes|=F,Ji|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ce=!0,Q&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function oh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Em(t,n,r){var l=At,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=Sm.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,qa(9,ku(),Am.bind(null,l,c,r,n),null),Zt===null)throw Error(a(349));f||(Qi&124)!==0||Tm(l,n,r)}return r}function Tm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=sh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Am(t,n,r,l){n.value=r,n.getSnapshot=l,bm(n)&&Rm(t)}function Sm(t,n,r){return r(function(){bm(n)&&Rm(t)})}function bm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Rm(t){var n=Na(t,2);n!==null&&hn(n,t,2)}function ch(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),ta){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function wm(t,n,r,l){return t.baseState=r,uh(t,Qt,typeof l=="function"?l:vi)}function S0(t,n,r,l,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Cm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Cm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(c,l),b=G.S;b!==null&&b(y,E),Dm(t,n,E)}catch(P){hh(t,n,P)}finally{G.T=f}}else try{f=r(c,l),Dm(t,n,f)}catch(P){hh(t,n,P)}}function Dm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Vm(t,n,l)},function(l){return hh(t,n,l)}):Vm(t,n,r)}function Vm(t,n,r){n.status="fulfilled",n.value=r,Im(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Cm(t,r)))}function hh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Im(n),n=n.next;while(n!==l)}t.action=null}function Im(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Om(t,n){return n}function Nm(t,n){if(Pt){var r=Zt.formState;if(r!==null){t:{var l=At;if(Pt){if(re){e:{for(var c=re,f=Gn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=On(c.nextSibling),l=c.data==="F!";break t}}Zr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:n},r.queue=l,r=$m.bind(null,At,l),l.dispatch=r,l=ch(!1),f=ph.bind(null,At,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=S0.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Mm(t){var n=me();return xm(n,Qt,t)}function xm(t,n,r){if(n=uh(t,n,Om)[0],t=Bu(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,qa(9,ku(),b0.bind(null,c,r),null)),[l,f,t]}function b0(t,n){t.action=n}function Um(t){var n=me(),r=Qt;if(r!==null)return xm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=sh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function Lm(){return me().memoizedState}function qu(t,n,r,l){var c=Ze();l=l===void 0?null:l,At.flags|=t,c.memoizedState=qa(1|n,ku(),r,l)}function sl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&eh(l,Qt.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(At.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function zm(t,n){qu(8390656,8,t,n)}function Pm(t,n){sl(2048,8,t,n)}function Bm(t,n){return sl(4,2,t,n)}function km(t,n){return sl(4,4,t,n)}function qm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,qm.bind(null,n,t),r)}function fh(){}function jm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&eh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Gm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&eh(n,l[1]))return l[0];if(l=t(),ta){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function dh(t,n,r){return r===void 0||(Qi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Fg(),At.lanes|=t,Ji|=t,r)}function Qm(t,n,r,l){return an(r,n)?r:Pa.current!==null?(t=dh(t,r,l),an(t,n)||(Ce=!0),t):(Qi&42)===0?(Ce=!0,t.memoizedState=r):(t=Fg(),At.lanes|=t,Ji|=t,n)}function Ym(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,ph(t,!1,n,r);try{var b=c(),P=G.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=E0(b,l);ll(t,n,Q,cn(t))}else ll(t,n,l,cn(t))}catch(F){ll(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{et.p=f,G.T=y}}function R0(){}function mh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Fm(t).queue;Ym(t,c,n,lt,r===null?R0:function(){return Xm(t),r(l)})}function Fm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xm(t){var n=Fm(t).next.queue;ll(t,n,{},cn())}function gh(){return qe(Rl)}function Km(){return me().memoizedState}function Zm(){return me().memoizedState}function w0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ji(r);var l=Gi(n,t,r);l!==null&&(hn(l,n,r),el(l,n,r)),n={cache:Qc()},t.payload=n;return}n=n.return}}function C0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Jm(n,r):(r=Uc(t,n,r,l),r!==null&&(hn(r,t,l),Wm(r,n,l)))}function $m(t,n,r){var l=cn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Jm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Ru(t,n,c,0),Zt===null&&bu(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return hn(r,t,l),Wm(r,n,l),!0}return!1}function ph(t,n,r,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Uc(t,r,l,2),n!==null&&hn(n,t,2)}function Hu(t){var n=t.alternate;return t===At||n!==null&&n===At}function Jm(t,n){Ba=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var ju={readContext:qe,use:Pu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},tg={readContext:qe,use:Pu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:zm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qu(4194308,4,qm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(ta){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(ta){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=C0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=ch(t);var n=t.queue,r=$m.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:fh,useDeferredValue:function(t,n){var r=Ze();return dh(r,t,n)},useTransition:function(){var t=ch(!1);return t=Ym.bind(null,At,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Ze();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Ot&124)!==0||Tm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,zm(Sm.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,ku(),Am.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=Zt.identifierPrefix;if(Pt){var r=pi,l=gi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=T0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:gh,useFormState:Nm,useActionState:Nm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ph.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:lh,useCacheRefresh:function(){return Ze().memoizedState=w0.bind(null,At)}},eg={readContext:qe,use:Pu,useCallback:jm,useContext:qe,useEffect:Pm,useImperativeHandle:Hm,useInsertionEffect:Bm,useLayoutEffect:km,useMemo:Gm,useReducer:Bu,useRef:Lm,useState:function(){return Bu(vi)},useDebugValue:fh,useDeferredValue:function(t,n){var r=me();return Qm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Bu(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:Em,useId:Km,useHostTransitionStatus:gh,useFormState:Mm,useActionState:Mm,useOptimistic:function(t,n){var r=me();return wm(r,Qt,t,n)},useMemoCache:lh,useCacheRefresh:Zm},D0={readContext:qe,use:Pu,useCallback:jm,useContext:qe,useEffect:Pm,useImperativeHandle:Hm,useInsertionEffect:Bm,useLayoutEffect:km,useMemo:Gm,useReducer:oh,useRef:Lm,useState:function(){return oh(vi)},useDebugValue:fh,useDeferredValue:function(t,n){var r=me();return Qt===null?dh(r,t,n):Qm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=oh(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:Em,useId:Km,useHostTransitionStatus:gh,useFormState:Um,useActionState:Um,useOptimistic:function(t,n){var r=me();return Qt!==null?wm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:lh,useCacheRefresh:Zm},Ha=null,ul=0;function Gu(t){var n=ul;return ul+=1,Ha===null&&(Ha=[]),fm(Ha,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ng(t){var n=t._init;return n(t._payload)}function ig(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=mi(x,I),x.index=0,x.sibling=null,x}function f(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=67108866,I):z):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,z,Y){return I===null||I.tag!==6?(I=zc(z,x.mode,Y),I.return=x,I):(I=c(I,z),I.return=x,I)}function b(x,I,z,Y){var rt=z.type;return rt===j?Q(x,I,z.props.children,Y,z.key):I!==null&&(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ng(rt)===I.type)?(I=c(I,z.props),ol(I,z),I.return=x,I):(I=Cu(z.type,z.key,z.props,null,x.mode,Y),ol(I,z),I.return=x,I)}function P(x,I,z,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Pc(z,x.mode,Y),I.return=x,I):(I=c(I,z.children||[]),I.return=x,I)}function Q(x,I,z,Y,rt){return I===null||I.tag!==7?(I=Yr(z,x.mode,Y,rt),I.return=x,I):(I=c(I,z),I.return=x,I)}function F(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=zc(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return z=Cu(I.type,I.key,I.props,null,x.mode,z),ol(z,I),z.return=x,z;case H:return I=Pc(I,x.mode,z),I.return=x,I;case S:var Y=I._init;return I=Y(I._payload),F(x,I,z)}if(ne(I)||U(I))return I=Yr(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return F(x,Gu(I),z);if(I.$$typeof===ft)return F(x,Ou(x,I),z);Qu(x,I)}return null}function B(x,I,z,Y){var rt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(x,I,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===rt?b(x,I,z,Y):null;case H:return z.key===rt?P(x,I,z,Y):null;case S:return rt=z._init,z=rt(z._payload),B(x,I,z,Y)}if(ne(z)||U(z))return rt!==null?null:Q(x,I,z,Y,null);if(typeof z.then=="function")return B(x,I,Gu(z),Y);if(z.$$typeof===ft)return B(x,I,Ou(x,z),Y);Qu(x,z)}return null}function k(x,I,z,Y,rt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(z)||null,E(I,x,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return x=x.get(Y.key===null?z:Y.key)||null,b(I,x,Y,rt);case H:return x=x.get(Y.key===null?z:Y.key)||null,P(I,x,Y,rt);case S:var Rt=Y._init;return Y=Rt(Y._payload),k(x,I,z,Y,rt)}if(ne(Y)||U(Y))return x=x.get(z)||null,Q(I,x,Y,rt,null);if(typeof Y.then=="function")return k(x,I,z,Gu(Y),rt);if(Y.$$typeof===ft)return k(x,I,z,Ou(I,Y),rt);Qu(I,Y)}return null}function gt(x,I,z,Y){for(var rt=null,Rt=null,at=I,ht=I=0,Ve=null;at!==null&&ht<z.length;ht++){at.index>ht?(Ve=at,at=null):Ve=at.sibling;var Ut=B(x,at,z[ht],Y);if(Ut===null){at===null&&(at=Ve);break}t&&at&&Ut.alternate===null&&n(x,at),I=f(Ut,I,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,at=Ve}if(ht===z.length)return r(x,at),Pt&&Xr(x,ht),rt;if(at===null){for(;ht<z.length;ht++)at=F(x,z[ht],Y),at!==null&&(I=f(at,I,ht),Rt===null?rt=at:Rt.sibling=at,Rt=at);return Pt&&Xr(x,ht),rt}for(at=l(at);ht<z.length;ht++)Ve=k(at,x,ht,z[ht],Y),Ve!==null&&(t&&Ve.alternate!==null&&at.delete(Ve.key===null?ht:Ve.key),I=f(Ve,I,ht),Rt===null?rt=Ve:Rt.sibling=Ve,Rt=Ve);return t&&at.forEach(function(lr){return n(x,lr)}),Pt&&Xr(x,ht),rt}function ct(x,I,z,Y){if(z==null)throw Error(a(151));for(var rt=null,Rt=null,at=I,ht=I=0,Ve=null,Ut=z.next();at!==null&&!Ut.done;ht++,Ut=z.next()){at.index>ht?(Ve=at,at=null):Ve=at.sibling;var lr=B(x,at,Ut.value,Y);if(lr===null){at===null&&(at=Ve);break}t&&at&&lr.alternate===null&&n(x,at),I=f(lr,I,ht),Rt===null?rt=lr:Rt.sibling=lr,Rt=lr,at=Ve}if(Ut.done)return r(x,at),Pt&&Xr(x,ht),rt;if(at===null){for(;!Ut.done;ht++,Ut=z.next())Ut=F(x,Ut.value,Y),Ut!==null&&(I=f(Ut,I,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return Pt&&Xr(x,ht),rt}for(at=l(at);!Ut.done;ht++,Ut=z.next())Ut=k(at,x,ht,Ut.value,Y),Ut!==null&&(t&&Ut.alternate!==null&&at.delete(Ut.key===null?ht:Ut.key),I=f(Ut,I,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return t&&at.forEach(function(VE){return n(x,VE)}),Pt&&Xr(x,ht),rt}function Ft(x,I,z,Y){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var rt=z.key;I!==null;){if(I.key===rt){if(rt=z.type,rt===j){if(I.tag===7){r(x,I.sibling),Y=c(I,z.props.children),Y.return=x,x=Y;break t}}else if(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ng(rt)===I.type){r(x,I.sibling),Y=c(I,z.props),ol(Y,z),Y.return=x,x=Y;break t}r(x,I);break}else n(x,I);I=I.sibling}z.type===j?(Y=Yr(z.props.children,x.mode,Y,z.key),Y.return=x,x=Y):(Y=Cu(z.type,z.key,z.props,null,x.mode,Y),ol(Y,z),Y.return=x,x=Y)}return y(x);case H:t:{for(rt=z.key;I!==null;){if(I.key===rt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(x,I.sibling),Y=c(I,z.children||[]),Y.return=x,x=Y;break t}else{r(x,I);break}else n(x,I);I=I.sibling}Y=Pc(z,x.mode,Y),Y.return=x,x=Y}return y(x);case S:return rt=z._init,z=rt(z._payload),Ft(x,I,z,Y)}if(ne(z))return gt(x,I,z,Y);if(U(z)){if(rt=U(z),typeof rt!="function")throw Error(a(150));return z=rt.call(z),ct(x,I,z,Y)}if(typeof z.then=="function")return Ft(x,I,Gu(z),Y);if(z.$$typeof===ft)return Ft(x,I,Ou(x,z),Y);Qu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(x,I.sibling),Y=c(I,z),Y.return=x,x=Y):(r(x,I),Y=zc(z,x.mode,Y),Y.return=x,x=Y),y(x)):r(x,I)}return function(x,I,z,Y){try{ul=0;var rt=Ft(x,I,z,Y);return Ha=null,rt}catch(at){if(at===Ws||at===Mu)throw at;var Rt=sn(29,at,null,x.mode);return Rt.lanes=Y,Rt.return=x,Rt}finally{}}}var ja=ig(!0),rg=ig(!1),Sn=Z(null),Qn=null;function Yi(t){var n=t.alternate;J(Ee,Ee.current&1),J(Sn,t),Qn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Qn=t)}function ag(t){if(t.tag===22){if(J(Ee,Ee.current),J(Sn,t),Qn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Qn=t)}}else Fi()}function Fi(){J(Ee,Ee.current),J(Sn,Sn.current)}function Ei(t){nt(Sn),Qn===t&&(Qn=null),nt(Ee)}var Ee=Z(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||lf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _h={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ji(l);c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ji(r);l.tag=2,n!=null&&(l.callback=n),n=Gi(t,l,r),n!==null&&(hn(n,t,r),el(n,t,r))}};function sg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function lg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ug(t){Fu(t)}function og(t){console.error(t)}function cg(t){Fu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vh(t,n,r){return r=ji(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function fg(t){return t=ji(t),t.tag=3,t}function dg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){hg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){hg(n,r,l),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function V0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Qn===null?jh():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Qh(t,l,c)),!1;case 22:return r.flags|=65536,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Qh(t,l,c)),!1}throw Error(a(435,r.tag))}return Qh(t,l,c),jh(),!1}if(Pt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(a(422),{cause:l}),Ks(vn(t,r)))):(l!==qc&&(n=Error(a(423),{cause:l}),Ks(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=vh(t.stateNode,l,c),$c(t,c),ae!==4&&(ae=2)),!1;var f=Error(a(520),{cause:l});if(f=vn(f,r),pl===null?pl=[f]:pl.push(f),ae!==4&&(ae=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=vh(r.stateNode,l,t),$c(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wi===null||!Wi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=fg(c),dg(c,t,r,l),$c(r,c),!1}r=r.return}while(r!==null);return!1}var mg=Error(a(461)),Ce=!1;function xe(t,n,r,l){n.child=t===null?rg(n,null,r,l):ja(n,t.child,r,l)}function gg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Jr(n),l=nh(t,n,r,y,f,c),E=ih(),t!==null&&!Ce?(rh(t,n,c),Ti(t,n,c)):(Pt&&E&&Bc(n),n.flags|=1,xe(t,n,l,c),n.child)}function pg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,yg(t,n,f,l,c)):(t=Cu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function yg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return Eh(t,n,r,l,c)}function _g(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return vg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?ym(n,f):Wc(),ag(n);else return n.lanes=n.childLanes=536870912,vg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Nu(n,f.cachePool),ym(n,f),Fi(),n.memoizedState=null):(t!==null&&Nu(n,null),Wc(),Fi());return xe(t,n,c,r),n.child}function vg(t,n,r,l){var c=Fc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Nu(n,null),Wc(),ag(n),t!==null&&Zs(t,n,l,!0),null}function Ku(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Eh(t,n,r,l,c){return Jr(n),r=nh(t,n,r,l,void 0,c),l=ih(),t!==null&&!Ce?(rh(t,n,c),Ti(t,n,c)):(Pt&&l&&Bc(n),n.flags|=1,xe(t,n,r,c),n.child)}function Eg(t,n,r,l,c,f){return Jr(n),n.updateQueue=null,r=vm(n,l,r,c),_m(t),l=ih(),t!==null&&!Ce?(rh(t,n,f),Ti(t,n,f)):(Pt&&l&&Bc(n),n.flags|=1,xe(t,n,r,f),n.child)}function Tg(t,n,r,l,c){if(Jr(n),n.stateNode===null){var f=Ma,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Kc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ma,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(yh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&_h.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ea(r,E);f.props=b;var P=f.context,Q=r.contextType;y=Ma,typeof Q=="object"&&Q!==null&&(y=qe(Q));var F=r.getDerivedStateFromProps;Q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&lg(n,f,l,y),Hi=!1;var B=n.memoizedState;f.state=B,il(n,l,f,c),nl(),P=n.memoizedState,E||B!==P||Hi?(typeof F=="function"&&(yh(n,r,F,l),P=n.memoizedState),(b=Hi||sg(n,r,b,l,B,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zc(t,n),y=n.memoizedProps,Q=ea(r,y),f.props=Q,F=n.pendingProps,B=f.context,P=r.contextType,b=Ma,typeof P=="object"&&P!==null&&(b=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&lg(n,f,l,b),Hi=!1,B=n.memoizedState,f.state=B,il(n,l,f,c),nl();var k=n.memoizedState;y!==F||B!==k||Hi||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(yh(n,r,E,l),k=n.memoizedState),(Q=Hi||sg(n,r,Q,l,B,k,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ja(n,t.child,null,c),n.child=ja(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function Ag(t,n,r,l){return Xs(),n.flags|=256,xe(t,n,r,l),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:om()}}function Sh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Sg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Yi(n):Fi(),Pt){var E=re,b;if(b=E){t:{for(b=E,E=Gn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,re=null,b=!0):b=!1}b||Zr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lf(E)?n.lanes=32:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(Fi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=Yr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(r),c.childLanes=Sh(t,y,r),n.memoizedState=Th,l):(Yi(n),bh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Yi(n),n.flags&=-257,n=Rh(t,n,r)):n.memoizedState!==null?(Fi(),n.child=t.child,n.flags|=128,n=null):(Fi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=Yr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ja(n,t.child,null,r),l=n.child,l.memoizedState=Ah(r),l.childLanes=Sh(t,y,r),n.memoizedState=Th,n=c);else if(Yi(n),lf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Ks({value:l,source:null,stack:null}),n=Rh(t,n,r)}else if(Ce||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=Zt,y!==null&&(l=r&-r,l=(l&42)!==0?1:xi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Na(t,l),hn(y,t,l),mg;E.data==="$?"||jh(),n=Rh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=On(E.nextSibling),Ke=n,Pt=!0,Kr=null,Gn=!1,t!==null&&(Tn[An++]=gi,Tn[An++]=pi,Tn[An++]=Fr,gi=t.id,pi=t.overflow,Fr=n),n=bh(n,l.children),n.flags|=4096);return n}return c?(Fi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=mi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=mi(P,c):(c=Yr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(r):(b=E.cachePool,b!==null?(P=ve._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=om(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Sh(t,y,r),n.memoizedState=Th,l):(Yi(n),r=t.child,t=r.sibling,r=mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function bh(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rh(t,n,r){return ja(n,t.child,null,r),t=bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function bg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),jc(t.return,n,r)}function wh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Rg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bg(t,r,n);else if(t.tag===19)bg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),wh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}wh(n,!0,r,null,f);break;case"together":wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ji|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=mi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=mi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function I0(t,n,r){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),qi(n,ve,t.memoizedState.cache),Xs();break;case 27:case 5:Mi(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Sg(t,n,r):(Yi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Rg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,_g(t,n,r);case 24:qi(n,ve,t.memoizedState.cache)}return Ti(t,n,r)}function wg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ce=!1,I0(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&nm(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Lc(l)?(t=ea(l,t),n.tag=1,n=Tg(null,n,l,t,r)):(n.tag=0,n=Eh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=gg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=pg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(a(306,n,""))}}return n;case 0:return Eh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ea(l,n.pendingProps),Tg(t,n,l,c,r);case 3:t:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Zc(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,qi(n,ve,l),l!==f.cache&&Gc(n,[ve],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ag(t,n,l,r);break t}else if(l!==c){c=vn(Error(a(424)),n),Ks(c),n=Ag(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=On(t.firstChild),Ke=n,Pt=!0,Kr=null,Gn=!0,r=rg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xs(),l===c){n=Ti(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return Ku(t,n),t===null?(r=Ip(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(yt.current).createElement(r),l[pe]=n,l[he]=t,Le(l,r,t),se(l),n.stateNode=l):n.memoizedState=Ip(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mi(n),t===null&&Pt&&(l=n.stateNode=Cp(n.type,n.pendingProps,yt.current),Ke=n,Gn=!0,c=re,nr(n.type)?(uf=c,re=On(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,r),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=re)&&(l=rE(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Ke=n,re=On(l.firstChild),Gn=!1,c=!0):c=!1),c||Zr(n)),Mi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,rf(c,f)?l=null:y!==null&&rf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=nh(t,n,A0,null,null,r),Rl._currentValue=c),Ku(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=re)&&(r=aE(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,Ke=n,re=null,t=!0):t=!1),t||Zr(n)),null;case 13:return Sg(t,n,r);case 4:return Kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ja(n,null,l,r):xe(t,n,l,r),n.child;case 11:return gg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Jr(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return pg(t,n,n.type,n.pendingProps,r);case 15:return yg(t,n,n.type,n.pendingProps,r);case 19:return Rg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=mi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return _g(t,n,r);case 24:return Jr(n),l=qe(ve),t===null?(c=Fc(),c===null&&(c=Zt,f=Qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Kc(n),qi(n,ve,c)):((t.lanes&r)!==0&&(Zc(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,ve,l)):(l=f.cache,qi(n,ve,l),l!==c.cache&&Gc(n,[ve],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ai(t){t.flags|=4}function Cg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Up(n)){if(n=Sn.current,n!==null&&((Ot&4194048)===Ot?Qn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Qn))throw tl=Xc,cm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Cs():536870912,t.lanes|=n,Fa|=n)}function cl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function O0(t,n,r){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_i(ve),Nn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Ai(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,am())),te(n),null;case 26:return r=n.memoizedState,t===null?(Ai(n),r!==null?(te(n),Cg(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ai(n),te(n),Cg(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ai(n),te(n),n.flags&=-16777217),null;case 27:ei(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=ut.current,Fs(n)?im(n):(t=Cp(c,l,r),n.stateNode=t,Ai(n))}return te(n),null;case 5:if(ei(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(t=ut.current,Fs(n))im(n);else{switch(c=co(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[pe]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ai(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yt.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ep(t.nodeValue,r)),t||Zr(n)}else t=co(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=am(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),te(n),null;case 4:return Nn(),t===null&&Jh(n.stateNode.containerInfo),te(n),null;case 10:return _i(n.type),te(n),null;case 19:if(nt(Ee),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)em(r,t),r=r.sibling;return J(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>to&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return te(n),null}else 2*dn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Ee.current,J(Ee,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return Ei(n),th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),_i(ve),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function N0(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _i(ve),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ei(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ee),null;case 4:return Nn(),null;case 10:return _i(n.type),null;case 22:case 23:return Ei(n),th(),t!==null&&nt(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _i(ve),null;case 25:return null;default:return null}}function Dg(t,n){switch(kc(n),n.tag){case 3:_i(ve),Nn();break;case 26:case 27:case 5:ei(n);break;case 4:Nn();break;case 13:Ei(n);break;case 19:nt(Ee);break;case 10:_i(n.type);break;case 22:case 23:Ei(n),th(),t!==null&&nt(Wr);break;case 24:_i(ve)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Xi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(Q){Xt(c,b,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function Vg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{pm(n,r)}catch(l){Xt(t,t.return,l)}}}function Ig(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Yn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Og(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Dh(t,n,r){try{var l=t.stateNode;W0(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Vh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ih(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ih(t,n,r),t=t.sibling;t!==null;)Ih(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Mg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[pe]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var Si=!1,ue=!1,Oh=!1,xg=typeof WeakSet=="function"?WeakSet:Set,De=null;function M0(t,n){if(t=t.containerInfo,ef=yo,t=Qd(t),Vc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,Q=0,F=t,B=null;e:for(;;){for(var k;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++Q===l&&(b=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(nf={focusedElem:t,selectionRange:r},yo=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=ea(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Xt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)sf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Ug(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(t,r),l&4&&hl(5,r);break;case 1:if(Ki(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Vg(r),l&512&&fl(r,r.return);break;case 3:if(Ki(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Mg(r);case 26:case 5:Ki(t,r),n===null&&l&4&&Og(r),l&512&&fl(r,r.return);break;case 12:Ki(t,r);break;case 13:Ki(t,r),l&4&&Pg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=H0.bind(null,r),sE(t,r))));break;case 22:if(l=r.memoizedState!==null||Si,!l){n=n!==null&&n.memoizedState!==null||ue,c=Si;var f=ue;Si=l,(ue=n)&&!f?Zi(t,r,(r.subtreeFlags&8772)!==0):Ki(t,r),Si=c,ue=f}break;case 30:break;default:Ki(t,r)}}function Lg(t){var n=t.alternate;n!==null&&(t.alternate=null,Lg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,$e=!1;function bi(t,n,r){for(r=r.child;r!==null;)zg(t,n,r),r=r.sibling}function zg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ie,r)}catch{}switch(r.tag){case 26:ue||Yn(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Yn(r,n);var l=Jt,c=$e;nr(r.type)&&(Jt=r.stateNode,$e=!1),bi(t,n,r),Tl(r.stateNode),Jt=l,$e=c;break;case 5:ue||Yn(r,n);case 6:if(l=Jt,c=$e,Jt=null,bi(t,n,r),Jt=l,$e=c,Jt!==null)if($e)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{Jt.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:Jt!==null&&($e?(t=Jt,Rp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):Rp(Jt,r.stateNode));break;case 4:l=Jt,c=$e,Jt=r.stateNode.containerInfo,$e=!0,bi(t,n,r),Jt=l,$e=c;break;case 0:case 11:case 14:case 15:ue||Xi(2,r,n),ue||Xi(4,r,n),bi(t,n,r);break;case 1:ue||(Yn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ig(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,bi(t,n,r),ue=l;break;default:bi(t,n,r)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Xt(n,n.return,r)}}function x0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xg),n;default:throw Error(a(435,t.tag))}}function Nh(t,n){var r=x0(t);n.forEach(function(l){var c=j0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){Jt=E.stateNode,$e=!1;break t}break;case 5:Jt=E.stateNode,$e=!1;break t;case 3:case 4:Jt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Jt===null)throw Error(a(160));zg(f,y,c),Jt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Bg(n,t),n=n.sibling}var In=null;function Bg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Xi(3,t,t.return),hl(3,t),Xi(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(ue||r===null||Yn(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(ln(n,t),un(t),l&512&&(ue||r===null||Yn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ir]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[pe]=t,se(f),l=f;break t;case"link":var y=Mp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Mp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[pe]=t,se(f),l=f}t.stateNode=l}else xp(c,t.type,t.stateNode);else t.stateNode=Np(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?xp(c,t.type,t.stateNode):Np(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(ue||r===null||Yn(r,r.return)),r!==null&&l&4&&Dh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(ue||r===null||Yn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(mo=null,c=In,In=ho(n.containerInfo),ln(n,t),In=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(k){Xt(t,t.return,k)}Oh&&(Oh=!1,kg(t));break;case 4:l=In,In=ho(t.stateNode.containerInfo),ln(n,t),un(t),In=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ph=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Si,Q=ue;if(Si=P||c,ue=Q||b,ln(n,t),ue=Q,Si=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Si||ue||na(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Xt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Nh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ng(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Vh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Vh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Vh(t);Ih(t,P,b);break;default:throw Error(a(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ug(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xi(4,n,n.return),na(n);break;case 1:Yn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ig(n,n.return,r),na(n);break;case 27:Tl(n.stateNode);case 26:case 5:Yn(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(c,f,r),hl(4,f);break;case 1:if(Zi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)gm(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Vg(f),fl(f,f.return);break;case 27:Mg(f);case 26:case 5:Zi(c,f,r),r&&l===null&&y&4&&Og(f),fl(f,f.return);break;case 12:Zi(c,f,r);break;case 13:Zi(c,f,r),r&&y&4&&Pg(c,f);break;case 22:f.memoizedState===null&&Zi(c,f,r),fl(f,f.return);break;case 30:break;default:Zi(c,f,r)}n=n.sibling}}function Mh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$s(r))}function xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Fn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,r,l),n=n.sibling}function qg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Fn(t,n,r,l);break;case 3:Fn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Fn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Fn(t,n,r,l);break;case 13:Fn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,r,l):dl(t,n):f._visibility&2?Fn(t,n,r,l):(f._visibility|=2,Ga(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Mh(y,n);break;case 24:Fn(t,n,r,l),c&2048&&xh(n.alternate,n);break;default:Fn(t,n,r,l)}}function Ga(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ga(f,y,E,b,c):dl(f,y):(Q._visibility|=2,Ga(f,y,E,b,c)),c&&P&2048&&Mh(y.alternate,y);break;case 24:Ga(f,y,E,b,c),c&&P&2048&&xh(y.alternate,y);break;default:Ga(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Mh(l.alternate,l);break;case 24:dl(r,l),c&2048&&xh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Qa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 26:Qa(t),t.flags&ml&&t.memoizedState!==null&&vE(In,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var n=In;In=ho(t.stateNode.containerInfo),Qa(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Qa(t),ml=n):Qa(t));break;default:Qa(t)}}function jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Qg(l,t)}jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):gl(t);break;default:gl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Qg(l,t)}jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Qg(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Xi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(Lg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var U0={getCacheForType:function(t){var n=qe(ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},L0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,wt=null,Ot=0,jt=0,on=null,$i=!1,Ya=!1,Uh=!1,Ri=0,ae=0,Ji=0,ia=0,Lh=0,bn=0,Fa=0,pl=null,Je=null,zh=!1,Ph=0,to=1/0,eo=null,Wi=null,Ue=0,tr=null,Xa=null,Ka=0,Bh=0,kh=null,Yg=null,yl=0,qh=null;function cn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(G.T!==null){var t=La;return t!==0?t:Xh()}return Ui()}function Fg(){bn===0&&(bn=(Ot&536870912)===0||Pt?ws():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,r){(t===Zt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),er(t,Ot,bn,!1)),ii(t,r),((Ht&2)===0||t!==Zt)&&(t===Zt&&((Ht&2)===0&&(ia|=r),ae===4&&er(t,Ot,bn,!1)),Xn(t))}function Xg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Vr(t,n),c=l?B0(t,n):Gh(t,n,!0),f=l;do{if(c===0){Ya&&!l&&er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!z0(r)){c=Gh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Za(E,y).flags|=256),y=Gh(E,y,!1),y!==2){if(Uh&&!b){E.errorRecoveryDisabledLanes|=f,ia|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Za(t,0),er(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(l,n,bn,!$i);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ph+300-dn(),10<c)){if(er(l,n,bn,!$i),da(l,0,!0)!==0)break t;l.timeoutHandle=Sp(Kg.bind(null,l,r,Je,eo,zh,n,bn,ia,Fa,$i,f,2,-0,0),c);break t}Kg(l,r,Je,eo,zh,n,bn,ia,Fa,$i,f,0,-0,0)}}break}while(!0);Xn(t)}function Kg(t,n,r,l,c,f,y,E,b,P,Q,F,B,k){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:_E},Hg(n),F=EE(),F!==null)){t.cancelPendingCommit=F(np.bind(null,t,n,f,r,l,c,y,E,b,Q,1,B,k)),er(t,f,y,!P);return}np(t,n,f,r,l,c,y,E,b)}function z0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,r,l){n&=~Lh,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Mn(t,r,n)}function no(){return(Ht&6)===0?(_l(0),!1):!0}function Hh(){if(wt!==null){if(jt===0)var t=wt.return;else t=wt,yi=$r=null,ah(t),Ha=null,ul=0,t=wt;for(;t!==null;)Dg(t.alternate,t),t=t.return;wt=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,eE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Zt=t,wt=r=mi(t.current,null),Ot=n,jt=0,on=null,$i=!1,Ya=Vr(t,n),Uh=!1,Fa=bn=Lh=ia=Ji=ae=0,Je=pl=null,zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ri=n,bu(),r}function Zg(t,n){At=null,G.H=ju,n===Ws||n===Mu?(n=dm(),jt=3):n===cm?(n=dm(),jt=4):jt=n===mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(ae=1,Xu(t,vn(n,t.current)))}function $g(){var t=G.H;return G.H=ju,t===null?ju:t}function Jg(){var t=G.A;return G.A=U0,t}function jh(){ae=4,$i||(Ot&4194048)!==Ot&&Sn.current!==null||(Ya=!0),(Ji&134217727)===0&&(ia&134217727)===0||Zt===null||er(Zt,Ot,bn,!1)}function Gh(t,n,r){var l=Ht;Ht|=2;var c=$g(),f=Jg();(Zt!==t||Ot!==n)&&(eo=null,Za(t,n)),n=!1;var y=ae;t:do try{if(jt!==0&&wt!==null){var E=wt,b=on;switch(jt){case 8:Hh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var P=jt;if(jt=0,on=null,$a(t,E,b,P),r&&Ya){y=0;break t}break;default:P=jt,jt=0,on=null,$a(t,E,b,P)}}P0(),y=ae;break}catch(Q){Zg(t,Q)}while(!0);return n&&t.shellSuspendCounter++,yi=$r=null,Ht=l,G.H=c,G.A=f,wt===null&&(Zt=null,Ot=0,bu()),y}function P0(){for(;wt!==null;)Wg(wt)}function B0(t,n){var r=Ht;Ht|=2;var l=$g(),c=Jg();Zt!==t||Ot!==n?(eo=null,to=dn()+500,Za(t,n)):Ya=Vr(t,n);t:do try{if(jt!==0&&wt!==null){n=wt;var f=on;e:switch(jt){case 1:jt=0,on=null,$a(t,n,f,1);break;case 2:case 9:if(hm(f)){jt=0,on=null,tp(n);break}n=function(){jt!==2&&jt!==9||Zt!==t||(jt=7),Xn(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:hm(f)?(jt=0,on=null,tp(n)):(jt=0,on=null,$a(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Up(y)){jt=0,on=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,io(P)):wt=null}break e}}jt=0,on=null,$a(t,n,f,5);break;case 6:jt=0,on=null,$a(t,n,f,6);break;case 8:Hh(),ae=6;break t;default:throw Error(a(462))}}k0();break}catch(Q){Zg(t,Q)}while(!0);return yi=$r=null,G.H=l,G.A=c,Ht=r,wt!==null?0:(Zt=null,Ot=0,bu(),ae)}function k0(){for(;wt!==null&&!As();)Wg(wt)}function Wg(t){var n=wg(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function tp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Eg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Eg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:ah(n);default:Dg(r,n),n=wt=em(n,Ri),n=wg(r,n,Ri)}t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function $a(t,n,r,l){yi=$r=null,ah(n),Ha=null,ul=0;var c=n.return;try{if(V0(t,c,n,r,Ot)){ae=1,Xu(t,vn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ae=1,Xu(t,vn(r,t.current)),wt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ya||(Ot&536870912)!==0?t=!1:($i=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ep(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){ep(n,$i);return}t=n.return;var r=O0(n.alternate,n,Ri);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ae===0&&(ae=5)}function ep(t,n){do{var r=N0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);ae=6,wt=null}function np(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=xc,Ds(t,r,f,y,E,b),t===Zt&&(wt=Zt=null,Ot=0),Xa=n,tr=t,Ka=r,Bh=f,kh=c,Yg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G0(Rr,function(){return lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{M0(t,n,r)}finally{Ht=y,et.p=c,G.T=l}}Ue=1,ip(),rp(),ap()}}function ip(){if(Ue===1){Ue=0;var t=tr,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Bg(n,t);var f=nf,y=Qd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Gd(E.ownerDocument.documentElement,E)){if(b!==null&&Vc(E)){var P=b.start,Q=b.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var k=B.getSelection(),gt=E.textContent.length,ct=Math.min(b.start,gt),Ft=b.end===void 0?ct:Math.min(b.end,gt);!k.extend&&ct>Ft&&(y=Ft,Ft=ct,ct=y);var x=jd(E,ct),I=jd(E,Ft);if(x&&I&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=F.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),ct>Ft?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Y=F[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yo=!!ef,nf=ef=null}finally{Ht=c,et.p=l,G.T=r}}t.current=n,Ue=2}}function rp(){if(Ue===2){Ue=0;var t=tr,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Ug(t,n.alternate,n)}finally{Ht=c,et.p=l,G.T=r}}Ue=3}}function ap(){if(Ue===4||Ue===3){Ue=0,Wl();var t=tr,n=Xa,r=Ka,l=Yg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Xa=tr=null,sp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Wi=null),ma(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(Ka&3)!==0&&ro(),Xn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===qh?yl++:(yl=0,qh=t):yl=0,_l(0)}}function sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function ro(t){return ip(),rp(),ap(),lp()}function lp(){if(Ue!==5)return!1;var t=tr,n=Bh;Bh=0;var r=ma(Ka),l=G.T,c=et.p;try{et.p=32>r?32:r,G.T=null,r=kh,kh=null;var f=tr,y=Ka;if(Ue=0,Xa=tr=null,Ka=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Gg(f.current),qg(f,f.current,y,r),Ht=E,_l(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{et.p=c,G.T=l,sp(t,n)}}function up(t,n,r){n=vn(r,n),n=vh(t.stateNode,n,2),t=Gi(t,n,2),t!==null&&(ii(t,2),Xn(t))}function Xt(t,n,r){if(t.tag===3)up(t,t,r);else for(;n!==null;){if(n.tag===3){up(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){t=vn(r,t),r=fg(2),l=Gi(n,r,2),l!==null&&(dg(r,l,n,t),ii(l,2),Xn(l));break}}n=n.return}}function Qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new L0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=q0.bind(null,t,n,r),n.then(t,t))}function q0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Ot&r)===r&&(ae===4||ae===3&&(Ot&62914560)===Ot&&300>dn()-Ph?(Ht&2)===0&&Za(t,0):Lh|=r,Fa===Ot&&(Fa=0)),Xn(t)}function op(t,n){n===0&&(n=Cs()),t=Na(t,n),t!==null&&(ii(t,n),Xn(t))}function H0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),op(t,r)}function j0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),op(t,r)}function G0(t,n){return Sr(t,n)}var ao=null,Ja=null,Yh=!1,so=!1,Fh=!1,ra=0;function Xn(t){t!==Ja&&t.next===null&&(Ja===null?ao=Ja=t:Ja=Ja.next=t),so=!0,Yh||(Yh=!0,Y0())}function _l(t,n){if(!Fh&&so){Fh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,dp(l,f))}else f=Ot,f=da(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vr(l,f)||(r=!0,dp(l,f));l=l.next}while(r);Fh=!1}}function Q0(){cp()}function cp(){so=Yh=!1;var t=0;ra!==0&&(tE()&&(t=ra),ra=0);for(var n=dn(),r=null,l=ao;l!==null;){var c=l.next,f=hp(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&(Ja=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}_l(t)}function hp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=Ot,r=da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Vr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&br(l),ma(r)){case 2:case 8:r=ha;break;case 32:r=Rr;break;case 268435456:r=fa;break;default:r=Rr}return l=fp.bind(null,t),r=Sr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function fp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=Ot;return l=da(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xg(t,l,n),hp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?fp.bind(null,t):null)}function dp(t,n){if(ro())return null;Xg(t,n,!0)}function Y0(){nE(function(){(Ht&6)!==0?Sr(Ss,Q0):cp()})}function Xh(){return ra===0&&(ra=ws()),ra}function mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function gp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function F0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=mp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?mp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ta("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var b=y?gp(c,y):new FormData(c);mh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?gp(c,y):new FormData(c),mh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Kh=0;Kh<Mc.length;Kh++){var Zh=Mc[Kh],X0=Zh.toLowerCase(),K0=Zh[0].toUpperCase()+Zh.slice(1);Vn(X0,"on"+K0)}Vn(Xd,"onAnimationEnd"),Vn(Kd,"onAnimationIteration"),Vn(Zd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(f0,"onTransitionRun"),Vn(d0,"onTransitionStart"),Vn(m0,"onTransitionCancel"),Vn($d,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function pp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){Fu(Q)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){Fu(Q)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(yp(n,t,2,!1),r.add(l))}function $h(t,n,r){var l=0;n&&(l|=4),yp(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[lo]){t[lo]=!0,Os.forEach(function(r){r!=="selectionchange"&&(Z0.has(r)||$h(r,!1,t),$h(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,$h("selectionchange",!1,n))}}function yp(t,n,r,l){switch(qp(n)){case 2:var c=SE;break;case 8:c=bE;break;default:c=df}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Wh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ri(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var P=f,Q=pn(r),F=[];t:{var B=Jd.get(t);if(B!==void 0){var k=Ta,gt=t;switch(t){case"keypress":if(Bn(r)===0)break t;case"keydown":case"keyup":k=Ca;break;case"focusin":gt="focus",k=ba;break;case"focusout":gt="blur",k=ba;break;case"beforeblur":case"afterblur":k=ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=yu;break;case Xd:case Kd:case Zd:k=Ra;break;case $d:k=vu;break;case"scroll":case"scrollend":k=cu;break;case"wheel":k=Da;break;case"copy":case"cut":case"paste":k=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=js;break;case"toggle":case"beforetoggle":k=Tu}var ct=(n&4)!==0,Ft=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var I=P,z;I!==null;){var Y=I;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||x===null||(Y=zr(I,x),Y!=null&&ct.push(El(I,Y,z))),Ft)break;I=I.return}0<ct.length&&(B=new k(B,gt,null,r,Q),F.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==ui&&(gt=r.relatedTarget||r.fromElement)&&(ri(gt)||gt[mn]))break t;if((k||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(gt=r.relatedTarget||r.toElement,k=P,gt=gt?ri(gt):null,gt!==null&&(Ft=h(gt),ct=gt.tag,gt!==Ft||ct!==5&&ct!==27&&ct!==6)&&(gt=null)):(k=null,gt=P),k!==gt)){if(ct=_n,Y="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ct=js,Y="onPointerLeave",x="onPointerEnter",I="pointer"),Ft=k==null?B:Un(k),z=gt==null?B:Un(gt),B=new ct(Y,I+"leave",k,r,Q),B.target=Ft,B.relatedTarget=z,Y=null,ri(Q)===P&&(ct=new ct(x,I+"enter",gt,r,Q),ct.target=z,ct.relatedTarget=Ft,Y=ct),Ft=Y,k&&gt)e:{for(ct=k,x=gt,I=0,z=ct;z;z=Wa(z))I++;for(z=0,Y=x;Y;Y=Wa(Y))z++;for(;0<I-z;)ct=Wa(ct),I--;for(;0<z-I;)x=Wa(x),z--;for(;I--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=Wa(ct),x=Wa(x)}ct=null}else ct=null;k!==null&&_p(F,B,k,ct,!1),gt!==null&&Ft!==null&&_p(F,Ft,gt,ct,!0)}}t:{if(B=P?Un(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var rt=zd;else if(_e(B))if(Pd)rt=o0;else{rt=l0;var Rt=s0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ls(P.elementType)&&(rt=zd):rt=u0;if(rt&&(rt=rt(t,P))){di(F,rt,r,Q);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Bi(B,"number",B.value)}switch(Rt=P?Un(P):window,t){case"focusin":(_e(Rt)||Rt.contentEditable==="true")&&(Va=Rt,Ic=P,Ys=null);break;case"focusout":Ys=Ic=Va=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Yd(F,r,Q);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":Yd(F,r,Q)}var at;if(Hn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?q(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(at=Ps()):(Pn=Q,ki="value"in Pn?Pn.value:Pn.textContent,Vt=!0)),Rt=uo(P,ht),0<Rt.length&&(ht=new qs(ht,t,null,r,Q),F.push({event:ht,listeners:Rt}),at?ht.data=at:(at=tt(r),at!==null&&(ht.data=at)))),(at=m?ye(t,r):It(t,r))&&(ht=uo(P,"onBeforeInput"),0<ht.length&&(Rt=new qs("onBeforeInput","beforeinput",null,r,Q),F.push({event:Rt,listeners:ht}),Rt.data=at)),F0(F,t,P,r,Q)}pp(F,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(El(t,c,f)),c=zr(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _p(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=zr(r,f),P!=null&&y.unshift(El(r,P,b))):c||(P=zr(r,f),P!=null&&y.push(El(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var $0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace($0,`
`).replace(J0,"")}function Ep(t,n){return n=vp(n),vp(t)===n}function oo(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Ln(t,"class",l);break;case"tabIndex":Ln(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,r,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){Ln(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Pi(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sc.get(r)||r,Pi(t,r,l))}}function tf(t,n,r,l,c,f){switch(r){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Pi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":b=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Yt(t,n,l,Q,r,null)}}xr(t,f,E,b,P,y,c,!1),va(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?li(t,!!l,n,!1):r!=null&&li(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Ur(t,l,c,f),va(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ct(vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Ls(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&tf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function W0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,Q=null;for(k in r){var F=r[k];if(r.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=r[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":Q=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==F&&Yt(t,n,B,k,l,F)}}rn(t,y,E,b,P,Q,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?li(t,!!r,B,!1):!!l!=!!r&&(n!=null?li(t,!!r,n,!0):li(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Gt(t,B,k);return;case"option":for(var gt in r)if(B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(Ls(n)){for(var Ft in r)B=r[Ft],r.hasOwnProperty(Ft)&&B!==void 0&&!l.hasOwnProperty(Ft)&&tf(t,n,Ft,void 0,l,B);for(Q in l)B=l[Q],k=r[Q],!l.hasOwnProperty(Q)||B===k||B===void 0&&k===void 0||tf(t,n,Q,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Yt(t,n,F,B,l,k)}var ef=null,nf=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function Tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ap(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var af=null;function tE(){var t=window.event;return t&&t.type==="popstate"?t===af?!1:(af=t,!0):(af=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,nE=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(t){return bp.resolve(null).then(t).catch(iE)}:Sp;function iE(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function Rp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ir]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sf(r),zi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function rE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function aE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Cp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zi(t)}var Rn=new Map,Dp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wi=et.d;et.d={f:lE,r:uE,D:oE,C:cE,L:hE,m:fE,X:mE,S:dE,M:gE};function lE(){var t=wi.f(),n=no();return t||n}function uE(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Xm(n):wi.r(t)}var ts=typeof document>"u"?null:document;function Vp(t,n,r){var l=ts;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Dp.has(c)||(Dp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),se(n),l.head.appendChild(n)))}}function oE(t){wi.D(t),Vp("dns-prefetch",t,null)}function cE(t,n){wi.C(t,n),Vp("preconnect",t,n)}function hE(t,n,r){wi.L(t,n,r);var l=ts;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=es(t);break;case"script":f=ns(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Le(n,"link",t),se(n),l.head.appendChild(n)))}}function fE(t,n){wi.m(t,n);var r=ts;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),Le(l,"link",t),se(l),r.head.appendChild(l)}}}function dE(t,n,r){wi.S(t,n,r);var l=ts;if(l&&t){var c=Ye(l).hoistableStyles,f=es(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&of(t,r);var b=y=l.createElement("link");se(b),Le(b,"link",t),b._p=new Promise(function(P,Q){b.onload=P,b.onerror=Q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function mE(t,n){wi.X(t,n);var r=ts;if(r&&t){var l=Ye(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&cf(t,n),f=r.createElement("script"),se(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gE(t,n){wi.M(t,n);var r=ts;if(r&&t){var l=Ye(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&cf(t,n),f=r.createElement("script"),se(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ip(t,n,r,l){var c=(c=yt.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=es(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=es(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||pE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function es(t){return'href="'+fe(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Op(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function pE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),se(n),t.head.appendChild(n))}function ns(t){return'[src="'+fe(t)+'"]'}function Sl(t){return"script[async]"+t}function Np(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,se(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),Le(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=es(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;l=Op(r),(c=Rn.get(c))&&of(l,c),f=(t.ownerDocument||t).createElement("link"),se(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=ns(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,se(c),c):(l=r,(c=Rn.get(f))&&(l=A({},r),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Mp(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ir]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function xp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function yE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Up(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function _E(){}function vE(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=es(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,se(f);return}f=t.ownerDocument||t,r=Op(r),(c=Rn.get(c))&&of(r,c),f=f.createElement("link"),se(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function EE(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(TE,t),po=null,go.call(t))}function TE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function AE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Lp(t,n,r,l,c,f,y,E,b,P,Q,F){return t=new AE(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Kc(f),t}function zp(t){return t?(t=Ma,t):Ma}function Pp(t,n,r,l,c,f){c=zp(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Gi(t,l,n),r!==null&&(hn(r,t,n),el(r,t,n))}function Bp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ff(t,n){Bp(t,n),(t=t.alternate)&&Bp(t,n)}function kp(t){if(t.tag===13){var n=Na(t,67108864);n!==null&&hn(n,t,67108864),ff(t,67108864)}}var yo=!0;function SE(t,n,r,l){var c=G.T;G.T=null;var f=et.p;try{et.p=2,df(t,n,r,l)}finally{et.p=f,G.T=c}}function bE(t,n,r,l){var c=G.T;G.T=null;var f=et.p;try{et.p=8,df(t,n,r,l)}finally{et.p=f,G.T=c}}function df(t,n,r,l){if(yo){var c=mf(l);if(c===null)Wh(t,n,l,_o,r),Hp(t,l);else if(wE(c,t,n,r,l))l.stopPropagation();else if(Hp(t,l),n&4&&-1<RE.indexOf(t)){for(;c!==null;){var f=xn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Xn(f),(Ht&6)===0&&(to=dn()+500,_l(0))}}break;case 13:E=Na(f,2),E!==null&&hn(E,f,2),no(),ff(f,2)}if(f=mf(l),f===null&&Wh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Wh(t,n,l,null,r)}}function mf(t){return t=pn(t),gf(t)}var _o=null;function gf(t){if(_o=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case Ss:return 2;case ha:return 8;case Rr:case _c:return 32;case fa:return 268435456;default:return 32}default:return 32}}var pf=!1,ir=null,rr=null,ar=null,wl=new Map,Cl=new Map,sr=[],RE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hp(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xn(n),n!==null&&kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function wE(t,n,r,l,c){switch(n){case"focusin":return ir=Dl(ir,t,n,r,l,c),!0;case"dragenter":return rr=Dl(rr,t,n,r,l,c),!0;case"mouseover":return ar=Dl(ar,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function jp(t){var n=ri(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=cn();l=xi(l);var c=Na(r,l);c!==null&&hn(c,r,l),ff(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=mf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ui=l,r.target.dispatchEvent(l),ui=null}else return n=xn(r),n!==null&&kp(n),t.blockedOn=r,!1;n.shift()}return!0}function Gp(t,n,r){vo(t)&&r.delete(n)}function CE(){pf=!1,ir!==null&&vo(ir)&&(ir=null),rr!==null&&vo(rr)&&(rr=null),ar!==null&&vo(ar)&&(ar=null),wl.forEach(Gp),Cl.forEach(Gp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,CE)))}var To=null;function Qp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||r)===null)continue;break}var f=xn(r);f!==null&&(t.splice(n,3),n-=3,mh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return Eo(b,t)}ir!==null&&Eo(ir,t),rr!==null&&Eo(rr,t),ar!==null&&Eo(ar,t),wl.forEach(n),Cl.forEach(n);for(var r=0;r<sr.length;r++){var l=sr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)jp(r),r.blockedOn===null&&sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Qp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(gf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Qp(r)}}}function yf(t){this._internalRoot=t}Ao.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Pp(r,l,t,n,null,null)},Ao.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Pp(t.current,2,null,t,null,null),no(),n[mn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ui();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,t),r===0&&jp(t)}};var Yp=e.version;if(Yp!=="19.1.0")throw Error(a(527,Yp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var DE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{ie=So.inject(DE),qt=So}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ug,f=og,y=cg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Lp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,Jh(t),new yf(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ug,y=og,E=cg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Lp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=zp(null),r=n.current,l=cn(),l=xi(l),c=ji(l),c.callback=null,Gi(r,c,l),r=l,n.current.lanes=r,ii(n,r),Xn(n),t[mn]=n.current,Jh(t),new Ao(n)},Ol.version="19.1.0",Ol}var ny;function BE(){if(ny)return Ef.exports;ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=PE(),Ef.exports}var kE=BE();const qE="modulepreload",HE=function(s,e){return new URL(s,e).href},iy={},m_=function(e,i,a){let u=Promise.resolve();if(i&&i.length>0){let d=function(A){return Promise.all(A.map(C=>Promise.resolve(C).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};const g=document.getElementsByTagName("link"),_=document.querySelector("meta[property=csp-nonce]"),v=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));u=d(i.map(A=>{if(A=HE(A,a),A in iy)return;iy[A]=!0;const C=A.endsWith(".css"),D=C?'[rel="stylesheet"]':"";if(!!a)for(let W=g.length-1;W>=0;W--){const K=g[W];if(K.href===A&&(!C||K.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${D}`))return;const j=document.createElement("link");if(j.rel=C?"stylesheet":qE,C||(j.as="script"),j.crossOrigin="",j.href=A,v&&j.setAttribute("nonce",v),document.head.appendChild(j),C)return new Promise((W,K)=>{j.addEventListener("load",W),j.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${A}`)))})}))}function h(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return u.then(d=>{for(const g of d||[])g.status==="rejected"&&h(g.reason);return e().catch(h)})},jE=()=>{};var ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},GE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(D=64)),a.push(i[A],i[C],i[D],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(g_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):GE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const C=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||C==null)throw new QE;const D=h<<2|g>>4;if(a.push(D),v!==64){const H=g<<4&240|v>>2;if(a.push(H),C!==64){const j=v<<6&192|C;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class QE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(s){const e=g_(s);return p_.encodeByteArray(e,!0)},Uo=function(s){return YE(s).replace(/\./g,"")},FE=function(s){try{return p_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=()=>XE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof ry>"u")return;const s=ry.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$E=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&FE(s[1]);return e&&JSON.parse(e)},nd=()=>{try{return jE()||KE()||ZE()||$E()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},JE=s=>{var e,i;return(i=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},WE=s=>{const e=JE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},y_=()=>{var s;return(s=nd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s){return s.endsWith(".cloudworkstations.dev")}async function eT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}const Ll={};function iT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?s.emulator.push(e):s.prod.push(e);return s}function rT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let ay=!1;function aT(s,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||Ll[s]===e||Ll[s]||ay)return;Ll[s]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",h=iT().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{ay=!0,d()},D}function A(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=rT(a),H=i("text"),j=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),K=document.getElementById(W)||document.createElement("a"),mt=i("preprendIcon"),pt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;g(ft),A(K,W);const xt=v();_(pt,mt),ft.append(pt,j,K,xt),document.body.appendChild(ft)}h?(j.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){var s;const e=(s=nd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uT(){return!lT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=hT,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,__.prototype.create)}}class __{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?fT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ys(u,g,a)}}function fT(s,e){return s.replace(dT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const dT=/\{\$([^}]+)}/g;function Lo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(sy(h)&&sy(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function sy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new tT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pT(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gT(s){return s===aa?void 0:s}function pT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const _T={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},vT=Mt.INFO,ET={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},TT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=ET[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=TT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const AT=(s,e)=>e.some(i=>s instanceof i);let ly,uy;function ST(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bT(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Nf=new WeakMap,T_=new WeakMap,bf=new WeakMap,rd=new WeakMap;function RT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(or(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&E_.set(i,s)}).catch(()=>{}),rd.set(e,s),e}function wT(s){if(Nf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Nf.set(s,e)}let Mf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Nf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||T_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function CT(s){Mf=s(Mf)}function DT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Rf(this),e,...i);return T_.set(a,e.sort?e.sort():[e]),or(a)}:bT().includes(s)?function(...e){return s.apply(Rf(this),e),or(E_.get(this))}:function(...e){return or(s.apply(Rf(this),e))}}function VT(s){return typeof s=="function"?DT(s):(s instanceof IDBTransaction&&wT(s),AT(s,ST())?new Proxy(s,Mf):s)}function or(s){if(s instanceof IDBRequest)return RT(s);if(bf.has(s))return bf.get(s);const e=VT(s);return e!==s&&(bf.set(s,e),rd.set(e,s)),e}const Rf=s=>rd.get(s);function IT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=or(d);return a&&d.addEventListener("upgradeneeded",_=>{a(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const OT=["get","getKey","getAll","getAllKeys","count"],NT=["put","add","delete","clear"],wf=new Map;function oy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=NT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||OT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return wf.set(e,h),h}CT(s=>({...s,get:(e,i,a)=>oy(e,i)||s.get(e,i,a),has:(e,i)=>!!oy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xf="@firebase/app",cy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new v_("@firebase/app"),UT="@firebase/app-compat",LT="@firebase/analytics-compat",zT="@firebase/analytics",PT="@firebase/app-check-compat",BT="@firebase/app-check",kT="@firebase/auth",qT="@firebase/auth-compat",HT="@firebase/database",jT="@firebase/data-connect",GT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",FT="@firebase/installations",XT="@firebase/installations-compat",KT="@firebase/messaging",ZT="@firebase/messaging-compat",$T="@firebase/performance",JT="@firebase/performance-compat",WT="@firebase/remote-config",t1="@firebase/remote-config-compat",e1="@firebase/storage",n1="@firebase/storage-compat",i1="@firebase/firestore",r1="@firebase/ai",a1="@firebase/firestore-compat",s1="firebase",l1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]",u1={[xf]:"fire-core",[UT]:"fire-core-compat",[zT]:"fire-analytics",[LT]:"fire-analytics-compat",[BT]:"fire-app-check",[PT]:"fire-app-check-compat",[kT]:"fire-auth",[qT]:"fire-auth-compat",[HT]:"fire-rtdb",[jT]:"fire-data-connect",[GT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[FT]:"fire-iid",[XT]:"fire-iid-compat",[KT]:"fire-fcm",[ZT]:"fire-fcm-compat",[$T]:"fire-perf",[JT]:"fire-perf-compat",[WT]:"fire-rc",[t1]:"fire-rc-compat",[e1]:"fire-gcs",[n1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[r1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,o1=new Map,Lf=new Map;function hy(s,e){try{s.container.addComponent(e)}catch(i){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Po(s){const e=s.name;if(Lf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,s);for(const i of zo.values())hy(i,s);for(const i of o1.values())hy(i,s);return!0}function c1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function h1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new __("app","Firebase",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=l1;function A_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Uf,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw cr.create("bad-app-name",{appName:String(u)});if(i||(i=y_()),!i)throw cr.create("no-options");const h=zo.get(u);if(h){if(Lo(i,h.options)&&Lo(a,h.config))return h;throw cr.create("duplicate-app",{appName:u})}const d=new yT(u);for(const _ of Lf.values())d.addComponent(_);const g=new d1(i,a,d);return zo.set(u,g),g}function g1(s=Uf){const e=zo.get(s);if(!e&&s===Uf&&y_())return A_();if(!e)throw cr.create("no-app",{appName:s});return e}function ls(s,e,i){var a;let u=(a=u1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(g.join(" "));return}Po(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",y1=1,Hl="firebase-heartbeat-store";let Cf=null;function S_(){return Cf||(Cf=IT(p1,y1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function _1(s){try{const i=(await S_()).transaction(Hl),a=await i.objectStore(Hl).get(b_(s));return await i.done,a}catch(e){if(e instanceof ys)Ii.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(i.message)}}}async function fy(s,e){try{const a=(await S_()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,b_(s)),await a.done}catch(i){if(i instanceof ys)Ii.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ii.warn(a.message)}}}function b_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=1024,E1=30;class T1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new S1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=dy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>E1){const d=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ii.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=dy(),{heartbeatsToSend:a,unsentEntries:u}=A1(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ii.warn(i),""}}}function dy(){return new Date().toISOString().substring(0,10)}function A1(s,e=v1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),my(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),my(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function my(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function b1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(s){Po(new ql("platform-logger",e=>new MT(e),"PRIVATE")),Po(new ql("heartbeat",e=>new T1(e),"PRIVATE")),ls(xf,cy,s),ls(xf,cy,"esm2017"),ls("fire-js","")}R1("");var w1="firebase",C1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(w1,C1,"app");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,R_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,M,U){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[M].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],R=S+(U^w&(M^U))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)N[w++]=this.g[S]>>>O&255;return N};function h(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(w[M]=U,O=!1)}this.g=w}var g={};function _(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return K(v(-N));for(var S=[],w=1,O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return K(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),O=C,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(R))):(O=O.j(w),O=O.add(v(R)))}return O}var C=_(0),D=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-K(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(W(this))return"-"+K(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,O="";;){var M=xt(w,S).g;w=mt(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,j(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=mt(this,N),W(N)?-1:j(N)?0:1};function K(N){for(var S=N.g.length,w=[],O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(D)}s.abs=function(){return W(this)?K(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function mt(N,S){return N.add(K(S))}s.j=function(N){if(j(this)||j(N))return C;if(W(this))return W(N)?K(this).j(K(N)):K(K(this).j(N));if(W(N))return K(this.j(K(N)));if(0>this.l(H)&&0>N.l(H))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,R=this.i(O)&65535,Oe=N.i(M)>>>16,ne=N.i(M)&65535;w[2*O+2*M]+=R*ne,pt(w,2*O+2*M),w[2*O+2*M+1]+=U*ne,pt(w,2*O+2*M+1),w[2*O+2*M+1]+=R*Oe,pt(w,2*O+2*M+1),w[2*O+2*M+2]+=U*Oe,pt(w,2*O+2*M+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function pt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function xt(N,S){if(j(S))throw Error("division by zero");if(j(N))return new ft(C,C);if(W(N))return S=xt(K(N),S),new ft(K(S.g),K(S.h));if(W(S))return S=xt(N,K(S)),new ft(K(S.g),S.h);if(30<N.g.length){if(W(N)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,O=S;0>=O.l(N);)w=Et(w),O=Et(O);var M=Lt(w,1),U=Lt(O,1);for(O=Lt(O,2),w=Lt(w,2);!j(O);){var R=U.add(O);0>=R.l(N)&&(M=M.add(w),U=R),O=Lt(O,1),w=Lt(w,1)}return S=mt(N,M.j(S)),new ft(M,S)}for(M=C;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(w),R=U.j(S);W(R)||0<R.l(N);)w-=O,U=v(w),R=U.j(S);j(U)&&(U=D),M=M.add(U),N=mt(N,R)}return new ft(M,N)}s.A=function(N){return xt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function Et(N){for(var S=N.g.length+1,w=[],O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function Lt(N,S){var w=S>>5;S%=32;for(var O=N.g.length-w,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,R_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,hr=d}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w_,Nl,C_,Vo,zf,D_,V_,I_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function C(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function D(o,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,D.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function j(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,tt)}}function W(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function K(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let tt=0;tt<q;tt++)o[L+tt]=T[tt]}else o.push(T)}}class mt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var Et=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Lt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function R(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=ne.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new mt(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,zt=new Oe,V=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(Z)}};var Z=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){U(p)}var m=ne;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function bt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Et){t:{try{xt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}j(bt,J);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Nn(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Kt,this.da=this.fa=!1}function Mi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ei(o){this.src=o,this.g={},this.h=0}ei.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var tt=Sr(o,m,T,L);return-1<tt?(m=o[tt],p||(m.fa=!1)):(m=new Nn(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function Ar(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Mi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Sr(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var br="closure_lm_"+(1e6*Math.random()|0),As={};function Wl(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Wl(o,m[q],p,T,L);return null}return p=tu(p),o&&o[be]?o.K(m,p,v(T)?!!T.capture:!1,L):dn(o,m,p,!1,T,L)}function dn(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=v(L)?!!L.capture:!!L,Vt=fa(o);if(Vt||(o[br]=Vt=new ei(o)),p=Vt.add(m,p,T,tt,q),p.proxy)return p;if(T=yc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ut||(L=tt),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Rr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yc(){function o(p){return m.call(o.src,o.listener,p)}const m=_c;return o}function Ss(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ss(o,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=tu(p),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Sr(q,p,T,L),-1<p&&(Mi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=fa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Sr(m,p,T,L)),(p=-1<o?m[o]:null)&&ha(p))}function ha(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])Ar(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Rr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=fa(m))?(Ar(p,o),p.h==0&&(p.src=null,m[br]=null)):Mi(o)}}}function Rr(o){return o in As?As[o]:As[o]="on"+o}function _c(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ha(o),o=p.call(T,m)}return o}function fa(o){return o=o[br],o instanceof ei?o:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[bs]||(o[bs]=function(m){return o.handleEvent(m)}),o[bs])}function ie(){nt.call(this),this.i=new ei(this),this.M=this,this.F=null}j(ie,nt),ie.prototype[be]=!0,ie.prototype.removeEventListener=function(o,m,p,T){Ss(this,o,m,p,T)};function qt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),O(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=nn(tt,T,!0,m)&&L}if(tt=m.g=o,L=nn(tt,T,!0,m)&&L,L=nn(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=nn(tt,T,!1,m)&&L}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Mi(p[T]);delete o.g[m],o.h--}}this.F=null},ie.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ie.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function nn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Vt=tt.listener,ye=tt.ha||tt.src;tt.fa&&Ar(o.i,tt),L=Vt.call(ye,T)!==!1&&L}}return L&&!T.defaultPrevented}function ke(o,m,p){if(typeof o=="function")p&&(o=D(o,p));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function eu(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class vc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(o){nt.call(this),this.h=o,this.g={}}j(wr,nt);var Cr=[];function Dr(o){Lt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ha(m)},o),o.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Dr(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,da=g.JSON.parse,Vr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(o){return o.h||(o.h=o.i())}function Cs(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){J.call(this,"d")}j(ii,J);function Ds(){J.call(this,"c")}j(Ds,J);var Mn={},Vs=null;function xi(){return Vs=Vs||new ie}Mn.La="serverreachability";function ma(o){J.call(this,Mn.La,o)}j(ma,J);function Ui(o){const m=xi();qt(m,new ma(m))}Mn.STAT_EVENT="statevent";function nu(o,m){J.call(this,Mn.STAT_EVENT,o),this.stat=m}j(nu,J);function $t(o){const m=xi();qt(m,new nu(m,o))}Mn.Ma="timingevent";function pe(o,m){J.call(this,Mn.Ma,o),this.size=m}j(pe,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Is(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var tt="",Vt=q.split("&"),ye=0;ye<Vt.length;ye++){var It=Vt[ye].split("=");if(1<It.length){var we=It[0];It=It[1];var _e=we.split("_");tt=2<=_e.length&&_e[1]=="type"?tt+(we+"="+It+"&"):tt+(we+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Ec(o,m,p,T,L,q,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function Li(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ir(o,p)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Ir(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return wn(p)}catch{return m}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function Un(){}j(Un,Rs),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},xn=new Un;function Ye(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var Os={},ga={};function Cn(o,m,p){o.L=1,o.v=Ur(rn(m)),o.m=p,o.P=!0,ai(o,null)}function ai(o,m){o.F=Date.now(),Or(o),o.A=rn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),zs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new se,o.g=vu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new vc(D(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Cr[0]=L.toString()),L=Cr);for(var q=0;q<L.length;q++){var tt=Wl(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ui(),Is(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const _e=_n(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=di?Ui(3):Ui(2)),Pi(this);var p=this.g.Z();this.X=p;e:if(ru(this)){var T=hu(this.g);o="";var L=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),Ln(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Ec(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Vt)){var It=Vt;break e}}It=null}if(p=It)Li(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,p);else{this.o=!1,this.s=3,$t(12),Ne(this),Ln(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<tt.length;)if(Me=au(this,tt),Me==ga){_e==4&&(this.s=4,$t(14),p=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Os){this.s=4,$t(15),Li(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Li(this.i,this.l,Me,null),Nr(this,Me);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||tt.length!=0||this.h.h||(this.s=1,$t(16),p=!1),this.o=this.o&&p,!p)Li(this.i,this.l,tt,"[Invalid Chunked Response]"),Ne(this),Ln(this);else if(0<tt.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),jr(we),we.M=!0,$t(11))}}else Li(this.i,this.l,tt,null),Nr(this,tt);_e==4&&Ne(this),this.o&&!this.J&&(_e==4?pu(this.j,this):(this.o=!1,Or(this)))}else Rc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Ne(this),Ln(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ga:(p=Number(m.substring(p,T)),isNaN(p)?Os:(T+=1,T+p>m.length?ga:(m=m.slice(T,T+p),o.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Or(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(D(o.ba,o),m)}function Pi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(Ui(),$t(17)),Ne(this),this.s=2,Ln(this)):su(this,this.S-o)};function Ln(o){o.j.G==0||o.J||pu(o.j,o)}function Ne(o){Pi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Dr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Nr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ns(p.h,o))){if(!o.K&&Ns(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ca(p),Ra(p);else break t;Hs(p),$t(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(D(p.Za,p),6e3));if(1>=ya(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((o.K||p.g==o)&&Ca(p),!pt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const we=It[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const _e=It[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const di=It[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const jn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jn){var q=T.h;q.g||jn.indexOf("spdy")==-1&&jn.indexOf("quic")==-1&&jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_a(q,q.h),q.h=null))}if(T.D){const Gs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Gt(T.I,T.D,Gs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),tt.K){Fe(T.h,tt);var Vt=tt,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Pi(Vt),Or(Vt)),T.g=tt}else mu(T);0<p.i.length&&wa(p)}else It[0]!="stop"&&It[0]!="close"||fi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?fi(p,7):ks(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Ui(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function si(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ya(o){return o.h?1:o.g?o.g.size:0}function Ns(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function _a(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}si.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ms(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return W(o.i)}function Tc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function va(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=va(o),T=Tc(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var Mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,xr(this,o.j),this.o=o.o,this.g=o.g,Bi(this,o.s),this.l=o.l;var m=o.i,p=new ui;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),li(this,p),this.m=o.m}else o&&(m=String(o).match(Mr))?(this.h=!1,xr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Bi(this,m[4]),this.l=gn(m[5]||"",!0),li(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Lr(m,Us,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Lr(m,Us,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Lr(p,p.charAt(0)=="/"?Sc:Ls,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Lr(p,Ea)),o.join("")};function rn(o){return new fe(o)}function xr(o,m,p){o.j=p?gn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Bi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function li(o,m,p){m instanceof ui?(o.i=m,ou(o.i,o.h)):(p||(m=Lr(m,bc)),o.i=new ui(m,o.h))}function Gt(o,m,p){o.i.set(m,p)}function Ur(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function gn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Lr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,Ls=/[#\?:]/g,Sc=/[#\?]/g,bc=/[#\?@]/g,Ea=/#/g;function ui(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ac(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ui.prototype,s.add=function(o,m){pn(this),this.i=null,o=zn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function oi(o,m){pn(o),m=zn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return pn(o),m=zn(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(zn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=zn(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function zs(o,m,p){oi(o,m),0<p.length&&(o.i=null,o.g.set(zn(o,m),W(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),o.push(L)}}return this.i=o.join("&")};function zn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(oi(this,T),zs(this,L,p))},o)),o.j=m}function zr(o,m){const p=new mn;if(g.Image){const T=new Image;T.onload=H(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const p=new mn,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Pr(){this.g=new Vr}function Pn(o,m,p){const T=p||"";try{xs(o,function(L,q){let tt=L;v(L)&&(tt=wn(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ki(o){this.l=o.Ub||null,this.j=o.eb||!1}j(ki,Rs),ki.prototype.g=function(){return new hi(this.l,this.j)},ki.prototype.i=function(o){return function(){return o}}({});function hi(o,m){ie.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(hi,ie),s=hi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,kn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Bn(this):kn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Bn(this))},s.Qa=function(o){this.g&&(this.response=o,Bn(this))},s.ga=function(){this.g&&Bn(this)};function Bn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,kn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function kn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return Lt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Bs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Gt(o,m,p))}function Bt(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Bt,ie);var Ta=/^https?$/i,Br=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?ws(this.o):ws(xn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){cu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Br,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){cu(this,q)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Aa(o),qn(o)}function Aa(o){o.A||(o.A=!0,qt(o,"complete"),qt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,qt(this,"complete"),qt(this,"abort"),qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},s.bb=function(){Sa(this)};function Sa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)ke(o.Ea,0,o);else if(qt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(o.D).match(Mr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ta.test(L?L.toLowerCase():"")}p=T}if(p)qt(o,"complete"),qt(o,"success");else{o.m=6;try{var q=2<_n(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Aa(o)}}finally{qn(o)}}}}function qn(o,m){if(o.g){kr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||qt(o,"ready");try{p.onreadystatechange=T}catch{}}}function kr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),da(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(pt(o[T]))continue;var p=M(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ba(o){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,o),this.cb=qr("retryDelaySeedMs",1e4,o),this.Wa=qr("forwardChannelMaxRetries",2,o),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new si(o&&o.concurrentRequestLimit),this.Da=new Pr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ba.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){$t(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),wa(this)};function ks(o){if(fu(o),o.G==3){var m=o.U++,p=rn(o.I);if(Gt(p,"SID",o.K),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Hr(o,p),m=new Ye(o,o.j,m),m.L=2,m.v=Ur(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Or(m)}yu(o)}function Ra(o){o.g&&(jr(o),o.g.cancel(),o.g=null)}function fu(o){Ra(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ca(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function wa(o){if(!pa(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||V(),lt||(et(),lt=!0),zt.add(m,o),o.B=0}}function wc(o,m){return ya(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(D(o.Ga,o,m),js(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Ye(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),p=rn(this.I),Gt(p,"RID",o),Gt(p,"CVER",22),this.D&&Gt(p,"X-HTTP-Session-Id",this.D),Hr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Bs(q)))+"&"+m:this.m&&Re(p,this.m,q)),_a(this.h,L),this.Ua&&Gt(p,"TYPE","init"),this.P?(Gt(p,"$req",m),Gt(p,"SID","null"),L.T=!0,Cn(L,p,null)):Cn(L,p,m),this.G=2}}else this.G==3&&(o?qs(this,o):this.i.length==0||pa(this.h)||qs(this))};function qs(o,m){var p;m?p=m.l:p=o.U++;const T=rn(o.I);Gt(T,"SID",o.K),Gt(T,"RID",p),Gt(T,"AID",o.T),Hr(o,T),o.m&&o.o&&Re(T,o.m,o.o),p=new Ye(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_a(o.h,p),Cn(p,T,m)}function Hr(o,m){o.H&&Lt(o.H,function(p,T){Gt(m,T,p)}),o.l&&xs({},function(p,T){Gt(m,T,p)})}function du(o,m,p){p=Math.min(o.i.length,p);var T=o.l?D(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Vt=!0;for(let ye=0;ye<p;ye++){let It=L[ye].g;const we=L[ye].map;if(It-=q,0>It)q=Math.max(0,L[ye].g-100),Vt=!1;else try{Pn(we,tt,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=tt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||V(),lt||(et(),lt=!0),zt.add(m,o),o.v=0}}function Hs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(D(o.Fa,o),js(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(D(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Ra(this),gu(this))};function jr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),Hr(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Ur(rn(m)),p.m=null,p.P=!0,ai(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Ra(this),Hs(this),$t(19))};function Ca(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function pu(o,m){var p=null;if(o.g==m){Ca(o),jr(o),o.g=null;var T=2}else if(Ns(o.h,m))p=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=xi(),qt(T,new pe(T,p)),wa(o)}else mu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&wc(o,m)||T==2&&Hs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function js(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var p=D(o.fb,o),T=o.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||xr(T,"https"),Ur(T),L?zr(T.toString(),p):Dn(T.toString(),p)}else $t(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ms(o.h);(m.length!=0||o.i.length!=0)&&(K(o.ka,m),K(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,p){var T=p instanceof fe?rn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Bi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new fe(null);T&&xr(q,T),m&&(q.g=m),L&&Bi(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Gt(T,p,m),Gt(T,"VER",o.la),Hr(o,T),T}function vu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new ki({eb:p})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Da(){}Da.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){ie.call(this),this.g=new ba(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!pt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Hn(this)}j(Xe,ie),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){ks(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=wn(o),o=p);m.i.push(new lu(m.Ya++,o)),m.G==3&&wa(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Xe.aa.N.call(this)};function Tu(o){ii.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}j(Tu,ii);function Au(){Ds.call(this),this.status=1}j(Au,Ds);function Hn(o){this.g=o}j(Hn,Eu),Hn.prototype.ua=function(){qt(this.g,"a")},Hn.prototype.ta=function(o){qt(this.g,new Tu(o))},Hn.prototype.sa=function(o){qt(this.g,new Au)},Hn.prototype.ra=function(){qt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,I_=function(){return new Da},V_=function(){return xi()},D_=Mn,zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Vo=zi,ri.COMPLETE="complete",C_=ri,Cs.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Nl=Cs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,w_=Bt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore",yy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new v_("@firebase/firestore");function is(){return la.logLevel}function it(s,...e){if(la.logLevel<=Mt.DEBUG){const i=e.map(ad);la.debug(`Firestore (${_s}): ${s}`,...i)}}function Oi(s,...e){if(la.logLevel<=Mt.ERROR){const i=e.map(ad);la.error(`Firestore (${_s}): ${s}`,...i)}}function os(s,...e){if(la.logLevel<=Mt.WARN){const i=e.map(ad);la.warn(`Firestore (${_s}): ${s}`,...i)}}function ad(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,O_(s,a,i)}function O_(s,e,i){let a=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Oi(a),new Error(a)}function kt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||O_(e,u,a)}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class V1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class I1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new N_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class O1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new O1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,h1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new _y(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=x1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function Pf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return St(a,u);{const h=M_(),d=U1(h.encode(vy(s,i)),h.encode(vy(e,i)));return d!==0?d:St(a,u)}}i+=a>65535?2:1}return St(s.length,e.length)}function vy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function U1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-62135596800,Ty=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Ty);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ey)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ty}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ey;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Ae(0,0))}static max(){return new _t(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="__name__";class Kn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Kn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=Kn.isNumericId(e),u=Kn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Kn.extractNumericId(e).compare(Kn.extractNumericId(i)):Pf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class Wt extends Kn{construct(e,i,a){return new Wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const L1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Kn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return L1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ay}static keyField(){return new Pe([Ay])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new st($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new st($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new st($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Wt.fromString(e))}static fromName(e){return new ot(Wt.fromString(e).popFirst(5))}static empty(){return new ot(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function z1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new mr(u,ot.empty(),e)}function P1(s){return new mr(s.readTime,s.key,jl)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(_t.min(),ot.empty(),jl)}static max(){return new mr(_t.max(),ot.empty(),jl)}}function B1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==k1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,a)=>{i(e)})}static reject(e){return new X((i,a)=>{a(e)})}static waitFor(e){return new X((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next(u=>u?X.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new X((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new X((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function H1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Es(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$o.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-1;function Jo(s){return s==null}function Bo(s){return s===0&&1/s==-1/0}function j1(s){return typeof s=="number"&&Number.isInteger(s)&&!Bo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="";function G1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Sy(e)),e=Q1(s.get(i),e);return Sy(e)}function Q1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case U_:i+="";break;default:i+=h}}return i}function Sy(s){return s+U_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Er(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function L_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new Se(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new z_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=Y1.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="server_timestamp",B_="__type__",k_="__previous_value__",q_="__local_write_time__";function ld(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[B_])===null||i===void 0?void 0:i.stringValue)===P_}function Wo(s){const e=s.mapValue.fields[k_];return ld(e)?Wo(e):e}function Gl(s){const e=gr(s.mapValue.fields[q_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,a,u,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const ko="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",X1="__max__",wo={mapValue:{}},j_="__vector__",qo="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ld(s)?4:Z1(s)?9007199254740991:K1(s)?10:11:dt(28295,{value:s})}function Wn(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=gr(u.timestampValue),g=gr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return pr(u.bytesValue).isEqual(pr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Bo(d)===Bo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(by(d)!==by(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Wn(d[_],g[_])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find(i=>Wn(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return wy(s.timestampValue,e.timestampValue);case 4:return wy(Gl(s),Gl(e));case 5:return Pf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=pr(h),_=pr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=St(g[v],_[v]);if(A!==0)return A}return St(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(ce(h.latitude),ce(d.latitude));return g!==0?g:St(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Cy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const C=h.fields||{},D=d.fields||{},H=(g=C[qo])===null||g===void 0?void 0:g.arrayValue,j=(_=D[qo])===null||_===void 0?void 0:_.arrayValue,W=St(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=j==null?void 0:j.values)===null||A===void 0?void 0:A.length)||0);return W!==0?W:Cy(H,j)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const D=Pf(_[C],A[C]);if(D!==0)return D;const H=hs(g[_[C]],v[A[C]]);if(H!==0)return H}return St(_.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function wy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=gr(s),a=gr(e),u=St(i.seconds,a.seconds);return u!==0?u:St(i.nanos,a.nanos)}function Cy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=hs(i[u],a[u]);if(h)return h}return St(i.length,a.length)}function fs(s){return Bf(s)}function Bf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return pr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Bf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Bf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function Io(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(s);return e?16+Io(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Io(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Er(a.fields,(h,d)=>{u+=h.length+Io(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function kf(s){return!!s&&"integerValue"in s}function ud(s){return!!s&&"arrayValue"in s}function Dy(s){return!!s&&"nullValue"in s}function Vy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oo(s){return!!s&&"mapValue"in s}function K1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[H_])===null||i===void 0?void 0:i.stringValue)===j_}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=zl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Z1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===X1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=zl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Er(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new tn(zl(this.value))}}function G_(s){const e=[];return Er(s.fields,(i,a)=>{const u=new Pe([i]);if(Oo(a)){const h=G_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,_t.min(),_t.min(),_t.min(),tn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,_t.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,_t.min(),_t.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,_t.min(),_t.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.position=e,this.inclusive=i}}function Iy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=hs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Oy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Wn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i="asc"){this.field=e,this.dir=i}}function $1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class Te extends Q_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new W1(e,i,a):i==="array-contains"?new nA(e,a):i==="in"?new iA(e,a):i==="not-in"?new rA(e,a):i==="array-contains-any"?new aA(e,a):new Te(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tA(e,a):new eA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hs(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends Q_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ti(e,i)}matches(e){return Y_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Y_(s){return s.op==="and"}function F_(s){return J1(s)&&Y_(s)}function J1(s){for(const e of s.filters)if(e instanceof ti)return!1;return!0}function qf(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(F_(s))return s.filters.map(e=>qf(e)).join(",");{const e=s.filters.map(i=>qf(i)).join(",");return`${s.op}(${e})`}}function X_(s,e){return s instanceof Te?function(a,u){return u instanceof Te&&a.op===u.op&&a.field.isEqual(u.field)&&Wn(a.value,u.value)}(s,e):s instanceof ti?function(a,u){return u instanceof ti&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&X_(d,u.filters[g]),!0):!1}(s,e):void dt(19439)}function K_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof ti?function(i){return i.op.toString()+" {"+i.getFilters().map(K_).join(" ,")+"}"}(s):"Filter"}class W1 extends Te{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class tA extends Te{constructor(e,i){super(e,"in",i),this.keys=Z_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class eA extends Te{constructor(e,i){super(e,"not-in",i),this.keys=Z_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Z_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class nA extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ud(i)&&Yl(i.arrayValue,this.value)}}class iA extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class rA extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class aA extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ud(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Yl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Ny(s,e=null,i=[],a=[],u=null,h=null,d=null){return new sA(s,e,i,a,u,h,d)}function od(s){const e=vt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>qf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fs(a)).join(",")),e.Ie=i}return e.Ie}function cd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!$1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!X_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Oy(s.startAt,e.startAt)&&Oy(s.endAt,e.endAt)}function Hf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lA(s,e,i,a,u,h,d,g){return new tc(s,e,i,a,u,h,d,g)}function ec(s){return new tc(s)}function My(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uA(s){return s.collectionGroup!==null}function Pl(s){const e=vt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new jo(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new jo(Pe.keyField(),a))}return e.Ee}function Zn(s){const e=vt(s);return e.de||(e.de=oA(e,Pl(s))),e.de}function oA(s,e){if(s.limitType==="F")return Ny(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new jo(u.field,h)});const i=s.endAt?new Ho(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ho(s.startAt.position,s.startAt.inclusive):null;return Ny(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function jf(s,e,i){return new tc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return cd(Zn(s),Zn(e))&&s.limitType===e.limitType}function $_(s){return`${od(Zn(s))}|lt:${s.limitType}`}function rs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>K_(u)).join(", ")}]`),Jo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${a})`}(Zn(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Pl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=Iy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Pl(a),u)||a.endAt&&!function(d,g,_){const v=Iy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Pl(a),u))}(s,e)}function cA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function J_(s){return(e,i)=>{let a=!1;for(const u of Pl(s)){const h=hA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function hA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?hs(_,v):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return L_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new ee(ot.comparator);function Ni(){return fA}const W_=new ee(ot.comparator);function Ml(...s){let e=W_;for(const i of s)e=e.insert(i.key,i);return e}function tv(s){let e=W_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function sa(){return Bl()}function ev(){return Bl()}function Bl(){return new oa(s=>s.toString(),(s,e)=>s.isEqual(e))}const dA=new ee(ot.comparator),mA=new Se(ot.comparator);function Dt(...s){let e=mA;for(const i of s)e=e.add(i);return e}const gA=new Se(St);function pA(){return gA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function nv(s){return{integerValue:""+s}}function yA(s,e){return j1(e)?nv(e):hd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function _A(s,e,i){return s instanceof Go?function(u,h){const d={fields:{[B_]:{stringValue:P_},[q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ld(h)&&(h=Wo(h)),h&&(d.fields[k_]=h),{mapValue:d}}(i,e):s instanceof Fl?rv(s,e):s instanceof Xl?av(s,e):function(u,h){const d=iv(u,h),g=xy(d)+xy(u.Re);return kf(d)&&kf(u.Re)?nv(g):hd(u.serializer,g)}(s,e)}function vA(s,e,i){return s instanceof Fl?rv(s,e):s instanceof Xl?av(s,e):i}function iv(s,e){return s instanceof Qo?function(a){return kf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Go extends rc{}class Fl extends rc{constructor(e){super(),this.elements=e}}function rv(s,e){const i=sv(e);for(const a of s.elements)i.some(u=>Wn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Xl extends rc{constructor(e){super(),this.elements=e}}function av(s,e){let i=sv(e);for(const a of s.elements)i=i.filter(u=>!Wn(u,a));return{arrayValue:{values:i}}}class Qo extends rc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function xy(s){return ce(s.integerValue||s.doubleValue)}function sv(s){return ud(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function EA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Xl&&u instanceof Xl?cs(a.elements,u.elements,Wn):a instanceof Qo&&u instanceof Qo?Wn(a.Re,u.Re):a instanceof Go&&u instanceof Go}(s.transform,e.transform)}class TA{constructor(e,i){this.version=e,this.transformResults=i}}class $n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function lv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ov(s.key,$n.none()):new Kl(s.key,s.data,$n.none());{const i=s.data,a=tn.empty();let u=new Se(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Tr(s.key,a,new fn(u.toArray()),$n.none())}}function AA(s,e,i){s instanceof Kl?function(u,h,d){const g=u.value.clone(),_=Ly(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Tr?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Ly(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(uv(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,a){return s instanceof Kl?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=h.value.clone(),A=zy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Tr?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=zy(h.fieldTransforms,_,d),A=d.data;return A.setAll(uv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,e,i,a):function(h,d,g){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function SA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=iv(a.transform,u||null);h!=null&&(i===null&&(i=tn.empty()),i.set(a.field,h))}return i||null}function Uy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&cs(a,u,(h,d)=>EA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Tr extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function uv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Ly(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,vA(d,g,i[u]))}return a}function zy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,_A(h,d,e))}return a}class ov extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bA extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&AA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ev();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=lv(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,a)=>Uy(i,a))&&cs(this.baseMutations,e.baseMutations,(i,a)=>Uy(i,a))}}class fd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return dA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new fd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Nt;function DA(s){switch(s){case $.OK:return dt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function cv(s){if(s===void 0)return Oi("GRPC error has no .code"),$.UNKNOWN;switch(s){case ge.OK:return $.OK;case ge.CANCELLED:return $.CANCELLED;case ge.UNKNOWN:return $.UNKNOWN;case ge.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ge.INTERNAL:return $.INTERNAL;case ge.UNAVAILABLE:return $.UNAVAILABLE;case ge.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ge.NOT_FOUND:return $.NOT_FOUND;case ge.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ge.ABORTED:return $.ABORTED;case ge.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ge.DATA_LOSS:return $.DATA_LOSS;default:return dt(39323,{code:s})}}(Nt=ge||(ge={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new hr([4294967295,4294967295],0);function Py(s){const e=M_().encode(s),i=new R_;return i.update(e),new Uint8Array(i.digest())}function By(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new hr([i,a],0),new hr([u,h],0)]}class dd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=hr.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(hr.fromNumber(a)));return u.compare(VA)===1&&(u=new hr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Py(e),[a,u]=By(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new dd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Py(e),[a,u]=By(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(_t.min(),u,new ee(St),Ni(),Dt())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class hv{constructor(e,i){this.targetId=e,this.Ce=i}}class fv{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class ky{constructor(){this.Fe=0,this.Me=qy(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Dt(),i=Dt(),a=Dt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}}),new Zl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=qy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class IA{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=Co(),this.Ye=Co(),this.Ze=new ee(St)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Hf(h))if(a===0){const d=new ot(h.path);this.tt(i,d,Qe.newNoDocument(d,_t.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=pr(a).toUint8Array()}catch(_){if(_ instanceof z_)return os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new dd(d,u,h)}catch(_){return os(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Hf(g.target)){const _=new ot(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Qe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Dt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ze,this.He,a);return this.He=Ni(),this.Je=Co(),this.Ye=Co(),this.Ze=new ee(St),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new ky,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(St),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(St),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ky),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ee(ot.comparator)}function qy(){return new ee(ot.comparator)}const OA={asc:"ASCENDING",desc:"DESCENDING"},NA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MA={and:"AND",or:"OR"};class xA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Gf(s,e){return s.useProto3Json||Jo(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function UA(s,e){return Yo(s,e.toTimestamp())}function Jn(s){return kt(!!s,49232),_t.fromTimestamp(function(i){const a=gr(i);return new Ae(a.seconds,a.nanos)}(s))}function md(s,e){return Qf(s,e).canonicalString()}function Qf(s,e){const i=function(u){return new Wt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function mv(s){const e=Wt.fromString(s);return kt(vv(e),10190,{key:e.toString()}),e}function Yf(s,e){return md(s.databaseId,e.path)}function Df(s,e){const i=mv(e);if(i.get(1)!==s.databaseId.projectId)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(pv(i))}function gv(s,e){return md(s.databaseId,e)}function LA(s){const e=mv(s);return e.length===4?Wt.emptyPath():pv(e)}function Ff(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Hy(s,e,i){return{name:Yf(s,e),fields:i.value.mapValue.fields}}function zA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(kt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?$.UNKNOWN:cv(v.code);return new st(A,v.message||"")}(d);i=new fv(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Df(s,a.document.name),h=Jn(a.document.updateTime),d=a.document.createTime?Jn(a.document.createTime):_t.min(),g=new tn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Mo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Df(s,a.document),h=a.readTime?Jn(a.readTime):_t.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Df(s,a.document),h=a.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new CA(u,h),g=a.targetId;i=new hv(g,d)}}return i}function PA(s,e){let i;if(e instanceof Kl)i={update:Hy(s,e.key,e.value)};else if(e instanceof ov)i={delete:Yf(s,e.key)};else if(e instanceof Tr)i={update:Hy(s,e.key,e.data),updateMask:FA(e.fieldMask)};else{if(!(e instanceof bA))return dt(16599,{ft:e.type});i={verify:Yf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw dt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:UA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function BA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Jn(u.updateTime):Jn(h);return d.isEqual(_t.min())&&(d=Jn(h)),new TA(d,u.transformResults||[])}(i,e))):[]}function kA(s,e){return{documents:[gv(s,e.path)]}}function qA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gv(s,u);const h=function(v){if(v.length!==0)return _v(ti.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:as(D.field),direction:GA(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Gf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:u}}function HA(s){let e=LA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const D=yv(C);return D instanceof ti&&F_(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function(j){return new jo(ss(j.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,Jo(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(C){const D=!!C.before,H=C.values||[];return new Ho(H,D)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const D=!C.before,H=C.values||[];return new Ho(H,D)}(i.endAt)),lA(e,u,d,h,g,"F",_,v)}function jA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ss(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=ss(i.unaryFilter.field);return Te.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ss(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ss(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Te.create(ss(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ti.create(i.compositeFilter.filters.map(a=>yv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function GA(s){return OA[s]}function QA(s){return NA[s]}function YA(s){return MA[s]}function as(s){return{fieldPath:s.canonicalString()}}function ss(s){return Pe.fromServerFormat(s.fieldPath)}function _v(s){return s instanceof Te?function(i){if(i.op==="=="){if(Vy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NAN"}};if(Dy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Vy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NAN"}};if(Dy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(i.field),op:QA(i.op),value:i.value}}}(s):s instanceof ti?function(i){const a=i.getFilters().map(u=>_v(u));return a.length===1?a[0]:{compositeFilter:{op:YA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function FA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function vv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,i,a,u,h=_t.min(),d=_t.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.wt=e}}function KA(s){const e=HA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.Cn=new $A}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(mr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class $A{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Wt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(Ev,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ds(0)}static lr(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="LruGarbageCollector",JA=1048576;function Qy([s,e],[i,a]){const u=St(s,i);return u===0?St(e,a):u}class WA{constructor(e){this.Er=e,this.buffer=new Se(Qy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Qy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(Gy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Es(i)?it(Gy,"Ignoring IndexedDB error during garbage collection: ",i):await vs(i)}await this.mr(3e5)})}}class eS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return X.resolve($o.le);const a=new WA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(a=C,g=Date.now(),this.removeTargets(e,a,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(v=Date.now(),is()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function nS(s,e){return new eS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.changes=new oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&kl(a.mutation,u,fn.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=sa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ni();const d=Bl(),g=function(){return Bl()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof Tr)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),kl(A.mutation,v,A.mutation.getFieldMask(),Ae.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new rS(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new ee((d,g)=>d-g),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||fn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const C=(u.get(g.batchId)||Dt()).add(_);u=u.insert(g.batchId,C)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,C=ev();A.forEach(D=>{if(!h.has(D)){const H=lv(i.get(D),a.get(D));H!==null&&C.set(D,H),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):X.resolve(sa());let g=jl,_=h;return d.next(v=>X.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{_=_.insert(A,D)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(A=>({batchId:g,changes:tv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,_=>{const v=function(C,D){return new tc(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Ml();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&kl(A.mutation,v,fn.empty(),Ae.now()),ic(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return X.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Jn(u.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:KA(u.bundledQuery),readTime:Jn(u.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.overlays=new ee(ot.comparator),this.Qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return X.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const u=sa(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=sa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=sa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return X.resolve(g)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new wA(i,a));let h=this.Qr.get(i);h===void 0&&(h=Dt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.$r=new Se(Ie.Ur),this.Kr=new Se(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ot(new Wt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ot(new Wt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Dt();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ot.comparator(e.key,i.key)||St(e.Zr,i.Zr)}static Wr(e,i){return St(e.Zr,i.Zr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ie.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?sd:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const g=this.ei(d.Zr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(St);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),X.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ot(h),0);let g=new Se(St);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Zr)),!0)},d),X.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return X.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Xr.firstAfterOrEqual(a);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.ii=e,this.docs=function(){return new ee(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ni();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||B1(P1(A),a)<=0||(u.has(A.key)||ic(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}si(e,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new hS(this)}getSize(e){return X.resolve(this.size)}}class hS extends iS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),X.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.persistence=e,this.oi=new oa(i=>od(i),cd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this._i=0,this.ai=new gd,this.targetCount=0,this.ui=ds.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),X.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ds(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Tr(i),X.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),X.waitFor(h).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.ci={},this.overlays={},this.li=new $o(0),this.hi=!1,this.hi=!0,this.Pi=new uS,this.referenceDelegate=e(this),this.Ti=new fS(this),this.indexManager=new ZA,this.remoteDocumentCache=function(u){return new cS(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new XA(i),this.Ei=new sS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new oS(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new dS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return X.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class dS extends q1{constructor(e){super(),this.currentSequenceNumber=e}}class pd{constructor(e){this.persistence=e,this.Vi=new gd,this.mi=null}static fi(e){return new pd(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,a=>{const u=ot.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,_t.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return X.or([()=>X.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.yi=new oa(a=>G1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=nS(this,i)}static fi(e,i){return new Fo(e,i)}di(){}Ai(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return X.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?X.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}Dr(e,i,a){return X.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return X.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new yd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return uT()?8:H1(sT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new mS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(is()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(is()<=Mt.DEBUG&&it("QueryEngine","Query:",rs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(is()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(i))):X.resolve())}ws(e,i){if(My(i))return X.resolve(null);let a=Zn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=jf(i,null,"F"),a=Zn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,jf(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,u){return My(i)||u.isEqual(_t.min())?X.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?X.resolve(null):(is()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rs(i)),this.Fs(e,d,i,z1(u,jl)).next(g=>g))})}vs(e,i){let a=new Se(J_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return is()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",rs(i)),this.ys.getDocumentsMatchingQuery(e,i,mr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="LocalStore",pS=3e8;class yS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ee(St),this.Os=new oa(h=>od(h),cd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function _S(s,e,i,a){return new yS(s,e,i,a)}async function Av(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function vS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const C=v.batch,D=C.keys();let H=X.resolve();return D.forEach(j=>{H=H.next(()=>A.getEntry(_,j)).next(W=>{const K=v.docVersions.get(j);kt(K!==null,48541),W.version.compareTo(K)<0&&(C.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),A.addEntry(W)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,C))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Dt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Sv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function ES(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,C)=>{const D=u.get(C);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,C)));let H=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),u=u.insert(C,H),function(W,K,mt){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=pS?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(D,H,A)&&g.push(i.Ti.updateTargetData(h,H))});let _=Ni(),v=Dt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(TS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(_t.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(C=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=u,h))}function TS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ni();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(_d,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:u}})}function AS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=sd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function SS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,X.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Xf(s,e,i){const a=vt(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Es(d))throw d;it(_d,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function Yy(s,e,i){const a=vt(s);let u=_t.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const C=vt(_),D=C.Os.get(A);return D!==void 0?X.resolve(C.xs.get(D)):C.Ti.getTargetData(v,A)}(a,d,Zn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Dt())).next(g=>(bS(a,cA(e),g),{documents:g,$s:h})))}function bS(s,e,i){let a=s.Ns.get(e)||_t.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class Fy{constructor(){this.activeTargetIds=pA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RS{constructor(){this.xo=new Fy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Fy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="ConnectivityMonitor";class Ky{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Xy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(Xy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Kf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",CS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Kf(),g=this.jo(e,i.toUriEncodedString());it(Vf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,u,h);const{host:v}=new URL(g),A=id(v);return this.Jo(e,g,_,a,A).then(C=>(it(Vf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw os(Vf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=CS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class IS extends DS{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Kf();return new Promise((g,_)=>{const v=new w_;v.setWithCredentials(!0),v.listenOnce(C_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Vo.NO_ERROR:const C=v.getResponseJson();it(je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Vo.TIMEOUT:it(je,`RPC '${e}' ${d} timed out`),_(new st($.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const D=v.getStatus();if(it(je,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const j=H==null?void 0:H.error;if(j&&j.status&&j.message){const W=function(mt){const pt=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(pt)>=0?pt:$.UNKNOWN}(j.status);_(new st(W,j.message))}else _(new st($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new st($.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{it(je,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(je,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}I_(e,i,a){const u=Kf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I_(),g=V_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");it(je,`Creating RPC '${e}' stream ${u}: ${A}`,_);const C=d.createWebChannel(A,_);this.E_(C);let D=!1,H=!1;const j=new VS({Zo:K=>{H?it(je,`Not sending because RPC '${e}' stream ${u} is closed:`,K):(D||(it(je,`Opening RPC '${e}' stream ${u} transport.`),C.open(),D=!0),it(je,`RPC '${e}' stream ${u} sending:`,K),C.send(K))},Xo:()=>C.close()}),W=(K,mt,pt)=>{K.listen(mt,ft=>{try{pt(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return W(C,Nl.EventType.OPEN,()=>{H||(it(je,`RPC '${e}' stream ${u} transport opened.`),j.__())}),W(C,Nl.EventType.CLOSE,()=>{H||(H=!0,it(je,`RPC '${e}' stream ${u} transport closed`),j.u_(),this.d_(C))}),W(C,Nl.EventType.ERROR,K=>{H||(H=!0,os(je,`RPC '${e}' stream ${u} transport errored. Name:`,K.name,"Message:",K.message),j.u_(new st($.UNAVAILABLE,"The operation could not be completed")))}),W(C,Nl.EventType.MESSAGE,K=>{var mt;if(!H){const pt=K.data[0];kt(!!pt,16349);const ft=pt,xt=(ft==null?void 0:ft.error)||((mt=ft[0])===null||mt===void 0?void 0:mt.error);if(xt){it(je,`RPC '${e}' stream ${u} received error:`,xt);const Et=xt.status;let Lt=function(w){const O=ge[w];if(O!==void 0)return cv(O)}(Et),N=xt.message;Lt===void 0&&(Lt=$.INTERNAL,N="Unknown error status: "+Et+" with message "+xt.message),H=!0,j.u_(new st(Lt,N)),C.close()}else it(je,`RPC '${e}' stream ${u} received:`,pt),j.c_(pt)}}),W(g,D_.STAT_EVENT,K=>{K.stat===zf.PROXY?it(je,`RPC '${e}' stream ${u} detected buffering proxy`):K.stat===zf.NOPROXY&&it(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{j.a_()},0),j}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new xA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=u,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="PersistentStream";class Rv{constructor(e,i,a,u,h,d,g,_){this.xi=e,this.S_=a,this.D_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.v_===i&&this.z_(a,u)},a=>{e(()=>{const u=new st($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(u)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.j_(u))}),this.stream.onMessage(u=>{a(()=>++this.M_==1?this.J_(u):this.onNext(u))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return it(Zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(it(Zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends Rv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=zA(this.serializer,e),a=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Jn(d.readTime):_t.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=Ff(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Hf(_)?{documents:kA(h,_)}:{query:qA(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=dv(h,d.resumeToken);const v=Gf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Yo(h,d.snapshotVersion.toTimestamp());const v=Gf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=jA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=Ff(this.serializer),i.removeTarget=e,this.Q_(i)}}class NS extends Rv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=BA(e.writeResults,e.commitTime),a=Jn(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=Ff(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>PA(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class xS extends MS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.sa=!1}oa(){if(this.sa)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st($.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Qf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st($.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class US{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Oi(i),this.ua=!1):it("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class LS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{ca(this)&&(it(ua,"Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.da.add(4),await $l(v),v.Va.set("Unknown"),v.da.delete(4),await uc(v)}(this))})}),this.Va=new US(a,u)}}async function uc(s){if(ca(s))for(const e of s.Aa)await e(!0)}async function $l(s){for(const e of s.Aa)await e(!1)}function wv(s,e){const i=vt(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),Ad(i)?Td(i):Ts(i).N_()&&Ed(i,e))}function vd(s,e){const i=vt(s),a=Ts(i);i.Ea.delete(e),a.N_()&&Cv(i,e),i.Ea.size===0&&(a.N_()?a.k_():ca(i)&&i.Va.set("Unknown"))}function Ed(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).Z_(e)}function Cv(s,e){s.ma.Ke(e),Ts(s).X_(e)}function Td(s){s.ma=new IA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.Va.ca()}function Ad(s){return ca(s)&&!Ts(s).O_()&&s.Ea.size>0}function ca(s){return vt(s).da.size===0}function Dv(s){s.ma=void 0}async function zS(s){s.Va.set("Online")}async function PS(s){s.Ea.forEach((e,i)=>{Ed(s,e)})}async function BS(s,e){Dv(s),Ad(s)?(s.Va.Pa(e),Td(s)):s.Va.set("Unknown")}async function kS(s,e,i){if(s.Va.set("Online"),e instanceof fv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ea.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ea.delete(g),u.ma.removeTarget(g))}(s,e)}catch(a){it(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof Mo?s.ma.Xe(e):e instanceof hv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(_t.min()))try{const a=await Sv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ea.get(v);A&&h.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ea.get(_);if(!A)return;h.Ea.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),Cv(h,_);const C=new ur(A.target,_,v,A.sequenceNumber);Ed(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(ua,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!Es(e))throw e;s.da.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>Sv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ua,"Retrying IndexedDB access"),await i(),s.da.delete(1),await uc(s)})}function Vv(s,e){return e().catch(i=>Xo(s,i,e))}async function oc(s){const e=vt(s),i=_r(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:sd;for(;qS(e);)try{const u=await AS(e.localStore,a);if(u===null){e.Ia.length===0&&i.k_();break}a=u.batchId,HS(e,u)}catch(u){await Xo(e,u)}Iv(e)&&Ov(e)}function qS(s){return ca(s)&&s.Ia.length<10}function HS(s,e){s.Ia.push(e);const i=_r(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Iv(s){return ca(s)&&!_r(s).O_()&&s.Ia.length>0}function Ov(s){_r(s).start()}async function jS(s){_r(s).ia()}async function GS(s){const e=_r(s);for(const i of s.Ia)e.ta(i.mutations)}async function QS(s,e,i){const a=s.Ia.shift(),u=fd.from(a,e,i);await Vv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function YS(s,e){e&&_r(s).ea&&await async function(a,u){if(function(d){return DA(d)&&d!==$.ABORTED}(u.code)){const h=a.Ia.shift();_r(a).L_(),await Vv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),Iv(s)&&Ov(s)}async function $y(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(ua,"RemoteStore received new credentials");const a=ca(i);i.da.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await uc(i)}async function FS(s,e){const i=vt(s);e?(i.da.delete(2),await uc(i)):e||(i.da.add(2),await $l(i),i.Va.set("Unknown"))}function Ts(s){return s.fa||(s.fa=function(i,a,u){const h=vt(i);return h.oa(),new OS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:zS.bind(null,s),n_:PS.bind(null,s),i_:BS.bind(null,s),Y_:kS.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),Ad(s)?Td(s):s.Va.set("Unknown")):(await s.fa.stop(),Dv(s))})),s.fa}function _r(s){return s.ga||(s.ga=function(i,a,u){const h=vt(i);return h.oa(),new NS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:jS.bind(null,s),i_:YS.bind(null,s),na:GS.bind(null,s),ra:QS.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await oc(s)):(await s.ga.stop(),s.Ia.length>0&&(it(ua,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Sd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(s,e){if(Oi("AsyncQueue",`${e}: ${s}`),Es(s))return new st($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new us;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.pa=new ee(ot.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ms{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ms(e,i,us.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class KS{constructor(){this.queries=Wy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=vt(i),h=u.queries;u.queries=Wy(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(a)})})(this,new st($.ABORTED,"Firestore shutting down"))}}function Wy(){return new oa(s=>$_(s),nc)}async function Nv(s,e){const i=vt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Da()&&e.va()&&(a=2):(h=new XS,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(u,!0);break;case 1:h.ba=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=bd(d,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&Rd(i)}async function Mv(s,e){const i=vt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.va()?0:1:!h.Da()&&e.va()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ZS(s,e){const i=vt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(u)&&(a=!0);d.ba=u}}a&&Rd(i)}function $S(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Rd(s){s.Ca.forEach(e=>{e.next()})}var Zf,t_;(t_=Zf||(Zf={})).xa="default",t_.Cache="cache";class xv{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ms(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class JS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dt(),this.mutatedKeys=Dt(),this.Za=J_(e),this.Xa=new us(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new Jy,u=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,C)=>{const D=u.get(A),H=ic(this.query,C)?C:null,j=!!D&&this.mutatedKeys.has(D.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;D&&H?D.data.isEqual(H.data)?j!==W&&(a.track({type:3,doc:H}),K=!0):this.ru(D,H)||(a.track({type:2,doc:H}),K=!0,(_&&this.Za(H,_)>0||v&&this.Za(H,v)<0)&&(g=!0)):!D&&H?(a.track({type:0,doc:H}),K=!0):D&&!H&&(a.track({type:1,doc:D}),K=!0,(_||v)&&(g=!0)),K&&(H?(d=d.add(H),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,C)=>function(H,j){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:K})}};return W(H)-W(j)}(A.type,C.type)||this.Za(A.doc,C.doc)),this.iu(a),u=u!=null&&u;const g=i&&!u?this.su():[],_=this.Ya.size===0&&this.current&&!u?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new ms(this.query,e.Xa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Jy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Dt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Lv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new Uv(a))}),i}au(e){this.Ha=e.$s,this.Ya=Dt();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ms.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const wd="SyncEngine";class WS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class tb{constructor(e){this.key=e,this.cu=!1}}class eb{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new oa(g=>$_(g),nc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ee(ot.comparator),this.Eu=new Map,this.du=new gd,this.Au={},this.Ru=new Map,this.Vu=ds.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function nb(s,e,i=!0){const a=Hv(s);let u;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.uu()):u=await zv(a,e,i,!0),u}async function ib(s,e){const i=Hv(s);await zv(i,e,!0,!1)}async function zv(s,e,i,a){const u=await SS(s.localStore,Zn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await rb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&wv(s.remoteStore,u),g}async function rb(s,e,i,a,u){s.fu=(C,D,H)=>async function(W,K,mt,pt){let ft=K.view.tu(mt);ft.Cs&&(ft=await Yy(W.localStore,K.query,!1).then(({documents:N})=>K.view.tu(N,ft)));const xt=pt&&pt.targetChanges.get(K.targetId),Et=pt&&pt.targetMismatches.get(K.targetId)!=null,Lt=K.view.applyChanges(ft,W.isPrimaryClient,xt,Et);return n_(W,K.targetId,Lt.ou),Lt.snapshot}(s,C,D,H);const h=await Yy(s.localStore,e,!0),d=new JS(e,h.$s),g=d.tu(h.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);n_(s,i,v.ou);const A=new WS(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),v.snapshot}async function ab(s,e,i){const a=vt(s),u=a.hu.get(e),h=a.Pu.get(u.targetId);if(h.length>1)return a.Pu.set(u.targetId,h.filter(d=>!nc(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Xf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&vd(a.remoteStore,u.targetId),$f(a,u.targetId)}).catch(vs)):($f(a,u.targetId),await Xf(a.localStore,u.targetId,!0))}async function sb(s,e){const i=vt(s),a=i.hu.get(e),u=i.Pu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),vd(i.remoteStore,a.targetId))}async function lb(s,e,i){const a=mb(s);try{const u=await function(d,g){const _=vt(d),v=Ae.now(),A=g.reduce((H,j)=>H.add(j.key),Dt());let C,D;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let j=Ni(),W=Dt();return _.Bs.getEntries(H,A).next(K=>{j=K,j.forEach((mt,pt)=>{pt.isValidDocument()||(W=W.add(mt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,j)).next(K=>{C=K;const mt=[];for(const pt of g){const ft=SA(pt,C.get(pt.key).overlayedDocument);ft!=null&&mt.push(new Tr(pt.key,ft,G_(ft.value.mapValue),$n.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,mt,g)}).next(K=>{D=K;const mt=K.applyToLocalDocumentSet(C,W);return _.documentOverlayCache.saveOverlays(H,K.batchId,mt)})}).then(()=>({batchId:D.batchId,changes:tv(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Au[d.currentUser.toKey()];v||(v=new ee(St)),v=v.insert(g,_),d.Au[d.currentUser.toKey()]=v}(a,u.batchId,i),await Jl(a,u.changes),await oc(a.remoteStore)}catch(u){const h=bd(u,"Failed to persist write");i.reject(h)}}async function Pv(s,e){const i=vt(s);try{const a=await ES(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.cu=!0:u.modifiedDocuments.size>0?kt(d.cu,14607):u.removedDocuments.size>0&&(kt(d.cu,42227),d.cu=!1))}),await Jl(i,a,e)}catch(a){await vs(a)}}function e_(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,C)=>{for(const D of C.Sa)D.Fa(g)&&(v=!0)}),v&&Rd(_)}(a.eventManager,e),u.length&&a.lu.Y_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ub(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ee(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,_t.min()));const g=Dt().add(h),_=new sc(_t.min(),new Map,new ee(St),d,g);await Pv(a,_),a.Iu=a.Iu.remove(h),a.Eu.delete(e),Cd(a)}else await Xf(a.localStore,e,!1).then(()=>$f(a,e,i)).catch(vs)}async function ob(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await vS(i.localStore,e);kv(i,a,null),Bv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await vs(u)}}async function cb(s,e,i){const a=vt(s);try{const u=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(C=>(kt(C!==null,37113),A=C.keys(),_.mutationQueue.removeMutationBatch(v,C))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);kv(a,e,i),Bv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await vs(u)}}function Bv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function kv(s,e,i){const a=vt(s);let u=a.Au[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Au[a.currentUser.toKey()]=u}}function $f(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||qv(s,a)})}function qv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(vd(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),Cd(s))}function n_(s,e,i){for(const a of i)a instanceof Uv?(s.du.addReference(a.key,e),hb(s,a)):a instanceof Lv?(it(wd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||qv(s,a.key)):dt(19791,{pu:a})}function hb(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(it(wd,"New document in limbo: "+i),s.Tu.add(a),Cd(s))}function Cd(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ot(Wt.fromString(e)),a=s.Vu.next();s.Eu.set(a,new tb(i)),s.Iu=s.Iu.insert(i,a),wv(s.remoteStore,new ur(Zn(ec(i.path)),a,"TargetPurposeLimboResolution",$o.le))}}async function Jl(s,e,i){const a=vt(s),u=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,_)=>{d.push(a.fu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=yd.Rs(_.targetId,v);h.push(C)}}))}),await Promise.all(d),a.lu.Y_(u),await async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>X.forEach(v,D=>X.forEach(D.ds,H=>A.persistence.referenceDelegate.addReference(C,D.targetId,H)).next(()=>X.forEach(D.As,H=>A.persistence.referenceDelegate.removeReference(C,D.targetId,H)))))}catch(C){if(!Es(C))throw C;it(_d,"Failed to update sequence numbers: "+C)}for(const C of v){const D=C.targetId;if(!C.fromCache){const H=A.xs.get(D),j=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(j);A.xs=A.xs.insert(D,W)}}}(a.localStore,h))}async function fb(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it(wd,"User change. New user:",e.toKey());const a=await Av(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(_=>{_.reject(new st($.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.ks)}}function db(s,e){const i=vt(s),a=i.Eu.get(e);if(a&&a.cu)return Dt().add(a.key);{let u=Dt();const h=i.Pu.get(e);if(!h)return u;for(const d of h){const g=i.hu.get(d);u=u.unionWith(g.view.eu)}return u}}function Hv(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=db.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ub.bind(null,e),e.lu.Y_=ZS.bind(null,e.eventManager),e.lu.gu=$S.bind(null,e.eventManager),e}function mb(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cb.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return _S(this.persistence,new gS,e.initialUser,this.serializer)}Su(e){return new Tv(pd.fi,this.serializer)}bu(e){return new RS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class gb extends Ko{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){kt(this.persistence.referenceDelegate instanceof Fo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tS(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new Tv(a=>Fo.fi(a,i),this.serializer)}}class Jf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>e_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fb.bind(null,this.syncEngine),await FS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KS}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new IS(h)}(e.databaseInfo);return function(h,d,g,_){return new xS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new LS(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>e_(this.syncEngine,i,0),function(){return Ky.C()?new Ky:new wS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,A){const C=new eb(u,h,d,g,_,v);return A&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=vt(u);it(ua,"RemoteStore shutting down."),h.da.add(5),await $l(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Jf.provider={build:()=>new Jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class pb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=x_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=bd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Of(s,e){s.asyncQueue.verifyOperationInProgress(),it(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Av(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function i_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await yb(s);it(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>$y(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>$y(e.remoteStore,u)),s._onlineComponents=e}async function yb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(vr,"Using user provided OfflineComponentProvider");try{await Of(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===$.FAILED_PRECONDITION||u.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await Of(s,new Ko)}}else it(vr,"Using default OfflineComponentProvider"),await Of(s,new gb(void 0));return s._offlineComponents}async function Gv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(vr,"Using user provided OnlineComponentProvider"),await i_(s,s._uninitializedComponentsProvider._online)):(it(vr,"Using default OnlineComponentProvider"),await i_(s,new Jf))),s._onlineComponents}function _b(s){return Gv(s).then(e=>e.syncEngine)}async function Wf(s){const e=await Gv(s),i=e.eventManager;return i.onListen=nb.bind(null,e.syncEngine),i.onUnlisten=ab.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ib.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=sb.bind(null,e.syncEngine),i}function vb(s,e,i={}){const a=new fr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new jv({next:D=>{A.xu(),d.enqueueAndForget(()=>Mv(h,C));const H=D.docs.has(g);!H&&D.fromCache?v.reject(new st($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&_&&_.source==="server"?v.reject(new st($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),C=new xv(ec(g.path),A,{includeMetadataChanges:!0,Qa:!0});return Nv(h,C)}(await Wf(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s,e,i){if(!i)throw new st($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Eb(s,e,i,a){if(e===!0&&a===!0)throw new st($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function a_(s){if(!ot.isDocumentKey(s))throw new st($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function s_(s){if(ot.isDocumentKey(s))throw new st($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Dd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dd(s);throw new st($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="firestore.googleapis.com",l_=!0;class u_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new st($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fv,this.ssl=l_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:l_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ev;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JA)throw new st($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Eb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new D1;switch(a.type){case"firstParty":return new N1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=r_.get(i);a&&(it("ComponentProvider","Removing Datastore"),r_.delete(i),a.terminate())}(this),Promise.resolve()}}function Tb(s,e,i,a={}){var u;s=Di(s,cc);const h=id(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(eT(`https://${_}`),aT("Firestore",!0)),d.host!==Fv&&d.host!==_&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Lo(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Ge.MOCK_USER;else{A=nT(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new st($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ge(D)}s._authCredentials=new V1(new N_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class dr extends hc{constructor(e,i,a){super(e,i,ec(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ot(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Ab(s,e,...i){if(s=Vi(s),Yv("collection","path",e),s instanceof cc){const a=Wt.fromString(e,...i);return s_(a),new dr(s,null,a)}{if(!(s instanceof en||s instanceof dr))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return s_(a),new dr(s.firestore,null,a)}}function fc(s,e,...i){if(s=Vi(s),arguments.length===1&&(e=x_.newId()),Yv("doc","path",e),s instanceof cc){const a=Wt.fromString(e,...i);return a_(a),new en(s,null,new ot(a))}{if(!(s instanceof en||s instanceof dr))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return a_(a),new en(s.firestore,s instanceof dr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class c_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bv(this,"async_queue_retry"),this.rc=()=>{const a=If();a&&it(o_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=If();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=If();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new fr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Es(e))throw e;it(o_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Oi("INTERNAL UNHANDLED ERROR: ",h_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const u=Sd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(u),u}oc(){this.Xu&&dt(47125,{cc:h_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function h_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class gs extends cc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new c_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c_(e),this._firestoreClient=void 0,await e}}}function Sb(s,e){const i=typeof s=="object"?s:g1(),a=typeof s=="string"?s:ko,u=c1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=WE("firestore");h&&Tb(u,...h)}return u}function Vd(s){if(s._terminated)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bb(s),s._firestoreClient}function bb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,A){return new F1(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Qv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new pb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(Be.fromBase64String(e))}catch(i){throw new st($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ps(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=/^__.*__$/;class wb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}class Xv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Kv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ic:s})}}class Md{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Vc(e),u}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Ec(),u}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zo(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Kv(this.Ic)&&Rb.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Cb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}bc(e,i,a,u=!1){return new Md({Ic:e,methodName:i,wc:a,path:Pe.emptyPath(),Rc:!1,yc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zv(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new Cb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Db(s,e,i,a,u,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,u);xd("Data must be an object, but it was:",d,a);const g=$v(a,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const D=td(e,C,i);if(!d.contains(D))throw new st($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);Wv(A,D)||A.push(D)}_=new fn(A),v=d.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=d.fieldTransforms;return new wb(new tn(g),_,v)}class mc extends Id{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mc}}function Vb(s,e,i,a){const u=s.bc(1,e,i);xd("Data must be an object, but it was:",u,a);const h=[],d=tn.empty();Er(a,(_,v)=>{const A=Ud(e,_,i);v=Vi(v);const C=u.mc(A);if(v instanceof mc)h.push(A);else{const D=gc(v,C);D!=null&&(h.push(A),d.set(A,D))}});const g=new fn(h);return new Xv(d,g,u.fieldTransforms)}function Ib(s,e,i,a,u,h){const d=s.bc(1,e,i),g=[td(e,a,i)],_=[u];if(h.length%2!=0)throw new st($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(td(e,h[D])),_.push(h[D+1]);const v=[],A=tn.empty();for(let D=g.length-1;D>=0;--D)if(!Wv(v,g[D])){const H=g[D];let j=_[D];j=Vi(j);const W=d.mc(H);if(j instanceof mc)v.push(H);else{const K=gc(j,W);K!=null&&(v.push(H),A.set(H,K))}}const C=new fn(v);return new Xv(A,C,d.fieldTransforms)}function gc(s,e){if(Jv(s=Vi(s)))return xd("Unsupported field value:",e,s),$v(s,e);if(s instanceof Id)return function(a,u){if(!Kv(u.Ic))throw u.gc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=gc(g,u.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Vi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Od)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ps)return{bytesValue:dv(u.serializer,a._byteString)};if(a instanceof en){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:md(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Nd)return function(d,g){return{mapValue:{fields:{[H_]:{stringValue:j_},[qo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return hd(g.serializer,v)})}}}}}}(a,u);throw u.gc(`Unsupported field value: ${Dd(a)}`)}(s,e)}function $v(s,e){const i={};return L_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,(a,u)=>{const h=gc(u,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Jv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof Od||s instanceof ps||s instanceof en||s instanceof Id||s instanceof Nd)}function xd(s,e,i){if(!Jv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Dd(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function td(s,e,i){if((e=Vi(e))instanceof dc)return e._internalPath;if(typeof e=="string")return Ud(s,e);throw Zo("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ob=new RegExp("[~\\*/\\[\\]]");function Ud(s,e,i){if(e.search(Ob)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new dc(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new st($.INVALID_ARGUMENT,g+s+_)}function Wv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(e0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nb extends t0{data(){return super.data()}}function e0(s,e){return typeof e=="string"?Ud(s,e):e instanceof dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xb{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Er(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[qo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Nd(h)}convertGeoPoint(e){return new Od(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Wo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Wt.fromString(e);kt(vv(a),9688,{name:e});const u=new Ql(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n0 extends t0{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(e0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class xo extends n0{data(e={}){return super.data(e)}}class Lb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ul(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new xo(this._firestore,this._userDataWriter,a.key,a,new Ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ul(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ul(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:zb(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function zb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(s){s=Di(s,en);const e=Di(s.firestore,gs);return vb(Vd(e),s._key).then(i=>a0(e,s,i))}class i0 extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function Bb(s,e,i,...a){s=Di(s,en);const u=Di(s.firestore,gs),h=Zv(u);let d;return d=typeof(e=Vi(e))=="string"||e instanceof dc?Ib(h,"updateDoc",s._key,e,i,a):Vb(h,"updateDoc",s._key,e),r0(u,[d.toMutation(s._key,$n.exists(!0))])}function kb(s,e){const i=Di(s.firestore,gs),a=fc(s),u=Ub(s.converter,e);return r0(i,[Db(Zv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,$n.exists(!1))]).then(()=>a)}function qb(s,...e){var i,a,u;s=Vi(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||f_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(f_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),e[d+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let _,v,A;if(s instanceof en)v=Di(s.firestore,gs),A=ec(s._key.path),_={next:C=>{e[d]&&e[d](a0(v,s,C))},error:e[d+1],complete:e[d+2]};else{const C=Di(s,hc);v=Di(C.firestore,gs),A=C._query;const D=new i0(v);_={next:H=>{e[d]&&e[d](new Lb(v,D,C,H))},error:e[d+1],complete:e[d+2]},Mb(s._query)}return function(D,H,j,W){const K=new jv(W),mt=new xv(H,K,j);return D.asyncQueue.enqueueAndForget(async()=>Nv(await Wf(D),mt)),()=>{K.xu(),D.asyncQueue.enqueueAndForget(async()=>Mv(await Wf(D),mt))}}(Vd(v),A,g,_)}function r0(s,e){return function(a,u){const h=new fr;return a.asyncQueue.enqueueAndForget(async()=>lb(await _b(a),u,h)),h.promise}(Vd(s),e)}function a0(s,e,i){const a=i.docs.get(e._key),u=new i0(s);return new n0(s,u,e._key,a,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){_s=u})(m1),Po(new ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new gs(new I1(a.getProvider("auth-internal")),new M1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ls(py,yy,e),ls(py,yy,"esm2017")})();const Hb={apiKey:"AIzaSyA1YHZuK7xQzrGf2sVPo8Qax__FqLaFg_g",authDomain:"boop-chat.firebaseapp.com",projectId:"boop-chat",storageBucket:"boop-chat.firebasestorage.app",messagingSenderId:"86390385381",appId:"1:86390385381:web:899e240ed5dedab2a8c20c",measurementId:"G-R49YGVYMFQ"},jb=A_(Hb),pc=Sb(jb),e2=async s=>(await kb(Ab(pc,"sessions"),s)).id,Gb=async s=>{const e=await Pb(fc(pc,"sessions",s));return e.exists()?(console.log("The data has been found at Firestore!"),e.data()):(console.log("The data doesn't exist at Firestore!"),null)},n2=async(s,e)=>{Bb(fc(pc,"sessions",s),e)},i2=async(s,e,i)=>{const a=fc(pc,"sessions",s),u=qb(a,async h=>{var g;if(!h.exists())return;const d=h.data();d.receiverDescription&&((g=d.receiverCandidates)==null?void 0:g.length)>0&&(console.log("Receiver info available:",d),i.current=d.receiverName,e(d),u())});return u},Qb={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302"]}]},r2=async(s,e,i,a,u,h,d)=>{e.current.onicecandidate=_=>{_.candidate?(a.current.push(_.candidate.toJSON()),console.log("Ice candidate added! Candidate = ",_.candidate)):(console.log("The ice gathering state might have been completed by this time!"),console.log("State = ",e.current.iceGatheringState))},e.current.onicecandidateerror=_=>{console.warn("ICE candidate error:",_.errorCode,_.port,_.url)};const g=e.current.getConfiguration();if(console.log("ICE servers configured on this PC:",g.iceServers),s==="sender"){i.current=e.current.createDataChannel("chat"),console.log("The data channel has been set up!"),i.current.onopen=()=>{console.log("The data channel has been established!"),u(!0)};let _=await e.current.createOffer();console.log("The offer has been created!"),await e.current.setLocalDescription(_),console.log("The local description has been added!")}else{console.log(e.current);let _=await Gb(d);if(!_)return null;h.current=_.senderName,await Yb(e,_),console.log("The state of the peer connection = ",e.current.iceGatheringState)}e.current.addTransceiver("video",{direction:"sendrecv"}),e.current.addTransceiver("audio",{direction:"sendrecv"}),console.log("The initial setup of the connection has been established.")},Yb=async(s,e)=>{console.log(e.senderDescription),await s.current.setRemoteDescription(e.senderDescription),console.log("The remote description has been added!");let i=await s.current.createAnswer();console.log("The answer has been created!"),await s.current.setLocalDescription(i),console.log("The local description has been added!");for(const a of e.senderCandidates)try{await s.current.addIceCandidate(a)}catch(u){console.error("Error adding ICE candidate:",u)}},Ld=oe.createContext(null),Fb=({children:s})=>{const[e,i]=oe.useState(!0);oe.useEffect(()=>{(async()=>{let C=await(await fetch("https://boop-chat.metered.live/api/v1/turn/credentials?apiKey=f520e7b4d4b547fb651ee0ca6a70bee2176b")).json();h.current=new RTCPeerConnection({iceServers:C}),i(!1)})()},[]);const[a,u]=oe.useState(!1),h=oe.useRef(new RTCPeerConnection(Qb)),d=oe.useRef([]),g=oe.useRef([]),_=oe.useRef("");return e?Ci.jsx("div",{children:" Loading .. "}):Ci.jsx(Ld.Provider,{value:{peerConnection:h,iceCandidates:d,dataChannel:g,peerName:_,connected:a,setConnected:u},children:s})};function Xb(s){const e=s.current.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}const Kb=oe.createContext(null),Zb=({children:s})=>{const{dataChannel:e}=oe.useContext(Ld),i=oe.useRef(0),a=oe.useRef(0),u=oe.useRef(null),[h,d]=oe.useState(null),[g,_]=oe.useState(!1),[v,A]=oe.useState(!1),[C,D]=oe.useState([]);return oe.useEffect(()=>{e.current.onmessage=H=>{let j=JSON.parse(H.data);if(console.log("The message I received looks like this: ",j),j.type==="text"){let W={receivedId:a.current,type:j.type,origin:"received",reaction:null,content:j.content,reply:j.reply};console.log("Message received!"),Xb(u)?setTimeout(()=>{u.current.scrollIntoView({behavior:"instant"})},100):A(!0);let K={type:"ack",sentId:a.current};e.current.send(JSON.stringify(K)),a.current=a.current+1,D(mt=>[...mt,W])}else if(j.type==="ack")console.log("I have received an ack message: ",j),D(W=>W.map(K=>K.sentId===j.sentId?{...K,status:"sent"}:K));else if(j.type==="reaction"){console.log("I have received a reaction message: ",j);let W={type:"ackReaction",sentId:j.id,reaction:j.reaction};e.current.send(JSON.stringify(W)),D(K=>K.map(mt=>(console.log(mt.sentId,j.id),mt.sentId==j.id?{...mt,reaction:j.reaction}:mt))),console.log(C)}else j.type==="ackReaction"&&(console.log("I have received an ackReaction message: ",j),D(W=>W.map(K=>K.receivedId==j.sentId?{...K,reaction:j.reaction}:K)))}},[]),Ci.jsx(Kb.Provider,{value:{chatBottom:u,messages:C,setMessages:D,sentId:i,receivedId:a,selectedMessageId:h,setSelectedMessageId:d,replying:g,setReplying:_,newMessage:v,setNewMessage:A},children:s})},$b=d_.lazy(()=>m_(()=>import("./LandingPage-DFCc_mRa.js"),__vite__mapDeps([0,1]),import.meta.url)),Jb=d_.lazy(()=>m_(()=>import("./ChatPage-GyaKP9Cg.js"),__vite__mapDeps([2,3]),import.meta.url));function Wb(){const{connected:s}=oe.useContext(Ld);return Ci.jsx(oe.Suspense,{children:s?Ci.jsx(Zb,{children:Ci.jsx(Jb,{})}):Ci.jsx($b,{})})}kE.createRoot(document.getElementById("root")).render(Ci.jsx(Fb,{children:Ci.jsx(Wb,{})}));export{Ld as C,d_ as R,m_ as _,e2 as a,Kb as b,Ci as j,oe as r,r2 as s,n2 as u,i2 as w};
