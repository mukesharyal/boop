const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LandingPage-DMye_0Bh.js","./LandingPage-CcAR9m6Q.css","./ChatPage-DtGIZJR7.js","./ChatPage-DI4jBRJV.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function ab(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ld={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function ob(){if($_)return cl;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var J_;function lb(){return J_||(J_=1,Ld.exports=ob()),Ld.exports}var hn=lb(),kd={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function ub(){if(W_)return Ot;W_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,F={};function H(V,$,at){this.props=V,this.context=$,this.refs=F,this.updater=at||P}H.prototype.isReactComponent={},H.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function tt(){}tt.prototype=H.prototype;function rt(V,$,at){this.props=V,this.context=$,this.refs=F,this.updater=at||P}var et=rt.prototype=new tt;et.constructor=rt,k(et,H.prototype),et.isPureReactComponent=!0;var dt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function O(V,$,at,st,pt,At){return at=At.ref,{$$typeof:s,type:V,key:$,ref:at!==void 0?at:null,props:At}}function w(V,$){return O(V.type,$,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function M(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(at){return $[at]})}var N=/\/+/g;function C(V,$){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):$.toString(36)}function R(){}function J(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function lt(V,$,at,st,pt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case s:case t:vt=!0;break;case E:return vt=V._init,lt(vt(V._payload),$,at,st,pt)}}if(vt)return pt=pt(V),vt=st===""?"."+C(V,0):st,dt(pt)?(at="",vt!=null&&(at=vt.replace(N,"$&/")+"/"),lt(pt,$,at,"",function(Me){return Me})):pt!=null&&(I(pt)&&(pt=w(pt,at+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(N,"$&/")+"/")+vt)),$.push(pt)),1;vt=0;var ee=st===""?".":st+":";if(dt(V))for(var Gt=0;Gt<V.length;Gt++)st=V[Gt],At=ee+C(st,Gt),vt+=lt(st,$,at,At,pt);else if(Gt=b(V),typeof Gt=="function")for(V=Gt.call(V),Gt=0;!(st=V.next()).done;)st=st.value,At=ee+C(st,Gt++),vt+=lt(st,$,at,At,pt);else if(At==="object"){if(typeof V.then=="function")return lt(J(V),$,at,st,pt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(V,$,at){if(V==null)return V;var st=[],pt=0;return lt(V,st,"","",function(At){return $.call(at,At,pt++)}),st}function it(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(at){(V._status===0||V._status===-1)&&(V._status=1,V._result=at)},function(at){(V._status===0||V._status===-1)&&(V._status=2,V._result=at)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function wt(){}return Ot.Children={map:G,forEach:function(V,$,at){G(V,function(){$.apply(this,arguments)},at)},count:function(V){var $=0;return G(V,function(){$++}),$},toArray:function(V){return G(V,function($){return $})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ot.Component=H,Ot.Fragment=n,Ot.Profiler=l,Ot.PureComponent=rt,Ot.StrictMode=r,Ot.Suspense=y,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ht.H.useMemoCache(V)}},Ot.cache=function(V){return function(){return V.apply(null,arguments)}},Ot.cloneElement=function(V,$,at){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=k({},V.props),pt=V.key,At=void 0;if($!=null)for(vt in $.ref!==void 0&&(At=void 0),$.key!==void 0&&(pt=""+$.key),$)!_t.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(st[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)st.children=at;else if(1<vt){for(var ee=Array(vt),Gt=0;Gt<vt;Gt++)ee[Gt]=arguments[Gt+2];st.children=ee}return O(V.type,pt,void 0,void 0,At,st)},Ot.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ot.createElement=function(V,$,at){var st,pt={},At=null;if($!=null)for(st in $.key!==void 0&&(At=""+$.key),$)_t.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=$[st]);var vt=arguments.length-2;if(vt===1)pt.children=at;else if(1<vt){for(var ee=Array(vt),Gt=0;Gt<vt;Gt++)ee[Gt]=arguments[Gt+2];pt.children=ee}if(V&&V.defaultProps)for(st in vt=V.defaultProps,vt)pt[st]===void 0&&(pt[st]=vt[st]);return O(V,At,void 0,void 0,null,pt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(V){return{$$typeof:m,render:V}},Ot.isValidElement=I,Ot.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:it}},Ot.memo=function(V,$){return{$$typeof:p,type:V,compare:$===void 0?null:$}},Ot.startTransition=function(V){var $=ht.T,at={};ht.T=at;try{var st=V(),pt=ht.S;pt!==null&&pt(at,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(wt,ut)}catch(At){ut(At)}finally{ht.T=$}},Ot.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Ot.use=function(V){return ht.H.use(V)},Ot.useActionState=function(V,$,at){return ht.H.useActionState(V,$,at)},Ot.useCallback=function(V,$){return ht.H.useCallback(V,$)},Ot.useContext=function(V){return ht.H.useContext(V)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(V,$){return ht.H.useDeferredValue(V,$)},Ot.useEffect=function(V,$,at){var st=ht.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(V,$)},Ot.useId=function(){return ht.H.useId()},Ot.useImperativeHandle=function(V,$,at){return ht.H.useImperativeHandle(V,$,at)},Ot.useInsertionEffect=function(V,$){return ht.H.useInsertionEffect(V,$)},Ot.useLayoutEffect=function(V,$){return ht.H.useLayoutEffect(V,$)},Ot.useMemo=function(V,$){return ht.H.useMemo(V,$)},Ot.useOptimistic=function(V,$){return ht.H.useOptimistic(V,$)},Ot.useReducer=function(V,$,at){return ht.H.useReducer(V,$,at)},Ot.useRef=function(V){return ht.H.useRef(V)},Ot.useState=function(V){return ht.H.useState(V)},Ot.useSyncExternalStore=function(V,$,at){return ht.H.useSyncExternalStore(V,$,at)},Ot.useTransition=function(){return ht.H.useTransition()},Ot.version="19.1.0",Ot}var tv;function Hm(){return tv||(tv=1,kd.exports=ub()),kd.exports}var ft=Hm();const El=ab(ft);var zd={exports:{}},hl={},Bd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function cb(){return ev||(ev=1,function(s){function t(G,it){var ut=G.length;G.push(it);t:for(;0<ut;){var wt=ut-1>>>1,V=G[wt];if(0<l(V,it))G[wt]=it,G[ut]=V,ut=wt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var it=G[0],ut=G.pop();if(ut!==it){G[0]=ut;t:for(var wt=0,V=G.length,$=V>>>1;wt<$;){var at=2*(wt+1)-1,st=G[at],pt=at+1,At=G[pt];if(0>l(st,ut))pt<V&&0>l(At,st)?(G[wt]=At,G[pt]=ut,wt=pt):(G[wt]=st,G[at]=ut,wt=at);else if(pt<V&&0>l(At,ut))G[wt]=At,G[pt]=ut,wt=pt;else break t}}return it}function l(G,it){var ut=G.sortIndex-it.sortIndex;return ut!==0?ut:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],p=[],E=1,S=null,b=3,P=!1,k=!1,F=!1,H=!1,tt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function dt(G){for(var it=n(p);it!==null;){if(it.callback===null)r(p);else if(it.startTime<=G)r(p),it.sortIndex=it.expirationTime,t(y,it);else break;it=n(p)}}function ht(G){if(F=!1,dt(G),!k)if(n(y)!==null)k=!0,_t||(_t=!0,C());else{var it=n(p);it!==null&&lt(ht,it.startTime-G)}}var _t=!1,O=-1,w=5,I=-1;function M(){return H?!0:!(s.unstable_now()-I<w)}function N(){if(H=!1,_t){var G=s.unstable_now();I=G;var it=!0;try{t:{k=!1,F&&(F=!1,rt(O),O=-1),P=!0;var ut=b;try{e:{for(dt(G),S=n(y);S!==null&&!(S.expirationTime>G&&M());){var wt=S.callback;if(typeof wt=="function"){S.callback=null,b=S.priorityLevel;var V=wt(S.expirationTime<=G);if(G=s.unstable_now(),typeof V=="function"){S.callback=V,dt(G),it=!0;break e}S===n(y)&&r(y),dt(G)}else r(y);S=n(y)}if(S!==null)it=!0;else{var $=n(p);$!==null&&lt(ht,$.startTime-G),it=!1}}break t}finally{S=null,b=ut,P=!1}it=void 0}}finally{it?C():_t=!1}}}var C;if(typeof et=="function")C=function(){et(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,J=R.port2;R.port1.onmessage=N,C=function(){J.postMessage(null)}}else C=function(){tt(N,0)};function lt(G,it){O=tt(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(G){switch(b){case 1:case 2:case 3:var it=3;break;default:it=b}var ut=b;b=it;try{return G()}finally{b=ut}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=b;b=G;try{return it()}finally{b=ut}},s.unstable_scheduleCallback=function(G,it,ut){var wt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?wt+ut:wt):ut=wt,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,G={id:E++,callback:it,priorityLevel:G,startTime:ut,expirationTime:V,sortIndex:-1},ut>wt?(G.sortIndex=ut,t(p,G),n(y)===null&&G===n(p)&&(F?(rt(O),O=-1):F=!0,lt(ht,ut-wt))):(G.sortIndex=V,t(y,G),k||P||(k=!0,_t||(_t=!0,C()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var it=b;return function(){var ut=b;b=it;try{return G.apply(this,arguments)}finally{b=ut}}}}(qd)),qd}var nv;function hb(){return nv||(nv=1,Bd.exports=cb()),Bd.exports}var jd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function fb(){if(iv)return Xe;iv=1;var s=Hm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,E)},Xe.flushSync=function(y){var p=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=p,r.p=E,r.d.f()}},Xe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Xe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:P}):E==="script"&&r.d.X(y,{crossOrigin:S,integrity:b,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Xe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);r.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Xe.requestFormReset=function(y){r.d.r(y)},Xe.unstable_batchedUpdates=function(y,p){return y(p)},Xe.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var sv;function K0(){if(sv)return jd.exports;sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=fb(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function db(){if(rv)return hl;rv=1;var s=hb(),t=Hm(),n=K0();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===o)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case H:return"Profiler";case F:return"StrictMode";case ht:return"Suspense";case _t:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case et:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:J(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return J(e(i))}catch{}}return null}var lt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},wt=[],V=-1;function $(e){return{current:e}}function at(e){0>V||(e.current=wt[V],wt[V]=null,V--)}function st(e,i){V++,wt[V]=e.current,e.current=i}var pt=$(null),At=$(null),vt=$(null),ee=$(null);function Gt(e,i){switch(st(vt,i),st(At,e),st(pt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=R_(i),e=w_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(pt),st(pt,e)}function Me(){at(pt),at(At),at(vt)}function Sn(e){e.memoizedState!==null&&st(ee,e);var i=pt.current,a=w_(i,e.type);i!==a&&(st(At,e),st(pt,a))}function Ei(e){At.current===e&&(at(pt),at(At)),ee.current===e&&(at(ee),rl._currentValue=ut)}var Gs=Object.prototype.hasOwnProperty,Qs=s.unstable_scheduleCallback,Fs=s.unstable_cancelCallback,eo=s.unstable_shouldYield,tu=s.unstable_requestPaint,Rn=s.unstable_now,Uh=s.unstable_getCurrentPriorityLevel,no=s.unstable_ImmediatePriority,Ur=s.unstable_UserBlockingPriority,Ys=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,Lr=s.unstable_IdlePriority,io=s.log,eu=s.unstable_setDisableYieldValue,he=null,Kt=null;function mn(e){if(typeof io=="function"&&eu(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(he,e)}catch{}}var Ye=Math.clz32?Math.clz32:Ks,nu=Math.log,kh=Math.LN2;function Ks(e){return e>>>=0,e===0?32:31-(nu(e)/kh|0)|0}var Xs=256,Zs=4194304;function qn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kr(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=qn(o):(v&=T,v!==0?h=qn(v):a||(a=T&~e,a!==0&&(h=qn(a))))):(T=o&~d,T!==0?h=qn(T):v!==0?h=qn(v):a||(a=o&~e,a!==0&&(h=qn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $s(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function so(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Xs;return Xs<<=1,(Xs&4194048)===0&&(Xs=256),e}function ao(){var e=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),e}function Ti(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ai(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oo(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,B=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Ye(a),X=1<<Y;T[Y]=0,D[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var j=q[Y];j!==null&&(j.lane&=-536870913)}a&=~X}o!==0&&Zn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Zn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ye(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function lo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ye(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wi(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:Q_(e.type))}function iu(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var re=Math.random().toString(36).slice(2),Se="__reactFiber$"+re,_e="__reactProps$"+re,wn="__reactContainer$"+re,uo="__reactEvents$"+re,zh="__reactListeners$"+re,ts="__reactHandles$"+re,su="__reactResources$"+re,Js="__reactMarker$"+re;function es(e){delete e[Se],delete e[_e],delete e[uo],delete e[zh],delete e[ts]}function bi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[wn]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[Se])return a;e=V_(e)}return i}e=a,a=e.parentNode}return null}function $n(e){if(e=e[Se]||e[wn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function We(e){var i=e[su];return i||(i=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(e){e[Js]=!0}var co=new Set,Br={};function jn(e,i){Si(e,i),Si(e+"Capture",i)}function Si(e,i){for(Br[e]=i,e=0;e<i.length;e++)co.add(i[e])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Ws={};function ou(e){return Gs.call(Ws,e)?!0:Gs.call(au,e)?!1:ru.test(e)?Ws[e]=!0:(au[e]=!0,!1)}function ns(e,i,a){if(ou(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Wn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ze(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var tr,lu;function Ri(e){if(tr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);tr=i&&i[1]||"",lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+e+lu}var qr=!1;function jr(e,i){if(!e||qr)return"";qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var q=j}Reflect.construct(e,[],X)}else{try{X.call()}catch(j){q=j}e.call(X.prototype)}}else{try{throw Error()}catch(j){q=j}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),B=T.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===B.length)for(o=D.length-1,h=B.length-1;1<=o&&0<=h&&D[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==B[h]){var Y=`
`+D[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{qr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ri(a):""}function ho(e){switch(e.tag){case 26:case 27:case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return jr(e.type,!1);case 11:return jr(e.type.render,!1);case 1:return jr(e.type,!0);case 31:return Ri("Activity");default:return""}}function Hr(e){try{var i="";do i+=ho(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bh(e){var i=fo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gr(e){e._valueTracker||(e._valueTracker=Bh(e))}function mo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=fo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qh=/[\n"\\]/g;function ve(e){return e.replace(qh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gn(e,i,a,o,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?is(e,v,tn(i)):a!=null?is(e,v,tn(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function nr(e,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function is(e,i,a){i==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $t(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function ir(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(lt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Cn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||sr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function go(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&uu(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&uu(e,d,i[d])}function po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return Hh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ci=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Di=null;function yo(e){var i=$n(e);if(i&&(e=i.stateNode)){var a=e[_e]||null;t:switch(e=i.stateNode,i.type){case"input":if(gn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ve(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[_e]||null;if(!h)throw Error(r(90));gn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&mo(o)}break t;case"textarea":$t(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&wi(e,!!a.multiple,i,!1)}}}var ti=!1;function cu(e,i,a){if(ti)return e(i,a);ti=!0;try{var o=e(i);return o}finally{if(ti=!1,(Ii!==null||Di!==null)&&(ic(),Ii&&(i=Ii,e=Di,Di=Ii=null,yo(i),e)))for(i=0;i<e.length;i++)yo(e[i])}}function rr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Dn=!1}var ei=null,ss=null,Vi=null;function _o(){if(Vi)return Vi;var e,i=ss,a=i.length,o,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Vi=h.slice(e,1<o?1-o:void 0)}function ni(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function vo(){return!1}function Ne(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:vo,this.isPropagationStopped=vo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=Ne(Ft),or=E({},Ft,{view:0,detail:0}),hu=Ne(or),Yr,Kr,si,lr=E({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Yr=e.screenX-si.screenX,Kr=e.screenY-si.screenY):Kr=Yr=0,si=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:Kr}}),Vn=Ne(lr),fu=E({},lr,{dataTransfer:0}),Gh=Ne(fu),ur=E({},or,{relatedTarget:0}),Xr=Ne(ur),Eo=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=Ne(Eo),du=E({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$r=Ne(du),Qh=E({},Ft,{data:0}),To=Ne(Qh),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=gu[e])?!!i[e]:!1}function hr(){return Ao}var pu=E({},or,{key:function(e){if(e.key){var i=cr[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jr=Ne(pu),yu=E({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Ne(yu),Oi=E({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),_u=Ne(Oi),vu=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=Ne(vu),Tu=E({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wr=Ne(Tu),en=E({},Ft,{newState:0,oldState:0}),Au=Ne(en),bu=[9,13,27,32],ri=Hn&&"CompositionEvent"in window,u=null;Hn&&"documentMode"in document&&(u=document.documentMode);var g=Hn&&"TextEvent"in window&&!u,_=Hn&&(!ri||u&&8<u&&11>=u),A=" ",L=!1;function Q(e,i){switch(e){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Re(e,i){switch(e){case"compositionend":return ot(i);case"keypress":return i.which!==32?null:(L=!0,A);case"textInput":return e=i.data,e===A&&L?null:e;default:return null}}function zt(e,i){if(kt)return e==="compositionend"||!ri&&Q(e,i)?(e=_o(),Vi=ss=ei=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xe[e.type]:i==="textarea"}function Mi(e,i,a,o){Ii?Di?Di.push(o):Di=[o]:Ii=o,i=uc(i,"onChange"),0<i.length&&(a=new Fr("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Be=null,ai=null;function So(e){E_(e,0)}function Su(e){var i=Jn(e);if(mo(i))return e}function qg(e,i){if(e==="change")return i}var jg=!1;if(Hn){var Fh;if(Hn){var Yh="oninput"in document;if(!Yh){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Yh=typeof Hg.oninput=="function"}Fh=Yh}else Fh=!1;jg=Fh&&(!document.documentMode||9<document.documentMode)}function Gg(){Be&&(Be.detachEvent("onpropertychange",Qg),ai=Be=null)}function Qg(e){if(e.propertyName==="value"&&Su(ai)){var i=[];Mi(i,ai,e,In(e)),cu(So,i)}}function UT(e,i,a){e==="focusin"?(Gg(),Be=i,ai=a,Be.attachEvent("onpropertychange",Qg)):e==="focusout"&&Gg()}function LT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(ai)}function kT(e,i){if(e==="click")return Su(i)}function zT(e,i){if(e==="input"||e==="change")return Su(i)}function BT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:BT;function Ro(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Gs.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yg(e,i){var a=Fg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fg(a)}}function Kg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Kg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=er(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=er(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var qT=Hn&&"documentMode"in document&&11>=document.documentMode,ta=null,Xh=null,wo=null,Zh=!1;function Zg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||ta==null||ta!==er(o)||(o=ta,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&Ro(wo,o)||(wo=o,o=uc(Xh,"onSelect"),0<o.length&&(i=new Fr("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ta)))}function fr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ea={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},$h={},$g={};Hn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function dr(e){if($h[e])return $h[e];if(!ea[e])return e;var i=ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in $g)return $h[e]=i[a];return e}var Jg=dr("animationend"),Wg=dr("animationiteration"),tp=dr("animationstart"),jT=dr("transitionrun"),HT=dr("transitionstart"),GT=dr("transitioncancel"),ep=dr("transitionend"),np=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Gn(e,i){np.set(e,i),jn(i,[e])}var ip=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=ip.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Hr(i)},ip.set(e,i),i)}return{value:e,source:i,stack:Hr(i)}}var Mn=[],na=0,Wh=0;function Ru(){for(var e=na,i=Wh=na=0;i<e;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&sp(a,h,d)}}function wu(e,i,a,o){Mn[na++]=e,Mn[na++]=i,Mn[na++]=a,Mn[na++]=o,Wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function tf(e,i,a,o){return wu(e,i,a,o),Cu(e)}function ia(e,i){return wu(e,null,null,i),Cu(e)}function sp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ye(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Cu(e){if(50<$o)throw $o=0,od=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var sa={};function QT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,o){return new QT(e,i,a,o)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function rp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Iu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")ef(e)&&(v=1);else if(typeof e=="string")v=YA(e,a,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,i,h),e.elementType=I,e.lanes=d,e;case k:return mr(a.children,h,d,i);case F:v=8,h|=24;break;case H:return e=yn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case ht:return e=yn(13,a,i,h),e.elementType=ht,e.lanes=d,e;case _t:return e=yn(19,a,i,h),e.elementType=_t,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:case et:v=10;break t;case rt:v=9;break t;case dt:v=11;break t;case O:v=14;break t;case w:v=16,o=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=yn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function mr(e,i,a,o){return e=yn(7,e,o,i),e.lanes=a,e}function nf(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function sf(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ra=[],aa=0,Du=null,Vu=0,Nn=[],xn=0,gr=null,xi=1,Pi="";function pr(e,i){ra[aa++]=Vu,ra[aa++]=Du,Du=e,Vu=i}function ap(e,i,a){Nn[xn++]=xi,Nn[xn++]=Pi,Nn[xn++]=gr,gr=e;var o=xi;e=Pi;var h=32-Ye(o)-1;o&=~(1<<h),a+=1;var d=32-Ye(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,xi=1<<32-Ye(i)+h|a<<h|o,Pi=d+e}else xi=1<<d|a<<h|o,Pi=e}function rf(e){e.return!==null&&(pr(e,1),ap(e,1,0))}function af(e){for(;e===Du;)Du=ra[--aa],ra[aa]=null,Vu=ra[--aa],ra[aa]=null;for(;e===gr;)gr=Nn[--xn],Nn[xn]=null,Pi=Nn[--xn],Nn[xn]=null,xi=Nn[--xn],Nn[xn]=null}var nn=null,fe=null,Qt=!1,yr=null,oi=!1,of=Error(r(519));function _r(e){var i=Error(r(418,""));throw Do(On(i,e)),of}function op(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Se]=e,i[_e]=o,a){case"dialog":Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":case"embed":Ut("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Ut(Wo[a],i);break;case"source":Ut("error",i);break;case"img":case"image":case"link":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"input":Ut("invalid",i),nr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Gr(i);break;case"select":Ut("invalid",i);break;case"textarea":Ut("invalid",i),ir(i,o.value,o.defaultValue,o.children),Gr(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||S_(i.textContent,a)?(o.popover!=null&&(Ut("beforetoggle",i),Ut("toggle",i)),o.onScroll!=null&&Ut("scroll",i),o.onScrollEnd!=null&&Ut("scrollend",i),o.onClick!=null&&(i.onclick=cc),i=!0):i=!1,i||_r(e)}function lp(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:nn=nn.return}}function Co(e){if(e!==nn)return!1;if(!Qt)return lp(e),Qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&fe&&_r(e),lp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){fe=Fn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}fe=null}}else i===27?(i=fe,Es(e.type)?(e=Cd,Cd=null,fe=e):fe=i):fe=nn?Fn(e.stateNode.nextSibling):null;return!0}function Io(){fe=nn=null,Qt=!1}function up(){var e=yr;return e!==null&&(on===null?on=e:on.push.apply(on,e),yr=null),e}function Do(e){yr===null?yr=[e]:yr.push(e)}var lf=$(null),vr=null,Ui=null;function rs(e,i,a){st(lf,i._currentValue),i._currentValue=a}function Li(e){e._currentValue=lf.current,at(lf)}function uf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),uf(d.return,a,e),o||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),uf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Vo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;pn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===ee.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}h=h.return}e!==null&&cf(i,e,a,o),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){vr=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return cp(vr,e)}function Mu(e,i){return vr===null&&Er(e),cp(e,i)}function cp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(e===null)throw Error(r(308));Ui=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ui=Ui.next=i;return a}var FT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},YT=s.unstable_scheduleCallback,KT=s.unstable_NormalPriority,Ce={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new FT,data:new Map,refCount:0}}function Oo(e){e.refCount--,e.refCount===0&&YT(KT,function(){e.controller.abort()})}var Mo=null,ff=0,oa=0,la=null;function XT(e,i){if(Mo===null){var a=Mo=[];ff=0,oa=md(),la={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(hp,hp),i}function hp(){if(--ff===0&&Mo!==null){la!==null&&(la.status="fulfilled");var e=Mo;Mo=null,oa=0,la=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ZT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var fp=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XT(e,i),fp!==null&&fp(e,i)};var Tr=$(null);function df(){var e=Tr.current;return e!==null?e:ie.pooledCache}function Nu(e,i){i===null?st(Tr,Tr.current):st(Tr,i.pool)}function dp(){var e=df();return e===null?null:{parent:Ce._currentValue,pool:e}}var No=Error(r(460)),mp=Error(r(474)),xu=Error(r(542)),mf={then:function(){}};function gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pu(){}function pp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Pu,Pu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,_p(e),e;default:if(typeof i.status=="string")i.then(Pu,Pu);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,_p(e),e}throw xo=i,No}}var xo=null;function yp(){if(xo===null)throw Error(r(459));var e=xo;return xo=null,e}function _p(e){if(e===No||e===xu)throw Error(r(483))}var as=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ls(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Cu(e),sp(e,null,a),i}return wu(e,o,i,a),Cu(e)}function Po(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,lo(e,a)}}function yf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function Uo(){if(_f){var e=la;if(e!==null)throw e}}function Lo(e,i,a,o){_f=!1;var h=e.updateQueue;as=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,v===null?d=B:v.next=B,v=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(d!==null){var X=h.baseState;v=0,Y=B=D=null,T=d;do{var q=T.lane&-536870913,j=q!==T.lane;if(j?(Bt&q)===q:(o&q)===q){q!==0&&q===oa&&(_f=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Rt=e,Tt=T;q=i;var te=a;switch(Tt.tag){case 1:if(Rt=Tt.payload,typeof Rt=="function"){X=Rt.call(te,X,q);break t}X=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Tt.payload,q=typeof Rt=="function"?Rt.call(te,X,q):Rt,q==null)break t;X=E({},X,q);break t;case 2:as=!0}}q=T.callback,q!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[q]:j.push(q))}else j={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=j,D=X):Y=Y.next=j,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(D=X),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),ps|=v,e.lanes=v,e.memoizedState=X}}function vp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ep(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vp(a[e],i)}var ua=$(null),Uu=$(0);function Tp(e,i){e=Gi,st(Uu,e),st(ua,i),Gi=e|i.baseLanes}function vf(){st(Uu,Gi),st(ua,ua.current)}function Ef(){Gi=Uu.current,at(ua),at(Uu)}var us=0,Mt=null,Jt=null,Ee=null,Lu=!1,ca=!1,Ar=!1,ku=0,ko=0,ha=null,$T=0;function ge(){throw Error(r(321))}function Tf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Af(e,i,a,o,h,d){return us=d,Mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?sy:ry,Ar=!1,d=a(o,h),Ar=!1,ca&&(d=bp(i,a,o,h)),Ap(e),d}function Ap(e){G.H=Gu;var i=Jt!==null&&Jt.next!==null;if(us=0,Ee=Jt=Mt=null,Lu=!1,ko=0,ha=null,i)throw Error(r(300));e===null||Pe||(e=e.dependencies,e!==null&&Ou(e)&&(Pe=!0))}function bp(e,i,a,o){Mt=e;var h=0;do{if(ca&&(ha=null),ko=0,ca=!1,25<=h)throw Error(r(301));if(h+=1,Ee=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=sA,d=i(a,o)}while(ca);return d}function JT(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?zo(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Mt.flags|=1024),i}function bf(){var e=ku!==0;return ku=0,e}function Sf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Rf(e){if(Lu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Lu=!1}us=0,Ee=Jt=Mt=null,ca=!1,ko=ku=0,ha=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Mt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(Jt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ee===null?Mt.memoizedState:Ee.next;if(i!==null)Ee=i,Jt=e;else{if(e===null)throw Mt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ee===null?Mt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var i=ko;return ko+=1,ha===null&&(ha=[]),e=pp(ha,e,i),i=Mt,(Ee===null?i.memoizedState:Ee.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?sy:ry),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===et)return Ke(e)}throw Error(r(438,String(e)))}function Cf(e){var i=null,a=Mt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wf(),Mt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function ki(e,i){return typeof i=="function"?i(e):i}function Bu(e){var i=Te();return If(i,Jt,e)}function If(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,D=null,B=i,Y=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Bt&X)===X:(us&X)===X){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===oa&&(Y=!0);else if((us&q)===q){B=B.next,q===oa&&(Y=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=X,v=d):D=D.next=X,Mt.lanes|=q,ps|=q;X=B.action,Ar&&a(d,X),d=B.hasEagerState?B.eagerState:a(d,X)}else q={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,v=d):D=D.next=q,Mt.lanes|=X,ps|=X;B=B.next}while(B!==null&&B!==i);if(D===null?v=d:D.next=T,!pn(d,e.memoizedState)&&(Pe=!0,Y&&(a=la,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=D,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Df(e){var i=Te(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Pe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Sp(e,i,a){var o=Mt,h=Te(),d=Qt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!pn((Jt||h).memoizedState,a);v&&(h.memoizedState=a,Pe=!0),h=h.queue;var T=Cp.bind(null,o,h,e);if(Bo(2048,8,T,[e]),h.getSnapshot!==i||v||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,fa(9,qu(),wp.bind(null,o,h,a,i),null),ie===null)throw Error(r(349));d||(us&124)!==0||Rp(o,i,a)}return a}function Rp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Mt.updateQueue,i===null?(i=wf(),Mt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function wp(e,i,a,o){i.value=a,i.getSnapshot=o,Ip(i)&&Dp(e)}function Cp(e,i,a){return a(function(){Ip(i)&&Dp(e)})}function Ip(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Dp(e){var i=ia(e,2);i!==null&&An(i,e,2)}function Vf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Ar){mn(!0);try{a()}finally{mn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},i}function Vp(e,i,a,o){return e.baseState=a,If(e,Jt,typeof o=="function"?o:ki)}function WT(e,i,a,o,h){if(Hu(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Op(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Op(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,o),D=G.S;D!==null&&D(v,T),Mp(e,i,T)}catch(B){Of(e,i,B)}finally{G.T=d}}else try{d=a(h,o),Mp(e,i,d)}catch(B){Of(e,i,B)}}function Mp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Np(e,i,o)},function(o){return Of(e,i,o)}):Np(e,i,a)}function Np(e,i,a){i.status="fulfilled",i.value=a,xp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Op(e,a)))}function Of(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,xp(i),i=i.next;while(i!==o)}e.action=null}function xp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Pp(e,i){return i}function Up(e,i){if(Qt){var a=ie.formState;if(a!==null){t:{var o=Mt;if(Qt){if(fe){e:{for(var h=fe,d=oi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){fe=Fn(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:i},a.queue=o,a=ey.bind(null,Mt,o),o.dispatch=a,o=Vf(!1),d=Uf.bind(null,Mt,!1,o.queue),o=rn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=WT.bind(null,Mt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Lp(e){var i=Te();return kp(i,Jt,e)}function kp(e,i,a){if(i=If(e,i,Pp)[0],e=Bu(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=zo(i)}catch(v){throw v===No?xu:v}else o=i;i=Te();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Mt.flags|=2048,fa(9,qu(),tA.bind(null,h,a),null)),[o,d,e]}function tA(e,i){e.action=i}function zp(e){var i=Te(),a=Jt;if(a!==null)return kp(i,a,e);Te(),i=i.memoizedState,a=Te();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function fa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Mt.updateQueue,i===null&&(i=wf(),Mt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function qu(){return{destroy:void 0,resource:void 0}}function Bp(){return Te().memoizedState}function ju(e,i,a,o){var h=rn();o=o===void 0?null:o,Mt.flags|=e,h.memoizedState=fa(1|i,qu(),a,o)}function Bo(e,i,a,o){var h=Te();o=o===void 0?null:o;var d=h.memoizedState.inst;Jt!==null&&o!==null&&Tf(o,Jt.memoizedState.deps)?h.memoizedState=fa(i,d,a,o):(Mt.flags|=e,h.memoizedState=fa(1|i,d,a,o))}function qp(e,i){ju(8390656,8,e,i)}function jp(e,i){Bo(2048,8,e,i)}function Hp(e,i){return Bo(4,2,e,i)}function Gp(e,i){return Bo(4,4,e,i)}function Qp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fp(e,i,a){a=a!=null?a.concat([e]):null,Bo(4,4,Qp.bind(null,i,e),a)}function Mf(){}function Yp(e,i){var a=Te();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Tf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Kp(e,i){var a=Te();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Tf(i,o[1]))return o[0];if(o=e(),Ar){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[o,i],o}function Nf(e,i,a){return a===void 0||(us&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=$y(),Mt.lanes|=e,ps|=e,a)}function Xp(e,i,a,o){return pn(a,i)?a:ua.current!==null?(e=Nf(e,a,o),pn(e,i)||(Pe=!0),e):(us&42)===0?(Pe=!0,e.memoizedState=a):(e=$y(),Mt.lanes|=e,ps|=e,i)}function Zp(e,i,a,o,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Uf(e,!1,i,a);try{var D=h(),B=G.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=ZT(D,o);qo(e,i,Y,Tn(e))}else qo(e,i,o,Tn(e))}catch(X){qo(e,i,{then:function(){},status:"rejected",reason:X},Tn())}finally{it.p=d,G.T=v}}function eA(){}function xf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=$p(e).queue;Zp(e,h,i,ut,a===null?eA:function(){return Jp(e),a(o)})}function $p(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Jp(e){var i=$p(e).next.queue;qo(e,i,{},Tn())}function Pf(){return Ke(rl)}function Wp(){return Te().memoizedState}function ty(){return Te().memoizedState}function nA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=os(a);var o=ls(i,e,a);o!==null&&(An(o,i,a),Po(o,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function iA(e,i,a){var o=Tn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e)?ny(i,a):(a=tf(e,i,a,o),a!==null&&(An(a,e,o),iy(a,i,o)))}function ey(e,i,a){var o=Tn();qo(e,i,a,o)}function qo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))ny(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,v))return wu(e,i,h,0),ie===null&&Ru(),!1}catch{}finally{}if(a=tf(e,i,h,o),a!==null)return An(a,e,o),iy(a,i,o),!0}return!1}function Uf(e,i,a,o){if(o={lane:2,revertLane:md(),action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(i)throw Error(r(479))}else i=tf(e,a,o,2),i!==null&&An(i,e,2)}function Hu(e){var i=e.alternate;return e===Mt||i!==null&&i===Mt}function ny(e,i){ca=Lu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function iy(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,lo(e,a)}}var Gu={readContext:Ke,use:zu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},sy={readContext:Ke,use:zu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:qp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ju(4194308,4,Qp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ju(4194308,4,e,i)},useInsertionEffect:function(e,i){ju(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var o=e();if(Ar){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=rn();if(a!==void 0){var h=a(i);if(Ar){mn(!0);try{a(i)}finally{mn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=iA.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Vf(e);var i=e.queue,a=ey.bind(null,Mt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(e,i){var a=rn();return Nf(a,e,i)},useTransition:function(){var e=Vf(!1);return e=Zp.bind(null,Mt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Mt,h=rn();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ie===null)throw Error(r(349));(Bt&124)!==0||Rp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,qp(Cp.bind(null,o,d,e),[e]),o.flags|=2048,fa(9,qu(),wp.bind(null,o,d,a,i),null),a},useId:function(){var e=rn(),i=ie.identifierPrefix;if(Qt){var a=Pi,o=xi;a=(o&~(1<<32-Ye(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=ku++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=$T++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Up,useActionState:Up,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Mt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Cf,useCacheRefresh:function(){return rn().memoizedState=nA.bind(null,Mt)}},ry={readContext:Ke,use:zu,useCallback:Yp,useContext:Ke,useEffect:jp,useImperativeHandle:Fp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Bu,useRef:Bp,useState:function(){return Bu(ki)},useDebugValue:Mf,useDeferredValue:function(e,i){var a=Te();return Xp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Bu(ki)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:zo(e),i]},useSyncExternalStore:Sp,useId:Wp,useHostTransitionStatus:Pf,useFormState:Lp,useActionState:Lp,useOptimistic:function(e,i){var a=Te();return Vp(a,Jt,e,i)},useMemoCache:Cf,useCacheRefresh:ty},sA={readContext:Ke,use:zu,useCallback:Yp,useContext:Ke,useEffect:jp,useImperativeHandle:Fp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Df,useRef:Bp,useState:function(){return Df(ki)},useDebugValue:Mf,useDeferredValue:function(e,i){var a=Te();return Jt===null?Nf(a,e,i):Xp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Df(ki)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:zo(e),i]},useSyncExternalStore:Sp,useId:Wp,useHostTransitionStatus:Pf,useFormState:zp,useActionState:zp,useOptimistic:function(e,i){var a=Te();return Jt!==null?Vp(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:ty},da=null,jo=0;function Qu(e){var i=jo;return jo+=1,da===null&&(da=[]),pp(da,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fu(e,i){throw i.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ay(e){var i=e._init;return i(e._payload)}function oy(e){function i(U,x){if(e){var z=U.deletions;z===null?(U.deletions=[x],U.flags|=16):z.push(x)}}function a(U,x){if(!e)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function o(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=Ni(U,x),U.index=0,U.sibling=null,U}function d(U,x,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<x?(U.flags|=67108866,x):z):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,z,K){return x===null||x.tag!==6?(x=nf(z,U.mode,K),x.return=U,x):(x=h(x,z),x.return=U,x)}function D(U,x,z,K){var mt=z.type;return mt===k?Y(U,x,z.props.children,K,z.key):x!==null&&(x.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&ay(mt)===x.type)?(x=h(x,z.props),Ho(x,z),x.return=U,x):(x=Iu(z.type,z.key,z.props,null,U.mode,K),Ho(x,z),x.return=U,x)}function B(U,x,z,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=sf(z,U.mode,K),x.return=U,x):(x=h(x,z.children||[]),x.return=U,x)}function Y(U,x,z,K,mt){return x===null||x.tag!==7?(x=mr(z,U.mode,K,mt),x.return=U,x):(x=h(x,z),x.return=U,x)}function X(U,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=nf(""+x,U.mode,z),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return z=Iu(x.type,x.key,x.props,null,U.mode,z),Ho(z,x),z.return=U,z;case P:return x=sf(x,U.mode,z),x.return=U,x;case w:var K=x._init;return x=K(x._payload),X(U,x,z)}if(lt(x)||C(x))return x=mr(x,U.mode,z,null),x.return=U,x;if(typeof x.then=="function")return X(U,Qu(x),z);if(x.$$typeof===et)return X(U,Mu(U,x),z);Fu(U,x)}return null}function q(U,x,z,K){var mt=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:T(U,x,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===mt?D(U,x,z,K):null;case P:return z.key===mt?B(U,x,z,K):null;case w:return mt=z._init,z=mt(z._payload),q(U,x,z,K)}if(lt(z)||C(z))return mt!==null?null:Y(U,x,z,K,null);if(typeof z.then=="function")return q(U,x,Qu(z),K);if(z.$$typeof===et)return q(U,x,Mu(U,z),K);Fu(U,z)}return null}function j(U,x,z,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,T(x,U,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return U=U.get(K.key===null?z:K.key)||null,D(x,U,K,mt);case P:return U=U.get(K.key===null?z:K.key)||null,B(x,U,K,mt);case w:var xt=K._init;return K=xt(K._payload),j(U,x,z,K,mt)}if(lt(K)||C(K))return U=U.get(z)||null,Y(x,U,K,mt,null);if(typeof K.then=="function")return j(U,x,z,Qu(K),mt);if(K.$$typeof===et)return j(U,x,z,Mu(x,K),mt);Fu(x,K)}return null}function Rt(U,x,z,K){for(var mt=null,xt=null,gt=x,bt=x=0,Le=null;gt!==null&&bt<z.length;bt++){gt.index>bt?(Le=gt,gt=null):Le=gt.sibling;var Ht=q(U,gt,z[bt],K);if(Ht===null){gt===null&&(gt=Le);break}e&&gt&&Ht.alternate===null&&i(U,gt),x=d(Ht,x,bt),xt===null?mt=Ht:xt.sibling=Ht,xt=Ht,gt=Le}if(bt===z.length)return a(U,gt),Qt&&pr(U,bt),mt;if(gt===null){for(;bt<z.length;bt++)gt=X(U,z[bt],K),gt!==null&&(x=d(gt,x,bt),xt===null?mt=gt:xt.sibling=gt,xt=gt);return Qt&&pr(U,bt),mt}for(gt=o(gt);bt<z.length;bt++)Le=j(gt,U,bt,z[bt],K),Le!==null&&(e&&Le.alternate!==null&&gt.delete(Le.key===null?bt:Le.key),x=d(Le,x,bt),xt===null?mt=Le:xt.sibling=Le,xt=Le);return e&&gt.forEach(function(Rs){return i(U,Rs)}),Qt&&pr(U,bt),mt}function Tt(U,x,z,K){if(z==null)throw Error(r(151));for(var mt=null,xt=null,gt=x,bt=x=0,Le=null,Ht=z.next();gt!==null&&!Ht.done;bt++,Ht=z.next()){gt.index>bt?(Le=gt,gt=null):Le=gt.sibling;var Rs=q(U,gt,Ht.value,K);if(Rs===null){gt===null&&(gt=Le);break}e&&gt&&Rs.alternate===null&&i(U,gt),x=d(Rs,x,bt),xt===null?mt=Rs:xt.sibling=Rs,xt=Rs,gt=Le}if(Ht.done)return a(U,gt),Qt&&pr(U,bt),mt;if(gt===null){for(;!Ht.done;bt++,Ht=z.next())Ht=X(U,Ht.value,K),Ht!==null&&(x=d(Ht,x,bt),xt===null?mt=Ht:xt.sibling=Ht,xt=Ht);return Qt&&pr(U,bt),mt}for(gt=o(gt);!Ht.done;bt++,Ht=z.next())Ht=j(gt,U,bt,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?bt:Ht.key),x=d(Ht,x,bt),xt===null?mt=Ht:xt.sibling=Ht,xt=Ht);return e&&gt.forEach(function(rb){return i(U,rb)}),Qt&&pr(U,bt),mt}function te(U,x,z,K){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:t:{for(var mt=z.key;x!==null;){if(x.key===mt){if(mt=z.type,mt===k){if(x.tag===7){a(U,x.sibling),K=h(x,z.props.children),K.return=U,U=K;break t}}else if(x.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&ay(mt)===x.type){a(U,x.sibling),K=h(x,z.props),Ho(K,z),K.return=U,U=K;break t}a(U,x);break}else i(U,x);x=x.sibling}z.type===k?(K=mr(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Iu(z.type,z.key,z.props,null,U.mode,K),Ho(K,z),K.return=U,U=K)}return v(U);case P:t:{for(mt=z.key;x!==null;){if(x.key===mt)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(U,x.sibling),K=h(x,z.children||[]),K.return=U,U=K;break t}else{a(U,x);break}else i(U,x);x=x.sibling}K=sf(z,U.mode,K),K.return=U,U=K}return v(U);case w:return mt=z._init,z=mt(z._payload),te(U,x,z,K)}if(lt(z))return Rt(U,x,z,K);if(C(z)){if(mt=C(z),typeof mt!="function")throw Error(r(150));return z=mt.call(z),Tt(U,x,z,K)}if(typeof z.then=="function")return te(U,x,Qu(z),K);if(z.$$typeof===et)return te(U,x,Mu(U,z),K);Fu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(U,x.sibling),K=h(x,z),K.return=U,U=K):(a(U,x),K=nf(z,U.mode,K),K.return=U,U=K),v(U)):a(U,x)}return function(U,x,z,K){try{jo=0;var mt=te(U,x,z,K);return da=null,mt}catch(gt){if(gt===No||gt===xu)throw gt;var xt=yn(29,gt,null,U.mode);return xt.lanes=K,xt.return=U,xt}finally{}}}var ma=oy(!0),ly=oy(!1),Pn=$(null),li=null;function cs(e){var i=e.alternate;st(Ie,Ie.current&1),st(Pn,e),li===null&&(i===null||ua.current!==null||i.memoizedState!==null)&&(li=e)}function uy(e){if(e.tag===22){if(st(Ie,Ie.current),st(Pn,e),li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(li=e)}}else hs()}function hs(){st(Ie,Ie.current),st(Pn,Pn.current)}function zi(e){at(Pn),li===e&&(li=null),at(Ie)}var Ie=$(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Lf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=os(o);h.payload=i,a!=null&&(h.callback=a),i=ls(e,h,o),i!==null&&(An(i,e,o),Po(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=os(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ls(e,h,o),i!==null&&(An(i,e,o),Po(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=os(a);o.tag=2,i!=null&&(o.callback=i),i=ls(e,o,a),i!==null&&(An(i,e,a),Po(i,e,a))}};function cy(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,o)||!Ro(h,d):!0}function hy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&kf.enqueueReplaceState(i,i.state,null)}function br(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fy(e){Ku(e)}function dy(e){console.error(e)}function my(e){Ku(e)}function Xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function gy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,i,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,i)},a}function py(e){return e=os(e),e.tag=3,e}function yy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){gy(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){gy(i,a,o),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function rA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Vo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return li===null?ud():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(r(435,a.tag))}return hd(e,o,h),ud(),!1}if(Qt)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==of&&(e=Error(r(422),{cause:o}),Do(On(e,a)))):(o!==of&&(i=Error(r(423),{cause:o}),Do(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=zf(e.stateNode,o,h),yf(e,h),de!==4&&(de=2)),!1;var d=Error(r(520),{cause:o});if(d=On(d,a),Zo===null?Zo=[d]:Zo.push(d),de!==4&&(de=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,o,e),yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ys===null||!ys.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),yy(h,e,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var _y=Error(r(461)),Pe=!1;function qe(e,i,a,o){i.child=e===null?ly(i,null,a,o):ma(i,e.child,a,o)}function vy(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Er(i),o=Af(e,i,a,v,d,h),T=bf(),e!==null&&!Pe?(Sf(e,i,h),Bi(e,i,h)):(Qt&&T&&rf(i),i.flags|=1,qe(e,i,o,h),i.child)}function Ey(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ty(e,i,d,o,h)):(e=Iu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Yf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,o)&&e.ref===i.ref)return Bi(e,i,h)}return i.flags|=1,e=Ni(d,o),e.ref=i.ref,e.return=i,i.child=e}function Ty(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ro(d,o)&&e.ref===i.ref)if(Pe=!1,i.pendingProps=o=d,Yf(e,h))(e.flags&131072)!==0&&(Pe=!0);else return i.lanes=e.lanes,Bi(e,i,h)}return Bf(e,i,a,o,h)}function Ay(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return by(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(i,d!==null?d.cachePool:null),d!==null?Tp(i,d):vf(),uy(i);else return i.lanes=i.childLanes=536870912,by(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Nu(i,d.cachePool),Tp(i,d),hs(),i.memoizedState=null):(e!==null&&Nu(i,null),vf(),hs());return qe(e,i,h,a),i.child}function by(e,i,a,o){var h=df();return h=h===null?null:{parent:Ce._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Nu(i,null),vf(),uy(i),e!==null&&Vo(e,i,o,!0),null}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Bf(e,i,a,o,h){return Er(i),a=Af(e,i,a,o,void 0,h),o=bf(),e!==null&&!Pe?(Sf(e,i,h),Bi(e,i,h)):(Qt&&o&&rf(i),i.flags|=1,qe(e,i,a,h),i.child)}function Sy(e,i,a,o,h,d){return Er(i),i.updateQueue=null,a=bp(i,o,a,h),Ap(e),o=bf(),e!==null&&!Pe?(Sf(e,i,d),Bi(e,i,d)):(Qt&&o&&rf(i),i.flags|=1,qe(e,i,a,d),i.child)}function Ry(e,i,a,o,h){if(Er(i),i.stateNode===null){var d=sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ke(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},gf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ke(v):sa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&kf.enqueueReplaceState(d,d.state,null),Lo(i,o,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=br(a,T);d.props=D;var B=d.context,Y=a.contextType;v=sa,typeof Y=="object"&&Y!==null&&(v=Ke(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&hy(i,d,o,v),as=!1;var q=i.memoizedState;d.state=q,Lo(i,o,d,h),Uo(),B=i.memoizedState,T||q!==B||as?(typeof X=="function"&&(Lf(i,a,X,o),B=i.memoizedState),(D=as||cy(i,a,D,o,q,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=v,o=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,pf(e,i),v=i.memoizedProps,Y=br(a,v),d.props=Y,X=i.pendingProps,q=d.context,B=a.contextType,D=sa,typeof B=="object"&&B!==null&&(D=Ke(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||q!==D)&&hy(i,d,o,D),as=!1,q=i.memoizedState,d.state=q,Lo(i,o,d,h),Uo();var j=i.memoizedState;v!==X||q!==j||as||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof T=="function"&&(Lf(i,a,T,o),j=i.memoizedState),(Y=as||cy(i,a,Y,o,q,j,D)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,j,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,j,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=D,o=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Zu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=ma(i,e.child,null,h),i.child=ma(i,null,a,h)):qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Bi(e,i,h),e}function wy(e,i,a,o){return Io(),i.flags|=256,qe(e,i,a,o),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:dp()}}function Hf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Un),e}function Cy(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Qt){if(h?cs(i):hs(),Qt){var T=fe,D;if(D=T){t:{for(D=T,T=oi;D.nodeType!==8;){if(!T){T=null;break t}if(D=Fn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:gr!==null?{id:xi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},D=yn(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,nn=i,fe=null,D=!0):D=!1}D||_r(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return wd(T)?i.lanes=32:i.lanes=536870912,null;zi(i)}return T=o.children,o=o.fallback,h?(hs(),h=i.mode,T=$u({mode:"hidden",children:T},h),o=mr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=jf(a),h.childLanes=Hf(e,v,a),i.memoizedState=qf,o):(cs(i),Gf(i,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(cs(i),i.flags&=-257,i=Qf(e,i,a)):i.memoizedState!==null?(hs(),i.child=e.child,i.flags|=128,i=null):(hs(),h=o.fallback,T=i.mode,o=$u({mode:"visible",children:o.children},T),h=mr(h,T,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ma(i,e.child,null,a),o=i.child,o.memoizedState=jf(a),o.childLanes=Hf(e,v,a),i.memoizedState=qf,i=h);else if(cs(i),wd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(r(419)),o.stack="",o.digest=v,Do({value:o,source:null,stack:null}),i=Qf(e,i,a)}else if(Pe||Vo(e,i,a,!1),v=(a&e.childLanes)!==0,Pe||v){if(v=ie,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ji(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane))throw D.retryLane=o,ia(e,o),An(v,e,o),_y;T.data==="$?"||ud(),i=Qf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,fe=Fn(T.nextSibling),nn=i,Qt=!0,yr=null,oi=!1,e!==null&&(Nn[xn++]=xi,Nn[xn++]=Pi,Nn[xn++]=gr,xi=e.id,Pi=e.overflow,gr=i),i=Gf(i,o.children),i.flags|=4096);return i}return h?(hs(),h=o.fallback,T=i.mode,D=e.child,B=D.sibling,o=Ni(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,B!==null?h=Ni(B,h):(h=mr(h,T,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=e.child.memoizedState,T===null?T=jf(a):(D=T.cachePool,D!==null?(B=Ce._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=dp(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Hf(e,v,a),i.memoizedState=qf,o):(cs(i),a=e.child,e=a.sibling,a=Ni(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Gf(e,i){return i=$u({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function $u(e,i){return e=yn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qf(e,i,a){return ma(i,e.child,null,a),e=Gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Iy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),uf(e.return,i,a)}function Ff(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Dy(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(qe(e,i,o.children,a),o=Ie.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iy(e,a,i);else if(e.tag===19)Iy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(st(Ie,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ff(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ff(i,!0,a,null,d);break;case"together":Ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ps|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Vo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Ni(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ni(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function aA(e,i,a){switch(i.tag){case 3:Gt(i,i.stateNode.containerInfo),rs(i,Ce,e.memoizedState.cache),Io();break;case 27:case 5:Sn(i);break;case 4:Gt(i,i.stateNode.containerInfo);break;case 10:rs(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(cs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cy(e,i,a):(cs(i),e=Bi(e,i,a),e!==null?e.sibling:null);cs(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Vo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Dy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ie,Ie.current),o)break;return null;case 22:case 23:return i.lanes=0,Ay(e,i,a);case 24:rs(i,Ce,e.memoizedState.cache)}return Bi(e,i,a)}function Vy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Pe=!0;else{if(!Yf(e,a)&&(i.flags&128)===0)return Pe=!1,aA(e,i,a);Pe=(e.flags&131072)!==0}else Pe=!1,Qt&&(i.flags&1048576)!==0&&ap(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")ef(o)?(e=br(o,e),i.tag=1,i=Ry(null,i,o,e,a)):(i.tag=0,i=Bf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===dt){i.tag=11,i=vy(null,i,o,e,a);break t}else if(h===O){i.tag=14,i=Ey(null,i,o,e,a);break t}}throw i=J(o)||o,Error(r(306,i,""))}}return i;case 0:return Bf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=br(o,i.pendingProps),Ry(e,i,o,h,a);case 3:t:{if(Gt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,pf(e,i),Lo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,rs(i,Ce,o),o!==d.cache&&cf(i,[Ce],a,!0),Uo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=wy(e,i,o,a);break t}else if(o!==h){h=On(Error(r(424)),i),Do(h),i=wy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Fn(e.firstChild),nn=i,Qt=!0,yr=null,oi=!0,a=ly(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),o===h){i=Bi(e,i,a);break t}qe(e,i,o,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qt||(a=i.type,e=i.pendingProps,o=hc(vt.current).createElement(a),o[Se]=i,o[_e]=e,He(o,a,e),me(o),i.stateNode=o):i.memoizedState=x_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Sn(i),e===null&&Qt&&(o=i.stateNode=O_(i.type,i.pendingProps,vt.current),nn=i,oi=!0,h=fe,Es(i.type)?(Cd=h,fe=Fn(o.firstChild)):fe=h),qe(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Qt&&((h=o=fe)&&(o=xA(o,i.type,i.pendingProps,oi),o!==null?(i.stateNode=o,nn=i,fe=Fn(o.firstChild),oi=!1,h=!0):h=!1),h||_r(i)),Sn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,bd(h,d)?o=null:v!==null&&bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(e,i,JT,null,null,a),rl._currentValue=h),Zu(e,i),qe(e,i,o,a),i.child;case 6:return e===null&&Qt&&((e=a=fe)&&(a=PA(a,i.pendingProps,oi),a!==null?(i.stateNode=a,nn=i,fe=null,e=!0):e=!1),e||_r(i)),null;case 13:return Cy(e,i,a);case 4:return Gt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ma(i,null,o,a):qe(e,i,o,a),i.child;case 11:return vy(e,i,i.type,i.pendingProps,a);case 7:return qe(e,i,i.pendingProps,a),i.child;case 8:return qe(e,i,i.pendingProps.children,a),i.child;case 12:return qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,rs(i,i.type,o.value),qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Er(i),h=Ke(h),o=o(h),i.flags|=1,qe(e,i,o,a),i.child;case 14:return Ey(e,i,i.type,i.pendingProps,a);case 15:return Ty(e,i,i.type,i.pendingProps,a);case 19:return Dy(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=$u(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ay(e,i,a);case 24:return Er(i),o=Ke(Ce),e===null?(h=df(),h===null&&(h=ie,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},gf(i),rs(i,Ce,h)):((e.lanes&a)!==0&&(pf(e,i),Lo(i,null,null,a),Uo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rs(i,Ce,o)):(o=d.cache,rs(i,Ce,o),o!==h.cache&&cf(i,[Ce],a,!0))),qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function qi(e){e.flags|=4}function Oy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z_(i)){if(i=Pn.current,i!==null&&((Bt&4194048)===Bt?li!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==li))throw xo=mf,mp;e.flags|=8192}}function Ju(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ao():536870912,e.lanes|=i,_a|=i)}function Go(e,i){if(!Qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function oA(e,i,a){var o=i.pendingProps;switch(af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Li(Ce),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,up())),le(i),null;case 26:return a=i.memoizedState,e===null?(qi(i),a!==null?(le(i),Oy(i,a)):(le(i),i.flags&=-16777217)):a?a!==e.memoizedState?(qi(i),le(i),Oy(i,a)):(le(i),i.flags&=-16777217):(e.memoizedProps!==o&&qi(i),le(i),i.flags&=-16777217),null;case 27:Ei(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&qi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return le(i),null}e=pt.current,Co(i)?op(i):(e=O_(h,o,a),i.stateNode=e,qi(i))}return le(i),null;case 5:if(Ei(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&qi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return le(i),null}if(e=pt.current,Co(i))op(i);else{switch(h=hc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Se]=i,e[_e]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(He(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qi(i)}}return le(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&qi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=vt.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||S_(e.nodeValue,a)),e||_r(i)}else e=hc(e).createTextNode(o),e[Se]=i,i.stateNode=e}return le(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),h=!1}else h=up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ju(i,i.updateQueue),le(i),null;case 4:return Me(),e===null&&_d(i.stateNode.containerInfo),le(i),null;case 10:return Li(i.type),le(i),null;case 19:if(at(Ie),h=i.memoizedState,h===null)return le(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Go(h,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Yu(e),d!==null){for(i.flags|=128,Go(h,!1),e=d.updateQueue,i.updateQueue=e,Ju(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)rp(a,e),a=a.sibling;return st(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&Rn()>ec&&(i.flags|=128,o=!0,Go(h,!1),i.lanes=4194304)}else{if(!o)if(e=Yu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Ju(i,e),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qt)return le(i),null}else 2*Rn()-h.renderingStartTime>ec&&a!==536870912&&(i.flags|=128,o=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Rn(),i.sibling=null,e=Ie.current,st(Ie,o?e&1|2:e&1),i):(le(i),null);case 22:case 23:return zi(i),Ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),a=i.updateQueue,a!==null&&Ju(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&at(Tr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(Ce),le(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function lA(e,i){switch(af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Li(Ce),Me(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ei(i),null;case 13:if(zi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(Ie),null;case 4:return Me(),null;case 10:return Li(i.type),null;case 22:case 23:return zi(i),Ef(),e!==null&&at(Tr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Li(Ce),null;case 25:return null;default:return null}}function My(e,i){switch(af(i),i.tag){case 3:Li(Ce),Me();break;case 26:case 27:case 5:Ei(i);break;case 4:Me();break;case 13:zi(i);break;case 19:at(Ie);break;case 10:Li(i.type);break;case 22:case 23:zi(i),Ef(),e!==null&&at(Tr);break;case 24:Li(Ce)}}function Qo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){ne(i,i.return,T)}}function fs(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var D=a,B=T;try{B()}catch(Y){ne(h,D,Y)}}}o=o.next}while(o!==d)}}catch(Y){ne(i,i.return,Y)}}function Ny(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ep(i,a)}catch(o){ne(e,e.return,o)}}}function xy(e,i,a){a.props=br(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ne(e,i,o)}}function Fo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ne(e,i,h)}}function ui(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ne(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,i,h)}else a.current=null}function Py(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function Kf(e,i,a){try{var o=e.stateNode;DA(o,e.type,a,i),o[_e]=i}catch(h){ne(e,e.return,h)}}function Uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Es(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Es(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cc));else if(o!==4&&(o===27&&Es(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Zf(e,i,a),e=e.sibling;e!==null;)Zf(e,i,a),e=e.sibling}function Wu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Es(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,i,a),e=e.sibling;e!==null;)Wu(e,i,a),e=e.sibling}function Ly(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);He(i,o,a),i[Se]=e,i[_e]=a}catch(d){ne(e,e.return,d)}}var ji=!1,pe=!1,$f=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function uA(e,i){if(e=e.containerInfo,Td=yc,e=Xg(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,B=0,Y=0,X=e,q=null;e:for(;;){for(var j;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||o!==0&&X.nodeType!==3||(D=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(j=X.firstChild)!==null;)q=X,X=j;for(;;){if(X===e)break e;if(q===a&&++B===h&&(T=v),q===d&&++Y===o&&(D=v),(j=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=j}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},yc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Rt=br(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Rt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){ne(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Rd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function zy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ds(e,a),o&4&&Qo(5,a);break;case 1:if(ds(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=br(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}o&64&&Ny(a),o&512&&Fo(a,a.return);break;case 3:if(ds(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ep(e,i)}catch(v){ne(a,a.return,v)}}break;case 27:i===null&&o&4&&Ly(a);case 26:case 5:ds(e,a),i===null&&o&4&&Py(a),o&512&&Fo(a,a.return);break;case 12:ds(e,a);break;case 13:ds(e,a),o&4&&jy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_A.bind(null,a),UA(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){i=i!==null&&i.memoizedState!==null||pe,h=ji;var d=pe;ji=o,(pe=i)&&!d?ms(e,a,(a.subtreeFlags&8772)!==0):ds(e,a),ji=h,pe=d}break;case 30:break;default:ds(e,a)}}function By(e){var i=e.alternate;i!==null&&(e.alternate=null,By(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&es(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Hi(e,i,a){for(a=a.child;a!==null;)qy(e,i,a),a=a.sibling}function qy(e,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:pe||ui(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||ui(a,i);var o=ae,h=an;Es(a.type)&&(ae=a.stateNode,an=!1),Hi(e,i,a),el(a.stateNode),ae=o,an=h;break;case 5:pe||ui(a,i);case 6:if(o=ae,h=an,ae=null,Hi(e,i,a),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){ne(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){ne(a,i,d)}break;case 18:ae!==null&&(an?(e=ae,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ul(e)):D_(ae,a.stateNode));break;case 4:o=ae,h=an,ae=a.stateNode.containerInfo,an=!0,Hi(e,i,a),ae=o,an=h;break;case 0:case 11:case 14:case 15:pe||fs(2,a,i),pe||fs(4,a,i),Hi(e,i,a);break;case 1:pe||(ui(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&xy(a,i,o)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:pe=(o=pe)||a.memoizedState!==null,Hi(e,i,a),pe=o;break;default:Hi(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){ne(i,i.return,a)}}function cA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ky),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ky),i;default:throw Error(r(435,e.tag))}}function Jf(e,i){var a=cA(e);i.forEach(function(o){var h=vA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function _n(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Es(T.type)){ae=T.stateNode,an=!1;break t}break;case 5:ae=T.stateNode,an=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ae===null)throw Error(r(160));qy(d,v,h),ae=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Hy(i,e),i=i.sibling}var Qn=null;function Hy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(i,e),vn(e),o&4&&(fs(3,e,e.return),Qo(3,e),fs(5,e,e.return));break;case 1:_n(i,e),vn(e),o&512&&(pe||a===null||ui(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Qn;if(_n(i,e),vn(e),o&512&&(pe||a===null||ui(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Js]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,o,a),d[Se]=e,me(d),o=d;break t;case"link":var v=L_("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(o),He(d,o,a),h.head.appendChild(d);break;case"meta":if(v=L_("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(o),He(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Se]=e,me(d),o=d}e.stateNode=o}else k_(h,e.type,e.stateNode);else e.stateNode=U_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?k_(h,e.type,e.stateNode):U_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(i,e),vn(e),o&512&&(pe||a===null||ui(a,a.return)),a!==null&&o&4&&Kf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,e),vn(e),o&512&&(pe||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(j){ne(e,e.return,j)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,a!==null?a.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(_n(i,e),vn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){ne(e,e.return,j)}}break;case 3:if(mc=null,h=Qn,Qn=fc(i.containerInfo),_n(i,e),Qn=h,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(j){ne(e,e.return,j)}$f&&($f=!1,Gy(e));break;case 4:o=Qn,Qn=fc(e.stateNode.containerInfo),_n(i,e),vn(e),Qn=o;break;case 12:_n(i,e),vn(e);break;case 13:_n(i,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sd=Rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Jf(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ji,Y=pe;if(ji=B||h,pe=Y||D,_n(i,e),pe=Y,ji=B,vn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||ji||pe||Sr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var X=D.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(j){ne(D,D.return,j)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(j){ne(D,D.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Jf(e,a))));break;case 19:_n(i,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Jf(e,o)));break;case 30:break;case 21:break;default:_n(i,e),vn(e)}}function vn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Uy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Xf(e);Wu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var T=Xf(e);Wu(e,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Xf(e);Zf(e,B,D);break;default:throw Error(r(161))}}catch(Y){ne(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ds(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(e,i.alternate,i),i=i.sibling}function Sr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:fs(4,i,i.return),Sr(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&xy(i,i.return,a),Sr(i);break;case 27:el(i.stateNode);case 26:case 5:ui(i,i.return),Sr(i);break;case 22:i.memoizedState===null&&Sr(i);break;case 30:Sr(i);break;default:Sr(i)}e=e.sibling}}function ms(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ms(h,d,a),Qo(4,d);break;case 1:if(ms(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ne(o,o.return,B)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)vp(D[h],T)}catch(B){ne(o,o.return,B)}}a&&v&64&&Ny(d),Fo(d,d.return);break;case 27:Ly(d);case 26:case 5:ms(h,d,a),a&&o===null&&v&4&&Py(d),Fo(d,d.return);break;case 12:ms(h,d,a);break;case 13:ms(h,d,a),a&&v&4&&jy(h,d);break;case 22:d.memoizedState===null&&ms(h,d,a),Fo(d,d.return);break;case 30:break;default:ms(h,d,a)}i=i.sibling}}function Wf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Oo(a))}function td(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Oo(e))}function ci(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(e,i,a,o),i=i.sibling}function Qy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(e,i,a,o),h&2048&&Qo(9,i);break;case 1:ci(e,i,a,o);break;case 3:ci(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Oo(e)));break;case 12:if(h&2048){ci(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ne(i,i.return,D)}}else ci(e,i,a,o);break;case 13:ci(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(e,i,a,o):Yo(e,i):d._visibility&2?ci(e,i,a,o):(d._visibility|=2,ga(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Wf(v,i);break;case 24:ci(e,i,a,o),h&2048&&td(i.alternate,i);break;default:ci(e,i,a,o)}}function ga(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,D=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:ga(d,v,T,D,h),Qo(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?ga(d,v,T,D,h):Yo(d,v):(Y._visibility|=2,ga(d,v,T,D,h)),h&&B&2048&&Wf(v.alternate,v);break;case 24:ga(d,v,T,D,h),h&&B&2048&&td(v.alternate,v);break;default:ga(d,v,T,D,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Yo(a,o),h&2048&&Wf(o.alternate,o);break;case 24:Yo(a,o),h&2048&&td(o.alternate,o);break;default:Yo(a,o)}i=i.sibling}}var Ko=8192;function pa(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)Fy(e),e=e.sibling}function Fy(e){switch(e.tag){case 26:pa(e),e.flags&Ko&&e.memoizedState!==null&&XA(Qn,e.memoizedState,e.memoizedProps);break;case 5:pa(e);break;case 3:case 4:var i=Qn;Qn=fc(e.stateNode.containerInfo),pa(e),Qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,pa(e),Ko=i):pa(e));break;default:pa(e)}}function Yy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Xo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ue=o,Xy(o,e)}Yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ky(e),e=e.sibling}function Ky(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&fs(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,tc(e)):Xo(e);break;default:Xo(e)}}function tc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ue=o,Xy(o,e)}Yy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:fs(8,i,i.return),tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,tc(i));break;default:tc(i)}e=e.sibling}}function Xy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:fs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,d=o.return;if(By(o),o===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var hA={getCacheForType:function(e){var i=Ke(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},fA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ie=null,Pt=null,Bt=0,Zt=0,En=null,gs=!1,ya=!1,ed=!1,Gi=0,de=0,ps=0,Rr=0,nd=0,Un=0,_a=0,Zo=null,on=null,id=!1,sd=0,ec=1/0,nc=null,ys=null,je=0,_s=null,va=null,Ea=0,rd=0,ad=null,Zy=null,$o=0,od=null;function Tn(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(G.T!==null){var e=oa;return e!==0?e:md()}return Wi()}function $y(){Un===0&&(Un=(Bt&536870912)===0||Qt?ro():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),Un}function An(e,i,a){(e===ie&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ta(e,0),vs(e,Bt,Un,!1)),Ai(e,a),((Xt&2)===0||e!==ie)&&(e===ie&&((Xt&2)===0&&(Rr|=a),de===4&&vs(e,Bt,Un,!1)),hi(e))}function Jy(e,i,a){if((Xt&6)!==0)throw Error(r(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||$s(e,i),h=o?gA(e,i):cd(e,i,!0),d=o;do{if(h===0){ya&&!o&&vs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!dA(a)){h=cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=Zo;var D=T.current.memoizedState.isDehydrated;if(D&&(Ta(T,v).flags|=256),v=cd(T,v,!1),v!==2){if(ed&&!D){T.errorRecoveryDisabledLanes|=d,Rr|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ta(e,0),vs(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:vs(o,i,Un,!gs);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=sd+300-Rn(),10<h)){if(vs(o,i,Un,!gs),kr(o,0,!0)!==0)break t;o.timeoutHandle=C_(Wy.bind(null,o,a,on,nc,id,i,Un,Rr,_a,gs,d,2,-0,0),h);break t}Wy(o,a,on,nc,id,i,Un,Rr,_a,gs,d,0,-0,0)}}break}while(!0);hi(e)}function Wy(e,i,a,o,h,d,v,T,D,B,Y,X,q,j){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:KA},Fy(i),X=ZA(),X!==null)){e.cancelPendingCommit=X(a_.bind(null,e,i,d,a,o,h,v,T,D,Y,1,q,j)),vs(e,d,v,!B);return}a_(e,i,d,a,o,h,v,T,D)}function dA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vs(e,i,a,o){i&=~nd,i&=~Rr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Ye(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Zn(e,a,i)}function ic(){return(Xt&6)===0?(Jo(0),!1):!0}function ld(){if(Pt!==null){if(Zt===0)var e=Pt.return;else e=Pt,Ui=vr=null,Rf(e),da=null,jo=0,e=Pt;for(;e!==null;)My(e.alternate,e),e=e.return;Pt=null}}function Ta(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,OA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ld(),ie=e,Pt=a=Ni(e.current,null),Bt=i,Zt=0,En=null,gs=!1,ya=$s(e,i),ed=!1,_a=Un=nd=Rr=ps=de=0,on=Zo=null,id=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ye(o),d=1<<h;i|=e[h],o&=~d}return Gi=i,Ru(),a}function t_(e,i){Mt=null,G.H=Gu,i===No||i===xu?(i=yp(),Zt=3):i===mp?(i=yp(),Zt=4):Zt=i===_y?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Pt===null&&(de=1,Xu(e,On(i,e.current)))}function e_(){var e=G.H;return G.H=Gu,e===null?Gu:e}function n_(){var e=G.A;return G.A=hA,e}function ud(){de=4,gs||(Bt&4194048)!==Bt&&Pn.current!==null||(ya=!0),(ps&134217727)===0&&(Rr&134217727)===0||ie===null||vs(ie,Bt,Un,!1)}function cd(e,i,a){var o=Xt;Xt|=2;var h=e_(),d=n_();(ie!==e||Bt!==i)&&(nc=null,Ta(e,i)),i=!1;var v=de;t:do try{if(Zt!==0&&Pt!==null){var T=Pt,D=En;switch(Zt){case 8:ld(),v=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var B=Zt;if(Zt=0,En=null,Aa(e,T,D,B),a&&ya){v=0;break t}break;default:B=Zt,Zt=0,En=null,Aa(e,T,D,B)}}mA(),v=de;break}catch(Y){t_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Ui=vr=null,Xt=o,G.H=h,G.A=d,Pt===null&&(ie=null,Bt=0,Ru()),v}function mA(){for(;Pt!==null;)i_(Pt)}function gA(e,i){var a=Xt;Xt|=2;var o=e_(),h=n_();ie!==e||Bt!==i?(nc=null,ec=Rn()+500,Ta(e,i)):ya=$s(e,i);t:do try{if(Zt!==0&&Pt!==null){i=Pt;var d=En;e:switch(Zt){case 1:Zt=0,En=null,Aa(e,i,d,1);break;case 2:case 9:if(gp(d)){Zt=0,En=null,s_(i);break}i=function(){Zt!==2&&Zt!==9||ie!==e||(Zt=7),hi(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:gp(d)?(Zt=0,En=null,s_(i)):(Zt=0,En=null,Aa(e,i,d,7));break;case 5:var v=null;switch(Pt.tag){case 26:v=Pt.memoizedState;case 5:case 27:var T=Pt;if(!v||z_(v)){Zt=0,En=null;var D=T.sibling;if(D!==null)Pt=D;else{var B=T.return;B!==null?(Pt=B,sc(B)):Pt=null}break e}}Zt=0,En=null,Aa(e,i,d,5);break;case 6:Zt=0,En=null,Aa(e,i,d,6);break;case 8:ld(),de=6;break t;default:throw Error(r(462))}}pA();break}catch(Y){t_(e,Y)}while(!0);return Ui=vr=null,G.H=o,G.A=h,Xt=a,Pt!==null?0:(ie=null,Bt=0,Ru(),de)}function pA(){for(;Pt!==null&&!eo();)i_(Pt)}function i_(e){var i=Vy(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,i===null?sc(e):Pt=i}function s_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Sy(a,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=Sy(a,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:Rf(i);default:My(a,i),i=Pt=rp(i,Gi),i=Vy(a,i,Gi)}e.memoizedProps=e.pendingProps,i===null?sc(e):Pt=i}function Aa(e,i,a,o){Ui=vr=null,Rf(i),da=null,jo=0;var h=i.return;try{if(rA(e,h,i,a,Bt)){de=1,Xu(e,On(a,e.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;de=1,Xu(e,On(a,e.current)),Pt=null;return}i.flags&32768?(Qt||o===1?e=!0:ya||(Bt&536870912)!==0?e=!1:(gs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(i,e)):sc(i)}function sc(e){var i=e;do{if((i.flags&32768)!==0){r_(i,gs);return}e=i.return;var a=oA(i.alternate,i,Gi);if(a!==null){Pt=a;return}if(i=i.sibling,i!==null){Pt=i;return}Pt=i=e}while(i!==null);de===0&&(de=5)}function r_(e,i){do{var a=lA(e.alternate,e);if(a!==null){a.flags&=32767,Pt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=a}while(e!==null);de=6,Pt=null}function a_(e,i,a,o,h,d,v,T,D){e.cancelPendingCommit=null;do rc();while(je!==0);if((Xt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Wh,oo(e,a,d,v,T,D),e===ie&&(Pt=ie=null,Bt=0),va=i,_s=e,Ea=a,rd=d,ad=h,Zy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,EA(Ys,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,v=Xt,Xt|=4;try{uA(e,i,a)}finally{Xt=v,it.p=h,G.T=o}}je=1,o_(),l_(),u_()}}function o_(){if(je===1){je=0;var e=_s,i=va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=it.p;it.p=2;var h=Xt;Xt|=4;try{Hy(i,e);var d=Ad,v=Xg(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Kg(T.ownerDocument.documentElement,T)){if(D!==null&&Kh(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var X=T.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var j=q.getSelection(),Rt=T.textContent.length,Tt=Math.min(D.start,Rt),te=D.end===void 0?Tt:Math.min(D.end,Rt);!j.extend&&Tt>te&&(v=te,te=Tt,Tt=v);var U=Yg(T,Tt),x=Yg(T,te);if(U&&x&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==x.node||j.focusOffset!==x.offset)){var z=X.createRange();z.setStart(U.node,U.offset),j.removeAllRanges(),Tt>te?(j.addRange(z),j.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),j.addRange(z))}}}}for(X=[],j=T;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!Td,Ad=Td=null}finally{Xt=h,it.p=o,G.T=a}}e.current=i,je=2}}function l_(){if(je===2){je=0;var e=_s,i=va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=it.p;it.p=2;var h=Xt;Xt|=4;try{zy(e,i.alternate,i)}finally{Xt=h,it.p=o,G.T=a}}je=3}}function u_(){if(je===4||je===3){je=0,tu();var e=_s,i=va,a=Ea,o=Zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?je=5:(je=0,va=_s=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ys=null),zr(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(he,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=it.p,it.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,it.p=h}}(Ea&3)!==0&&rc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===od?$o++:($o=0,od=e):$o=0,Jo(0)}}function c_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Oo(i)))}function rc(e){return o_(),l_(),u_(),h_()}function h_(){if(je!==5)return!1;var e=_s,i=rd;rd=0;var a=zr(Ea),o=G.T,h=it.p;try{it.p=32>a?32:a,G.T=null,a=ad,ad=null;var d=_s,v=Ea;if(je=0,va=_s=null,Ea=0,(Xt&6)!==0)throw Error(r(331));var T=Xt;if(Xt|=4,Ky(d.current),Qy(d,d.current,v,a),Xt=T,Jo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(he,d)}catch{}return!0}finally{it.p=h,G.T=o,c_(e,i)}}function f_(e,i,a){i=On(a,i),i=zf(e.stateNode,i,2),e=ls(e,i,2),e!==null&&(Ai(e,2),hi(e))}function ne(e,i,a){if(e.tag===3)f_(e,e,a);else for(;i!==null;){if(i.tag===3){f_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ys===null||!ys.has(o))){e=On(a,e),a=py(2),o=ls(i,a,2),o!==null&&(yy(a,o,i,e),Ai(o,2),hi(o));break}}i=i.return}}function hd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new fA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ed=!0,h.add(a),e=yA.bind(null,e,i,a),i.then(e,e))}function yA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(Bt&a)===a&&(de===4||de===3&&(Bt&62914560)===Bt&&300>Rn()-sd?(Xt&2)===0&&Ta(e,0):nd|=a,_a===Bt&&(_a=0)),hi(e)}function d_(e,i){i===0&&(i=ao()),e=ia(e,i),e!==null&&(Ai(e,i),hi(e))}function _A(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),d_(e,a)}function vA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),d_(e,a)}function EA(e,i){return Qs(e,i)}var ac=null,ba=null,fd=!1,oc=!1,dd=!1,wr=0;function hi(e){e!==ba&&e.next===null&&(ba===null?ac=ba=e:ba=ba.next=e),oc=!0,fd||(fd=!0,AA())}function Jo(e,i){if(!dd&&oc){dd=!0;do for(var a=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Ye(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,y_(o,d))}else d=Bt,d=kr(o,o===ie?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||$s(o,d)||(a=!0,y_(o,d));o=o.next}while(a);dd=!1}}function TA(){m_()}function m_(){oc=fd=!1;var e=0;wr!==0&&(VA()&&(e=wr),wr=0);for(var i=Rn(),a=null,o=ac;o!==null;){var h=o.next,d=g_(o,i);d===0?(o.next=null,a===null?ac=h:a.next=h,h===null&&(ba=a)):(a=o,(e!==0||(d&3)!==0)&&(oc=!0)),o=h}Jo(e)}function g_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ye(d),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&o)!==0)&&(h[v]=so(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=ie,a=Bt,a=kr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$s(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Fs(o),zr(a)){case 2:case 8:a=Ur;break;case 32:a=Ys;break;case 268435456:a=Lr;break;default:a=Ys}return o=p_.bind(null,e),a=Qs(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Fs(o),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,i){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rc()&&e.callbackNode!==a)return null;var o=Bt;return o=kr(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jy(e,o,i),g_(e,Rn()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function y_(e,i){if(rc())return null;Jy(e,i,!0)}function AA(){MA(function(){(Xt&6)!==0?Qs(no,TA):m_()})}function md(){return wr===0&&(wr=ro()),wr}function __(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function v_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function bA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=__((h[_e]||null).action),v=o.submitter;v&&(i=(i=v[_e]||null)?__(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Fr("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(wr!==0){var D=v?v_(h,v):new FormData(h);xf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?v_(h,v):new FormData(h),xf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var pd=Jh[gd],SA=pd.toLowerCase(),RA=pd[0].toUpperCase()+pd.slice(1);Gn(SA,"on"+RA)}Gn(Jg,"onAnimationEnd"),Gn(Wg,"onAnimationIteration"),Gn(tp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(jT,"onTransitionRun"),Gn(HT,"onTransitionStart"),Gn(GT,"onTransitionCancel"),Gn(ep,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function E_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Y){Ku(Y)}h.currentTarget=null,d=D}else for(v=0;v<o.length;v++){if(T=o[v],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Y){Ku(Y)}h.currentTarget=null,d=D}}}}function Ut(e,i){var a=i[uo];a===void 0&&(a=i[uo]=new Set);var o=e+"__bubble";a.has(o)||(T_(i,e,2,!1),a.add(o))}function yd(e,i,a){var o=0;i&&(o|=4),T_(a,e,o,i)}var lc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[lc]){e[lc]=!0,co.forEach(function(a){a!=="selectionchange"&&(wA.has(a)||yd(a,!1,e),yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[lc]||(i[lc]=!0,yd("selectionchange",!1,i))}}function T_(e,i,a,o){switch(Q_(i)){case 2:var h=WA;break;case 8:h=tb;break;default:h=Md}a=h.bind(null,i,a,e),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function vd(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=bi(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){o=d=v;continue t}T=T.parentNode}}o=o.return}cu(function(){var B=d,Y=In(a),X=[];t:{var q=np.get(e);if(q!==void 0){var j=Fr,Rt=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":j=Jr;break;case"focusin":Rt="focus",j=Xr;break;case"focusout":Rt="blur",j=Xr;break;case"beforeblur":case"afterblur":j=Xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=_u;break;case Jg:case Wg:case tp:j=Zr;break;case ep:j=Eu;break;case"scroll":case"scrollend":j=hu;break;case"wheel":j=Wr;break;case"copy":case"cut":case"paste":j=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=bo;break;case"toggle":case"beforetoggle":j=Au}var Tt=(i&4)!==0,te=!Tt&&(e==="scroll"||e==="scrollend"),U=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var x=B,z;x!==null;){var K=x;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=rr(x,U),K!=null&&Tt.push(tl(x,K,z))),te)break;x=x.return}0<Tt.length&&(q=new j(q,Rt,null,a,Y),X.push({event:q,listeners:Tt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",q&&a!==Ci&&(Rt=a.relatedTarget||a.fromElement)&&(bi(Rt)||Rt[wn]))break t;if((j||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,j?(Rt=a.relatedTarget||a.toElement,j=B,Rt=Rt?bi(Rt):null,Rt!==null&&(te=c(Rt),Tt=Rt.tag,Rt!==te||Tt!==5&&Tt!==27&&Tt!==6)&&(Rt=null)):(j=null,Rt=B),j!==Rt)){if(Tt=Vn,K="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=bo,K="onPointerLeave",U="onPointerEnter",x="pointer"),te=j==null?q:Jn(j),z=Rt==null?q:Jn(Rt),q=new Tt(K,x+"leave",j,a,Y),q.target=te,q.relatedTarget=z,K=null,bi(Y)===B&&(Tt=new Tt(U,x+"enter",Rt,a,Y),Tt.target=z,Tt.relatedTarget=te,K=Tt),te=K,j&&Rt)e:{for(Tt=j,U=Rt,x=0,z=Tt;z;z=Sa(z))x++;for(z=0,K=U;K;K=Sa(K))z++;for(;0<x-z;)Tt=Sa(Tt),x--;for(;0<z-x;)U=Sa(U),z--;for(;x--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=Sa(Tt),U=Sa(U)}Tt=null}else Tt=null;j!==null&&A_(X,q,j,Tt,!1),Rt!==null&&te!==null&&A_(X,te,Rt,Tt,!0)}}t:{if(q=B?Jn(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var mt=qg;else if(we(q))if(jg)mt=zT;else{mt=LT;var xt=UT}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&po(B.elementType)&&(mt=qg):mt=kT;if(mt&&(mt=mt(e,B))){Mi(X,mt,a,Y);break t}xt&&xt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&is(q,"number",q.value)}switch(xt=B?Jn(B):window,e){case"focusin":(we(xt)||xt.contentEditable==="true")&&(ta=xt,Xh=B,wo=null);break;case"focusout":wo=Xh=ta=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Zg(X,a,Y);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Zg(X,a,Y)}var gt;if(ri)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else kt?Q(e,a)&&(bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(_&&a.locale!=="ko"&&(kt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&kt&&(gt=_o()):(ei=Y,ss="value"in ei?ei.value:ei.textContent,kt=!0)),xt=uc(B,bt),0<xt.length&&(bt=new To(bt,e,null,a,Y),X.push({event:bt,listeners:xt}),gt?bt.data=gt:(gt=ot(a),gt!==null&&(bt.data=gt)))),(gt=g?Re(e,a):zt(e,a))&&(bt=uc(B,"onBeforeInput"),0<bt.length&&(xt=new To("onBeforeInput","beforeinput",null,a,Y),X.push({event:xt,listeners:bt}),xt.data=gt)),bA(X,e,B,a,Y)}E_(X,i)})}function tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function uc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=rr(e,a),h!=null&&o.unshift(tl(e,h,d)),h=rr(e,i),h!=null&&o.push(tl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=rr(a,d),B!=null&&v.unshift(tl(a,B,D))):h||(B=rr(a,d),B!=null&&v.push(tl(a,B,D)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(CA,`
`).replace(IA,"")}function S_(e,i){return i=b_(i),b_(e)===i}function cc(){}function Wt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Cn(e,""+o);break;case"className":Wn(e,"class",o);break;case"tabIndex":Wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(e,a,o);break;case"style":go(e,o,d);break;case"data":if(i!=="object"){Wn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qr(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qr(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=cc);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Qr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),ns(e,"popover",o);break;case"xlinkActuate":ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ze(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ze(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ze(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ze(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ns(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jh.get(a)||a,ns(e,a,o))}}function Ed(e,i,a,o,h,d){switch(a){case"style":go(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&Cn(e,""+o);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ns(e,a,o)}}}function He(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,d,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Ut("invalid",e);var T=d=v=h=null,D=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Wt(e,i,o,Y,a,null)}}nr(e,d,T,D,B,v,h,!1),Gr(e);return;case"select":Ut("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Wt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!o,i!=null?wi(e,!!o,i,!1):a!=null&&wi(e,!!o,a,!0);return;case"textarea":Ut("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Wt(e,i,v,T,a,null)}ir(e,o,h,d),Gr(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,D,o,a,null)}return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Ut(Wo[o],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,B,o,a,null)}return;default:if(po(i)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Ed(e,i,Y,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Wt(e,i,T,o,a,null))}function DA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,B=null,Y=null;for(j in a){var X=a[j];if(a.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":D=X;default:o.hasOwnProperty(j)||Wt(e,i,j,null,o,X)}}for(var q in o){var j=o[q];if(X=a[q],o.hasOwnProperty(q)&&(j!=null||X!=null))switch(q){case"type":d=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:j!==X&&Wt(e,i,q,j,o,X)}}gn(e,v,T,D,B,Y,d,h);return;case"select":j=v=T=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":j=D;default:o.hasOwnProperty(d)||Wt(e,i,d,null,o,D)}for(h in o)if(d=o[h],D=a[h],o.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&Wt(e,i,h,d,o,D)}i=T,a=v,o=j,q!=null?wi(e,!!a,q,!1):!!o!=!!a&&(i!=null?wi(e,!!a,i,!0):wi(e,!!a,a?[]:"",!1));return;case"textarea":j=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Wt(e,i,v,h,o,d)}$t(e,q,j);return;case"option":for(var Rt in a)if(q=a[Rt],a.hasOwnProperty(Rt)&&q!=null&&!o.hasOwnProperty(Rt))switch(Rt){case"selected":e.selected=!1;break;default:Wt(e,i,Rt,null,o,q)}for(D in o)if(q=o[D],j=a[D],o.hasOwnProperty(D)&&q!==j&&(q!=null||j!=null))switch(D){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Wt(e,i,D,q,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!o.hasOwnProperty(Tt)&&Wt(e,i,Tt,null,o,q);for(B in o)if(q=o[B],j=a[B],o.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:Wt(e,i,B,q,o,j)}return;default:if(po(i)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!o.hasOwnProperty(te)&&Ed(e,i,te,void 0,o,q);for(Y in o)q=o[Y],j=a[Y],!o.hasOwnProperty(Y)||q===j||q===void 0&&j===void 0||Ed(e,i,Y,q,o,j);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&Wt(e,i,U,null,o,q);for(X in o)q=o[X],j=a[X],!o.hasOwnProperty(X)||q===j||q==null&&j==null||Wt(e,i,X,q,o,j)}var Td=null,Ad=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sd=null;function VA(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(e){return I_.resolve(null).then(e).catch(NA)}:C_;function NA(e){setTimeout(function(){throw e})}function Es(e){return e==="head"}function D_(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&el(v.documentElement),a&2&&el(v.body),a&4)for(a=v.head,el(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[Js]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);ul(i)}function Rd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Js])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function PA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function UA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Cd=null;function V_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function O_(e,i,a){switch(i=hc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function el(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);es(e)}var Ln=new Map,M_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=it.d;it.d={f:LA,r:kA,D:zA,C:BA,L:qA,m:jA,X:GA,S:HA,M:QA};function LA(){var e=Qi.f(),i=ic();return e||i}function kA(e){var i=$n(e);i!==null&&i.tag===5&&i.type==="form"?Jp(i):Qi.r(e)}var Ra=typeof document>"u"?null:document;function N_(e,i,a){var o=Ra;if(o&&typeof i=="string"&&i){var h=ve(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),He(i,"link",e),me(i),o.head.appendChild(i)))}}function zA(e){Qi.D(e),N_("dns-prefetch",e,null)}function BA(e,i){Qi.C(e,i),N_("preconnect",e,i)}function qA(e,i,a){Qi.L(e,i,a);var o=Ra;if(o&&e&&i){var h='link[rel="preload"][as="'+ve(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ve(a.imageSizes)+'"]')):h+='[href="'+ve(e)+'"]';var d=h;switch(i){case"style":d=wa(e);break;case"script":d=Ca(e)}Ln.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(nl(d))||i==="script"&&o.querySelector(il(d))||(i=o.createElement("link"),He(i,"link",e),me(i),o.head.appendChild(i)))}}function jA(e,i){Qi.m(e,i);var a=Ra;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ve(o)+'"][href="'+ve(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ca(e)}if(!Ln.has(d)&&(e=E({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}o=a.createElement("link"),He(o,"link",e),me(o),a.head.appendChild(o)}}}function HA(e,i,a){Qi.S(e,i,a);var o=Ra;if(o&&e){var h=We(o).hoistableStyles,d=wa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(nl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Id(e,a);var D=v=o.createElement("link");me(D),He(D,"link",e),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function GA(e,i){Qi.X(e,i);var a=Ra;if(a&&e){var o=We(a).hoistableScripts,h=Ca(e),d=o.get(h);d||(d=a.querySelector(il(h)),d||(e=E({src:e,async:!0},i),(i=Ln.get(h))&&Dd(e,i),d=a.createElement("script"),me(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function QA(e,i){Qi.M(e,i);var a=Ra;if(a&&e){var o=We(a).hoistableScripts,h=Ca(e),d=o.get(h);d||(d=a.querySelector(il(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Dd(e,i),d=a.createElement("script"),me(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function x_(e,i,a,o){var h=(h=vt.current)?fc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=wa(a.href),a=We(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wa(a.href);var d=We(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||FA(h,e,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(a),a=We(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wa(e){return'href="'+ve(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),He(i,"link",a),me(i),e.head.appendChild(i))}function Ca(e){return'[src="'+ve(e)+'"]'}function il(e){return"script[async]"+e}function U_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ve(a.href)+'"]');if(o)return i.instance=o,me(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),me(o),He(o,"style",h),dc(o,a.precedence,e),i.instance=o;case"stylesheet":h=wa(a.href);var d=e.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,me(d),d;o=P_(a),(h=Ln.get(h))&&Id(o,h),d=(e.ownerDocument||e).createElement("link"),me(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),He(d,"link",o),i.state.loading|=4,dc(d,a.precedence,e),i.instance=d;case"script":return d=Ca(a.src),(h=e.querySelector(il(d)))?(i.instance=h,me(h),h):(o=a,(h=Ln.get(d))&&(o=E({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),me(h),He(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,dc(o,a.precedence,e));return i.instance}function dc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var mc=null;function L_(e,i,a){if(mc===null){var o=new Map,h=mc=new Map;h.set(a,o)}else h=mc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Js]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function k_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function YA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function KA(){}function XA(e,i,a){if(sl===null)throw Error(r(475));var o=sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=wa(a.href),d=e.querySelector(nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=gc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,me(d);return}d=e.ownerDocument||e,a=P_(a),(h=Ln.get(h))&&Id(a,h),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),He(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=gc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function ZA(){if(sl===null)throw Error(r(475));var e=sl;return e.stylesheets&&e.count===0&&Vd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function Vd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,i.forEach($A,e),pc=null,gc.call(e))}function $A(e,i){if(!(i.state.loading&4)){var a=pc.get(e);if(a)var o=a.get(null);else{a=new Map,pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var rl={$$typeof:et,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function JA(e,i,a,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function B_(e,i,a,o,h,d,v,T,D,B,Y,X){return e=new JA(e,i,a,v,T,D,B,X),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),e.current=d,d.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},gf(d),e}function q_(e){return e?(e=sa,e):sa}function j_(e,i,a,o,h,d){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=os(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ls(e,o,i),a!==null&&(An(a,e,i),Po(a,e,i))}function H_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Od(e,i){H_(e,i),(e=e.alternate)&&H_(e,i)}function G_(e){if(e.tag===13){var i=ia(e,67108864);i!==null&&An(i,e,67108864),Od(e,67108864)}}var yc=!0;function WA(e,i,a,o){var h=G.T;G.T=null;var d=it.p;try{it.p=2,Md(e,i,a,o)}finally{it.p=d,G.T=h}}function tb(e,i,a,o){var h=G.T;G.T=null;var d=it.p;try{it.p=8,Md(e,i,a,o)}finally{it.p=d,G.T=h}}function Md(e,i,a,o){if(yc){var h=Nd(o);if(h===null)vd(e,i,o,_c,a),F_(e,o);else if(nb(h,e,i,a,o))o.stopPropagation();else if(F_(e,o),i&4&&-1<eb.indexOf(e)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=qn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-Ye(v);T.entanglements[1]|=D,v&=~D}hi(d),(Xt&6)===0&&(ec=Rn()+500,Jo(0))}}break;case 13:T=ia(d,2),T!==null&&An(T,d,2),ic(),Od(d,2)}if(d=Nd(o),d===null&&vd(e,i,o,_c,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else vd(e,i,o,null,a)}}function Nd(e){return e=In(e),xd(e)}var _c=null;function xd(e){if(_c=null,e=bi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return _c=e,null}function Q_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case no:return 2;case Ur:return 8;case Ys:case Lh:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ts=null,As=null,bs=null,al=new Map,ol=new Map,Ss=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,i){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&G_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function nb(e,i,a,o,h){switch(i){case"focusin":return Ts=ll(Ts,e,i,a,o,h),!0;case"dragenter":return As=ll(As,e,i,a,o,h),!0;case"mouseover":return bs=ll(bs,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return al.set(d,ll(al.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,e,i,a,o,h)),!0}return!1}function Y_(e){var i=bi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,iu(e.priority,function(){if(a.tag===13){var o=Tn();o=Ji(o);var h=ia(a,o);h!==null&&An(h,a,o),Od(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ci=o,a.target.dispatchEvent(o),Ci=null}else return i=$n(a),i!==null&&G_(i),e.blockedOn=a,!1;i.shift()}return!0}function K_(e,i,a){vc(e)&&a.delete(i)}function ib(){Pd=!1,Ts!==null&&vc(Ts)&&(Ts=null),As!==null&&vc(As)&&(As=null),bs!==null&&vc(bs)&&(bs=null),al.forEach(K_),ol.forEach(K_)}function Ec(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ib)))}var Tc=null;function X_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var d=$n(a);d!==null&&(e.splice(i,3),i-=3,xf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ul(e){function i(D){return Ec(D,e)}Ts!==null&&Ec(Ts,e),As!==null&&Ec(As,e),bs!==null&&Ec(bs,e),al.forEach(i),ol.forEach(i);for(var a=0;a<Ss.length;a++){var o=Ss[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ss.length&&(a=Ss[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Ss.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[_e]||null;if(typeof d=="function")v||X_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_e]||null)T=v.formAction;else if(xd(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),X_(a)}}}function Ud(e){this._internalRoot=e}Ac.prototype.render=Ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Tn();j_(a,o,e,i,null,null)},Ac.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;j_(e.current,2,null,e,null,null),ic(),i[wn]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var i=Wi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ss.length&&i!==0&&i<Ss[a].priority;a++);Ss.splice(a,0,e),a===0&&Y_(e)}};var Z_=t.version;if(Z_!=="19.1.0")throw Error(r(527,Z_,"19.1.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{he=bc.inject(sb),Kt=bc}catch{}}return hl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=fy,d=dy,v=my,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=B_(e,1,!1,null,null,a,o,h,d,v,T,null),e[wn]=i.current,_d(e),new Ud(i)},hl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",d=fy,v=dy,T=my,D=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=B_(e,1,!0,i,a??null,o,h,d,v,T,D,B),i.context=q_(null),a=i.current,o=Tn(),o=Ji(o),h=os(o),h.callback=null,ls(a,h,o),a=o,i.current.lanes=a,Ai(i,a),hi(i),e[wn]=i.current,_d(e),new Ac(i)},hl.version="19.1.0",hl}var av;function mb(){if(av)return zd.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=db(),zd.exports}var gb=mb();const pb="modulepreload",yb=function(s,t){return new URL(s,t).href},ov={},X0=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){let f=function(E){return Promise.all(E.map(S=>Promise.resolve(S).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const m=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),p=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));l=f(n.map(E=>{if(E=yb(E,r),E in ov)return;ov[E]=!0;const S=E.endsWith(".css"),b=S?'[rel="stylesheet"]':"";if(!!r)for(let F=m.length-1;F>=0;F--){const H=m[F];if(H.href===E&&(!S||H.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${E}"]${b}`))return;const k=document.createElement("link");if(k.rel=S?"stylesheet":pb,S||(k.as="script"),k.crossOrigin="",k.href=E,p&&k.setAttribute("nonce",p),document.head.appendChild(k),S)return new Promise((F,H)=>{k.addEventListener("load",F),k.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return l.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})},_b=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},vb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],f=s[n++],m=s[n++],y=((l&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],f=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],f=l+1<s.length,m=f?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let b=(m&15)<<2|p>>6,P=p&63;y||(P=64,f||(b=64)),r.push(n[E],n[S],n[b],n[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Z0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):vb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||m==null||p==null||S==null)throw new Eb;const b=c<<2|m>>4;if(r.push(b),p!==64){const P=m<<4&240|p>>2;if(r.push(P),S!==64){const k=p<<6&192|S;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tb=function(s){const t=Z0(s);return $0.encodeByteArray(t,!0)},zc=function(s){return Tb(s).replace(/\./g,"")},Ab=function(s){try{return $0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=()=>bb().__FIREBASE_DEFAULTS__,Rb=()=>{if(typeof process>"u"||typeof lv>"u")return;const s=lv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Ab(s[1]);return t&&JSON.parse(t)},Gm=()=>{try{return _b()||Sb()||Rb()||wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Cb=s=>{var t,n;return(n=(t=Gm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[s]},Ib=s=>{const t=Cb(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},J0=()=>{var s;return(s=Gm())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(s){return s.endsWith(".cloudworkstations.dev")}async function Vb(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[zc(JSON.stringify(n)),zc(JSON.stringify(f)),""].join(".")}const Tl={};function Mb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?s.emulator.push(t):s.prod.push(t);return s}function Nb(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let uv=!1;function xb(s,t){if(typeof window>"u"||typeof document>"u"||!Qm(window.location.host)||Tl[s]===t||Tl[s]||uv)return;Tl[s]=t;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=Mb().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{uv=!0,f()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=Nb(r),P=n("text"),k=document.getElementById(P)||document.createElement("span"),F=n("learnmore"),H=document.getElementById(F)||document.createElement("a"),tt=n("preprendIcon"),rt=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const et=b.element;m(et),E(H,F);const dt=p();y(rt,tt),et.append(rt,k,H,dt),document.body.appendChild(et)}c?(k.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ub(){var s;const t=(s=Gm())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lb(){return!Ub()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="FirebaseError";class Xa extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Bb,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W0.prototype.create)}}class W0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?qb(c,r):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Xa(l,m,r)}}function qb(s,t){return s.replace(jb,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const jb=/\{\$([^}]+)}/g;function Bc(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const c=s[l],f=t[l];if(cv(c)&&cv(f)){if(!Bc(c,f))return!1}else if(c!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function cv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(s){return s&&s._delegate?s._delegate:s}class Vl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Db;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Qb(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(l)}return l}onInit(t,n){var r;const l=this.normalizeInstanceIdentifier(n),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gb(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gb(s){return s===Cr?void 0:s}function Qb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Hb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const Yb={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Kb=jt.INFO,Xb={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},Zb=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Xb[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tE{constructor(t){this.name=t,this._logLevel=Kb,this._logHandler=Zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const $b=(s,t)=>t.some(n=>s instanceof n);let hv,fv;function Jb(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wb(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,rm=new WeakMap,nE=new WeakMap,Hd=new WeakMap,Fm=new WeakMap;function tS(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(Vs(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&eE.set(n,s)}).catch(()=>{}),Fm.set(t,s),t}function eS(s){if(rm.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});rm.set(s,t)}let am={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return rm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function nS(s){am=s(am)}function iS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Gd(this),t,...n);return nE.set(r,t.sort?t.sort():[t]),Vs(r)}:Wb().includes(s)?function(...t){return s.apply(Gd(this),t),Vs(eE.get(this))}:function(...t){return Vs(s.apply(Gd(this),t))}}function sS(s){return typeof s=="function"?iS(s):(s instanceof IDBTransaction&&eS(s),$b(s,Jb())?new Proxy(s,am):s)}function Vs(s){if(s instanceof IDBRequest)return tS(s);if(Hd.has(s))return Hd.get(s);const t=sS(s);return t!==s&&(Hd.set(s,t),Fm.set(t,s)),t}const Gd=s=>Fm.get(s);function rS(s,t,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const f=indexedDB.open(s,t),m=Vs(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Vs(f.result),y.oldVersion,y.newVersion,Vs(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const aS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],Qd=new Map;function dv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=oS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||aS.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),l&&y.done]))[0]};return Qd.set(t,c),c}nS(s=>({...s,get:(t,n,r)=>dv(t,n)||s.get(t,n,r),has:(t,n)=>!!dv(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const om="@firebase/app",mv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new tE("@firebase/app"),cS="@firebase/app-compat",hS="@firebase/analytics-compat",fS="@firebase/analytics",dS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",pS="@firebase/auth-compat",yS="@firebase/database",_S="@firebase/data-connect",vS="@firebase/database-compat",ES="@firebase/functions",TS="@firebase/functions-compat",AS="@firebase/installations",bS="@firebase/installations-compat",SS="@firebase/messaging",RS="@firebase/messaging-compat",wS="@firebase/performance",CS="@firebase/performance-compat",IS="@firebase/remote-config",DS="@firebase/remote-config-compat",VS="@firebase/storage",OS="@firebase/storage-compat",MS="@firebase/firestore",NS="@firebase/ai",xS="@firebase/firestore-compat",PS="firebase",US="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",LS={[om]:"fire-core",[cS]:"fire-core-compat",[fS]:"fire-analytics",[hS]:"fire-analytics-compat",[mS]:"fire-app-check",[dS]:"fire-app-check-compat",[gS]:"fire-auth",[pS]:"fire-auth-compat",[yS]:"fire-rtdb",[_S]:"fire-data-connect",[vS]:"fire-rtdb-compat",[ES]:"fire-fn",[TS]:"fire-fn-compat",[AS]:"fire-iid",[bS]:"fire-iid-compat",[SS]:"fire-fcm",[RS]:"fire-fcm-compat",[wS]:"fire-perf",[CS]:"fire-perf-compat",[IS]:"fire-rc",[DS]:"fire-rc-compat",[VS]:"fire-gcs",[OS]:"fire-gcs-compat",[MS]:"fire-fst",[xS]:"fire-fst-compat",[NS]:"fire-vertex","fire-js":"fire-js",[PS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,kS=new Map,um=new Map;function gv(s,t){try{s.container.addComponent(t)}catch(n){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function jc(s){const t=s.name;if(um.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,s);for(const n of qc.values())gv(n,s);for(const n of kS.values())gv(n,s);return!0}function zS(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function BS(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new W0("app","Firebase",qS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=US;function iE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:lm,automaticDataCollectionEnabled:!0},t),l=r.name;if(typeof l!="string"||!l)throw Os.create("bad-app-name",{appName:String(l)});if(n||(n=J0()),!n)throw Os.create("no-options");const c=qc.get(l);if(c){if(Bc(n,c.options)&&Bc(r,c.config))return c;throw Os.create("duplicate-app",{appName:l})}const f=new Fb(l);for(const y of um.values())f.addComponent(y);const m=new jS(n,r,f);return qc.set(l,m),m}function GS(s=lm){const t=qc.get(s);if(!t&&s===lm&&J0())return iE();if(!t)throw Os.create("no-app",{appName:s});return t}function Pa(s,t,n){var r;let l=(r=LS[s])!==null&&r!==void 0?r:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const m=[`Unable to register library "${l}" with version "${t}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(m.join(" "));return}jc(new Vl(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebase-heartbeat-database",FS=1,Ol="firebase-heartbeat-store";let Fd=null;function sE(){return Fd||(Fd=rS(QS,FS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(s=>{throw Os.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function YS(s){try{const n=(await sE()).transaction(Ol),r=await n.objectStore(Ol).get(rE(s));return await n.done,r}catch(t){if(t instanceof Xa)Xi.warn(t.message);else{const n=Os.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(n.message)}}}async function pv(s,t){try{const r=(await sE()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(t,rE(s)),await r.done}catch(n){if(n instanceof Xa)Xi.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(r.message)}}}function rE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1024,XS=30;class ZS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=yv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>XS){const f=WS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yv(),{heartbeatsToSend:r,unsentEntries:l}=$S(this._heartbeatsCache.heartbeats),c=zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Xi.warn(n),""}}}function yv(){return new Date().toISOString().substring(0,10)}function $S(s,t=KS){const n=[];let r=s.slice();for(const l of s){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),_v(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),_v(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function _v(s){return zc(JSON.stringify({version:2,heartbeats:s})).length}function WS(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s){jc(new Vl("platform-logger",t=>new lS(t),"PRIVATE")),jc(new Vl("heartbeat",t=>new ZS(t),"PRIVATE")),Pa(om,mv,s),Pa(om,mv,"esm2017"),Pa("fire-js","")}t2("");var e2="firebase",n2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa(e2,n2,"app");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,aE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function I(){}I.prototype=w.prototype,O.D=w.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,N,C){for(var R=Array(arguments.length-2),J=2;J<arguments.length;J++)R[J-2]=arguments[J];return w.prototype[N].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,w,I){I||(I=0);var M=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)M[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;16>N;++N)M[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=O.g[0],I=O.g[1],N=O.g[2];var C=O.g[3],R=w+(C^I&(N^C))+M[0]+3614090360&4294967295;w=I+(R<<7&4294967295|R>>>25),R=C+(N^w&(I^N))+M[1]+3905402710&4294967295,C=w+(R<<12&4294967295|R>>>20),R=N+(I^C&(w^I))+M[2]+606105819&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(w^N&(C^w))+M[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(C^I&(N^C))+M[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=C+(N^w&(I^N))+M[5]+1200080426&4294967295,C=w+(R<<12&4294967295|R>>>20),R=N+(I^C&(w^I))+M[6]+2821735955&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(w^N&(C^w))+M[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(C^I&(N^C))+M[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=C+(N^w&(I^N))+M[9]+2336552879&4294967295,C=w+(R<<12&4294967295|R>>>20),R=N+(I^C&(w^I))+M[10]+4294925233&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(w^N&(C^w))+M[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(C^I&(N^C))+M[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=C+(N^w&(I^N))+M[13]+4254626195&4294967295,C=w+(R<<12&4294967295|R>>>20),R=N+(I^C&(w^I))+M[14]+2792965006&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(w^N&(C^w))+M[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^C&(I^N))+M[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(w^I))+M[6]+3225465664&4294967295,C=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(C^w))+M[11]+643717713&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(N^C))+M[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^C&(I^N))+M[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(w^I))+M[10]+38016083&4294967295,C=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(C^w))+M[15]+3634488961&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(N^C))+M[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^C&(I^N))+M[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(w^I))+M[14]+3275163606&4294967295,C=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(C^w))+M[3]+4107603335&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(N^C))+M[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^C&(I^N))+M[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(w^I))+M[2]+4243563512&4294967295,C=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(C^w))+M[7]+1735328473&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(N^C))+M[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^C)+M[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^N)+M[8]+2272392833&4294967295,C=w+(R<<11&4294967295|R>>>21),R=N+(C^w^I)+M[11]+1839030562&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^w)+M[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^C)+M[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^N)+M[4]+1272893353&4294967295,C=w+(R<<11&4294967295|R>>>21),R=N+(C^w^I)+M[7]+4139469664&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^w)+M[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^C)+M[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^N)+M[0]+3936430074&4294967295,C=w+(R<<11&4294967295|R>>>21),R=N+(C^w^I)+M[3]+3572445317&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^w)+M[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^C)+M[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^N)+M[12]+3873151461&4294967295,C=w+(R<<11&4294967295|R>>>21),R=N+(C^w^I)+M[15]+530742520&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^w)+M[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~C))+M[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~N))+M[7]+1126891415&4294967295,C=w+(R<<10&4294967295|R>>>22),R=N+(w^(C|~I))+M[14]+2878612391&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~w))+M[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~C))+M[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~N))+M[3]+2399980690&4294967295,C=w+(R<<10&4294967295|R>>>22),R=N+(w^(C|~I))+M[10]+4293915773&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~w))+M[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~C))+M[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~N))+M[15]+4264355552&4294967295,C=w+(R<<10&4294967295|R>>>22),R=N+(w^(C|~I))+M[6]+2734768916&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~w))+M[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~C))+M[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~N))+M[11]+3174756917&4294967295,C=w+(R<<10&4294967295|R>>>22),R=N+(w^(C|~I))+M[2]+718787259&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~w))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+C&4294967295}r.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var I=w-this.blockSize,M=this.B,N=this.h,C=0;C<w;){if(N==0)for(;C<=I;)l(this,O,C),C+=this.blockSize;if(typeof O=="string"){for(;C<w;)if(M[N++]=O.charCodeAt(C++),N==this.blockSize){l(this,M),N=0;break}}else for(;C<w;)if(M[N++]=O[C++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var I=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=I&255,I/=256;for(this.u(O),O=Array(16),w=I=0;4>w;++w)for(var M=0;32>M;M+=8)O[I++]=this.g[w]>>>M&255;return O};function c(O,w){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=w(O)}function f(O,w){this.h=w;for(var I=[],M=!0,N=O.length-1;0<=N;N--){var C=O[N]|0;M&&C==w||(I[N]=C,M=!1)}this.g=I}var m={};function y(O){return-128<=O&&128>O?c(O,function(w){return new f([w|0],0>w?-1:0)}):new f([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(p(-O));for(var w=[],I=1,M=0;O>=I;M++)w[M]=O/I|0,I*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return H(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(w,8)),M=S,N=0;N<O.length;N+=8){var C=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+C),w);8>C?(C=p(Math.pow(w,C)),M=M.j(C).add(p(R))):(M=M.j(I),M=M.add(p(R)))}return M}var S=y(0),b=y(1),P=y(16777216);s=f.prototype,s.m=function(){if(F(this))return-H(this).m();for(var O=0,w=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*w,w*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(F(this))return"-"+H(this).toString(O);for(var w=p(Math.pow(O,6)),I=this,M="";;){var N=dt(I,w).g;I=tt(I,N.j(w));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=N,k(I))return C+M;for(;6>C.length;)C="0"+C;M=C+M}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function F(O){return O.h==-1}s.l=function(O){return O=tt(this,O),F(O)?-1:k(O)?0:1};function H(O){for(var w=O.g.length,I=[],M=0;M<w;M++)I[M]=~O.g[M];return new f(I,~O.h).add(b)}s.abs=function(){return F(this)?H(this):this},s.add=function(O){for(var w=Math.max(this.g.length,O.g.length),I=[],M=0,N=0;N<=w;N++){var C=M+(this.i(N)&65535)+(O.i(N)&65535),R=(C>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);M=R>>>16,C&=65535,R&=65535,I[N]=R<<16|C}return new f(I,I[I.length-1]&-2147483648?-1:0)};function tt(O,w){return O.add(H(w))}s.j=function(O){if(k(this)||k(O))return S;if(F(this))return F(O)?H(this).j(H(O)):H(H(this).j(O));if(F(O))return H(this.j(H(O)));if(0>this.l(P)&&0>O.l(P))return p(this.m()*O.m());for(var w=this.g.length+O.g.length,I=[],M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<O.g.length;N++){var C=this.i(M)>>>16,R=this.i(M)&65535,J=O.i(N)>>>16,lt=O.i(N)&65535;I[2*M+2*N]+=R*lt,rt(I,2*M+2*N),I[2*M+2*N+1]+=C*lt,rt(I,2*M+2*N+1),I[2*M+2*N+1]+=R*J,rt(I,2*M+2*N+1),I[2*M+2*N+2]+=C*J,rt(I,2*M+2*N+2)}for(M=0;M<w;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=w;M<2*w;M++)I[M]=0;return new f(I,0)};function rt(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function et(O,w){this.g=O,this.h=w}function dt(O,w){if(k(w))throw Error("division by zero");if(k(O))return new et(S,S);if(F(O))return w=dt(H(O),w),new et(H(w.g),H(w.h));if(F(w))return w=dt(O,H(w)),new et(H(w.g),w.h);if(30<O.g.length){if(F(O)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=w;0>=M.l(O);)I=ht(I),M=ht(M);var N=_t(I,1),C=_t(M,1);for(M=_t(M,2),I=_t(I,2);!k(M);){var R=C.add(M);0>=R.l(O)&&(N=N.add(I),C=R),M=_t(M,1),I=_t(I,1)}return w=tt(O,N.j(w)),new et(N,w)}for(N=S;0<=O.l(w);){for(I=Math.max(1,Math.floor(O.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),C=p(I),R=C.j(w);F(R)||0<R.l(O);)I-=M,C=p(I),R=C.j(w);k(C)&&(C=b),N=N.add(C),O=tt(O,R)}return new et(N,O)}s.A=function(O){return dt(this,O).h},s.and=function(O){for(var w=Math.max(this.g.length,O.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)&O.i(M);return new f(I,this.h&O.h)},s.or=function(O){for(var w=Math.max(this.g.length,O.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)|O.i(M);return new f(I,this.h|O.h)},s.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)^O.i(M);return new f(I,this.h^O.h)};function ht(O){for(var w=O.g.length+1,I=[],M=0;M<w;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new f(I,O.h)}function _t(O,w){var I=w>>5;w%=32;for(var M=O.g.length-I,N=[],C=0;C<M;C++)N[C]=0<w?O.i(C+I)>>>w|O.i(C+I+1)<<32-w:O.i(C+I);return new f(N,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Ms=f}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,gl,lE,Vc,cm,uE,cE,hE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function l(u,g){if(g)t:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break t;_=_[L]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var Q=_++;return{value:g(Q,u[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function S(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function b(u,g,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function P(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function k(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,Q){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return g.prototype[L].apply(A,ot)}}function F(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function H(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const L=u.length||0,Q=A.length||0;u.length=L+Q;for(let ot=0;ot<Q;ot++)u[L+ot]=A[ot]}else u.push(A)}}class tt{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function rt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function dt(u){return dt[" "](u),u}dt[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function _t(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function w(u){const g={};for(const _ in u)g[_]=u[_];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function C(u){m.setTimeout(()=>{throw u},0)}function R(){var u=wt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,_){const A=lt.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new tt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ut=!1,wt=new J,V=()=>{const u=m.Promise.resolve(void 0);it=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){C(_)}var g=lt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ut=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function At(u,g){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{dt(g.nodeName);var L=!0;break t}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&At.aa.h.call(this)}}k(At,st);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function Me(u,g,_,A,L){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=L,this.key=++Gt,this.da=this.fa=!1}function Sn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ei(u){this.src=u,this.g={},this.h=0}Ei.prototype.add=function(u,g,_,A,L){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ot=Qs(u,g,A,L);return-1<ot?(g=u[ot],_||(g.fa=!1)):(g=new Me(g,this.src,Q,!!A,L),g.fa=_,u.push(g)),g};function Gs(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=L)&&Array.prototype.splice.call(A,L,1),Q&&(Sn(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Qs(u,g,_,A){for(var L=0;L<u.length;++L){var Q=u[L];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==A)return L}return-1}var Fs="closure_lm_"+(1e6*Math.random()|0),eo={};function tu(u,g,_,A,L){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)tu(u,g[Q],_,A,L);return null}return _=eu(_),u&&u[ee]?u.K(g,_,p(A)?!!A.capture:!1,L):Rn(u,g,_,!1,A,L)}function Rn(u,g,_,A,L,Q){if(!g)throw Error("Invalid event type");var ot=p(L)?!!L.capture:!!L,kt=Lr(u);if(kt||(u[Fs]=kt=new Ei(u)),_=kt.add(g,_,A,ot,Q),_.proxy)return _;if(A=Uh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(L=ot),L===void 0&&(L=!1),u.addEventListener(g.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ys(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Uh(){function u(_){return g.call(u.src,u.listener,_)}const g=Lh;return u}function no(u,g,_,A,L){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)no(u,g[Q],_,A,L);else A=p(A)?!!A.capture:!!A,_=eu(_),u&&u[ee]?(u=u.i,g=String(g).toString(),g in u.g&&(Q=u.g[g],_=Qs(Q,_,A,L),-1<_&&(Sn(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[g],u.h--)))):u&&(u=Lr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Qs(g,_,A,L)),(_=-1<u?g[u]:null)&&Ur(_))}function Ur(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ee])Gs(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Ys(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Lr(g))?(Gs(_,u),_.h==0&&(_.src=null,g[Fs]=null)):Sn(u)}}}function Ys(u){return u in eo?eo[u]:eo[u]="on"+u}function Lh(u,g){if(u.da)u=!0;else{g=new At(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&Ur(u),u=_.call(A,g)}return u}function Lr(u){return u=u[Fs],u instanceof Ei?u:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(u){return typeof u=="function"?u:(u[io]||(u[io]=function(g){return u.handleEvent(g)}),u[io])}function he(){at.call(this),this.i=new Ei(this),this.M=this,this.F=null}k(he,at),he.prototype[ee]=!0,he.prototype.removeEventListener=function(u,g,_,A){no(this,u,g,_,A)};function Kt(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new st(g,u);else if(g instanceof st)g.target=g.target||u;else{var L=g;g=new st(A,u),M(g,L)}if(L=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ot=g.g=_[Q];L=mn(ot,A,!0,g)&&L}if(ot=g.g=u,L=mn(ot,A,!0,g)&&L,L=mn(ot,A,!1,g)&&L,_)for(Q=0;Q<_.length;Q++)ot=g.g=_[Q],L=mn(ot,A,!1,g)&&L}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Sn(_[A]);delete u.g[g],u.h--}}this.F=null},he.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},he.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function mn(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,Q=0;Q<g.length;++Q){var ot=g[Q];if(ot&&!ot.da&&ot.capture==_){var kt=ot.listener,Re=ot.ha||ot.src;ot.fa&&Gs(u.i,ot),L=kt.call(Re,A)!==!1&&L}}return L&&!A.defaultPrevented}function Ye(u,g,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function nu(u){u.g=Ye(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class kh extends at{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(u){at.call(this),this.h=u,this.g={}}k(Ks,at);var Xs=[];function Zs(u){_t(u.g,function(g,_){this.g.hasOwnProperty(_)&&Ur(g)},u),u.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),Zs(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,kr=m.JSON.parse,$s=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function ro(u){return u.h||(u.h=u.i())}function ao(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){st.call(this,"d")}k(Ai,st);function oo(){st.call(this,"c")}k(oo,st);var Zn={},lo=null;function Ji(){return lo=lo||new he}Zn.La="serverreachability";function zr(u){st.call(this,Zn.La,u)}k(zr,st);function Wi(u){const g=Ji();Kt(g,new zr(g))}Zn.STAT_EVENT="statevent";function iu(u,g){st.call(this,Zn.STAT_EVENT,u),this.stat=g}k(iu,st);function re(u){const g=Ji();Kt(g,new iu(g,u))}Zn.Ma="timingevent";function Se(u,g){st.call(this,Zn.Ma,u),this.size=g}k(Se,st);function _e(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function uo(u,g,_,A,L,Q){u.info(function(){if(u.g)if(Q)for(var ot="",kt=Q.split("&"),Re=0;Re<kt.length;Re++){var zt=kt[Re].split("=");if(1<zt.length){var xe=zt[0];zt=zt[1];var we=xe.split("_");ot=2<=we.length&&we[1]=="type"?ot+(xe+"="+zt+"&"):ot+(xe+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+_+`
`+ot})}function zh(u,g,_,A,L,Q,ot){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+_+`
`+Q+" "+ot})}function ts(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Js(u,_)+(A?" "+A:"")})}function su(u,g){u.info(function(){return"TIMEOUT: "+g})}wn.prototype.info=function(){};function Js(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<L.length;ot++)L[ot]=""}}}}return qn(_)}catch{return g}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Jn(){}k(Jn,so),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},$n=new Jn;function We(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var co={},Br={};function jn(u,g,_){u.L=1,u.v=ir(gn(g)),u.m=_,u.P=!0,Si(u,null)}function Si(u,g){u.F=Date.now(),Ws(u),u.A=gn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),yo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new me,u.g=Eu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new kh(b(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Xs[0]=L.toString()),L=Xs);for(var Q=0;Q<L.length;Q++){var ot=tu(_,L[Q],A||g.handleEvent,!1,g.h||g);if(!ot)break;g.g[ot.key]=ot}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Wi(),uo(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const g=this.M;g&&Vn(u)==3?g.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)t:{const we=Vn(this.g);var g=this.g.Ba();const Mi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||we!=4||g==7||(g==8||0>=Mi?Wi(3):Wi(2)),ns(this);var _=this.g.Z();this.X=_;e:if(ru(this)){var A=fu(this.g);u="";var L=A.length,Q=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Wn(this);var ot="";break e}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(Q&&g==L-1)});A.length=0,this.h.g+=u,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,zh(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Re=this.g;if((kt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(kt)){var zt=kt;break e}}zt=null}if(_=zt)ts(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tr(this,_);else{this.o=!1,this.s=3,re(12),ze(this),Wn(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<ot.length;)if(Be=au(this,ot),Be==Br){we==4&&(this.s=4,re(14),_=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==co){this.s=4,re(15),ts(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else ts(this.i,this.l,Be,null),tr(this,Be);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||ot.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)ts(this.i,this.l,ot,"[Invalid Chunked Response]"),ze(this),Wn(this);else if(0<ot.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),hr(xe),xe.M=!0,re(11))}}else ts(this.i,this.l,ot,null),tr(this,ot);we==4&&ze(this),this.o&&!this.J&&(we==4?yu(this.j,this):(this.o=!1,Ws(this)))}else Gh(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),ze(this),Wn(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function au(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Br:(_=Number(g.substring(_,A)),isNaN(_)?co:(A+=1,A+_>g.length?Br:(g=g.slice(A,A+_),u.C=A+_,g)))}We.prototype.cancel=function(){this.J=!0,ze(this)};function Ws(u){u.S=Date.now()+u.I,ou(u,u.I)}function ou(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(b(u.ba,u),g)}function ns(u){u.B&&(m.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(su(this.i,this.A),this.L!=2&&(Wi(),re(17)),ze(this),this.s=2,Wn(this)):ou(this,this.S-u)};function Wn(u){u.j.G==0||u.J||yu(u.j,u)}function ze(u){ns(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Zs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function tr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||ho(_.h,u))){if(!u.K&&ho(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Jr(_),Zr(_);else break t;Ao(_),re(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(b(_.Za,_),6e3));if(1>=jr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((u.K||_.g==u)&&Jr(_),!rt(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let zt=L[g];if(_.T=zt[0],zt=zt[1],_.G==2)if(zt[0]=="c"){_.K=zt[1],_.ia=zt[2];const xe=zt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const we=zt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Mi=zt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(A=1.5*Mi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Be=u.g;if(Be){const ai=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var Q=A.h;Q.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Hr(Q,Q.h),Q.h=null))}if(A.D){const So=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(A.ya=So,$t(A.I,A.D,So))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ot=u;if(A.qa=vu(A,A.J?A.ia:null,A.W),ot.K){tn(A.h,ot);var kt=ot,Re=A.L;Re&&(kt.I=Re),kt.B&&(ns(kt),Ws(kt)),A.g=ot}else gu(A);0<_.i.length&&$r(_)}else zt[0]!="stop"&&zt[0]!="close"||Oi(_,7);else _.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Oi(_,7):Eo(_):zt[0]!="noop"&&_.l&&_.l.ta(zt),_.v=0)}}Wi(4)}catch{}}var lu=class{constructor(u,g){this.g=u,this.map=g}};function Ri(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jr(u){return u.h?1:u.g?u.g.size:0}function ho(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Hr(u,g){u.g?u.g.add(g):u.h=g}function tn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ri.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return F(u.i)}function Bh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Gr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function mo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Gr(u),A=Bh(u),L=A.length,Q=0;Q<L;Q++)g.call(void 0,A[Q],_&&_[Q],u)}var er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var Q=u[_].substring(0,A);L=u[_].substring(A+1)}else Q=u[_];g(Q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ve(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ve){this.h=u.h,nr(this,u.j),this.o=u.o,this.g=u.g,is(this,u.s),this.l=u.l;var g=u.i,_=new Ci;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),wi(this,_),this.m=u.m}else u&&(g=String(u).match(er))?(this.h=!1,nr(this,g[1]||"",!0),this.o=Cn(g[2]||""),this.g=Cn(g[3]||"",!0),is(this,g[4]),this.l=Cn(g[5]||"",!0),wi(this,g[6]||"",!0),this.m=Cn(g[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}ve.prototype.toString=function(){var u=[],g=this.j;g&&u.push(sr(g,go,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(sr(g,go,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(sr(_,_.charAt(0)=="/"?jh:po,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",sr(_,Qr)),u.join("")};function gn(u){return new ve(u)}function nr(u,g,_){u.j=_?Cn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function is(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function wi(u,g,_){g instanceof Ci?(u.i=g,cu(u.i,u.h)):(_||(g=sr(g,Hh)),u.i=new Ci(g,u.h))}function $t(u,g,_){u.i.set(g,_)}function ir(u){return $t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,uu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var go=/[#\/\?@]/g,po=/[#\?:]/g,jh=/[#\?]/g,Hh=/[#\?@]/g,Qr=/#/g;function Ci(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&qh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}s=Ci.prototype,s.add=function(u,g){In(this),this.i=null,u=ti(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ii(u,g){In(u),g=ti(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Di(u,g){return In(u),g=ti(u,g),u.g.has(g)}s.forEach=function(u,g){In(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(g,L,A,this)},this)},this)},s.na=function(){In(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const L=u[A];for(let Q=0;Q<L.length;Q++)_.push(g[A])}return _},s.V=function(u){In(this);let g=[];if(typeof u=="string")Di(this,u)&&(g=g.concat(this.g.get(ti(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},s.set=function(u,g){return In(this),this.i=null,u=ti(this,u),Di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function yo(u,g,_){Ii(u,g),0<_.length&&(u.i=null,u.g.set(ti(u,g),F(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Q=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var L=Q;ot[A]!==""&&(L+="="+encodeURIComponent(String(ot[A]))),u.push(L)}}return this.i=u.join("&")};function ti(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function cu(u,g){g&&!u.j&&(In(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(Ii(this,A),yo(this,L,_))},u)),u.j=g}function rr(u,g){const _=new wn;if(m.Image){const A=new Image;A.onload=P(Dn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Dn,_,"TestLoadImage: error",!1,g,A),A.onabort=P(Dn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Dn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Hn(u,g){const _=new wn,A=new AbortController,L=setTimeout(()=>{A.abort(),Dn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(Q=>{clearTimeout(L),Q.ok?Dn(_,"TestPingServer: ok",!0,g):Dn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Dn(_,"TestPingServer: error",!1,g)})}function Dn(u,g,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function ar(){this.g=new $s}function ei(u,g,_){const A=_||"";try{mo(u,function(L,Q){let ot=L;p(L)&&(ot=qn(L)),g.push(A+Q+"="+encodeURIComponent(ot))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function ss(u){this.l=u.Ub||null,this.j=u.eb||!1}k(ss,so),ss.prototype.g=function(){return new Vi(this.l,this.j)},ss.prototype.i=function(u){return function(){return u}}({});function Vi(u,g){he.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Vi,he),s=Vi.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ni(this):ii(this),this.readyState==3&&_o(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ni(this))},s.Qa=function(u){this.g&&(this.response=u,ni(this))},s.ga=function(){this.g&&ni(this)};function ni(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ii(u)}s.setRequestHeader=function(u,g){this.u.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vo(u){let g="";return _t(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ne(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=vo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$t(u,g,_))}function Ft(u){he.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ft,he);var Fr=/^https?$/i,or=["POST","PUT"];s=Ft.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?ro(this.o):ro($n),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Q){hu(this,Q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),L=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(or,g,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of _)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lr(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){hu(this,Q)}};function hu(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Yr(u),si(u)}function Yr(u){u.A||(u.A=!0,Kt(u,"complete"),Kt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Kt(this,"complete"),Kt(this,"abort"),si(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ft.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Kr(this):this.bb())},s.bb=function(){Kr(this)};function Kr(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)Ye(u.Ea,0,u);else if(Kt(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const ot=u.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=ot===0){var L=String(u.D).match(er)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!Fr.test(L?L.toLowerCase():"")}_=A}if(_)Kt(u,"complete"),Kt(u,"success");else{u.m=6;try{var Q=2<Vn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Yr(u)}}finally{si(u)}}}}function si(u,g){if(u.g){lr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Kt(u,"ready");try{_.onreadystatechange=A}catch{}}}function lr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),kr(g)}};function fu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gh(u){const g={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(rt(u[A]))continue;var _=N(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[L]||[];g[L]=Q,Q.push(_)}O(g,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Xr(u){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,u),this.cb=ur("retryDelaySeedMs",1e4,u),this.Wa=ur("forwardChannelMaxRetries",2,u),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(u&&u.concurrentRequestLimit),this.Da=new ar,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Xr.prototype,s.la=8,s.G=1,s.connect=function(u,g,_,A){re(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=vu(this,null,this.W),$r(this)};function Eo(u){if(du(u),u.G==3){var g=u.U++,_=gn(u.I);if($t(_,"SID",u.K),$t(_,"RID",g),$t(_,"TYPE","terminate"),cr(u,_),g=new We(u,u.j,g),g.L=2,g.v=ir(gn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Eu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ws(g)}_u(u)}function Zr(u){u.g&&(hr(u),u.g.cancel(),u.g=null)}function du(u){Zr(u),u.u&&(m.clearTimeout(u.u),u.u=null),Jr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function $r(u){if(!qr(u.h)&&!u.s){u.s=!0;var g=u.Ga;it||V(),ut||(it(),ut=!0),wt.add(g,u),u.B=0}}function Qh(u,g){return jr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(b(u.Ga,u,g),bo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new We(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=w(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(L.H=Q,Q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=mu(this,L,g),_=gn(this.I),$t(_,"RID",u),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),cr(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(vo(Q)))+"&"+g:this.m&&Ne(_,this.m,Q)),Hr(this.h,L),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",g),$t(_,"SID","null"),L.T=!0,jn(L,_,null)):jn(L,_,g),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||qr(this.h)||To(this))};function To(u,g){var _;g?_=g.l:_=u.U++;const A=gn(u.I);$t(A,"SID",u.K),$t(A,"RID",_),$t(A,"AID",u.T),cr(u,A),u.m&&u.o&&Ne(A,u.m,u.o),_=new We(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=mu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hr(u.h,_),jn(_,A,g)}function cr(u,g){u.H&&_t(u.H,function(_,A){$t(g,A,_)}),u.l&&mo({},function(_,A){$t(g,A,_)})}function mu(u,g,_){_=Math.min(u.i.length,_);var A=u.l?b(u.l.Na,u.l,u):null;t:{var L=u.i;let Q=-1;for(;;){const ot=["count="+_];Q==-1?0<_?(Q=L[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let kt=!0;for(let Re=0;Re<_;Re++){let zt=L[Re].g;const xe=L[Re].map;if(zt-=Q,0>zt)Q=Math.max(0,L[Re].g-100),kt=!1;else try{ei(xe,ot,"req"+zt+"_")}catch{A&&A(xe)}}if(kt){A=ot.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function gu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;it||V(),ut||(it(),ut=!0),wt.add(g,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(b(u.Fa,u),bo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(b(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Zr(this),pu(this))};function hr(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=gn(u.qa);$t(g,"RID","rpc"),$t(g,"SID",u.K),$t(g,"AID",u.T),$t(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&$t(g,"TO",u.ja),$t(g,"TYPE","xmlhttp"),cr(u,g),u.m&&u.o&&Ne(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ir(gn(g)),_.m=null,_.P=!0,Si(_,u)}s.Za=function(){this.C!=null&&(this.C=null,Zr(this),Ao(this),re(19))};function Jr(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function yu(u,g){var _=null;if(u.g==g){Jr(u),hr(u),u.g=null;var A=2}else if(ho(u.h,g))_=g.D,tn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;A=Ji(),Kt(A,new Se(A,_)),$r(u)}else gu(u);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&Qh(u,g)||A==2&&Ao(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function bo(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Oi(u,g){if(u.j.info("Error code "+g),g==2){var _=b(u.fb,u),A=u.Xa;const L=!A;A=new ve(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||nr(A,"https"),ir(A),L?rr(A.toString(),_):Hn(A.toString(),_)}else re(2);u.G=0,u.l&&u.l.sa(g),_u(u),du(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function _u(u){if(u.G=0,u.ka=[],u.l){const g=fo(u.h);(g.length!=0||u.i.length!=0)&&(H(u.ka,g),H(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function vu(u,g,_){var A=_ instanceof ve?gn(_):new ve(_);if(A.g!="")g&&(A.g=g+"."+A.g),is(A,A.s);else{var L=m.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var Q=new ve(null);A&&nr(Q,A),g&&(Q.g=g),L&&is(Q,L),_&&(Q.l=_),A=Q}return _=u.D,g=u.ya,_&&g&&$t(A,_,g),$t(A,"VER",u.la),cr(u,A),A}function Eu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ft(new ss({eb:_})):new Ft(u.pa),g.Ha(u.J),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Wr(){}Wr.prototype.g=function(u,g){return new en(u,g)};function en(u,g){he.call(this),this.g=new Xr(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!rt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!rt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ri(this)}k(en,he),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Eo(this.g)},en.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=qn(u),u=_);g.i.push(new lu(g.Ya++,u)),g.G==3&&$r(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,en.aa.N.call(this)};function Au(u){Ai.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}k(Au,Ai);function bu(){oo.call(this),this.status=1}k(bu,oo);function ri(u){this.g=u}k(ri,Tu),ri.prototype.ua=function(){Kt(this.g,"a")},ri.prototype.ta=function(u){Kt(this.g,new Au(u))},ri.prototype.sa=function(u){Kt(this.g,new bu)},ri.prototype.ra=function(){Kt(this.g,"b")},Wr.prototype.createWebChannel=Wr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,hE=function(){return new Wr},cE=function(){return Ji()},uE=Zn,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Vc=es,bi.COMPLETE="complete",lE=bi,ao.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",he.prototype.listen=he.prototype.K,gl=ao,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,oE=Ft}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new tE("@firebase/firestore");function Oa(){return Vr.logLevel}function ct(s,...t){if(Vr.logLevel<=jt.DEBUG){const n=t.map(Ym);Vr.debug(`Firestore (${Za}): ${s}`,...n)}}function Zi(s,...t){if(Vr.logLevel<=jt.ERROR){const n=t.map(Ym);Vr.error(`Firestore (${Za}): ${s}`,...n)}}function za(s,...t){if(Vr.logLevel<=jt.WARN){const n=t.map(Ym);Vr.warn(`Firestore (${Za}): ${s}`,...n)}}function Ym(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,fE(s,r,n)}function fE(s,t,n){let r=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zi(r),new Error(r)}function Yt(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||fE(t,l,r)}function Dt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Xa{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class i2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class s2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ns,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},m=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ns)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new dE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class a2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new a2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BS(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const r=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=u2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=t.charAt(l[c]%62))}return r}}function Nt(s,t){return s<t?-1:s>t?1:0}function hm(s,t){let n=0;for(;n<s.length&&n<t.length;){const r=s.codePointAt(n),l=t.codePointAt(n);if(r!==l){if(r<128&&l<128)return Nt(r,l);{const c=mE(),f=c2(c.encode(bv(s,n)),c.encode(bv(t,n)));return f!==0?f:Nt(r,l)}}n+=r>65535?2:1}return Nt(s.length,t.length)}function bv(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function c2(s,t){for(let n=0;n<s.length&&n<t.length;++n)if(s[n]!==t[n])return Nt(s[n],t[n]);return Nt(s.length,t.length)}function Ba(s,t,n){return s.length===t.length&&s.every((r,l)=>n(r,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-62135596800,Rv=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Rv);return new Ve(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Sv)throw new yt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Ve(0,0))}static max(){return new Ct(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__name__";class fi{constructor(t,n,r){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&St(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const c=fi.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Nt(t.length,n.length)}static compareSegments(t,n){const r=fi.isNumericId(t),l=fi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?fi.extractNumericId(t).compare(fi.extractNumericId(n)):hm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ms.fromString(t.substring(4,t.length-2))}}class oe extends fi{construct(t,n,r){return new oe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(l=>l.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends fi{construct(t,n,r){return new Qe(t,n,r)}static isValidIdentifier(t){return h2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Qe([wv])}static fromServerFormat(t){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new yt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new yt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new yt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(r+=m,l++):(c(),l++)}if(c(),f)throw new yt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(oe.fromString(t))}static fromName(t){return new Et(oe.fromString(t).popFirst(5))}static empty(){return new Et(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function f2(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Us(l,Et.empty(),t)}function d2(s){return new Us(s.readTime,s.key,Ml)}class Us{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Us(Ct.min(),Et.empty(),Ml)}static max(){return new Us(Ct.max(),Et.empty(),Ml)}}function m2(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(s.documentKey,t.documentKey),n!==0?n:Nt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==g2)throw s;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,r)=>{n(t)})}static reject(t){return new Z((n,r)=>{r(t)})}static waitFor(t){return new Z((n,r)=>{let l=0,c=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++c,f&&c===l&&n()},y=>r(y))}),f=!0,c===l&&n()})}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next(l=>l?Z.resolve(l):r());return n}static forEach(t,n){const r=[];return t.forEach((l,c)=>{r.push(n.call(this,l,c))}),this.waitFor(r)}static mapArray(t,n){return new Z((r,l)=>{const c=t.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const p=y;n(t[p]).next(E=>{f[p]=E,++m,m===c&&r(f)},E=>l(E))}})}static doWhile(t,n){return new Z((r,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):r()};c()})}}function y2(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ah.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function oh(s){return s==null}function Hc(s){return s===0&&1/s==-1/0}function _2(s){return typeof s=="number"&&Number.isInteger(s)&&!Hc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="";function v2(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Cv(t)),t=E2(s.get(n),t);return Cv(t)}function E2(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case pE:n+="";break;default:n+=c}}return n}function Cv(s){return s+pE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function js(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function yE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?r(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,r,l,c){this.key=t,this.value=n,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,c){return new Ge(t??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,r,l,c){return this}insert(t,n,r){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let n=new Oe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ba(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const n=T2.exec(s);if(Yt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ks(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="server_timestamp",EE="__type__",TE="__previous_value__",AE="__local_write_time__";function Xm(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[EE])===null||n===void 0?void 0:n.stringValue)===vE}function lh(s){const t=s.mapValue.fields[TE];return Xm(t)?lh(t):t}function Nl(s){const t=Ls(s.mapValue.fields[AE].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n,r,l,c,f,m,y,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Gc="(default)";class xl{constructor(t,n){this.projectId=t,this.database=n||Gc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__type__",b2="__max__",wc={mapValue:{}},SE="__vector__",Qc="value";function zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:R2(s)?9007199254740991:S2(s)?10:11:St(28295,{value:s})}function yi(s,t){if(s===t)return!0;const n=zs(s);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Nl(s).isEqual(Nl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Ls(l.timestampValue),m=Ls(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return ks(l.bytesValue).isEqual(ks(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ye(l.doubleValue),m=ye(c.doubleValue);return f===m?Hc(f)===Hc(m):isNaN(f)&&isNaN(m)}return!1}(s,t);case 9:return Ba(s.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},m=c.mapValue.fields||{};if(Iv(f)!==Iv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!yi(f[y],m[y])))return!1;return!0}(s,t);default:return St(52216,{left:s})}}function Pl(s,t){return(s.values||[]).find(n=>yi(n,t))!==void 0}function qa(s,t){if(s===t)return 0;const n=zs(s),r=zs(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return function(c,f){const m=ye(c.integerValue||c.doubleValue),y=ye(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(s,t);case 3:return Vv(s.timestampValue,t.timestampValue);case 4:return Vv(Nl(s),Nl(t));case 5:return hm(s.stringValue,t.stringValue);case 6:return function(c,f){const m=ks(c),y=ks(f);return m.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=Nt(m[p],y[p]);if(E!==0)return E}return Nt(m.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,f){const m=Nt(ye(c.latitude),ye(f.latitude));return m!==0?m:Nt(ye(c.longitude),ye(f.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Ov(s.arrayValue,t.arrayValue);case 10:return function(c,f){var m,y,p,E;const S=c.fields||{},b=f.fields||{},P=(m=S[Qc])===null||m===void 0?void 0:m.arrayValue,k=(y=b[Qc])===null||y===void 0?void 0:y.arrayValue,F=Nt(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:Ov(P,k)}(s.mapValue,t.mapValue);case 11:return function(c,f){if(c===wc.mapValue&&f===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const b=hm(y[S],E[S]);if(b!==0)return b;const P=qa(m[y[S]],p[E[S]]);if(P!==0)return P}return Nt(y.length,E.length)}(s.mapValue,t.mapValue);default:throw St(23264,{Pe:n})}}function Vv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const n=Ls(s),r=Ls(t),l=Nt(n.seconds,r.seconds);return l!==0?l:Nt(n.nanos,r.nanos)}function Ov(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=qa(n[l],r[l]);if(c)return c}return Nt(n.length,r.length)}function ja(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return ks(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return Et.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=fm(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of r)c?c=!1:l+=",",l+=`${f}:${fm(n.fields[f])}`;return l+"}"}(s.mapValue):St(61005,{value:s})}function Oc(s){switch(zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(s);return t?16+Oc(t):16;case 5:return 2*s.stringValue.length;case 6:return ks(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,c)=>l+Oc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return js(r.fields,(c,f)=>{l+=c.length+Oc(f)}),l}(s.mapValue);default:throw St(13486,{value:s})}}function dm(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function Mv(s){return!!s&&"nullValue"in s}function Nv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mc(s){return!!s&&"mapValue"in s}function S2(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[bE])===null||n===void 0?void 0:n.stringValue)===SE}function Al(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return js(s.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Al(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Al(s.arrayValue.values[n]);return t}return Object.assign({},s)}function R2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===b2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(n)}setAll(t){let n=Qe.emptyPath(),r={},l=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=m.popLast()}f?r[m.lastSegment()]=Al(f):l.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){js(n,(l,c)=>t[l]=c);for(const l of r)delete t[l]}clone(){return new fn(Al(this.value))}}function RE(s){const t=[];return js(s.fields,(n,r)=>{const l=new Qe([n]);if(Mc(r)){const c=RE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,r,l,c,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,Ct.min(),Ct.min(),Ct.min(),fn.empty(),0)}static newFoundDocument(t,n,r,l){return new Je(t,1,n,Ct.min(),r,l,0)}static newNoDocument(t,n){return new Je(t,2,n,Ct.min(),Ct.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,Ct.min(),Ct.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n){this.position=t,this.inclusive=n}}function xv(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],f=s.position[l];if(c.field.isKeyField()?r=Et.comparator(Et.fromName(f.referenceValue),n.key):r=qa(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!yi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n="asc"){this.field=t,this.dir=n}}function w2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{}class De extends wE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new I2(t,n,r):n==="array-contains"?new O2(t,r):n==="in"?new M2(t,r):n==="not-in"?new N2(t,r):n==="array-contains-any"?new x2(t,r):new De(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new D2(t,r):new V2(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends wE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new _i(t,n)}matches(t){return CE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CE(s){return s.op==="and"}function IE(s){return C2(s)&&CE(s)}function C2(s){for(const t of s.filters)if(t instanceof _i)return!1;return!0}function mm(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+ja(s.value);if(IE(s))return s.filters.map(t=>mm(t)).join(",");{const t=s.filters.map(n=>mm(n)).join(",");return`${s.op}(${t})`}}function DE(s,t){return s instanceof De?function(r,l){return l instanceof De&&r.op===l.op&&r.field.isEqual(l.field)&&yi(r.value,l.value)}(s,t):s instanceof _i?function(r,l){return l instanceof _i&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((c,f,m)=>c&&DE(f,l.filters[m]),!0):!1}(s,t):void St(19439)}function VE(s){return s instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(s):s instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(VE).join(" ,")+"}"}(s):"Filter"}class I2 extends De{constructor(t,n,r){super(t,n,r),this.key=Et.fromName(r.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class D2 extends De{constructor(t,n){super(t,"in",n),this.keys=OE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class V2 extends De{constructor(t,n){super(t,"not-in",n),this.keys=OE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function OE(s,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Et.fromName(r.referenceValue))}class O2 extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Zm(n)&&Pl(n.arrayValue,this.value)}}class M2 extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class N2 extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class x2 extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n=null,r=[],l=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=f,this.endAt=m,this.Ie=null}}function Uv(s,t=null,n=[],r=[],l=null,c=null,f=null){return new P2(s,t,n,r,l,c,f)}function $m(s){const t=Dt(s);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),oh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ja(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ja(r)).join(",")),t.Ie=n}return t.Ie}function Jm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!w2(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!DE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Pv(s.startAt,t.startAt)&&Pv(s.endAt,t.endAt)}function gm(s){return Et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n=null,r=[],l=[],c=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function U2(s,t,n,r,l,c,f,m){return new uh(s,t,n,r,l,c,f,m)}function ch(s){return new uh(s)}function Lv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function L2(s){return s.collectionGroup!==null}function bl(s){const t=Dt(s);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Oe(Qe.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Yc(c,r))}),n.has(Qe.keyField().canonicalString())||t.Ee.push(new Yc(Qe.keyField(),r))}return t.Ee}function mi(s){const t=Dt(s);return t.de||(t.de=k2(t,bl(s))),t.de}function k2(s,t){if(s.limitType==="F")return Uv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Yc(l.field,c)});const n=s.endAt?new Fc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Fc(s.startAt.position,s.startAt.inclusive):null;return Uv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function pm(s,t,n){return new uh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function hh(s,t){return Jm(mi(s),mi(t))&&s.limitType===t.limitType}function ME(s){return`${$m(mi(s))}|lt:${s.limitType}`}function Ma(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(l=>VE(l)).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(l=>ja(l)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(l=>ja(l)).join(",")),`Target(${r})`}(mi(s))}; limitType=${s.limitType})`}function fh(s,t){return t.isFoundDocument()&&function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Et.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,l){for(const c of bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(r,l){return!(r.startAt&&!function(f,m,y){const p=xv(f,m,y);return f.inclusive?p<=0:p<0}(r.startAt,bl(r),l)||r.endAt&&!function(f,m,y){const p=xv(f,m,y);return f.inclusive?p>=0:p>0}(r.endAt,bl(r),l))}(s,t)}function z2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function NE(s){return(t,n)=>{let r=!1;for(const l of bl(s)){const c=B2(l,t,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function B2(s,t,n){const r=s.field.isKeyField()?Et.comparator(t.key,n.key):function(c,f,m){const y=f.data.field(c),p=m.data.field(c);return y!==null&&p!==null?qa(y,p):St(42886)}(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,(n,r)=>{for(const[l,c]of r)t(l,c)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new ce(Et.comparator);function $i(){return q2}const xE=new ce(Et.comparator);function pl(...s){let t=xE;for(const n of s)t=t.insert(n.key,n);return t}function PE(s){let t=xE;return s.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ir(){return Sl()}function UE(){return Sl()}function Sl(){return new Nr(s=>s.toString(),(s,t)=>s.isEqual(t))}const j2=new ce(Et.comparator),H2=new Oe(Et.comparator);function Lt(...s){let t=H2;for(const n of s)t=t.add(n);return t}const G2=new Oe(Nt);function Q2(){return G2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function LE(s){return{integerValue:""+s}}function F2(s,t){return _2(t)?LE(t):Wm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function Y2(s,t,n){return s instanceof Kc?function(l,c){const f={fields:{[EE]:{stringValue:vE},[AE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=lh(c)),c&&(f.fields[TE]=c),{mapValue:f}}(n,t):s instanceof Ul?zE(s,t):s instanceof Ll?BE(s,t):function(l,c){const f=kE(l,c),m=kv(f)+kv(l.Re);return dm(f)&&dm(l.Re)?LE(m):Wm(l.serializer,m)}(s,t)}function K2(s,t,n){return s instanceof Ul?zE(s,t):s instanceof Ll?BE(s,t):n}function kE(s,t){return s instanceof Xc?function(r){return dm(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class Kc extends dh{}class Ul extends dh{constructor(t){super(),this.elements=t}}function zE(s,t){const n=qE(t);for(const r of s.elements)n.some(l=>yi(l,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends dh{constructor(t){super(),this.elements=t}}function BE(s,t){let n=qE(t);for(const r of s.elements)n=n.filter(l=>!yi(l,r));return{arrayValue:{values:n}}}class Xc extends dh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function kv(s){return ye(s.integerValue||s.doubleValue)}function qE(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function X2(s,t){return s.field.isEqual(t.field)&&function(r,l){return r instanceof Ul&&l instanceof Ul||r instanceof Ll&&l instanceof Ll?Ba(r.elements,l.elements,yi):r instanceof Xc&&l instanceof Xc?yi(r.Re,l.Re):r instanceof Kc&&l instanceof Kc}(s.transform,t.transform)}class Z2{constructor(t,n){this.version=t,this.transformResults=n}}class gi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class mh{}function jE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new GE(s.key,gi.none()):new Fl(s.key,s.data,gi.none());{const n=s.data,r=fn.empty();let l=new Oe(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),l=l.add(c)}return new Hs(s.key,r,new bn(l.toArray()),gi.none())}}function $2(s,t,n){s instanceof Fl?function(l,c,f){const m=l.value.clone(),y=Bv(l.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(s,t,n):s instanceof Hs?function(l,c,f){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Bv(l.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(HE(l)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(s,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Rl(s,t,n,r){return s instanceof Fl?function(c,f,m,y){if(!Nc(c.precondition,f))return m;const p=c.value.clone(),E=qv(c.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(s,t,n,r):s instanceof Hs?function(c,f,m,y){if(!Nc(c.precondition,f))return m;const p=qv(c.fieldTransforms,y,f),E=f.data;return E.setAll(HE(c)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(s,t,n,r):function(c,f,m){return Nc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(s,t,n)}function J2(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=kE(r.transform,l||null);c!=null&&(n===null&&(n=fn.empty()),n.set(r.field,c))}return n||null}function zv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ba(r,l,(c,f)=>X2(c,f))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fl extends mh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hs extends mh{constructor(t,n,r,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HE(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}}),t}function Bv(s,t,n){const r=new Map;Yt(s.length===n.length,32656,{Ve:n.length,me:s.length});for(let l=0;l<n.length;l++){const c=s[l],f=c.transform,m=t.data.field(c.field);r.set(c.field,K2(f,m,n[l]))}return r}function qv(s,t,n){const r=new Map;for(const l of s){const c=l.transform,f=n.data.field(l.field);r.set(l.field,Y2(c,f,t))}return r}class GE extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&$2(c,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Rl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Rl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=UE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(l.key)?null:m;const y=jE(f,m);y!==null&&r.set(l.key,y),f.isValidDocument()||f.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Ba(this.mutations,t.mutations,(n,r)=>zv(n,r))&&Ba(this.baseMutations,t.baseMutations,(n,r)=>zv(n,r))}}class tg{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Yt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let l=function(){return j2}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,r[f].version);return new tg(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,qt;function iR(s){switch(s){case W.OK:return St(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return St(15467,{code:s})}}function QE(s){if(s===void 0)return Zi("GRPC error has no .code"),W.UNKNOWN;switch(s){case Ae.OK:return W.OK;case Ae.CANCELLED:return W.CANCELLED;case Ae.UNKNOWN:return W.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return W.INTERNAL;case Ae.UNAVAILABLE:return W.UNAVAILABLE;case Ae.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ae.NOT_FOUND:return W.NOT_FOUND;case Ae.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ae.ABORTED:return W.ABORTED;case Ae.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ae.DATA_LOSS:return W.DATA_LOSS;default:return St(39323,{code:s})}}(qt=Ae||(Ae={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Ms([4294967295,4294967295],0);function jv(s){const t=mE().encode(s),n=new aE;return n.update(t),new Uint8Array(n.digest())}function Hv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ms([n,r],0),new Ms([l,c],0)]}class eg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ms.fromNumber(this.pe)}we(t,n,r){let l=t.add(n.multiply(Ms.fromNumber(r)));return l.compare(sR)===1&&(l=new Ms([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=jv(t),[r,l]=Hv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(r,l,c);if(!this.be(f))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new eg(c,l,n);return r.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=jv(t),[r,l]=Hv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(r,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n,r,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new gh(Ct.min(),l,new ce(Nt),$i(),Lt())}}class Yl{constructor(t,n,r,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Yl(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,r,l){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=l}}class FE{constructor(t,n){this.targetId=t,this.Ce=n}}class YE{constructor(t,n,r=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Gv{constructor(){this.Fe=0,this.Me=Qv(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),n=Lt(),r=Lt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:St(38017,{changeType:c})}}),new Yl(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=Qv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rR{constructor(t){this.ze=t,this.je=new Map,this.He=$i(),this.Je=Cc(),this.Ye=Cc(),this.Ze=new ce(Nt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,r=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(gm(c))if(r===0){const f=new Et(c.path);this.tt(n,f,Je.newNoDocument(f,Ct.min()))}else Yt(r===1,20013,{expectedCount:r});else{const f=this.ut(n);if(f!==r){const m=this.ct(t),y=m?this.lt(m,t,f):1;if(y!==0){this.st(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let f,m;try{f=ks(r).toUint8Array()}catch(y){if(y instanceof _E)return za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new eg(f,l,c)}catch(y){return za(y instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.pe===0?null:m}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let l=0;return r.forEach(c=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const m=this._t(f);if(m){if(c.current&&gm(m.target)){const y=new Et(m.target.path);this.Et(y).has(f)||this.dt(f,y)||this.tt(f,y,Je.newNoDocument(y,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let r=Lt();this.Ye.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const p=this._t(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new gh(t,n,this.Ze,this.He,r);return this.He=$i(),this.Je=Cc(),this.Ye=Cc(),this.Ze=new ce(Nt),l}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Gv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Oe(Nt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Oe(Nt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Gv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Cc(){return new ce(Et.comparator)}function Qv(){return new ce(Et.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class uR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ym(s,t){return s.useProto3Json||oh(t)?t:{value:t}}function Zc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function cR(s,t){return Zc(s,t.toTimestamp())}function pi(s){return Yt(!!s,49232),Ct.fromTimestamp(function(n){const r=Ls(n);return new Ve(r.seconds,r.nanos)}(s))}function ng(s,t){return _m(s,t).canonicalString()}function _m(s,t){const n=function(l){return new oe(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?n:n.child(t)}function XE(s){const t=oe.fromString(s);return Yt(t1(t),10190,{key:t.toString()}),t}function vm(s,t){return ng(s.databaseId,t.path)}function Yd(s,t){const n=XE(t);if(n.get(1)!==s.databaseId.projectId)throw new yt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new yt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Et($E(n))}function ZE(s,t){return ng(s.databaseId,t)}function hR(s){const t=XE(s);return t.length===4?oe.emptyPath():$E(t)}function Em(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $E(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Fv(s,t,n){return{name:vm(s,t),fields:n.value.mapValue.fields}}function fR(s,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:St(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(p){const E=p.code===void 0?W.UNKNOWN:QE(p.code);return new yt(E,p.message||"")}(f);n=new YE(r,l,c,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=pi(r.document.updateTime),f=r.document.createTime?pi(r.document.createTime):Ct.min(),m=new fn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,c,f,m),p=r.targetIds||[],E=r.removedTargetIds||[];n=new xc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?pi(r.readTime):Ct.min(),f=Je.newNoDocument(l,c),m=r.removedTargetIds||[];n=new xc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];n=new xc([],c,l,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,f=new nR(l,c),m=r.targetId;n=new FE(m,f)}}return n}function dR(s,t){let n;if(t instanceof Fl)n={update:Fv(s,t.key,t.value)};else if(t instanceof GE)n={delete:vm(s,t.key)};else if(t instanceof Hs)n={update:Fv(s,t.key,t.data),updateMask:AR(t.fieldMask)};else{if(!(t instanceof W2))return St(16599,{ft:t.type});n={verify:vm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(c,f){const m=f.transform;if(m instanceof Kc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ul)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ll)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw St(20930,{transform:f.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:cR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)}(s,t.precondition)),n}function mR(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map(n=>function(l,c){let f=l.updateTime?pi(l.updateTime):pi(c);return f.isEqual(Ct.min())&&(f=pi(c)),new Z2(f,l.transformResults||[])}(n,t))):[]}function gR(s,t){return{documents:[ZE(s,t.path)]}}function pR(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZE(s,l);const c=function(p){if(p.length!==0)return WE(_i.create(p,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(p){if(p.length!==0)return p.map(E=>function(b){return{field:Na(b.field),direction:vR(b.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ym(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:l}}function yR(s){let t=hR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Yt(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];n.where&&(c=function(S){const b=JE(S);return b instanceof _i&&IE(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(k){return new Yc(xa(k.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,oh(b)?null:b}(n.limit));let y=null;n.startAt&&(y=function(S){const b=!!S.before,P=S.values||[];return new Fc(P,b)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const b=!S.before,P=S.values||[];return new Fc(P,b)}(n.endAt)),U2(t,l,f,c,m,"F",y,p)}function _R(s,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xa(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=xa(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xa(n.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xa(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(s):s.fieldFilter!==void 0?function(n){return De.create(xa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(r=>JE(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(n.compositeFilter.op))}(s):St(30097,{filter:s})}function vR(s){return aR[s]}function ER(s){return oR[s]}function TR(s){return lR[s]}function Na(s){return{fieldPath:s.canonicalString()}}function xa(s){return Qe.fromServerFormat(s.fieldPath)}function WE(s){return s instanceof De?function(n){if(n.op==="=="){if(Nv(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nv(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(n.field),op:ER(n.op),value:n.value}}}(s):s instanceof _i?function(n){const r=n.getFilters().map(l=>WE(l));return r.length===1?r[0]:{compositeFilter:{op:TR(n.op),filters:r}}}(s):St(54877,{filter:s})}function AR(s){const t=[];return s.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function t1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n,r,l,c=Ct.min(),f=Ct.min(),m=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.wt=t}}function SR(s){const t=yR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Cn=new wR}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Us.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Us.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class wR{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Oe(oe.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Oe(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(e1,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ha(0)}static lr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LruGarbageCollector",CR=1048576;function Xv([s,t],[n,r]){const l=Nt(s,n);return l===0?Nt(t,r):l}class IR{constructor(t){this.Er=t,this.buffer=new Oe(Xv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Xv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DR{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ct(Kv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?ct(Kv,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.mr(3e5)})}}class VR{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(ah.le);const r=new IR(n);return this.gr.forEachTarget(t,l=>r.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>r.Rr(l))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Yv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,l,c,f,m,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l))).next(S=>(r=S,m=Date.now(),this.removeTargets(t,r,n))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,r))).next(S=>(p=Date.now(),Oa()<=jt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S})))}}function OR(s,t){return new VR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new Nr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(r!==null&&Rl(r.mutation,l,bn.empty(),Ve.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Lt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Lt()){const l=Ir();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,r).next(c=>{let f=pl();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const r=Ir();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Lt()))}populateOverlays(t,n,r){const l=[];return r.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,r,l){let c=$i();const f=Sl(),m=function(){return Sl()}();return n.forEach((y,p)=>{const E=r.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof Hs)?c=c.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Rl(E.mutation,p,E.mutation.getFieldMask(),Ve.now())):f.set(p.key,bn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var S;return m.set(p,new NR(E,(S=f.get(p))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,n){const r=Sl();let l=new ce((f,m)=>f-m),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const p=n.get(y);if(p===null)return;let E=r.get(y)||bn.empty();E=m.applyToLocalView(p,E),r.set(y,E);const S=(l.get(m.batchId)||Lt()).add(y);l=l.insert(m.batchId,S)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,S=UE();E.forEach(b=>{if(!c.has(b)){const P=jE(n.get(b),r.get(b));P!==null&&S.set(b,P),c=c.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,p,S))}return Z.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,l){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):L2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-c.size):Z.resolve(Ir());let m=Ml,y=c;return f.next(p=>Z.forEach(p,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{y=y.insert(E,b)}))).next(()=>this.populateOverlays(t,p,c)).next(()=>this.computeViews(t,y,p,Lt())).next(E=>({batchId:m,changes:PE(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(r=>{let l=pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const c=n.collectionGroup;let f=pl();return this.indexManager.getCollectionParents(t,c).next(m=>Z.forEach(m,y=>{const p=function(S,b){return new uh(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,r,l).next(E=>{E.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,c,l))).next(f=>{c.forEach((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))});let m=pl();return f.forEach((y,p)=>{const E=c.get(y);E!==void 0&&Rl(E.mutation,p,bn.empty(),Ve.now()),fh(n,p)&&(m=m.insert(y,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return Z.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:pi(l.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:SR(l.bundledQuery),readTime:pi(l.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.overlays=new ce(Et.comparator),this.Qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ir();return Z.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&r.set(l,c)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((l,c)=>{this.St(t,n,c)}),Z.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Qr.get(r);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const l=Ir(),c=n.length+1,f=new Et(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let c=new ce((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=c.get(p.largestBatchId);E===null&&(E=Ir(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ir(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=l)););return Z.resolve(m)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(r.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new eR(n,r));let c=this.Qr.get(n);c===void 0&&(c=Lt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.$r=new Oe(ke.Ur),this.Kr=new Oe(ke.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new ke(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new ke(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new Et(new oe([])),r=new ke(n,t),l=new ke(n,t+1),c=[];return this.Kr.forEachInRange([r,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Et(new oe([])),r=new ke(n,t),l=new ke(n,t+1);let c=Lt();return this.Kr.forEachInRange([r,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new ke(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Et.comparator(t.key,n.key)||Nt(t.Zr,n.Zr)}static Wr(t,n){return Nt(t.Zr,n.Zr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Oe(ke.Ur)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tR(c,n,r,l);this.mutationQueue.push(f);for(const m of l)this.Xr=this.Xr.add(new ke(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ti(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Km:this.nr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ke(n,0),l=new ke(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([r,l],f=>{const m=this.ei(f.Zr);c.push(m)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Oe(Nt);return n.forEach(l=>{const c=new ke(l,0),f=new ke(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],m=>{r=r.add(m.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let c=r;Et.isDocumentKey(c)||(c=c.child(""));const f=new ke(new Et(c),0);let m=new Oe(Nt);return this.Xr.forEachWhile(y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(m=m.add(y.Zr)),!0)},f),Z.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(r=>{const l=this.ei(r);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Yt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(n.mutations,l=>{const c=new ke(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new ke(n,0),l=this.Xr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.ii=t,this.docs=function(){return new ce(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=$i();return n.forEach(l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))}),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let c=$i();const f=n.path,m=new Et(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||m2(d2(E),r)<=0||(l.has(E.key)||fh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,n,r,l){St(9500)}si(t,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new BR(this)}getSize(t){return Z.resolve(this.size)}}class BR extends MR{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(r)}),Z.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.persistence=t,this.oi=new Nr(n=>$m(n),Jm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this._i=0,this.ai=new ig,this.targetCount=0,this.ui=Ha.cr()}forEachTarget(t,n){return this.oi.forEach((r,l)=>n(l)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Z.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ha(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Tr(n),Z.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let l=0;const c=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),Z.waitFor(c).next(()=>l)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),Z.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n){this.ci={},this.overlays={},this.li=new ah(0),this.hi=!1,this.hi=!0,this.Pi=new LR,this.referenceDelegate=t(this),this.Ti=new qR(this),this.indexManager=new RR,this.remoteDocumentCache=function(l){return new zR(l)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new bR(n),this.Ei=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new UR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new kR(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){ct("MemoryPersistence","Starting transaction:",t);const l=new jR(this.li.next());return this.referenceDelegate.di(),r(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class jR extends p2{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Vi=new ig,this.mi=null}static fi(t){return new sg(t)}get gi(){if(this.mi)return this.mi;throw St(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const l=Et.fromPath(r);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Ct.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return Z.or([()=>Z.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class $c{constructor(t,n){this.persistence=t,this.yi=new Nr(r=>v2(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=OR(this,n)}static fi(t,n){return new $c(t,n)}di(){}Ai(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(l=>r+l))}br(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return Z.forEach(this.yi,(r,l)=>this.Dr(t,r,l).next(c=>c?Z.resolve():n(l)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,f=>this.Dr(t,f,n).next(m=>{m||(r++,c.removeEntry(f,Ct.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),Z.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}Dr(t,n,r){return Z.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.ds=r,this.As=l}static Rs(t,n){let r=Lt(),l=Lt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rg(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Lb()?8:y2(Pb())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,l){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(t,n,l,r).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new HR;return this.Ss(t,n,f).next(m=>{if(c.result=m,this.fs)return this.Ds(t,n,f,m.size)})}).next(()=>c.result)}Ds(t,n,r,l){return r.documentReadCount<this.gs?(Oa()<=jt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(Oa()<=jt.DEBUG&&ct("QueryEngine","Query:",Ma(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ps*l?(Oa()<=jt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(n))):Z.resolve())}ws(t,n){if(Lv(n))return Z.resolve(null);let r=mi(n);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=pm(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const f=Lt(...c);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,r).next(y=>{const p=this.vs(n,m);return this.Cs(n,p,f,y.readTime)?this.ws(t,pm(n,null,"F")):this.Fs(t,p,n,y)}))})))}bs(t,n,r,l){return Lv(n)||l.isEqual(Ct.min())?Z.resolve(null):this.ys.getDocuments(t,r).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,r,l)?Z.resolve(null):(Oa()<=jt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(n)),this.Fs(t,f,n,f2(l,Ml)).next(m=>m))})}vs(t,n){let r=new Oe(NE(t));return n.forEach((l,c)=>{fh(t,c)&&(r=r.add(c))}),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,r){return Oa()<=jt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.ys.getDocumentsMatchingQuery(t,n,Us.min(),r)}Fs(t,n,r,l){return this.ys.getDocumentsMatchingQuery(t,r,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",QR=3e8;class FR{constructor(t,n,r,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ce(Nt),this.Os=new Nr(c=>$m(c),Jm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function YR(s,t,n,r){return new FR(s,t,n,r)}async function i1(s,t){const n=Dt(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const f=[],m=[];let y=Lt();for(const p of l){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next(p=>({ks:p,removedBatchIds:f,addedBatchIds:m}))})})}function KR(s,t){const n=Dt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,y,p,E){const S=p.batch,b=S.keys();let P=Z.resolve();return b.forEach(k=>{P=P.next(()=>E.getEntry(y,k)).next(F=>{const H=p.docVersions.get(k);Yt(H!==null,48541),F.version.compareTo(H)<0&&(S.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),E.addEntry(F)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(y,S))}(n,r,t,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let y=Lt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y}(t))).next(()=>n.localDocuments.getDocuments(r,l))})}function s1(s){const t=Dt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function XR(s,t){const n=Dt(s),r=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const m=[];t.targetChanges.forEach((E,S)=>{const b=l.get(S);if(!b)return;m.push(n.Ti.removeMatchingKeys(c,E.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(c,E.addedDocuments,S)));let P=b.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Fe.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),l=l.insert(S,P),function(F,H,tt){return F.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=QR?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0}(b,P,E)&&m.push(n.Ti.updateTargetData(c,P))});let y=$i(),p=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(ZR(c,f,t.documentUpdates).next(E=>{y=E.qs,p=E.Qs})),!r.isEqual(Ct.min())){const E=n.Ti.getLastRemoteSnapshotVersion(c).next(S=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(E)}return Z.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(n.xs=l,c))}function ZR(s,t,n){let r=Lt(),l=Lt();return n.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let f=$i();return n.forEach((m,y)=>{const p=c.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):ct(ag,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)}),{qs:f,Qs:l}})}function $R(s,t){const n=Dt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function JR(s,t){const n=Dt(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return n.Ti.getTargetData(r,t).next(c=>c?(l=c,Z.resolve(l)):n.Ti.allocateTargetId(r).next(f=>(l=new Cs(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=n.xs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function Tm(s,t,n){const r=Dt(s),l=r.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Ja(f))throw f;ct(ag,`Failed to update sequence numbers for target ${t}: ${f}`)}r.xs=r.xs.remove(t),r.Os.delete(l.target)}function Zv(s,t,n){const r=Dt(s);let l=Ct.min(),c=Lt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(y,p,E){const S=Dt(y),b=S.Os.get(E);return b!==void 0?Z.resolve(S.xs.get(b)):S.Ti.getTargetData(p,E)}(r,f,mi(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>r.Ms.getDocumentsMatchingQuery(f,t,n?l:Ct.min(),n?c:Lt())).next(m=>(WR(r,z2(t),m),{documents:m,$s:c})))}function WR(s,t,n){let r=s.Ns.get(t)||Ct.min();n.forEach((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Ns.set(t,r)}class $v{constructor(){this.activeTargetIds=Q2()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tw{constructor(){this.xo=new $v,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new $v,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="ConnectivityMonitor";class Wv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ct(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Am(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iw{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${l}`,this.Go=this.databaseId.database===Gc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}zo(t,n,r,l,c){const f=Am(),m=this.jo(t,n.toUriEncodedString());ct(Kd,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,c);const{host:p}=new URL(m),E=Qm(p);return this.Jo(t,m,y,r,E).then(S=>(ct(Kd,`Received RPC '${t}' ${f}: `,S),S),S=>{throw za(Kd,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",r),S})}Yo(t,n,r,l,c,f){return this.zo(t,n,r,l,c)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),r&&r.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const r=nw[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class rw extends iw{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,c){const f=Am();return new Promise((m,y)=>{const p=new oE;p.setWithCredentials(!0),p.listenOnce(lE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Vc.NO_ERROR:const S=p.getResponseJson();ct(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Vc.TIMEOUT:ct(Ze,`RPC '${t}' ${f} timed out`),y(new yt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const b=p.getStatus();if(ct(Ze,`RPC '${t}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const k=P==null?void 0:P.error;if(k&&k.status&&k.message){const F=function(tt){const rt=tt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(rt)>=0?rt:W.UNKNOWN}(k.status);y(new yt(F,k.message))}else y(new yt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new yt(W.UNAVAILABLE,"Connection failed."));break;default:St(9055,{h_:t,streamId:f,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ct(Ze,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(l);ct(Ze,`RPC '${t}' ${f} sending request:`,l),p.send(n,"POST",E,r,15)})}I_(t,n,r){const l=Am(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=hE(),m=cE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=c.join("");ct(Ze,`Creating RPC '${t}' stream ${l}: ${E}`,y);const S=f.createWebChannel(E,y);this.E_(S);let b=!1,P=!1;const k=new sw({Zo:H=>{P?ct(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,H):(b||(ct(Ze,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),ct(Ze,`RPC '${t}' stream ${l} sending:`,H),S.send(H))},Xo:()=>S.close()}),F=(H,tt,rt)=>{H.listen(tt,et=>{try{rt(et)}catch(dt){setTimeout(()=>{throw dt},0)}})};return F(S,gl.EventType.OPEN,()=>{P||(ct(Ze,`RPC '${t}' stream ${l} transport opened.`),k.__())}),F(S,gl.EventType.CLOSE,()=>{P||(P=!0,ct(Ze,`RPC '${t}' stream ${l} transport closed`),k.u_(),this.d_(S))}),F(S,gl.EventType.ERROR,H=>{P||(P=!0,za(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),k.u_(new yt(W.UNAVAILABLE,"The operation could not be completed")))}),F(S,gl.EventType.MESSAGE,H=>{var tt;if(!P){const rt=H.data[0];Yt(!!rt,16349);const et=rt,dt=(et==null?void 0:et.error)||((tt=et[0])===null||tt===void 0?void 0:tt.error);if(dt){ct(Ze,`RPC '${t}' stream ${l} received error:`,dt);const ht=dt.status;let _t=function(I){const M=Ae[I];if(M!==void 0)return QE(M)}(ht),O=dt.message;_t===void 0&&(_t=W.INTERNAL,O="Unknown error status: "+ht+" with message "+dt.message),P=!0,k.u_(new yt(_t,O)),S.close()}else ct(Ze,`RPC '${t}' stream ${l} received:`,rt),k.c_(rt)}}),F(m,uE.STAT_EVENT,H=>{H.stat===cm.PROXY?ct(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):H.stat===cm.NOPROXY&&ct(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(s){return new uR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n,r=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=r,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-r);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="PersistentStream";class a1{constructor(t,n,r,l,c,f,m,y){this.xi=t,this.S_=r,this.D_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new r1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.v_===n&&this.z_(r,l)},r=>{t(()=>{const l=new yt(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(l)})})}z_(t,n){const r=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{r(()=>this.j_(l))}),this.stream.onMessage(l=>{r(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ct(t0,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ct(t0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aw extends a1{constructor(t,n,r,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=fR(this.serializer,t),r=function(c){if(!("targetChange"in c))return Ct.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ct.min():f.readTime?pi(f.readTime):Ct.min()}(t);return this.listener.Y_(n,r)}Z_(t){const n={};n.database=Em(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=gm(y)?{documents:gR(c,y)}:{query:pR(c,y).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KE(c,f.resumeToken);const p=ym(c,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Zc(c,f.snapshotVersion.toTimestamp());const p=ym(c,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,t);const r=_R(this.serializer,t);r&&(n.labels=r),this.Q_(n)}X_(t){const n={};n.database=Em(this.serializer),n.removeTarget=t,this.Q_(n)}}class ow extends a1{constructor(t,n,r,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=mR(t.writeResults,t.commitTime),r=pi(t.commitTime);return this.listener.ra(r,n)}ia(){const t={};t.database=Em(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>dR(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{}class uw extends lw{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new yt(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,_m(n,r),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(W.UNKNOWN,c.toString())})}Yo(t,n,r,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,_m(n,r),l,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(W.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class cw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zi(n),this.ua=!1):ct("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="RemoteStore";class hw{constructor(t,n,r,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{r.enqueueAndForget(async()=>{xr(this)&&(ct(Or,"Restarting streams for network reachability change."),await async function(y){const p=Dt(y);p.da.add(4),await Kl(p),p.Va.set("Unknown"),p.da.delete(4),await yh(p)}(this))})}),this.Va=new cw(r,l)}}async function yh(s){if(xr(s))for(const t of s.Aa)await t(!0)}async function Kl(s){for(const t of s.Aa)await t(!1)}function o1(s,t){const n=Dt(s);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),cg(n)?ug(n):Wa(n).N_()&&lg(n,t))}function og(s,t){const n=Dt(s),r=Wa(n);n.Ea.delete(t),r.N_()&&l1(n,t),n.Ea.size===0&&(r.N_()?r.k_():xr(n)&&n.Va.set("Unknown"))}function lg(s,t){if(s.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wa(s).Z_(t)}function l1(s,t){s.ma.Ke(t),Wa(s).X_(t)}function ug(s){s.ma=new rR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>s.Ea.get(t)||null,Pt:()=>s.datastore.serializer.databaseId}),Wa(s).start(),s.Va.ca()}function cg(s){return xr(s)&&!Wa(s).O_()&&s.Ea.size>0}function xr(s){return Dt(s).da.size===0}function u1(s){s.ma=void 0}async function fw(s){s.Va.set("Online")}async function dw(s){s.Ea.forEach((t,n)=>{lg(s,t)})}async function mw(s,t){u1(s),cg(s)?(s.Va.Pa(t),ug(s)):s.Va.set("Unknown")}async function gw(s,t,n){if(s.Va.set("Online"),t instanceof YE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const m of c.targetIds)l.Ea.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ea.delete(m),l.ma.removeTarget(m))}(s,t)}catch(r){ct(Or,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jc(s,r)}else if(t instanceof xc?s.ma.Xe(t):t instanceof FE?s.ma.ot(t):s.ma.nt(t),!n.isEqual(Ct.min()))try{const r=await s1(s.localStore);n.compareTo(r)>=0&&await function(c,f){const m=c.ma.It(f);return m.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ea.get(p);E&&c.Ea.set(p,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,p)=>{const E=c.Ea.get(y);if(!E)return;c.Ea.set(y,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),l1(c,y);const S=new Cs(E.target,y,p,E.sequenceNumber);lg(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(r){ct(Or,"Failed to raise snapshot:",r),await Jc(s,r)}}async function Jc(s,t,n){if(!Ja(t))throw t;s.da.add(1),await Kl(s),s.Va.set("Offline"),n||(n=()=>s1(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ct(Or,"Retrying IndexedDB access"),await n(),s.da.delete(1),await yh(s)})}function c1(s,t){return t().catch(n=>Jc(s,n,t))}async function _h(s){const t=Dt(s),n=Bs(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Km;for(;pw(t);)try{const l=await $R(t.localStore,r);if(l===null){t.Ia.length===0&&n.k_();break}r=l.batchId,yw(t,l)}catch(l){await Jc(t,l)}h1(t)&&f1(t)}function pw(s){return xr(s)&&s.Ia.length<10}function yw(s,t){s.Ia.push(t);const n=Bs(s);n.N_()&&n.ea&&n.ta(t.mutations)}function h1(s){return xr(s)&&!Bs(s).O_()&&s.Ia.length>0}function f1(s){Bs(s).start()}async function _w(s){Bs(s).ia()}async function vw(s){const t=Bs(s);for(const n of s.Ia)t.ta(n.mutations)}async function Ew(s,t,n){const r=s.Ia.shift(),l=tg.from(r,t,n);await c1(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await _h(s)}async function Tw(s,t){t&&Bs(s).ea&&await async function(r,l){if(function(f){return iR(f)&&f!==W.ABORTED}(l.code)){const c=r.Ia.shift();Bs(r).L_(),await c1(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l)),await _h(r)}}(s,t),h1(s)&&f1(s)}async function e0(s,t){const n=Dt(s);n.asyncQueue.verifyOperationInProgress(),ct(Or,"RemoteStore received new credentials");const r=xr(n);n.da.add(3),await Kl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await yh(n)}async function Aw(s,t){const n=Dt(s);t?(n.da.delete(2),await yh(n)):t||(n.da.add(2),await Kl(n),n.Va.set("Unknown"))}function Wa(s){return s.fa||(s.fa=function(n,r,l){const c=Dt(n);return c.oa(),new aw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{e_:fw.bind(null,s),n_:dw.bind(null,s),i_:mw.bind(null,s),Y_:gw.bind(null,s)}),s.Aa.push(async t=>{t?(s.fa.L_(),cg(s)?ug(s):s.Va.set("Unknown")):(await s.fa.stop(),u1(s))})),s.fa}function Bs(s){return s.ga||(s.ga=function(n,r,l){const c=Dt(n);return c.oa(),new ow(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:_w.bind(null,s),i_:Tw.bind(null,s),na:vw.bind(null,s),ra:Ew.bind(null,s)}),s.Aa.push(async t=>{t?(s.ga.L_(),await _h(s)):(await s.ga.stop(),s.Ia.length>0&&(ct(Or,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n,r,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,c){const f=Date.now()+r,m=new hg(t,n,f,l,c);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(s,t){if(Zi("AsyncQueue",`${t}: ${s}`),Ja(s))return new yt(W.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(t){return new Ua(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ua)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.pa=new ce(Et.comparator)}track(t){const n=t.doc.key,r=this.pa.get(n);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(n,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(n):t.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):St(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ga{constructor(t,n,r,l,c,f,m,y,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,l,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ga(t,n,Ua.emptySet(n),f,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class Sw{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Dt(n),c=l.queries;l.queries=i0(),c.forEach((f,m)=>{for(const y of m.Sa)y.onError(r)})})(this,new yt(W.ABORTED,"Firestore shutting down"))}}function i0(){return new Nr(s=>ME(s),hh)}async function d1(s,t){const n=Dt(s);let r=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(r=2):(c=new bw,r=t.va()?0:1);try{switch(r){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=fg(f,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&dg(n)}async function m1(s,t){const n=Dt(s),r=t.query;let l=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rw(s,t){const n=Dt(s);let r=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Ma(l)&&(r=!0);f.ba=l}}r&&dg(n)}function ww(s,t,n){const r=Dt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(t)}function dg(s){s.Ca.forEach(t=>{t.next()})}var bm,s0;(s0=bm||(bm={})).xa="default",s0.Cache="cache";class g1{constructor(t,n,r){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Ga(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.key=t}}class y1{constructor(t){this.key=t}}class Cw{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.Za=NE(t),this.Xa=new Ua(this.Za)}get eu(){return this.Ha}tu(t,n){const r=n?n.nu:new n0,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,S)=>{const b=l.get(E),P=fh(this.query,S)?S:null,k=!!b&&this.mutatedKeys.has(b.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;b&&P?b.data.isEqual(P.data)?k!==F&&(r.track({type:3,doc:P}),H=!0):this.ru(b,P)||(r.track({type:2,doc:P}),H=!0,(y&&this.Za(P,y)>0||p&&this.Za(P,p)<0)&&(m=!0)):!b&&P?(r.track({type:0,doc:P}),H=!0):b&&!P&&(r.track({type:1,doc:b}),H=!0,(y||p)&&(m=!0)),H&&(P?(f=f.add(P),c=F?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{Xa:f,nu:r,Cs:m,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((E,S)=>function(P,k){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:H})}};return F(P)-F(k)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(r),l=l!=null&&l;const m=n&&!l?this.su():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Ja;return this.Ja=y,f.length!==0||p?{snapshot:new Ga(this.query,t.Xa,c,f,t.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new n0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new y1(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new p1(r))}),n}au(t){this.Ha=t.$s,this.Ya=Lt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ga.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const mg="SyncEngine";class Iw{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Dw{constructor(t){this.key=t,this.cu=!1}}class Vw{constructor(t,n,r,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Nr(m=>ME(m),hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ce(Et.comparator),this.Eu=new Map,this.du=new ig,this.Au={},this.Ru=new Map,this.Vu=Ha.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Ow(s,t,n=!0){const r=b1(s);let l;const c=r.hu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await _1(r,t,n,!0),l}async function Mw(s,t){const n=b1(s);await _1(n,t,!0,!1)}async function _1(s,t,n,r){const l=await JR(s.localStore,mi(t)),c=l.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await Nw(s,t,c,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&o1(s.remoteStore,l),m}async function Nw(s,t,n,r,l){s.fu=(S,b,P)=>async function(F,H,tt,rt){let et=H.view.tu(tt);et.Cs&&(et=await Zv(F.localStore,H.query,!1).then(({documents:O})=>H.view.tu(O,et)));const dt=rt&&rt.targetChanges.get(H.targetId),ht=rt&&rt.targetMismatches.get(H.targetId)!=null,_t=H.view.applyChanges(et,F.isPrimaryClient,dt,ht);return a0(F,H.targetId,_t.ou),_t.snapshot}(s,S,b,P);const c=await Zv(s.localStore,t,!0),f=new Cw(t,c.$s),m=f.tu(c.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),p=f.applyChanges(m,s.isPrimaryClient,y);a0(s,n,p.ou);const E=new Iw(t,n,f);return s.hu.set(t,E),s.Pu.has(n)?s.Pu.get(n).push(t):s.Pu.set(n,[t]),p.snapshot}async function xw(s,t,n){const r=Dt(s),l=r.hu.get(t),c=r.Pu.get(l.targetId);if(c.length>1)return r.Pu.set(l.targetId,c.filter(f=>!hh(f,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),n&&og(r.remoteStore,l.targetId),Sm(r,l.targetId)}).catch($a)):(Sm(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function Pw(s,t){const n=Dt(s),r=n.hu.get(t),l=n.Pu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),og(n.remoteStore,r.targetId))}async function Uw(s,t,n){const r=Hw(s);try{const l=await function(f,m){const y=Dt(f),p=Ve.now(),E=m.reduce((P,k)=>P.add(k.key),Lt());let S,b;return y.persistence.runTransaction("Locally write mutations","readwrite",P=>{let k=$i(),F=Lt();return y.Bs.getEntries(P,E).next(H=>{k=H,k.forEach((tt,rt)=>{rt.isValidDocument()||(F=F.add(tt))})}).next(()=>y.localDocuments.getOverlayedDocuments(P,k)).next(H=>{S=H;const tt=[];for(const rt of m){const et=J2(rt,S.get(rt.key).overlayedDocument);et!=null&&tt.push(new Hs(rt.key,et,RE(et.value.mapValue),gi.exists(!0)))}return y.mutationQueue.addMutationBatch(P,p,tt,m)}).next(H=>{b=H;const tt=H.applyToLocalDocumentSet(S,F);return y.documentOverlayCache.saveOverlays(P,H.batchId,tt)})}).then(()=>({batchId:b.batchId,changes:PE(S)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(f,m,y){let p=f.Au[f.currentUser.toKey()];p||(p=new ce(Nt)),p=p.insert(m,y),f.Au[f.currentUser.toKey()]=p}(r,l.batchId,n),await Xl(r,l.changes),await _h(r.remoteStore)}catch(l){const c=fg(l,"Failed to persist write");n.reject(c)}}async function v1(s,t){const n=Dt(s);try{const r=await XR(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.cu=!0:l.modifiedDocuments.size>0?Yt(f.cu,14607):l.removedDocuments.size>0&&(Yt(f.cu,42227),f.cu=!1))}),await Xl(n,r,t)}catch(r){await $a(r)}}function r0(s,t,n){const r=Dt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.hu.forEach((c,f)=>{const m=f.view.Fa(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const y=Dt(f);y.onlineState=m;let p=!1;y.queries.forEach((E,S)=>{for(const b of S.Sa)b.Fa(m)&&(p=!0)}),p&&dg(y)}(r.eventManager,t),l.length&&r.lu.Y_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Lw(s,t,n){const r=Dt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Eu.get(t),c=l&&l.key;if(c){let f=new ce(Et.comparator);f=f.insert(c,Je.newNoDocument(c,Ct.min()));const m=Lt().add(c),y=new gh(Ct.min(),new Map,new ce(Nt),f,m);await v1(r,y),r.Iu=r.Iu.remove(c),r.Eu.delete(t),gg(r)}else await Tm(r.localStore,t,!1).then(()=>Sm(r,t,n)).catch($a)}async function kw(s,t){const n=Dt(s),r=t.batch.batchId;try{const l=await KR(n.localStore,t);T1(n,r,null),E1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(n,l)}catch(l){await $a(l)}}async function zw(s,t,n){const r=Dt(s);try{const l=await function(f,m){const y=Dt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next(S=>(Yt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(r.localStore,t);T1(r,t,n),E1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xl(r,l)}catch(l){await $a(l)}}function E1(s,t){(s.Ru.get(t)||[]).forEach(n=>{n.resolve()}),s.Ru.delete(t)}function T1(s,t,n){const r=Dt(s);let l=r.Au[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),r.Au[r.currentUser.toKey()]=l}}function Sm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Pu.get(t))s.hu.delete(r),n&&s.lu.gu(r,n);s.Pu.delete(t),s.isPrimaryClient&&s.du.Hr(t).forEach(r=>{s.du.containsKey(r)||A1(s,r)})}function A1(s,t){s.Tu.delete(t.path.canonicalString());const n=s.Iu.get(t);n!==null&&(og(s.remoteStore,n),s.Iu=s.Iu.remove(t),s.Eu.delete(n),gg(s))}function a0(s,t,n){for(const r of n)r instanceof p1?(s.du.addReference(r.key,t),Bw(s,r)):r instanceof y1?(ct(mg,"Document no longer in limbo: "+r.key),s.du.removeReference(r.key,t),s.du.containsKey(r.key)||A1(s,r.key)):St(19791,{pu:r})}function Bw(s,t){const n=t.key,r=n.path.canonicalString();s.Iu.get(n)||s.Tu.has(r)||(ct(mg,"New document in limbo: "+n),s.Tu.add(r),gg(s))}function gg(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const t=s.Tu.values().next().value;s.Tu.delete(t);const n=new Et(oe.fromString(t)),r=s.Vu.next();s.Eu.set(r,new Dw(n)),s.Iu=s.Iu.insert(n,r),o1(s.remoteStore,new Cs(mi(ch(n.path)),r,"TargetPurposeLimboResolution",ah.le))}}async function Xl(s,t,n){const r=Dt(s),l=[],c=[],f=[];r.hu.isEmpty()||(r.hu.forEach((m,y)=>{f.push(r.fu(y,t,n).then(p=>{var E;if((p||n)&&r.isPrimaryClient){const S=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(p){l.push(p);const S=rg.Rs(y.targetId,p);c.push(S)}}))}),await Promise.all(f),r.lu.Y_(l),await async function(y,p){const E=Dt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(p,b=>Z.forEach(b.ds,P=>E.persistence.referenceDelegate.addReference(S,b.targetId,P)).next(()=>Z.forEach(b.As,P=>E.persistence.referenceDelegate.removeReference(S,b.targetId,P)))))}catch(S){if(!Ja(S))throw S;ct(ag,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const P=E.xs.get(b),k=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(k);E.xs=E.xs.insert(b,F)}}}(r.localStore,c))}async function qw(s,t){const n=Dt(s);if(!n.currentUser.isEqual(t)){ct(mg,"User change. New user:",t.toKey());const r=await i1(n.localStore,t);n.currentUser=t,function(c,f){c.Ru.forEach(m=>{m.forEach(y=>{y.reject(new yt(W.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xl(n,r.ks)}}function jw(s,t){const n=Dt(s),r=n.Eu.get(t);if(r&&r.cu)return Lt().add(r.key);{let l=Lt();const c=n.Pu.get(t);if(!c)return l;for(const f of c){const m=n.hu.get(f);l=l.unionWith(m.view.eu)}return l}}function b1(s){const t=Dt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=v1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lw.bind(null,t),t.lu.Y_=Rw.bind(null,t.eventManager),t.lu.gu=ww.bind(null,t.eventManager),t}function Hw(s){const t=Dt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zw.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return YR(this.persistence,new GR,t.initialUser,this.serializer)}Su(t){return new n1(sg.fi,this.serializer)}bu(t){return new tw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class Gw extends Wc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Yt(this.persistence.referenceDelegate instanceof $c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DR(r,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new n1(r=>$c.fi(r,n),this.serializer)}}class Rm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qw.bind(null,this.syncEngine),await Aw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Sw}()}createDatastore(t){const n=ph(t.databaseInfo.databaseId),r=function(c){return new rw(c)}(t.databaseInfo);return function(c,f,m,y){return new uw(c,f,m,y)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,l,c,f,m){return new hw(r,l,c,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>r0(this.syncEngine,n,0),function(){return Wv.C()?new Wv:new ew}())}createSyncEngine(t,n){return function(l,c,f,m,y,p,E){const S=new Vw(l,c,f,m,y,p);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Dt(l);ct(Or,"RemoteStore shutting down."),c.da.add(5),await Kl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class Qw{constructor(t,n,r,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async f=>{ct(qs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(ct(qs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=fg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Zd(s,t){s.asyncQueue.verifyOperationInProgress(),ct(qs,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await i1(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function o0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await Fw(s);ct(qs,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(r=>e0(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>e0(t.remoteStore,l)),s._onlineComponents=t}async function Fw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ct(qs,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Zd(s,new Wc)}}else ct(qs,"Using default OfflineComponentProvider"),await Zd(s,new Gw(void 0));return s._offlineComponents}async function R1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ct(qs,"Using user provided OnlineComponentProvider"),await o0(s,s._uninitializedComponentsProvider._online)):(ct(qs,"Using default OnlineComponentProvider"),await o0(s,new Rm))),s._onlineComponents}function Yw(s){return R1(s).then(t=>t.syncEngine)}async function wm(s){const t=await R1(s),n=t.eventManager;return n.onListen=Ow.bind(null,t.syncEngine),n.onUnlisten=xw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Mw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Pw.bind(null,t.syncEngine),n}function Kw(s,t,n={}){const r=new Ns;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,p){const E=new S1({next:b=>{E.xu(),f.enqueueAndForget(()=>m1(c,S));const P=b.docs.has(m);!P&&b.fromCache?p.reject(new yt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&y&&y.source==="server"?p.reject(new yt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new g1(ch(m.path),E,{includeMetadataChanges:!0,Qa:!0});return d1(c,S)}(await wm(s),s.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s,t,n){if(!n)throw new yt(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Xw(s,t,n,r){if(t===!0&&r===!0)throw new yt(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function u0(s){if(!Et.isDocumentKey(s))throw new yt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function c0(s){if(Et.isDocumentKey(s))throw new yt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pg(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":St(12329,{type:typeof s})}function Yi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new yt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pg(s);throw new yt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firestore.googleapis.com",h0=!0;class f0{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=h0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:h0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<CR)throw new yt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Xw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new yt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new yt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new yt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i2;switch(r.type){case"firstParty":return new o2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l0.get(n);r&&(ct("ComponentProvider","Removing Datastore"),l0.delete(n),r.terminate())}(this),Promise.resolve()}}function Zw(s,t,n,r={}){var l;s=Yi(s,vh);const c=Qm(t),f=s._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:s._getEmulatorOptions()}),y=`${t}:${n}`;c&&(Vb(`https://${y}`),xb("Firestore",!0)),f.host!==I1&&f.host!==y&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:y,ssl:c,emulatorOptions:r});if(!Bc(p,m)&&(s._setSettings(p),r.mockUserToken)){let E,S;if(typeof r.mockUserToken=="string")E=r.mockUserToken,S=$e.MOCK_USER;else{E=Ob(r.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(b)}s._authCredentials=new s2(new dE(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Eh(this.firestore,t,this._query)}}class dn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class xs extends Eh{constructor(t,n,r){super(t,n,ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new Et(t))}withConverter(t){return new xs(this.firestore,t,this._path)}}function $w(s,t,...n){if(s=Ki(s),C1("collection","path",t),s instanceof vh){const r=oe.fromString(t,...n);return c0(r),new xs(s,null,r)}{if(!(s instanceof dn||s instanceof xs))throw new yt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...n));return c0(r),new xs(s.firestore,null,r)}}function Th(s,t,...n){if(s=Ki(s),arguments.length===1&&(t=gE.newId()),C1("doc","path",t),s instanceof vh){const r=oe.fromString(t,...n);return u0(r),new dn(s,null,new Et(r))}{if(!(s instanceof dn||s instanceof xs))throw new yt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...n));return u0(r),new dn(s.firestore,s instanceof xs?s.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class m0{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new r1(this,"async_queue_retry"),this.rc=()=>{const r=Xd();r&&ct(d0,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const n=Xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ns;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Ja(t))throw t;ct(d0,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,Zi("INTERNAL UNHANDLED ERROR: ",g0(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(t,n,r){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=hg.createAndSchedule(this,t,n,r,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&St(47125,{cc:g0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function g0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(s){return function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1}(s,["next","error","complete"])}class Qa extends vh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new m0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new m0(t),this._firestoreClient=void 0,await t}}}function Jw(s,t){const n=typeof s=="object"?s:GS(),r=typeof s=="string"?s:Gc,l=zS(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Ib("firestore");c&&Zw(l,...c)}return l}function yg(s){if(s._terminated)throw new yt(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ww(s),s._firestoreClient}function Ww(s){var t,n,r;const l=s._freezeSettings(),c=function(m,y,p,E){return new A2(m,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,w1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new Qw(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(Fe.fromBase64String(t))}catch(n){throw new yt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fa(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/^__.*__$/;class e4{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Hs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(t,this.data,n,this.fieldTransforms)}}class D1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Hs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function V1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ic:s})}}class Tg{constructor(t,n,r,l,c,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Tg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:r,Rc:!1});return l.Vc(t),l}mc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:r,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return th(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(V1(this.Ic)&&t4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class n4{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ph(t)}bc(t,n,r,l=!1){return new Tg({Ic:t,methodName:n,wc:r,path:Qe.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O1(s){const t=s._freezeSettings(),n=ph(s._databaseId);return new n4(s._databaseId,!!t.ignoreUndefinedProperties,n)}function i4(s,t,n,r,l,c={}){const f=s.bc(c.merge||c.mergeFields?2:0,t,n,l);Ag("Data must be an object, but it was:",f,r);const m=M1(r,f);let y,p;if(c.merge)y=new bn(f.fieldMask),p=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const b=Cm(t,S,n);if(!f.contains(b))throw new yt(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);x1(E,b)||E.push(b)}y=new bn(E),p=f.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,p=f.fieldTransforms;return new e4(new fn(m),y,p)}class bh extends _g{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function s4(s,t,n,r){const l=s.bc(1,t,n);Ag("Data must be an object, but it was:",l,r);const c=[],f=fn.empty();js(r,(y,p)=>{const E=bg(t,y,n);p=Ki(p);const S=l.mc(E);if(p instanceof bh)c.push(E);else{const b=Sh(p,S);b!=null&&(c.push(E),f.set(E,b))}});const m=new bn(c);return new D1(f,m,l.fieldTransforms)}function r4(s,t,n,r,l,c){const f=s.bc(1,t,n),m=[Cm(t,r,n)],y=[l];if(c.length%2!=0)throw new yt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)m.push(Cm(t,c[b])),y.push(c[b+1]);const p=[],E=fn.empty();for(let b=m.length-1;b>=0;--b)if(!x1(p,m[b])){const P=m[b];let k=y[b];k=Ki(k);const F=f.mc(P);if(k instanceof bh)p.push(P);else{const H=Sh(k,F);H!=null&&(p.push(P),E.set(P,H))}}const S=new bn(p);return new D1(E,S,f.fieldTransforms)}function Sh(s,t){if(N1(s=Ki(s)))return Ag("Unsupported field value:",t,s),M1(s,t);if(s instanceof _g)return function(r,l){if(!V1(l.Ic))throw l.gc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,l){const c=[];let f=0;for(const m of r){let y=Sh(m,l.fc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(s,t)}return function(r,l){if((r=Ki(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Ve.fromDate(r);return{timestampValue:Zc(l.serializer,c)}}if(r instanceof Ve){const c=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(r instanceof vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fa)return{bytesValue:KE(l.serializer,r._byteString)};if(r instanceof dn){const c=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw l.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ng(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Eg)return function(f,m){return{mapValue:{fields:{[bE]:{stringValue:SE},[Qc]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.gc("VectorValues must only contain numeric values.");return Wm(m.serializer,p)})}}}}}}(r,l);throw l.gc(`Unsupported field value: ${pg(r)}`)}(s,t)}function M1(s,t){const n={};return yE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(s,(r,l)=>{const c=Sh(l,t.Ac(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function N1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ve||s instanceof vg||s instanceof Fa||s instanceof dn||s instanceof _g||s instanceof Eg)}function Ag(s,t,n){if(!N1(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const r=pg(n);throw r==="an object"?t.gc(s+" a custom object"):t.gc(s+" "+r)}}function Cm(s,t,n){if((t=Ki(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return bg(s,t);throw th("Field path arguments must be of type string or ",s,!1,void 0,n)}const a4=new RegExp("[~\\*/\\[\\]]");function bg(s,t,n){if(t.search(a4)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ah(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function th(s,t,n,r,l){const c=r&&!r.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${l}`),y+=")"),new yt(W.INVALID_ARGUMENT,m+s+y)}function x1(s,t){return s.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n,r,l,c){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new o4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(U1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o4 extends P1{data(){return super.data()}}function U1(s,t){return typeof t=="string"?bg(s,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new yt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u4{convertValue(t,n="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return js(t,(l,c)=>{r[l]=this.convertValue(c,n)}),r}convertVectorValue(t){var n,r,l;const c=(l=(r=(n=t.fields)===null||n===void 0?void 0:n[Qc].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(f=>ye(f.doubleValue));return new Eg(c)}convertGeoPoint(t){return new vg(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=lh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const n=Ls(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=oe.fromString(t);Yt(t1(r),9688,{name:t});const l=new xl(r.get(1),r.get(3)),c=new Et(r.popFirst(5));return l.isEqual(n)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(s,t,n){let r;return r=s?s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class L1 extends P1{constructor(t,n,r,l,c,f){super(t,n,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(U1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pc extends L1{data(t={}){return super.data(t)}}class h4{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const y=new Pc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _l(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Pc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _l(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:f4(m.type),doc:y,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(s){s=Yi(s,dn);const t=Yi(s.firestore,Qa);return Kw(yg(t),s._key).then(n=>B1(t,s,n))}class k1 extends u4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function m4(s,t,n,...r){s=Yi(s,dn);const l=Yi(s.firestore,Qa),c=O1(l);let f;return f=typeof(t=Ki(t))=="string"||t instanceof Ah?r4(c,"updateDoc",s._key,t,n,r):s4(c,"updateDoc",s._key,t),z1(l,[f.toMutation(s._key,gi.exists(!0))])}function g4(s,t){const n=Yi(s.firestore,Qa),r=Th(s),l=c4(s.converter,t);return z1(n,[i4(O1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then(()=>r)}function p4(s,...t){var n,r,l;s=Ki(s);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||p0(t[f])||(c=t[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(p0(t[f])){const S=t[f];t[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),t[f+1]=(r=S.error)===null||r===void 0?void 0:r.bind(S),t[f+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let y,p,E;if(s instanceof dn)p=Yi(s.firestore,Qa),E=ch(s._key.path),y={next:S=>{t[f]&&t[f](B1(p,s,S))},error:t[f+1],complete:t[f+2]};else{const S=Yi(s,Eh);p=Yi(S.firestore,Qa),E=S._query;const b=new k1(p);y={next:P=>{t[f]&&t[f](new h4(p,b,S,P))},error:t[f+1],complete:t[f+2]},l4(s._query)}return function(b,P,k,F){const H=new S1(F),tt=new g1(P,H,k);return b.asyncQueue.enqueueAndForget(async()=>d1(await wm(b),tt)),()=>{H.xu(),b.asyncQueue.enqueueAndForget(async()=>m1(await wm(b),tt))}}(yg(p),E,m,y)}function z1(s,t){return function(r,l){const c=new Ns;return r.asyncQueue.enqueueAndForget(async()=>Uw(await Yw(r),l,c)),c.promise}(yg(s),t)}function B1(s,t,n){const r=n.docs.get(t._key),l=new k1(s);return new L1(s,l,t._key,r,new _l(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Za=l})(HS),jc(new Vl("firestore",(r,{instanceIdentifier:l,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new Qa(new r2(r.getProvider("auth-internal")),new l2(f,r.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new yt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(p.options.projectId,E)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Pa(Ev,Tv,t),Pa(Ev,Tv,"esm2017")})();const y4={apiKey:"AIzaSyA1YHZuK7xQzrGf2sVPo8Qax__FqLaFg_g",authDomain:"boop-chat.firebaseapp.com",projectId:"boop-chat",storageBucket:"boop-chat.firebasestorage.app",messagingSenderId:"86390385381",appId:"1:86390385381:web:899e240ed5dedab2a8c20c",measurementId:"G-R49YGVYMFQ"},_4=iE(y4),Rh=Jw(_4),lD=async s=>(await g4($w(Rh,"sessions"),s)).id,v4=async s=>{const t=await d4(Th(Rh,"sessions",s));return t.exists()?(console.log("The data has been found at Firestore!"),t.data()):(console.log("The data doesn't exist at Firestore!"),null)},uD=async(s,t)=>{m4(Th(Rh,"sessions",s),t)},cD=async(s,t,n)=>{const r=Th(Rh,"sessions",s),l=p4(r,async c=>{var m;if(!c.exists())return;const f=c.data();f.receiverDescription&&((m=f.receiverCandidates)==null?void 0:m.length)>0&&(console.log("Receiver info available:",f),n.current=f.receiverName,t(f),l())});return l},E4={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302"]}]},hD=async(s,t,n,r,l,c,f,m)=>{t.current.onicecandidate=p=>{p.candidate?(console.log("Ice candidate found! Candidate = ",p.candidate),console.log(l.current),l.current.push(p.candidate.toJSON())):(console.log("The ice gathering state might have been completed by this time!"),console.log("State = ",t.current.iceGatheringState))},t.current.onicecandidateerror=p=>{console.warn("ICE candidate error:",p.errorCode,p.port,p.url)};const y=t.current.getConfiguration();if(console.log("ICE servers configured on this PC:",y.iceServers),s==="sender"){n.current=t.current.createDataChannel("chat"),r.current=t.current.createDataChannel("image"),n.current.onopen=()=>{console.log("The data channel has been established!"),c(!0)},r.current.onopen=()=>{console.log("The image channel has been established!")};let p=await t.current.createOffer();console.log("The offer has been created!"),await t.current.setLocalDescription(p),console.log("The local description has been added!")}else{console.log(t.current);let p=await v4(m);if(!p)return null;f.current=p.senderName,await T4(t,p),console.log("The state of the peer connection = ",t.current.iceGatheringState)}t.current.addTransceiver("video",{direction:"sendrecv"}),t.current.addTransceiver("audio",{direction:"sendrecv"}),console.log("The initial setup of the connection has been established.")},T4=async(s,t)=>{console.log(t.senderDescription),await s.current.setRemoteDescription(t.senderDescription),console.log("The remote description has been added!");let n=await s.current.createAnswer();console.log("The answer has been created!"),await s.current.setLocalDescription(n),console.log("The local description has been added!");for(const r of t.senderCandidates)try{await s.current.addIceCandidate(r)}catch(l){console.error("Error adding ICE candidate:",l)}},Sg=ft.createContext(null),A4=({children:s})=>{const[t,n]=ft.useState(!0);ft.useEffect(()=>{(async()=>{let b=await(await fetch("https://boop-chat.metered.live/api/v1/turn/credentials?apiKey=f520e7b4d4b547fb651ee0ca6a70bee2176b")).json();c.current=new RTCPeerConnection({iceServers:b}),n(!1)})()},[]);const[r,l]=ft.useState(!1),c=ft.useRef(new RTCPeerConnection(E4));c.current.ontrack=E=>{console.log("A remote track has been found")};const f=ft.useRef([]),m=ft.useRef(null),y=ft.useRef(null),p=ft.useRef("");return t?hn.jsx("div",{children:" Loading .. "}):hn.jsx(Sg.Provider,{value:{peerConnection:c,iceCandidates:f,dataChannel:m,imageChannel:y,peerName:p,connected:r,setConnected:l},children:s})};var Rg=$l(),Vt=s=>Zl(s,Rg),wg=$l();Vt.write=s=>Zl(s,wg);var wh=$l();Vt.onStart=s=>Zl(s,wh);var Cg=$l();Vt.onFrame=s=>Zl(s,Cg);var Ig=$l();Vt.onFinish=s=>Zl(s,Ig);var La=[];Vt.setTimeout=(s,t)=>{const n=Vt.now()+t,r=()=>{const c=La.findIndex(f=>f.cancel==r);~c&&La.splice(c,1),Ds-=~c?1:0},l={time:n,handler:s,cancel:r};return La.splice(q1(n),0,l),Ds+=1,j1(),l};var q1=s=>~(~La.findIndex(t=>t.time>s)||~La.length);Vt.cancel=s=>{wh.delete(s),Cg.delete(s),Ig.delete(s),Rg.delete(s),wg.delete(s)};Vt.sync=s=>{Im=!0,Vt.batchedUpdates(s),Im=!1};Vt.throttle=s=>{let t;function n(){try{s(...t)}finally{t=null}}function r(...l){t=l,Vt.onStart(n)}return r.handler=s,r.cancel=()=>{wh.delete(n),t=null},r};var Dg=typeof window<"u"?window.requestAnimationFrame:()=>{};Vt.use=s=>Dg=s;Vt.now=typeof performance<"u"?()=>performance.now():Date.now;Vt.batchedUpdates=s=>s();Vt.catch=console.error;Vt.frameLoop="always";Vt.advance=()=>{Vt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):G1()};var Is=-1,Ds=0,Im=!1;function Zl(s,t){Im?(t.delete(s),s(0)):(t.add(s),j1())}function j1(){Is<0&&(Is=0,Vt.frameLoop!=="demand"&&Dg(H1))}function b4(){Is=-1}function H1(){~Is&&(Dg(H1),Vt.batchedUpdates(G1))}function G1(){const s=Is;Is=Vt.now();const t=q1(Is);if(t&&(Q1(La.splice(0,t),n=>n.handler()),Ds-=t),!Ds){b4();return}wh.flush(),Rg.flush(s?Math.min(64,Is-s):16.667),Cg.flush(),wg.flush(),Ig.flush()}function $l(){let s=new Set,t=s;return{add(n){Ds+=t==s&&!s.has(n)?1:0,s.add(n)},delete(n){return Ds-=t==s&&s.has(n)?1:0,s.delete(n)},flush(n){t.size&&(s=new Set,Ds-=t.size,Q1(t,r=>r(n)&&s.add(r)),Ds+=s.size,t=s)}}}function Q1(s,t){s.forEach(n=>{try{t(n)}catch(r){Vt.catch(r)}})}var S4=Object.defineProperty,R4=(s,t)=>{for(var n in t)S4(s,n,{get:t[n],enumerable:!0})},Xn={};R4(Xn,{assign:()=>C4,colors:()=>Ps,createStringInterpolator:()=>Og,skipAnimation:()=>Y1,to:()=>F1,willAdvance:()=>Mg});function Dm(){}var w4=(s,t,n)=>Object.defineProperty(s,t,{value:n,writable:!0,configurable:!0}),nt={arr:Array.isArray,obj:s=>!!s&&s.constructor.name==="Object",fun:s=>typeof s=="function",str:s=>typeof s=="string",num:s=>typeof s=="number",und:s=>s===void 0};function Fi(s,t){if(nt.arr(s)){if(!nt.arr(t)||s.length!==t.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!==t[n])return!1;return!0}return s===t}var It=(s,t)=>s.forEach(t);function vi(s,t,n){if(nt.arr(s)){for(let r=0;r<s.length;r++)t.call(n,s[r],`${r}`);return}for(const r in s)s.hasOwnProperty(r)&&t.call(n,s[r],r)}var sn=s=>nt.und(s)?[]:nt.arr(s)?s:[s];function wl(s,t){if(s.size){const n=Array.from(s);s.clear(),It(n,t)}}var vl=(s,...t)=>wl(s,n=>n(...t)),Vg=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Og,F1,Ps=null,Y1=!1,Mg=Dm,C4=s=>{s.to&&(F1=s.to),s.now&&(Vt.now=s.now),s.colors!==void 0&&(Ps=s.colors),s.skipAnimation!=null&&(Y1=s.skipAnimation),s.createStringInterpolator&&(Og=s.createStringInterpolator),s.requestAnimationFrame&&Vt.use(s.requestAnimationFrame),s.batchedUpdates&&(Vt.batchedUpdates=s.batchedUpdates),s.willAdvance&&(Mg=s.willAdvance),s.frameLoop&&(Vt.frameLoop=s.frameLoop)},Cl=new Set,Bn=[],$d=[],eh=0,Ch={get idle(){return!Cl.size&&!Bn.length},start(s){eh>s.priority?(Cl.add(s),Vt.onStart(I4)):(K1(s),Vt(Vm))},advance:Vm,sort(s){if(eh)Vt.onFrame(()=>Ch.sort(s));else{const t=Bn.indexOf(s);~t&&(Bn.splice(t,1),X1(s))}},clear(){Bn=[],Cl.clear()}};function I4(){Cl.forEach(K1),Cl.clear(),Vt(Vm)}function K1(s){Bn.includes(s)||X1(s)}function X1(s){Bn.splice(D4(Bn,t=>t.priority>s.priority),0,s)}function Vm(s){const t=$d;for(let n=0;n<Bn.length;n++){const r=Bn[n];eh=r.priority,r.idle||(Mg(r),r.advance(s),r.idle||t.push(r))}return eh=0,$d=Bn,$d.length=0,Bn=t,Bn.length>0}function D4(s,t){const n=s.findIndex(t);return n<0?s.length:n}var V4={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Kn="[-+]?\\d*\\.?\\d+",nh=Kn+"%";function Ih(...s){return"\\(\\s*("+s.join(")\\s*,\\s*(")+")\\s*\\)"}var O4=new RegExp("rgb"+Ih(Kn,Kn,Kn)),M4=new RegExp("rgba"+Ih(Kn,Kn,Kn,Kn)),N4=new RegExp("hsl"+Ih(Kn,nh,nh)),x4=new RegExp("hsla"+Ih(Kn,nh,nh,Kn)),P4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,U4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,L4=/^#([0-9a-fA-F]{6})$/,k4=/^#([0-9a-fA-F]{8})$/;function z4(s){let t;return typeof s=="number"?s>>>0===s&&s>=0&&s<=4294967295?s:null:(t=L4.exec(s))?parseInt(t[1]+"ff",16)>>>0:Ps&&Ps[s]!==void 0?Ps[s]:(t=O4.exec(s))?(Ia(t[1])<<24|Ia(t[2])<<16|Ia(t[3])<<8|255)>>>0:(t=M4.exec(s))?(Ia(t[1])<<24|Ia(t[2])<<16|Ia(t[3])<<8|v0(t[4]))>>>0:(t=P4.exec(s))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=k4.exec(s))?parseInt(t[1],16)>>>0:(t=U4.exec(s))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=N4.exec(s))?(y0(_0(t[1]),Dc(t[2]),Dc(t[3]))|255)>>>0:(t=x4.exec(s))?(y0(_0(t[1]),Dc(t[2]),Dc(t[3]))|v0(t[4]))>>>0:null}function Jd(s,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(t-s)*6*n:n<1/2?t:n<2/3?s+(t-s)*(2/3-n)*6:s}function y0(s,t,n){const r=n<.5?n*(1+t):n+t-n*t,l=2*n-r,c=Jd(l,r,s+1/3),f=Jd(l,r,s),m=Jd(l,r,s-1/3);return Math.round(c*255)<<24|Math.round(f*255)<<16|Math.round(m*255)<<8}function Ia(s){const t=parseInt(s,10);return t<0?0:t>255?255:t}function _0(s){return(parseFloat(s)%360+360)%360/360}function v0(s){const t=parseFloat(s);return t<0?0:t>1?255:Math.round(t*255)}function Dc(s){const t=parseFloat(s);return t<0?0:t>100?1:t/100}function E0(s){let t=z4(s);if(t===null)return s;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,l=(t&65280)>>>8,c=(t&255)/255;return`rgba(${n}, ${r}, ${l}, ${c})`}var kl=(s,t,n)=>{if(nt.fun(s))return s;if(nt.arr(s))return kl({range:s,output:t,extrapolate:n});if(nt.str(s.output[0]))return Og(s);const r=s,l=r.output,c=r.range||[0,1],f=r.extrapolateLeft||r.extrapolate||"extend",m=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(p=>p);return p=>{const E=q4(p,c);return B4(p,c[E],c[E+1],l[E],l[E+1],y,f,m,r.map)}};function B4(s,t,n,r,l,c,f,m,y){let p=y?y(s):s;if(p<t){if(f==="identity")return p;f==="clamp"&&(p=t)}if(p>n){if(m==="identity")return p;m==="clamp"&&(p=n)}return r===l?r:t===n?s<=t?r:l:(t===-1/0?p=-p:n===1/0?p=p-t:p=(p-t)/(n-t),p=c(p),r===-1/0?p=-p:l===1/0?p=p+r:p=p*(l-r)+r,p)}function q4(s,t){for(var n=1;n<t.length-1&&!(t[n]>=s);++n);return n-1}var j4={linear:s=>s},zl=Symbol.for("FluidValue.get"),Ya=Symbol.for("FluidValue.observers"),kn=s=>!!(s&&s[zl]),un=s=>s&&s[zl]?s[zl]():s,T0=s=>s[Ya]||null;function H4(s,t){s.eventObserved?s.eventObserved(t):s(t)}function Bl(s,t){const n=s[Ya];n&&n.forEach(r=>{H4(r,t)})}var Z1=class{constructor(s){if(!s&&!(s=this.get))throw Error("Unknown getter");G4(this,s)}},G4=(s,t)=>$1(s,zl,t);function to(s,t){if(s[zl]){let n=s[Ya];n||$1(s,Ya,n=new Set),n.has(t)||(n.add(t),s.observerAdded&&s.observerAdded(n.size,t))}return t}function ql(s,t){const n=s[Ya];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):s[Ya]=null,s.observerRemoved&&s.observerRemoved(r,t)}}var $1=(s,t,n)=>Object.defineProperty(s,t,{value:n,writable:!0,configurable:!0}),Uc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Q4=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,A0=new RegExp(`(${Uc.source})(%|[a-z]+)`,"i"),F4=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Dh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,J1=s=>{const[t,n]=Y4(s);if(!t||Vg())return s;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const l=window.getComputedStyle(document.documentElement).getPropertyValue(n);return l||s}else{if(n&&Dh.test(n))return J1(n);if(n)return n}return s},Y4=s=>{const t=Dh.exec(s);if(!t)return[,];const[,n,r]=t;return[n,r]},Wd,K4=(s,t,n,r,l)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${l})`,W1=s=>{Wd||(Wd=Ps?new RegExp(`(${Object.keys(Ps).join("|")})(?!\\w)`,"g"):/^\b$/);const t=s.output.map(c=>un(c).replace(Dh,J1).replace(Q4,E0).replace(Wd,E0)),n=t.map(c=>c.match(Uc).map(Number)),l=n[0].map((c,f)=>n.map(m=>{if(!(f in m))throw Error('The arity of each "output" value must be equal');return m[f]})).map(c=>kl({...s,output:c}));return c=>{var y;const f=!A0.test(t[0])&&((y=t.find(p=>A0.test(p)))==null?void 0:y.replace(Uc,""));let m=0;return t[0].replace(Uc,()=>`${l[m++](c)}${f||""}`).replace(F4,K4)}},Ng="react-spring: ",tT=s=>{const t=s;let n=!1;if(typeof t!="function")throw new TypeError(`${Ng}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},X4=tT(console.warn);function Z4(){X4(`${Ng}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var $4=tT(console.warn);function J4(){$4(`${Ng}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Vh(s){return nt.str(s)&&(s[0]=="#"||/\d/.test(s)||!Vg()&&Dh.test(s)||s in(Ps||{}))}var Dr=Vg()?ft.useEffect:ft.useLayoutEffect,W4=()=>{const s=ft.useRef(!1);return Dr(()=>(s.current=!0,()=>{s.current=!1}),[]),s};function xg(){const s=ft.useState()[1],t=W4();return()=>{t.current&&s(Math.random())}}var Pg=s=>ft.useEffect(s,tC),tC=[];function Om(s){const t=ft.useRef(void 0);return ft.useEffect(()=>{t.current=s}),t.current}var jl=Symbol.for("Animated:node"),eC=s=>!!s&&s[jl]===s,di=s=>s&&s[jl],Ug=(s,t)=>w4(s,jl,t),Oh=s=>s&&s[jl]&&s[jl].getPayload(),eT=class{constructor(){Ug(this,this)}getPayload(){return this.payload||[]}},Mh=class nT extends eT{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,nt.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new nT(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return nt.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,nt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},ih=class iT extends Mh{constructor(t){super(0),this._string=null,this._toString=kl({output:[t,t]})}static create(t){return new iT(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(nt.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=kl({output:[this.getValue(),t]})),this._value=0,super.reset()}},sh={dependencies:null},Nh=class extends eT{constructor(s){super(),this.source=s,this.setValue(s)}getValue(s){const t={};return vi(this.source,(n,r)=>{eC(n)?t[r]=n.getValue(s):kn(n)?t[r]=un(n):s||(t[r]=n)}),t}setValue(s){this.source=s,this.payload=this._makePayload(s)}reset(){this.payload&&It(this.payload,s=>s.reset())}_makePayload(s){if(s){const t=new Set;return vi(s,this._addToPayload,t),Array.from(t)}}_addToPayload(s){sh.dependencies&&kn(s)&&sh.dependencies.add(s);const t=Oh(s);t&&It(t,n=>this.add(n))}},nC=class sT extends Nh{constructor(t){super(t)}static create(t){return new sT(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,l)=>r.setValue(t[l])).some(Boolean):(super.setValue(t.map(iC)),!0)}};function iC(s){return(Vh(s)?ih:Mh).create(s)}function Mm(s){const t=di(s);return t?t.constructor:nt.arr(s)?nC:Vh(s)?ih:Mh}var b0=(s,t)=>{const n=!nt.fun(s)||s.prototype&&s.prototype.isReactComponent;return ft.forwardRef((r,l)=>{const c=ft.useRef(null),f=n&&ft.useCallback(k=>{c.current=aC(l,k)},[l]),[m,y]=rC(r,t),p=xg(),E=()=>{const k=c.current;if(n&&!k)return;(k?t.applyAnimatedValues(k,m.getValue(!0)):!1)===!1&&p()},S=new sC(E,y),b=ft.useRef(void 0);Dr(()=>(b.current=S,It(y,k=>to(k,S)),()=>{b.current&&(It(b.current.deps,k=>ql(k,b.current)),Vt.cancel(b.current.update))})),ft.useEffect(E,[]),Pg(()=>()=>{const k=b.current;It(k.deps,F=>ql(F,k))});const P=t.getComponentProps(m.getValue());return ft.createElement(s,{...P,ref:f})})},sC=class{constructor(s,t){this.update=s,this.deps=t}eventObserved(s){s.type=="change"&&Vt.write(this.update)}};function rC(s,t){const n=new Set;return sh.dependencies=n,s.style&&(s={...s,style:t.createAnimatedStyle(s.style)}),s=new Nh(s),sh.dependencies=null,[s,n]}function aC(s,t){return s&&(nt.fun(s)?s(t):s.current=t),t}var S0=Symbol.for("AnimatedComponent"),oC=(s,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=l=>new Nh(l),getComponentProps:r=l=>l}={})=>{const l={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},c=f=>{const m=R0(f)||"Anonymous";return nt.str(f)?f=c[f]||(c[f]=b0(f,l)):f=f[S0]||(f[S0]=b0(f,l)),f.displayName=`Animated(${m})`,f};return vi(s,(f,m)=>{nt.arr(s)&&(m=R0(f)),c[m]=c(f)}),{animated:c}},R0=s=>nt.str(s)?s:s&&nt.str(s.displayName)?s.displayName:nt.fun(s)&&s.name||null;function cn(s,...t){return nt.fun(s)?s(...t):s}var Il=(s,t)=>s===!0||!!(t&&s&&(nt.fun(s)?s(t):sn(s).includes(t))),rT=(s,t)=>nt.obj(s)?t&&s[t]:s,aT=(s,t)=>s.default===!0?s[t]:s.default?s.default[t]:void 0,lC=s=>s,xh=(s,t=lC)=>{let n=uC;s.default&&s.default!==!0&&(s=s.default,n=Object.keys(s));const r={};for(const l of n){const c=t(s[l],l);nt.und(c)||(r[l]=c)}return r},uC=["config","onProps","onStart","onChange","onPause","onResume","onRest"],cC={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function hC(s){const t={};let n=0;if(vi(s,(r,l)=>{cC[l]||(t[l]=r,n++)}),n)return t}function Lg(s){const t=hC(s);if(t){const n={to:t};return vi(s,(r,l)=>l in t||(n[l]=r)),n}return{...s}}function Hl(s){return s=un(s),nt.arr(s)?s.map(Hl):Vh(s)?Xn.createStringInterpolator({range:[0,1],output:[s,s]})(1):s}function oT(s){for(const t in s)return!0;return!1}function Nm(s){return nt.fun(s)||nt.arr(s)&&nt.obj(s[0])}function xm(s,t){var n;(n=s.ref)==null||n.delete(s),t==null||t.delete(s)}function lT(s,t){var n;t&&s.ref!==t&&((n=s.ref)==null||n.delete(s),t.add(s),s.ref=t)}var fC={default:{tension:170,friction:26},stiff:{tension:210,friction:20}},Pm={...fC.default,mass:1,damping:1,easing:j4.linear,clamp:!1},dC=class{constructor(){this.velocity=0,Object.assign(this,Pm)}};function mC(s,t,n){n&&(n={...n},w0(n,t),t={...n,...t}),w0(s,t),Object.assign(s,t);for(const f in Pm)s[f]==null&&(s[f]=Pm[f]);let{frequency:r,damping:l}=s;const{mass:c}=s;return nt.und(r)||(r<.01&&(r=.01),l<0&&(l=0),s.tension=Math.pow(2*Math.PI/r,2)*c,s.friction=4*Math.PI*l*c/r),s}function w0(s,t){if(!nt.und(t.decay))s.duration=void 0;else{const n=!nt.und(t.tension)||!nt.und(t.friction);(n||!nt.und(t.frequency)||!nt.und(t.damping)||!nt.und(t.mass))&&(s.duration=void 0,s.decay=void 0),n&&(s.frequency=void 0)}}var C0=[],gC=class{constructor(){this.changed=!1,this.values=C0,this.toValues=null,this.fromValues=C0,this.config=new dC,this.immediate=!1}};function uT(s,{key:t,props:n,defaultProps:r,state:l,actions:c}){return new Promise((f,m)=>{let y,p,E=Il(n.cancel??(r==null?void 0:r.cancel),t);if(E)P();else{nt.und(n.pause)||(l.paused=Il(n.pause,t));let k=r==null?void 0:r.pause;k!==!0&&(k=l.paused||Il(k,t)),y=cn(n.delay||0,t),k?(l.resumeQueue.add(b),c.pause()):(c.resume(),b())}function S(){l.resumeQueue.add(b),l.timeouts.delete(p),p.cancel(),y=p.time-Vt.now()}function b(){y>0&&!Xn.skipAnimation?(l.delayed=!0,p=Vt.setTimeout(P,y),l.pauseQueue.add(S),l.timeouts.add(p)):P()}function P(){l.delayed&&(l.delayed=!1),l.pauseQueue.delete(S),l.timeouts.delete(p),s<=(l.cancelId||0)&&(E=!0);try{c.start({...n,callId:s,cancel:E},f)}catch(k){m(k)}}})}var kg=(s,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?ka(s.get()):t.every(n=>n.noop)?cT(s.get()):Yn(s.get(),t.every(n=>n.finished)),cT=s=>({value:s,noop:!0,finished:!0,cancelled:!1}),Yn=(s,t,n=!1)=>({value:s,finished:t,cancelled:n}),ka=s=>({value:s,cancelled:!0,finished:!1});function hT(s,t,n,r){const{callId:l,parentId:c,onRest:f}=t,{asyncTo:m,promise:y}=n;return!c&&s===m&&!t.reset?y:n.promise=(async()=>{n.asyncId=l,n.asyncTo=s;const p=xh(t,(H,tt)=>tt==="onRest"?void 0:H);let E,S;const b=new Promise((H,tt)=>(E=H,S=tt)),P=H=>{const tt=l<=(n.cancelId||0)&&ka(r)||l!==n.asyncId&&Yn(r,!1);if(tt)throw H.result=tt,S(H),H},k=(H,tt)=>{const rt=new I0,et=new D0;return(async()=>{if(Xn.skipAnimation)throw Gl(n),et.result=Yn(r,!1),S(et),et;P(rt);const dt=nt.obj(H)?{...H}:{...tt,to:H};dt.parentId=l,vi(p,(_t,O)=>{nt.und(dt[O])&&(dt[O]=_t)});const ht=await r.start(dt);return P(rt),n.paused&&await new Promise(_t=>{n.resumeQueue.add(_t)}),ht})()};let F;if(Xn.skipAnimation)return Gl(n),Yn(r,!1);try{let H;nt.arr(s)?H=(async tt=>{for(const rt of tt)await k(rt)})(s):H=Promise.resolve(s(k,r.stop.bind(r))),await Promise.all([H.then(E),b]),F=Yn(r.get(),!0,!1)}catch(H){if(H instanceof I0)F=H.result;else if(H instanceof D0)F=H.result;else throw H}finally{l==n.asyncId&&(n.asyncId=c,n.asyncTo=c?m:void 0,n.promise=c?y:void 0)}return nt.fun(f)&&Vt.batchedUpdates(()=>{f(F,r,r.item)}),F})()}function Gl(s,t){wl(s.timeouts,n=>n.cancel()),s.pauseQueue.clear(),s.resumeQueue.clear(),s.asyncId=s.asyncTo=s.promise=void 0,t&&(s.cancelId=t)}var I0=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},D0=class extends Error{constructor(){super("SkipAnimationSignal")}},Um=s=>s instanceof zg,pC=1,zg=class extends Z1{constructor(){super(...arguments),this.id=pC++,this._priority=0}get priority(){return this._priority}set priority(s){this._priority!=s&&(this._priority=s,this._onPriorityChange(s))}get(){const s=di(this);return s&&s.getValue()}to(...s){return Xn.to(this,s)}interpolate(...s){return Z4(),Xn.to(this,s)}toJSON(){return this.get()}observerAdded(s){s==1&&this._attach()}observerRemoved(s){s==0&&this._detach()}_attach(){}_detach(){}_onChange(s,t=!1){Bl(this,{type:"change",parent:this,value:s,idle:t})}_onPriorityChange(s){this.idle||Ch.sort(this),Bl(this,{type:"priority",parent:this,priority:s})}},Mr=Symbol.for("SpringPhase"),fT=1,Lm=2,km=4,tm=s=>(s[Mr]&fT)>0,ws=s=>(s[Mr]&Lm)>0,fl=s=>(s[Mr]&km)>0,V0=(s,t)=>t?s[Mr]|=Lm|fT:s[Mr]&=~Lm,O0=(s,t)=>t?s[Mr]|=km:s[Mr]&=~km,yC=class extends zg{constructor(s,t){if(super(),this.animation=new gC,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!nt.und(s)||!nt.und(t)){const n=nt.obj(s)?{...s}:{...t,from:s};nt.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(ws(this)||this._state.asyncTo)||fl(this)}get goal(){return un(this.animation.to)}get velocity(){const s=di(this);return s instanceof Mh?s.lastVelocity||0:s.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return tm(this)}get isAnimating(){return ws(this)}get isPaused(){return fl(this)}get isDelayed(){return this._state.delayed}advance(s){let t=!0,n=!1;const r=this.animation;let{toValues:l}=r;const{config:c}=r,f=Oh(r.to);!f&&kn(r.to)&&(l=sn(un(r.to))),r.values.forEach((p,E)=>{if(p.done)return;const S=p.constructor==ih?1:f?f[E].lastPosition:l[E];let b=r.immediate,P=S;if(!b){if(P=p.lastPosition,c.tension<=0){p.done=!0;return}let k=p.elapsedTime+=s;const F=r.fromValues[E],H=p.v0!=null?p.v0:p.v0=nt.arr(c.velocity)?c.velocity[E]:c.velocity;let tt;const rt=c.precision||(F==S?.005:Math.min(1,Math.abs(S-F)*.001));if(nt.und(c.duration))if(c.decay){const et=c.decay===!0?.998:c.decay,dt=Math.exp(-(1-et)*k);P=F+H/(1-et)*(1-dt),b=Math.abs(p.lastPosition-P)<=rt,tt=H*dt}else{tt=p.lastVelocity==null?H:p.lastVelocity;const et=c.restVelocity||rt/10,dt=c.clamp?0:c.bounce,ht=!nt.und(dt),_t=F==S?p.v0>0:F<S;let O,w=!1;const I=1,M=Math.ceil(s/I);for(let N=0;N<M&&(O=Math.abs(tt)>et,!(!O&&(b=Math.abs(S-P)<=rt,b)));++N){ht&&(w=P==S||P>S==_t,w&&(tt=-tt*dt,P=S));const C=-c.tension*1e-6*(P-S),R=-c.friction*.001*tt,J=(C+R)/c.mass;tt=tt+J*I,P=P+tt*I}}else{let et=1;c.duration>0&&(this._memoizedDuration!==c.duration&&(this._memoizedDuration=c.duration,p.durationProgress>0&&(p.elapsedTime=c.duration*p.durationProgress,k=p.elapsedTime+=s)),et=(c.progress||0)+k/this._memoizedDuration,et=et>1?1:et<0?0:et,p.durationProgress=et),P=F+c.easing(et)*(S-F),tt=(P-p.lastPosition)/s,b=et==1}p.lastVelocity=tt,Number.isNaN(P)&&(console.warn("Got NaN while animating:",this),b=!0)}f&&!f[E].done&&(b=!1),b?p.done=!0:t=!1,p.setValue(P,c.round)&&(n=!0)});const m=di(this),y=m.getValue();if(t){const p=un(r.to);(y!==p||n)&&!c.decay?(m.setValue(p),this._onChange(p)):n&&c.decay&&this._onChange(y),this._stop()}else n&&this._onChange(y)}set(s){return Vt.batchedUpdates(()=>{this._stop(),this._focus(s),this._set(s)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ws(this)){const{to:s,config:t}=this.animation;Vt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(s,!1),this._stop()})}return this}update(s){return(this.queue||(this.queue=[])).push(s),this}start(s,t){let n;return nt.und(s)?(n=this.queue||[],this.queue=[]):n=[nt.obj(s)?s:{...t,to:s}],Promise.all(n.map(r=>this._update(r))).then(r=>kg(this,r))}stop(s){const{to:t}=this.animation;return this._focus(this.get()),Gl(this._state,s&&this._lastCallId),Vt.batchedUpdates(()=>this._stop(t,s)),this}reset(){this._update({reset:!0})}eventObserved(s){s.type=="change"?this._start():s.type=="priority"&&(this.priority=s.priority+1)}_prepareNode(s){const t=this.key||"";let{to:n,from:r}=s;n=nt.obj(n)?n[t]:n,(n==null||Nm(n))&&(n=void 0),r=nt.obj(r)?r[t]:r,r==null&&(r=void 0);const l={to:n,from:r};return tm(this)||(s.reverse&&([n,r]=[r,n]),r=un(r),nt.und(r)?di(this)||this._set(n):this._set(r)),l}_update({...s},t){const{key:n,defaultProps:r}=this;s.default&&Object.assign(r,xh(s,(f,m)=>/^on/.test(m)?rT(f,n):f)),N0(this,s,"onProps"),ml(this,"onProps",s,this);const l=this._prepareNode(s);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const c=this._state;return uT(++this._lastCallId,{key:n,props:s,defaultProps:r,state:c,actions:{pause:()=>{fl(this)||(O0(this,!0),vl(c.pauseQueue),ml(this,"onPause",Yn(this,dl(this,this.animation.to)),this))},resume:()=>{fl(this)&&(O0(this,!1),ws(this)&&this._resume(),vl(c.resumeQueue),ml(this,"onResume",Yn(this,dl(this,this.animation.to)),this))},start:this._merge.bind(this,l)}}).then(f=>{if(s.loop&&f.finished&&!(t&&f.noop)){const m=dT(s);if(m)return this._update(m,!0)}return f})}_merge(s,t,n){if(t.cancel)return this.stop(!0),n(ka(this));const r=!nt.und(s.to),l=!nt.und(s.from);if(r||l)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(ka(this));const{key:c,defaultProps:f,animation:m}=this,{to:y,from:p}=m;let{to:E=y,from:S=p}=s;l&&!r&&(!t.default||nt.und(E))&&(E=S),t.reverse&&([E,S]=[S,E]);const b=!Fi(S,p);b&&(m.from=S),S=un(S);const P=!Fi(E,y);P&&this._focus(E);const k=Nm(t.to),{config:F}=m,{decay:H,velocity:tt}=F;(r||l)&&(F.velocity=0),t.config&&!k&&mC(F,cn(t.config,c),t.config!==f.config?cn(f.config,c):void 0);let rt=di(this);if(!rt||nt.und(E))return n(Yn(this,!0));const et=nt.und(t.reset)?l&&!t.default:!nt.und(S)&&Il(t.reset,c),dt=et?S:this.get(),ht=Hl(E),_t=nt.num(ht)||nt.arr(ht)||Vh(ht),O=!k&&(!_t||Il(f.immediate||t.immediate,c));if(P){const N=Mm(E);if(N!==rt.constructor)if(O)rt=this._set(ht);else throw Error(`Cannot animate between ${rt.constructor.name} and ${N.name}, as the "to" prop suggests`)}const w=rt.constructor;let I=kn(E),M=!1;if(!I){const N=et||!tm(this)&&b;(P||N)&&(M=Fi(Hl(dt),ht),I=!M),(!Fi(m.immediate,O)&&!O||!Fi(F.decay,H)||!Fi(F.velocity,tt))&&(I=!0)}if(M&&ws(this)&&(m.changed&&!et?I=!0:I||this._stop(y)),!k&&((I||kn(y))&&(m.values=rt.getPayload(),m.toValues=kn(E)?null:w==ih?[1]:sn(ht)),m.immediate!=O&&(m.immediate=O,!O&&!et&&this._set(y)),I)){const{onRest:N}=m;It(vC,R=>N0(this,t,R));const C=Yn(this,dl(this,y));vl(this._pendingCalls,C),this._pendingCalls.add(n),m.changed&&Vt.batchedUpdates(()=>{var R;m.changed=!et,N==null||N(C,this),et?cn(f.onRest,C):(R=m.onStart)==null||R.call(m,C,this)})}et&&this._set(dt),k?n(hT(t.to,t,this._state,this)):I?this._start():ws(this)&&!P?this._pendingCalls.add(n):n(cT(dt))}_focus(s){const t=this.animation;s!==t.to&&(T0(this)&&this._detach(),t.to=s,T0(this)&&this._attach())}_attach(){let s=0;const{to:t}=this.animation;kn(t)&&(to(t,this),Um(t)&&(s=t.priority+1)),this.priority=s}_detach(){const{to:s}=this.animation;kn(s)&&ql(s,this)}_set(s,t=!0){const n=un(s);if(!nt.und(n)){const r=di(this);if(!r||!Fi(n,r.getValue())){const l=Mm(n);!r||r.constructor!=l?Ug(this,l.create(n)):r.setValue(n),r&&Vt.batchedUpdates(()=>{this._onChange(n,t)})}}return di(this)}_onStart(){const s=this.animation;s.changed||(s.changed=!0,ml(this,"onStart",Yn(this,dl(this,s.to)),this))}_onChange(s,t){t||(this._onStart(),cn(this.animation.onChange,s,this)),cn(this.defaultProps.onChange,s,this),super._onChange(s,t)}_start(){const s=this.animation;di(this).reset(un(s.to)),s.immediate||(s.fromValues=s.values.map(t=>t.lastPosition)),ws(this)||(V0(this,!0),fl(this)||this._resume())}_resume(){Xn.skipAnimation?this.finish():Ch.start(this)}_stop(s,t){if(ws(this)){V0(this,!1);const n=this.animation;It(n.values,l=>{l.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Bl(this,{type:"idle",parent:this});const r=t?ka(this.get()):Yn(this.get(),dl(this,s??n.to));vl(this._pendingCalls,r),n.changed&&(n.changed=!1,ml(this,"onRest",r,this))}}};function dl(s,t){const n=Hl(t),r=Hl(s.get());return Fi(r,n)}function dT(s,t=s.loop,n=s.to){const r=cn(t);if(r){const l=r!==!0&&Lg(r),c=(l||s).reverse,f=!l||l.reset;return Ql({...s,loop:t,default:!1,pause:void 0,to:!c||Nm(n)?n:void 0,from:f?s.from:void 0,reset:f,...l})}}function Ql(s){const{to:t,from:n}=s=Lg(s),r=new Set;return nt.obj(t)&&M0(t,r),nt.obj(n)&&M0(n,r),s.keys=r.size?Array.from(r):null,s}function _C(s){const t=Ql(s);return nt.und(t.default)&&(t.default=xh(t)),t}function M0(s,t){vi(s,(n,r)=>n!=null&&t.add(r))}var vC=["onStart","onRest","onChange","onPause","onResume"];function N0(s,t,n){s.animation[n]=t[n]!==aT(t,n)?rT(t[n],s.key):void 0}function ml(s,t,...n){var r,l,c,f;(l=(r=s.animation)[t])==null||l.call(r,...n),(f=(c=s.defaultProps)[t])==null||f.call(c,...n)}var EC=["onStart","onChange","onRest"],TC=1,mT=class{constructor(t,n){this.id=TC++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];nt.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(Ql(t)),this}start(t){let{queue:n}=this;return t?n=sn(t).map(Ql):this.queue=[],this._flush?this._flush(this,n):(vT(this,n),zm(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;It(sn(n),l=>r[l].stop(!!t))}else Gl(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(nt.und(t))this.start({pause:!0});else{const n=this.springs;It(sn(t),r=>n[r].pause())}return this}resume(t){if(nt.und(t))this.start({pause:!1});else{const n=this.springs;It(sn(t),r=>n[r].resume())}return this}each(t){vi(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,l=this._active.size>0,c=this._changed.size>0;(l&&!this._started||c&&!this._started)&&(this._started=!0,wl(t,([y,p])=>{p.value=this.get(),y(p,this,this._item)}));const f=!l&&this._started,m=c||f&&r.size?this.get():null;c&&n.size&&wl(n,([y,p])=>{p.value=m,y(p,this,this._item)}),f&&(this._started=!1,wl(r,([y,p])=>{p.value=m,y(p,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Vt.onFrame(this._onFrame)}};function zm(s,t){return Promise.all(t.map(n=>gT(s,n))).then(n=>kg(s,n))}async function gT(s,t,n){const{keys:r,to:l,from:c,loop:f,onRest:m,onResolve:y}=t,p=nt.obj(t.default)&&t.default;f&&(t.loop=!1),l===!1&&(t.to=null),c===!1&&(t.from=null);const E=nt.arr(l)||nt.fun(l)?l:void 0;E?(t.to=void 0,t.onRest=void 0,p&&(p.onRest=void 0)):It(EC,F=>{const H=t[F];if(nt.fun(H)){const tt=s._events[F];t[F]=({finished:rt,cancelled:et})=>{const dt=tt.get(H);dt?(rt||(dt.finished=!1),et&&(dt.cancelled=!0)):tt.set(H,{value:null,finished:rt||!1,cancelled:et||!1})},p&&(p[F]=t[F])}});const S=s._state;t.pause===!S.paused?(S.paused=t.pause,vl(t.pause?S.pauseQueue:S.resumeQueue)):S.paused&&(t.pause=!0);const b=(r||Object.keys(s.springs)).map(F=>s.springs[F].start(t)),P=t.cancel===!0||aT(t,"cancel")===!0;(E||P&&S.asyncId)&&b.push(uT(++s._lastAsyncId,{props:t,state:S,actions:{pause:Dm,resume:Dm,start(F,H){P?(Gl(S,s._lastAsyncId),H(ka(s))):(F.onRest=m,H(hT(E,F,S,s)))}}})),S.paused&&await new Promise(F=>{S.resumeQueue.add(F)});const k=kg(s,await Promise.all(b));if(f&&k.finished&&!(n&&k.noop)){const F=dT(t,f,l);if(F)return vT(s,[F]),gT(s,F,!0)}return y&&Vt.batchedUpdates(()=>y(k,s,s.item)),k}function Bm(s,t){const n={...s.springs};return t&&It(sn(t),r=>{nt.und(r.keys)&&(r=Ql(r)),nt.obj(r.to)||(r={...r,to:void 0}),_T(n,r,l=>yT(l))}),pT(s,n),n}function pT(s,t){vi(t,(n,r)=>{s.springs[r]||(s.springs[r]=n,to(n,s))})}function yT(s,t){const n=new yC;return n.key=s,t&&to(n,t),n}function _T(s,t,n){t.keys&&It(t.keys,r=>{(s[r]||(s[r]=n(r)))._prepareNode(t)})}function vT(s,t){It(t,n=>{_T(s.springs,n,r=>yT(r,s))})}var ET=ft.createContext({pause:!1,immediate:!1}),TT=()=>{const s=[],t=function(r){J4();const l=[];return It(s,(c,f)=>{if(nt.und(r))l.push(c.start());else{const m=n(r,c,f);m&&l.push(c.start(m))}}),l};t.current=s,t.add=function(r){s.includes(r)||s.push(r)},t.delete=function(r){const l=s.indexOf(r);~l&&s.splice(l,1)},t.pause=function(){return It(s,r=>r.pause(...arguments)),this},t.resume=function(){return It(s,r=>r.resume(...arguments)),this},t.set=function(r){It(s,(l,c)=>{const f=nt.fun(r)?r(c,l):r;f&&l.set(f)})},t.start=function(r){const l=[];return It(s,(c,f)=>{if(nt.und(r))l.push(c.start());else{const m=this._getProps(r,c,f);m&&l.push(c.start(m))}}),l},t.stop=function(){return It(s,r=>r.stop(...arguments)),this},t.update=function(r){return It(s,(l,c)=>l.update(this._getProps(r,l,c))),this};const n=function(r,l,c){return nt.fun(r)?r(c,l):r};return t._getProps=n,t};function AC(s,t,n){const r=nt.fun(t)&&t;r&&!n&&(n=[]);const l=ft.useMemo(()=>r||arguments.length==3?TT():void 0,[]),c=ft.useRef(0),f=xg(),m=ft.useMemo(()=>({ctrls:[],queue:[],flush(tt,rt){const et=Bm(tt,rt);return c.current>0&&!m.queue.length&&!Object.keys(et).some(ht=>!tt.springs[ht])?zm(tt,rt):new Promise(ht=>{pT(tt,et),m.queue.push(()=>{ht(zm(tt,rt))}),f()})}}),[]),y=ft.useRef([...m.ctrls]),p=ft.useRef([]),E=Om(s)||0;ft.useMemo(()=>{It(y.current.slice(s,E),tt=>{xm(tt,l),tt.stop(!0)}),y.current.length=s,S(E,s)},[s]),ft.useMemo(()=>{S(0,Math.min(E,s))},n);function S(tt,rt){for(let et=tt;et<rt;et++){const dt=y.current[et]||(y.current[et]=new mT(null,m.flush)),ht=r?r(et,dt):t[et];ht&&(p.current[et]=_C(ht))}}const b=y.current.map((tt,rt)=>Bm(tt,p.current[rt])),P=ft.useContext(ET),k=Om(P),F=P!==k&&oT(P);Dr(()=>{c.current++,m.ctrls=y.current;const{queue:tt}=m;tt.length&&(m.queue=[],It(tt,rt=>rt())),It(y.current,(rt,et)=>{l==null||l.add(rt),F&&rt.start({default:P});const dt=p.current[et];dt&&(lT(rt,dt.ref),rt.ref?rt.queue.push(dt):rt.start(dt))})}),Pg(()=>()=>{It(m.ctrls,tt=>tt.stop(!0))});const H=b.map(tt=>({...tt}));return l?[H,l]:H}function bC(s,t){const n=nt.fun(s),[[r],l]=AC(1,n?s:[s],n?[]:t);return n||arguments.length==2?[r,l]:r}function dD(s,t,n){const r=nt.fun(t)&&t,{reset:l,sort:c,trail:f=0,expires:m=!0,exitBeforeEnter:y=!1,onDestroyed:p,ref:E,config:S}=r?r():t,b=ft.useMemo(()=>r||arguments.length==3?TT():void 0,[]),P=sn(s),k=[],F=ft.useRef(null),H=l?null:F.current;Dr(()=>{F.current=k}),Pg(()=>(It(k,J=>{b==null||b.add(J.ctrl),J.ctrl.ref=b}),()=>{It(F.current,J=>{J.expired&&clearTimeout(J.expirationId),xm(J.ctrl,b),J.ctrl.stop(!0)})}));const tt=RC(P,r?r():t,H),rt=l&&F.current||[];Dr(()=>It(rt,({ctrl:J,item:lt,key:G})=>{xm(J,b),cn(p,lt,G)}));const et=[];if(H&&It(H,(J,lt)=>{J.expired?(clearTimeout(J.expirationId),rt.push(J)):(lt=et[lt]=tt.indexOf(J.key),~lt&&(k[lt]=J))}),It(P,(J,lt)=>{k[lt]||(k[lt]={key:tt[lt],item:J,phase:"mount",ctrl:new mT},k[lt].ctrl.item=J)}),et.length){let J=-1;const{leave:lt}=r?r():t;It(et,(G,it)=>{const ut=H[it];~G?(J=k.indexOf(ut),k[J]={...ut,item:P[G]}):lt&&k.splice(++J,0,ut)})}nt.fun(c)&&k.sort((J,lt)=>c(J.item,lt.item));let dt=-f;const ht=xg(),_t=xh(t),O=new Map,w=ft.useRef(new Map),I=ft.useRef(!1);It(k,(J,lt)=>{const G=J.key,it=J.phase,ut=r?r():t;let wt,V;const $=cn(ut.delay||0,G);if(it=="mount")wt=ut.enter,V="enter";else{const At=tt.indexOf(G)<0;if(it!="leave")if(At)wt=ut.leave,V="leave";else if(wt=ut.update)V="update";else return;else if(!At)wt=ut.enter,V="enter";else return}if(wt=cn(wt,J.item,lt),wt=nt.obj(wt)?Lg(wt):{to:wt},!wt.config){const At=S||_t.config;wt.config=cn(At,J.item,lt,V)}dt+=f;const at={..._t,delay:$+dt,ref:E,immediate:ut.immediate,reset:!1,...wt};if(V=="enter"&&nt.und(at.from)){const At=r?r():t,vt=nt.und(At.initial)||H?At.from:At.initial;at.from=cn(vt,J.item,lt)}const{onResolve:st}=at;at.onResolve=At=>{cn(st,At);const vt=F.current,ee=vt.find(Gt=>Gt.key===G);if(ee&&!(At.cancelled&&ee.phase!="update")&&ee.ctrl.idle){const Gt=vt.every(Me=>Me.ctrl.idle);if(ee.phase=="leave"){const Me=cn(m,ee.item);if(Me!==!1){const Sn=Me===!0?0:Me;if(ee.expired=!0,!Gt&&Sn>0){Sn<=2147483647&&(ee.expirationId=setTimeout(ht,Sn));return}}}Gt&&vt.some(Me=>Me.expired)&&(w.current.delete(ee),y&&(I.current=!0),ht())}};const pt=Bm(J.ctrl,at);V==="leave"&&y?w.current.set(J,{phase:V,springs:pt,payload:at}):O.set(J,{phase:V,springs:pt,payload:at})});const M=ft.useContext(ET),N=Om(M),C=M!==N&&oT(M);Dr(()=>{C&&It(k,J=>{J.ctrl.start({default:M})})},[M]),It(O,(J,lt)=>{if(w.current.size){const G=k.findIndex(it=>it.key===lt.key);k.splice(G,1)}}),Dr(()=>{It(w.current.size?w.current:O,({phase:J,payload:lt},G)=>{const{ctrl:it}=G;G.phase=J,b==null||b.add(it),C&&J=="enter"&&it.start({default:M}),lt&&(lT(it,lt.ref),(it.ref||b)&&!I.current?it.update(lt):(it.start(lt),I.current&&(I.current=!1)))})},l?void 0:n);const R=J=>ft.createElement(ft.Fragment,null,k.map((lt,G)=>{const{springs:it}=O.get(lt)||lt.ctrl,ut=J({...it},lt.item,lt,G),wt=nt.str(lt.key)||nt.num(lt.key)?lt.key:lt.ctrl.id,V=ft.version<"19.0.0",$=(ut==null?void 0:ut.props)??{};return V&&($.ref=ut.ref),ut&&ut.type?ft.createElement(ut.type,{key:wt,...$}):ut}));return b?[R,b]:R}var SC=1;function RC(s,{key:t,keys:n=t},r){if(n===null){const l=new Set;return s.map(c=>{const f=r&&r.find(m=>m.item===c&&m.phase!=="leave"&&!l.has(m));return f?(l.add(f),f.key):SC++})}return nt.und(n)?s:nt.fun(n)?s.map(n):sn(n)}var wC=class extends zg{constructor(s,t){super(),this.source=s,this.idle=!0,this._active=new Set,this.calc=kl(...t);const n=this._get(),r=Mm(n);Ug(this,r.create(n))}advance(s){const t=this._get(),n=this.get();Fi(t,n)||(di(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&x0(this._active)&&em(this)}_get(){const s=nt.arr(this.source)?this.source.map(un):sn(un(this.source));return this.calc(...s)}_start(){this.idle&&!x0(this._active)&&(this.idle=!1,It(Oh(this),s=>{s.done=!1}),Xn.skipAnimation?(Vt.batchedUpdates(()=>this.advance()),em(this)):Ch.start(this))}_attach(){let s=1;It(sn(this.source),t=>{kn(t)&&to(t,this),Um(t)&&(t.idle||this._active.add(t),s=Math.max(s,t.priority+1))}),this.priority=s,this._start()}_detach(){It(sn(this.source),s=>{kn(s)&&ql(s,this)}),this._active.clear(),em(this)}eventObserved(s){s.type=="change"?s.idle?this.advance():(this._active.add(s.parent),this._start()):s.type=="idle"?this._active.delete(s.parent):s.type=="priority"&&(this.priority=sn(this.source).reduce((t,n)=>Math.max(t,(Um(n)?n.priority:0)+1),0))}};function CC(s){return s.idle!==!1}function x0(s){return!s.size||Array.from(s).every(CC)}function em(s){s.idle||(s.idle=!0,It(Oh(s),t=>{t.done=!0}),Bl(s,{type:"idle",parent:s}))}Xn.assign({createStringInterpolator:W1,to:(s,t)=>new wC(s,t)});var IC=K0(),AT=/^--/;function DC(s,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!AT.test(s)&&!(Dl.hasOwnProperty(s)&&Dl[s])?t+"px":(""+t).trim()}var P0={};function VC(s,t){if(!s.nodeType||!s.setAttribute)return!1;const n=s.nodeName==="filter"||s.parentNode&&s.parentNode.nodeName==="filter",{className:r,style:l,children:c,scrollTop:f,scrollLeft:m,viewBox:y,...p}=t,E=Object.values(p),S=Object.keys(p).map(b=>n||s.hasAttribute(b)?b:P0[b]||(P0[b]=b.replace(/([A-Z])/g,P=>"-"+P.toLowerCase())));c!==void 0&&(s.textContent=c);for(const b in l)if(l.hasOwnProperty(b)){const P=DC(b,l[b]);AT.test(b)?s.style.setProperty(b,P):s.style[b]=P}S.forEach((b,P)=>{s.setAttribute(b,E[P])}),r!==void 0&&(s.className=r),f!==void 0&&(s.scrollTop=f),m!==void 0&&(s.scrollLeft=m),y!==void 0&&s.setAttribute("viewBox",y)}var Dl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OC=(s,t)=>s+t.charAt(0).toUpperCase()+t.substring(1),MC=["Webkit","Ms","Moz","O"];Dl=Object.keys(Dl).reduce((s,t)=>(MC.forEach(n=>s[OC(n,t)]=s[t]),s),Dl);var NC=/^(matrix|translate|scale|rotate|skew)/,xC=/^(translate)/,PC=/^(rotate|skew)/,nm=(s,t)=>nt.num(s)&&s!==0?s+t:s,Lc=(s,t)=>nt.arr(s)?s.every(n=>Lc(n,t)):nt.num(s)?s===t:parseFloat(s)===t,UC=class extends Nh{constructor({x:s,y:t,z:n,...r}){const l=[],c=[];(s||t||n)&&(l.push([s||0,t||0,n||0]),c.push(f=>[`translate3d(${f.map(m=>nm(m,"px")).join(",")})`,Lc(f,0)])),vi(r,(f,m)=>{if(m==="transform")l.push([f||""]),c.push(y=>[y,y===""]);else if(NC.test(m)){if(delete r[m],nt.und(f))return;const y=xC.test(m)?"px":PC.test(m)?"deg":"";l.push(sn(f)),c.push(m==="rotate3d"?([p,E,S,b])=>[`rotate3d(${p},${E},${S},${nm(b,y)})`,Lc(b,0)]:p=>[`${m}(${p.map(E=>nm(E,y)).join(",")})`,Lc(p,m.startsWith("scale")?1:0)])}}),l.length&&(r.transform=new LC(l,c)),super(r)}},LC=class extends Z1{constructor(s,t){super(),this.inputs=s,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let s="",t=!0;return It(this.inputs,(n,r)=>{const l=un(n[0]),[c,f]=this.transforms[r](nt.arr(l)?l:n.map(un));s+=" "+c,t=t&&f}),t?"none":s}observerAdded(s){s==1&&It(this.inputs,t=>It(t,n=>kn(n)&&to(n,this)))}observerRemoved(s){s==0&&It(this.inputs,t=>It(t,n=>kn(n)&&ql(n,this)))}eventObserved(s){s.type=="change"&&(this._value=null),Bl(this,s)}},kC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Xn.assign({batchedUpdates:IC.unstable_batchedUpdates,createStringInterpolator:W1,colors:V4});var zC=oC(kC,{applyAnimatedValues:VC,createAnimatedStyle:s=>new UC(s),getComponentProps:({scrollTop:s,scrollLeft:t,...n})=>n}),BC=zC.animated;function qC(s,t,n){return Math.max(t,Math.min(s,n))}const se={toVector(s,t){return s===void 0&&(s=t),Array.isArray(s)?s:[s,s]},add(s,t){return[s[0]+t[0],s[1]+t[1]]},sub(s,t){return[s[0]-t[0],s[1]-t[1]]},addTo(s,t){s[0]+=t[0],s[1]+=t[1]},subTo(s,t){s[0]-=t[0],s[1]-=t[1]}};function U0(s,t,n){return t===0||Math.abs(t)===1/0?Math.pow(s,n*5):s*t*n/(t+n*s)}function L0(s,t,n,r=.15){return r===0?qC(s,t,n):s<t?-U0(t-s,n-t,r)+t:s>n?+U0(s-n,n-t,r)+n:s}function jC(s,[t,n],[r,l]){const[[c,f],[m,y]]=s;return[L0(t,c,f,r),L0(n,m,y,l)]}function HC(s,t){if(typeof s!="object"||s===null)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function GC(s){var t=HC(s,"string");return typeof t=="symbol"?t:String(t)}function be(s,t,n){return t=GC(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function k0(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,r)}return n}function ue(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k0(Object(n),!0).forEach(function(r){be(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):k0(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}const bT={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function z0(s){return s?s[0].toUpperCase()+s.slice(1):""}const QC=["enter","leave"];function FC(s=!1,t){return s&&!QC.includes(t)}function YC(s,t="",n=!1){const r=bT[s],l=r&&r[t]||t;return"on"+z0(s)+z0(l)+(FC(n,l)?"Capture":"")}const KC=["gotpointercapture","lostpointercapture"];function XC(s){let t=s.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=KC.includes(t)?"capturecapture":"capture",l=!!~t.indexOf(r);return l&&(t=t.replace("capture","")),{device:t,capture:l,passive:n}}function ZC(s,t=""){const n=bT[s],r=n&&n[t]||t;return s+r}function Ph(s){return"touches"in s}function ST(s){return Ph(s)?"touch":"pointerType"in s?s.pointerType:"mouse"}function $C(s){return Array.from(s.touches).filter(t=>{var n,r;return t.target===s.currentTarget||((n=s.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function JC(s){return s.type==="touchend"||s.type==="touchcancel"?s.changedTouches:s.targetTouches}function RT(s){return Ph(s)?JC(s)[0]:s}function qm(s,t){try{const n=t.clientX-s.clientX,r=t.clientY-s.clientY,l=(t.clientX+s.clientX)/2,c=(t.clientY+s.clientY)/2,f=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:f,origin:[l,c]}}catch{}return null}function WC(s){return $C(s).map(t=>t.identifier)}function B0(s,t){const[n,r]=Array.from(s.touches).filter(l=>t.includes(l.identifier));return qm(n,r)}function im(s){const t=RT(s);return Ph(s)?t.identifier:t.pointerId}function Ka(s){const t=RT(s);return[t.clientX,t.clientY]}const q0=40,j0=800;function wT(s){let{deltaX:t,deltaY:n,deltaMode:r}=s;return r===1?(t*=q0,n*=q0):r===2&&(t*=j0,n*=j0),[t,n]}function tI(s){var t,n;const{scrollX:r,scrollY:l,scrollLeft:c,scrollTop:f}=s.currentTarget;return[(t=r??c)!==null&&t!==void 0?t:0,(n=l??f)!==null&&n!==void 0?n:0]}function eI(s){const t={};if("buttons"in s&&(t.buttons=s.buttons),"shiftKey"in s){const{shiftKey:n,altKey:r,metaKey:l,ctrlKey:c}=s;Object.assign(t,{shiftKey:n,altKey:r,metaKey:l,ctrlKey:c})}return t}function rh(s,...t){return typeof s=="function"?s(...t):s}function nI(){}function iI(...s){return s.length===0?nI:s.length===1?s[0]:function(){let t;for(const n of s)t=n.apply(this,arguments)||t;return t}}function H0(s,t){return Object.assign({},t,s||{})}const sI=32;class CT{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:l}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=l,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?rh(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:l}=this;n.args=this.args;let c=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,l.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,l.locked=!!document.pointerLockElement,Object.assign(l,eI(t)),l.down=l.pressed=l.buttons%2===1||l.touches>0,c=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const _t=n._delta.map(Math.abs);se.addTo(n._distance,_t)}this.axisIntent&&this.axisIntent(t);const[f,m]=n._movement,[y,p]=r.threshold,{_step:E,values:S}=n;if(r.hasCustomTransform?(E[0]===!1&&(E[0]=Math.abs(f)>=y&&S[0]),E[1]===!1&&(E[1]=Math.abs(m)>=p&&S[1])):(E[0]===!1&&(E[0]=Math.abs(f)>=y&&Math.sign(f)*y),E[1]===!1&&(E[1]=Math.abs(m)>=p&&Math.sign(m)*p)),n.intentional=E[0]!==!1||E[1]!==!1,!n.intentional)return;const b=[0,0];if(r.hasCustomTransform){const[_t,O]=S;b[0]=E[0]!==!1?_t-E[0]:0,b[1]=E[1]!==!1?O-E[1]:0}else b[0]=E[0]!==!1?f-E[0]:0,b[1]=E[1]!==!1?m-E[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(b);const P=n.offset,k=n._active&&!n._blocked||n.active;k&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=l[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=rh(r.bounds,n)),this.setup&&this.setup()),n.movement=b,this.computeOffset()));const[F,H]=n.offset,[[tt,rt],[et,dt]]=n._bounds;n.overflow=[F<tt?-1:F>rt?1:0,H<et?-1:H>dt?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const ht=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=jC(n._bounds,n.offset,ht),n.delta=se.sub(n.offset,P),this.computeMovement(),k&&(!n.last||c>sI)){n.delta=se.sub(n.offset,P);const _t=n.delta.map(Math.abs);se.addTo(n.distance,_t),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&c>0&&(n.velocity=[_t[0]/c,_t[1]/c],n.timeDelta=c)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const l=this.handler(ue(ue(ue({},n),t),{},{[this.aliasKey]:t.values}));l!==void 0&&(t.memo=l)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function rI([s,t],n){const r=Math.abs(s),l=Math.abs(t);if(r>l&&r>n)return"x";if(l>r&&l>n)return"y"}class Jl extends CT{constructor(...t){super(...t),be(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=se.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=se.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const l=typeof r.axisThreshold=="object"?r.axisThreshold[ST(t)]:r.axisThreshold;n.axis=rI(n._movement,l)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const aI=s=>s,G0=.15,IT={enabled(s=!0){return s},eventOptions(s,t,n){return ue(ue({},n.shared.eventOptions),s)},preventDefault(s=!1){return s},triggerAllEvents(s=!1){return s},rubberband(s=0){switch(s){case!0:return[G0,G0];case!1:return[0,0];default:return se.toVector(s)}},from(s){if(typeof s=="function")return s;if(s!=null)return se.toVector(s)},transform(s,t,n){const r=s||n.shared.transform;return this.hasCustomTransform=!!r,r||aI},threshold(s){return se.toVector(s,0)}},oI=0,Pr=ue(ue({},IT),{},{axis(s,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(s=oI){return s},bounds(s={}){if(typeof s=="function")return c=>Pr.bounds(s(c));if("current"in s)return()=>s.current;if(typeof HTMLElement=="function"&&s instanceof HTMLElement)return s;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:l=1/0}=s;return[[t,n],[r,l]]}}),Q0={ArrowRight:(s,t=1)=>[s*t,0],ArrowLeft:(s,t=1)=>[-1*s*t,0],ArrowUp:(s,t=1)=>[0,-1*s*t],ArrowDown:(s,t=1)=>[0,s*t]};class lI extends Jl{constructor(...t){super(...t),be(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),l={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Pr.bounds(l)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const l=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(l&&l.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=im(t),r._pointerActive=!0,this.computeValues(Ka(t)),this.computeInitial(),n.preventScrollAxis&&ST(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const l=im(t);if(n._pointerId!==void 0&&l!==n._pointerId)return;const c=Ka(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=se.sub(c,n._values),this.computeValues(c)),se.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const l=im(t);if(n._pointerId!==void 0&&l!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[c,f]=n._distance;if(n.tap=c<=r.tapsThreshold&&f<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[m,y]=n._delta,[p,E]=n._movement,[S,b]=r.swipe.velocity,[P,k]=r.swipe.distance,F=r.swipe.duration;if(n.elapsedTime<F){const H=Math.abs(m/n.timeDelta),tt=Math.abs(y/n.timeDelta);H>S&&Math.abs(p)>P&&(n.swipe[0]=Math.sign(m)),tt>b&&Math.abs(E)>k&&(n.swipe[1]=Math.sign(y))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,uI(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=Q0[t.key];if(n){const r=this.state,l=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,l),r._keyboardActive=!0,se.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Q0&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function uI(s){"persist"in s&&typeof s.persist=="function"&&s.persist()}const Wl=typeof window<"u"&&window.document&&window.document.createElement;function DT(){return Wl&&"ontouchstart"in window}function cI(){return DT()||Wl&&window.navigator.maxTouchPoints>1}function hI(){return Wl&&"onpointerdown"in window}function fI(){return Wl&&"exitPointerLock"in window.document}function dI(){try{return"constructor"in GestureEvent}catch{return!1}}const zn={isBrowser:Wl,gesture:dI(),touch:DT(),touchscreen:cI(),pointer:hI(),pointerLock:fI()},mI=250,gI=180,pI=.5,yI=50,_I=250,vI=10,F0={mouse:0,touch:0,pen:8},EI=ue(ue({},Pr),{},{device(s,t,{pointer:{touch:n=!1,lock:r=!1,mouse:l=!1}={}}){return this.pointerLock=r&&zn.pointerLock,zn.touch&&n?"touch":this.pointerLock?"mouse":zn.pointer&&!l?"pointer":zn.touch?"touch":"mouse"},preventScrollAxis(s,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&s?mI:void 0,!(!zn.touchscreen||n===!1))return s||(n!==void 0?"y":void 0)},pointerCapture(s,t,{pointer:{capture:n=!0,buttons:r=1,keys:l=!0}={}}){return this.pointerButtons=r,this.keys=l,!this.pointerLock&&this.device==="pointer"&&n},threshold(s,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:l=void 0}){const c=se.toVector(s,n?r:l?1:0);return this.filterTaps=n,this.tapsThreshold=r,c},swipe({velocity:s=pI,distance:t=yI,duration:n=_I}={}){return{velocity:this.transform(se.toVector(s)),distance:this.transform(se.toVector(t)),duration:n}},delay(s=0){switch(s){case!0:return gI;case!1:return 0;default:return s}},axisThreshold(s){return s?ue(ue({},F0),s):F0},keyboardDisplacement(s=vI){return s}});function VT(s){const[t,n]=s.overflow,[r,l]=s._delta,[c,f]=s._direction;(t<0&&r>0&&c<0||t>0&&r<0&&c>0)&&(s._movement[0]=s._movementBound[0]),(n<0&&l>0&&f<0||n>0&&l<0&&f>0)&&(s._movement[1]=s._movementBound[1])}const TI=30,AI=100;class bI extends CT{constructor(...t){super(...t),be(this,"ingKey","pinching"),be(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=se.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const l=Math.abs(n)*TI-Math.abs(r);l<0?t.axis="angle":l>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(c=>r.has(c))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const l=B0(t,n._touchIds);l&&this.pinchStart(t,l)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,l=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(f=>l.has(f))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const c=qm(...Array.from(r.values()));c&&this.pinchStart(t,c)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=B0(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=qm(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,l=r._values[1],c=n.angle-l;let f=0;Math.abs(c)>270&&(f+=Math.sign(c)),this.computeValues([n.distance,n.angle-360*f]),r.origin=n.origin,r.turns=f,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=se.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-wT(t)[1]/AI*r.offset[0],0],se.addTo(r._movement,r._delta),VT(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const SI=ue(ue({},IT),{},{device(s,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!zn.touch&&zn.gesture)return"gesture";if(zn.touch&&r)return"touch";if(zn.touchscreen){if(zn.pointer)return"pointer";if(zn.touch)return"touch"}},bounds(s,t,{scaleBounds:n={},angleBounds:r={}}){const l=f=>{const m=H0(rh(n,f),{min:-1/0,max:1/0});return[m.min,m.max]},c=f=>{const m=H0(rh(r,f),{min:-1/0,max:1/0});return[m.min,m.max]};return typeof n!="function"&&typeof r!="function"?[l(),c()]:f=>[l(f),c(f)]},threshold(s,t,n){return this.lockDirection=n.axis==="lock",se.toVector(s,this.lockDirection?[.1,3]:0)},modifierKey(s){return s===void 0?"ctrlKey":s},pinchOnWheel(s=!0){return s}});class RI extends Jl{constructor(...t){super(...t),be(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Ka(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=Ka(t),r=this.state;r._delta=se.sub(n,r._values),se.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const wI=ue(ue({},Pr),{},{mouseOnly:(s=!0)=>s});class CI extends Jl{constructor(...t){super(...t),be(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=tI(t);n._delta=se.sub(r,n._values),se.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const II=Pr;class DI extends Jl{constructor(...t){super(...t),be(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=wT(t),se.addTo(n._movement,n._delta),VT(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const VI=Pr;class OI extends Jl{constructor(...t){super(...t),be(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Ka(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Ka(t);n._movement=n._delta=se.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const MI=ue(ue({},Pr),{},{mouseOnly:(s=!0)=>s}),Bg=new Map,jm=new Map;function OT(s){Bg.set(s.key,s.engine),jm.set(s.key,s.resolver)}const MT={key:"drag",engine:lI,resolver:EI},NI={key:"hover",engine:OI,resolver:MI},xI={key:"move",engine:RI,resolver:wI},PI={key:"pinch",engine:bI,resolver:SI},UI={key:"scroll",engine:CI,resolver:II},LI={key:"wheel",engine:DI,resolver:VI};function kI(s,t){if(s==null)return{};var n={},r=Object.keys(s),l,c;for(c=0;c<r.length;c++)l=r[c],!(t.indexOf(l)>=0)&&(n[l]=s[l]);return n}function zI(s,t){if(s==null)return{};var n=kI(s,t),r,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(l=0;l<c.length;l++)r=c[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}const BI={target(s){if(s)return()=>"current"in s?s.current:s},enabled(s=!0){return s},window(s=zn.isBrowser?window:void 0){return s},eventOptions({passive:s=!0,capture:t=!1}={}){return{passive:s,capture:t}},transform(s){return s}},qI=["target","eventOptions","window","enabled","transform"];function kc(s={},t){const n={};for(const[r,l]of Object.entries(t))switch(typeof l){case"function":n[r]=l.call(n,s[r],r,s);break;case"object":n[r]=kc(s[r],l);break;case"boolean":l&&(n[r]=s[r]);break}return n}function jI(s,t,n={}){const r=s,{target:l,eventOptions:c,window:f,enabled:m,transform:y}=r,p=zI(r,qI);if(n.shared=kc({target:l,eventOptions:c,window:f,enabled:m,transform:y},BI),t){const E=jm.get(t);n[t]=kc(ue({shared:n.shared},p),E)}else for(const E in p){const S=jm.get(E);S&&(n[E]=kc(ue({shared:n.shared},p[E]),S))}return n}class NT{constructor(t,n){be(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,l,c){const f=this._listeners,m=ZC(n,r),y=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},p=ue(ue({},y),c);t.addEventListener(m,l,p);const E=()=>{t.removeEventListener(m,l,p),f.delete(E)};return f.add(E),E}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class HI{constructor(){be(this,"_timeouts",new Map)}add(t,n,r=140,...l){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...l))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class GI{constructor(t){be(this,"gestures",new Set),be(this,"_targetEventStore",new NT(this)),be(this,"gestureEventStores",{}),be(this,"gestureTimeoutStores",{}),be(this,"handlers",{}),be(this,"config",{}),be(this,"pointerIds",new Set),be(this,"touchIds",new Set),be(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),QI(this,t)}setEventIds(t){if(Ph(t))return this.touchIds=new Set(WC(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=jI(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let l;if(!(n.target&&(l=n.target(),!l))){if(n.enabled){for(const f of this.gestures){const m=this.config[f],y=Y0(r,m.eventOptions,!!l);if(m.enabled){const p=Bg.get(f);new p(this,t,f).bind(y)}}const c=Y0(r,n.eventOptions,!!l);for(const f in this.nativeHandlers)c(f,"",m=>this.nativeHandlers[f](ue(ue({},this.state.shared),{},{event:m,args:t})),void 0,!0)}for(const c in r)r[c]=iI(...r[c]);if(!l)return r;for(const c in r){const{device:f,capture:m,passive:y}=XC(c);this._targetEventStore.add(l,f,"",r[c],{capture:m,passive:y})}}}}function Da(s,t){s.gestures.add(t),s.gestureEventStores[t]=new NT(s,t),s.gestureTimeoutStores[t]=new HI}function QI(s,t){t.drag&&Da(s,"drag"),t.wheel&&Da(s,"wheel"),t.scroll&&Da(s,"scroll"),t.move&&Da(s,"move"),t.pinch&&Da(s,"pinch"),t.hover&&Da(s,"hover")}const Y0=(s,t,n)=>(r,l,c,f={},m=!1)=>{var y,p;const E=(y=f.capture)!==null&&y!==void 0?y:t.capture,S=(p=f.passive)!==null&&p!==void 0?p:t.passive;let b=m?r:YC(r,l,E);n&&S&&(b+="Passive"),s[b]=s[b]||[],s[b].push(c)},FI=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function YI(s){const t={},n={},r=new Set;for(let l in s)FI.test(l)?(r.add(RegExp.lastMatch),n[l]=s[l]):t[l]=s[l];return[n,t,r]}function Va(s,t,n,r,l,c){if(!s.has(n)||!Bg.has(r))return;const f=n+"Start",m=n+"End",y=p=>{let E;return p.first&&f in t&&t[f](p),n in t&&(E=t[n](p)),p.last&&m in t&&t[m](p),E};l[r]=y,c[r]=c[r]||{}}function KI(s,t){const[n,r,l]=YI(s),c={};return Va(l,n,"onDrag","drag",c,t),Va(l,n,"onWheel","wheel",c,t),Va(l,n,"onScroll","scroll",c,t),Va(l,n,"onPinch","pinch",c,t),Va(l,n,"onMove","move",c,t),Va(l,n,"onHover","hover",c,t),{handlers:c,config:t,nativeHandlers:r}}function xT(s,t={},n,r){const l=El.useMemo(()=>new GI(s),[]);if(l.applyHandlers(s,r),l.applyConfig(t,n),El.useEffect(l.effect.bind(l)),El.useEffect(()=>l.clean.bind(l),[]),t.target===void 0)return l.bind.bind(l)}function XI(s,t){return OT(MT),xT({drag:s},{},"drag")}function ZI(s){return s.forEach(OT),function(n,r){const{handlers:l,nativeHandlers:c,config:f}=KI(n,r||{});return xT(l,f,void 0,c)}}function mD(s,t){return ZI([MT,PI,UI,LI,xI,NI])(s,t||{})}const $I="_popup_qxkdd_1",JI={popup:$I},WI=({message:s,onClose:t})=>{const[n,r]=ft.useState(!1),[{x:l,y:c,opacity:f},m]=bC(()=>({from:{y:-60,opacity:0,x:0},to:{y:0,opacity:1,x:0},config:{tension:280,friction:22}})),y=XI(({down:p,movement:[E],direction:[S]})=>{if(!p&&Math.abs(E)>100){r(!0),m.start({x:S>0?500:-500,opacity:0,onRest:t});return}m.start({x:p?E:0,opacity:1})});return n?null:hn.jsx(BC.div,{...y(),className:JI.popup,style:{x:l,y:c,opacity:f},children:s})},PT=ft.createContext(),gD=()=>ft.useContext(PT),tD=({children:s})=>{const[t,n]=ft.useState([]),r=(c,f={})=>{const m=Date.now();n(y=>[...y,{id:m,message:c,...f}]),f.persistent||setTimeout(()=>l(m),f.duration||3e3)},l=c=>{n(f=>f.filter(m=>m.id!==c))};return hn.jsxs(PT.Provider,{value:{showNotification:r,removeNotification:l},children:[s,hn.jsx("div",{style:{position:"fixed",top:20,right:0,left:0,display:"flex",flexDirection:"column",padding:20,gap:10,zIndex:10,pointerEvents:"none"},children:t.map(c=>hn.jsx(WI,{...c,onClose:()=>l(c.id)},c.id))})]})};function sm(s){const t=s.current.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function pD(s,t){let n=0;return function(...r){const l=Date.now();l-n>=t&&(n=l,s.apply(this,r))}}function yD(s,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>s(...r),t)}}async function _D(s,t=32*1024){const n=[];let r=0;const l=await s.arrayBuffer();for(;r<l.byteLength;){const c=l.slice(r,r+t);n.push(c),r+=t,await new Promise(f=>setTimeout(f,0))}return n}async function eD(s,t){t.send(JSON.stringify({type:"imageStart",sentId:s.sentId,receivedId:s.receivedId}));for(const n of s.chunks)t.send(n),await new Promise(r=>setTimeout(r,0));t.send(JSON.stringify({type:"imageEnd",imageType:s.fileType}))}const nD=ft.createContext(null),iD=({children:s})=>{const{dataChannel:t,imageChannel:n}=ft.useContext(Sg),r=ft.useRef([]),l=ft.useRef(0),c=ft.useRef(null),f=ft.useRef({x:0,y:0}),m=ft.useRef(!1),y=ft.useRef(null),p=ft.useRef(!1),E=ft.useRef(null),[S,b]=ft.useState([]),[P,k]=ft.useState(null),[F,H]=ft.useState(!1),[tt,rt]=ft.useState(!1),[et,dt]=ft.useState(!1),[ht,_t]=ft.useState(!1),[O,w]=ft.useState(!1),[I,M]=ft.useState({src:null,sent:null});return ft.useEffect(()=>{t.current.onmessage=N=>{let C=JSON.parse(N.data);if(C.type==="typing")clearTimeout(y.current),w(!0),y.current=setTimeout(()=>{w(!1)},1400);else if(C.type==="text"){let R={receivedId:C.sentId,sentId:C.receivedId,type:C.type,reaction:-1,content:C.content,deleted:0,hightlight:!1};"replyTo"in C&&(R.replyTo={sentId:C.replyTo.receivedId,receivedId:C.replyTo.sentId}),sm(c)?p.current=!0:_t(!0);let J={type:"ack",sentId:C.sentId,receivedId:C.receivedId};t.current.send(JSON.stringify(J)),b(lt=>[...lt,R])}else if(C.type==="ack")b(R=>R.map(J=>J.sentId===C.sentId?{...J,status:"sent"}:J));else if(C.type==="reaction"){let R={type:"ackReaction",sentId:C.id,reaction:C.reaction};t.current.send(JSON.stringify(R)),b(J=>J.map(lt=>lt.sentId==C.id?{...lt,reaction:C.reaction}:lt))}else if(C.type==="ackReaction")console.log("I have received an ackReaction message: ",C),b(R=>R.map(J=>J.receivedId==C.sentId?{...J,reaction:C.reaction}:J));else if(C.type==="gif"){let R={receivedId:C.sentId,sentId:C.receivedId,type:"image",reaction:-1,content:C.content,deleted:0,hightlight:!1};"replyTo"in C&&(R.replyTo={sentId:C.replyTo.receivedId,receivedId:C.replyTo.sentId}),sm(c)?p.current=!0:_t(!0);let J={type:"gifAck",sentId:C.sentId,receivedId:C.receivedId};t.current.send(JSON.stringify(J)),b(lt=>[...lt,R])}else if(C.type==="gifAck")b(R=>R.map(J=>J.receivedId===C.receivedId&&J.sentId===C.sentId?{...J,status:"sent"}:J));else if(C.type==="imageRequest"){let R={receivedId:C.sentId,sentId:C.receivedId,type:C.type,reaction:-1,deleted:0,hightlight:!1};"replyTo"in C&&(R.replyTo={sentId:C.replyTo.receivedId,receivedId:C.replyTo.sentId}),sm(c)?p.current=!0:_t(!0),b(J=>[...J,R])}else if(C.type==="imageAccept"){const R=r.current.find(J=>J.sentId===C.sentId&&J.receivedId===C.receivedId);console.log(R),(async()=>await eD(R,n.current))()}else if(C.type==="imageReject")b(R=>{const J=S.findIndex(G=>G.sentId===C.receivedId&&G.receivedId===C.sentId),lt=[...R];return lt.splice(J,1),lt});else if(C.type==="imageReceived")b(R=>R.map(J=>J.receivedId===C.receivedId&&J.sentId===C.sentId?{...J,status:"sent"}:J));else if(C.type==="delete"){let R={type:"ackDeletion",sentId:C.sentId};t.current.send(JSON.stringify(R)),b(J=>J.map(lt=>lt.receivedId==C.sentId?{...lt,type:"text",content:"This message has been deleted",deleted:2}:lt))}else C.type==="ackDeletion"&&b(R=>R.map(J=>J.sentId==C.sentId?{...J,type:"text",content:"This message has been deleted",deleted:2}:J))},n.current.onmessage=N=>{if(typeof N.data=="string"){const C=JSON.parse(N.data);if(C.type==="imageStart")E.current={sentId:C.receivedId,receivedId:C.sentId,chunks:[]};else if(C.type==="imageEnd"){const R=new Blob(E.current.chunks,{type:C.imageType}),J=URL.createObjectURL(R);b(lt=>lt.map(G=>G.receivedId===E.current.receivedId&&G.sentId===E.current.sentId?{...G,type:"image",content:J,status:"received"}:G)),t.current.send(JSON.stringify({type:"imageReceived",sentId:E.current.receivedId,receivedId:E.current.sentId})),E.current=null}}else(async()=>(E.current.chunks.push(N.data),await new Promise(C=>setTimeout(C,0))))()}},[]),hn.jsx(nD.Provider,{value:{chatBottom:c,messages:S,setMessages:b,sentId:l,selectedMessageId:P,setSelectedMessageId:k,replying:F,setReplying:H,newMessage:ht,setNewMessage:_t,pointerPosition:f,actionsShown:tt,setActionsShown:rt,reactionsShown:et,setReactionsShown:dt,longPressed:m,typing:O,setTyping:w,atBottomRef:p,images:r,receivingImage:E,imageDialog:I,setImageDialog:M},children:s})},sD=El.lazy(()=>X0(()=>import("./LandingPage-DMye_0Bh.js"),__vite__mapDeps([0,1]),import.meta.url)),rD=El.lazy(()=>X0(()=>import("./ChatPage-DtGIZJR7.js"),__vite__mapDeps([2,3]),import.meta.url));function aD(){ft.useEffect(()=>{const t=n=>n.preventDefault();return document.addEventListener("contextmenu",t),document.addEventListener("touchstart",n=>{n.touches.length>1&&n.preventDefault()},{passive:!1}),()=>{document.removeEventListener("contextmenu",t),document.removeEventListener("touchstart",t)}},[]);const{connected:s}=ft.useContext(Sg);return hn.jsx(ft.Suspense,{children:hn.jsx(tD,{children:s?hn.jsx(iD,{children:hn.jsx(rD,{})}):hn.jsx(sD,{})})})}gb.createRoot(document.getElementById("root")).render(hn.jsx(A4,{children:hn.jsx(aD,{})}));export{Sg as C,El as R,X0 as _,lD as a,gD as b,nD as c,BC as d,dD as e,bC as f,fC as g,mD as h,sm as i,hn as j,XI as k,yD as l,_D as m,ft as r,hD as s,pD as t,uD as u,cD as w};
